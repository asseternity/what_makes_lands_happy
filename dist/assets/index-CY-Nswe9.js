function IE(e,t){for(var a=0;a<t.length;a++){const i=t[a];if(typeof i!="string"&&!Array.isArray(i)){for(const d in i)if(d!=="default"&&!(d in e)){const p=Object.getOwnPropertyDescriptor(i,d);p&&Object.defineProperty(e,d,p.get?p:{enumerable:!0,get:()=>i[d]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))i(d);new MutationObserver(d=>{for(const p of d)if(p.type==="childList")for(const y of p.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&i(y)}).observe(document,{childList:!0,subtree:!0});function a(d){const p={};return d.integrity&&(p.integrity=d.integrity),d.referrerPolicy&&(p.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?p.credentials="include":d.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function i(d){if(d.ep)return;d.ep=!0;const p=a(d);fetch(d.href,p)}})();function hc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var m_={exports:{}},Gy={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ww;function kE(){if(ww)return Gy;ww=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function a(i,d,p){var y=null;if(p!==void 0&&(y=""+p),d.key!==void 0&&(y=""+d.key),"key"in d){p={};for(var c in d)c!=="key"&&(p[c]=d[c])}else p=d;return d=p.ref,{$$typeof:e,type:i,key:y,ref:d!==void 0?d:null,props:p}}return Gy.Fragment=t,Gy.jsx=a,Gy.jsxs=a,Gy}var Pw;function OE(){return Pw||(Pw=1,m_.exports=kE()),m_.exports}var se=OE(),y_={exports:{}},Tr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aw;function UE(){if(Aw)return Tr;Aw=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),p=Symbol.for("react.consumer"),y=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),C=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),R=Symbol.iterator;function L(Ce){return Ce===null||typeof Ce!="object"?null:(Ce=R&&Ce[R]||Ce["@@iterator"],typeof Ce=="function"?Ce:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,$={};function W(Ce,ot,ke){this.props=Ce,this.context=ot,this.refs=$,this.updater=ke||U}W.prototype.isReactComponent={},W.prototype.setState=function(Ce,ot){if(typeof Ce!="object"&&typeof Ce!="function"&&Ce!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Ce,ot,"setState")},W.prototype.forceUpdate=function(Ce){this.updater.enqueueForceUpdate(this,Ce,"forceUpdate")};function Y(){}Y.prototype=W.prototype;function X(Ce,ot,ke){this.props=Ce,this.context=ot,this.refs=$,this.updater=ke||U}var te=X.prototype=new Y;te.constructor=X,q(te,W.prototype),te.isPureReactComponent=!0;var pe=Array.isArray,de={H:null,A:null,T:null,S:null,V:null},ye=Object.prototype.hasOwnProperty;function xe(Ce,ot,ke,et,pt,vt){return ke=vt.ref,{$$typeof:e,type:Ce,key:ot,ref:ke!==void 0?ke:null,props:vt}}function Ie(Ce,ot){return xe(Ce.type,ot,void 0,void 0,void 0,Ce.props)}function lt(Ce){return typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===e}function mt(Ce){var ot={"=":"=0",":":"=2"};return"$"+Ce.replace(/[=:]/g,function(ke){return ot[ke]})}var nt=/\/+/g;function st(Ce,ot){return typeof Ce=="object"&&Ce!==null&&Ce.key!=null?mt(""+Ce.key):ot.toString(36)}function Je(){}function wt(Ce){switch(Ce.status){case"fulfilled":return Ce.value;case"rejected":throw Ce.reason;default:switch(typeof Ce.status=="string"?Ce.then(Je,Je):(Ce.status="pending",Ce.then(function(ot){Ce.status==="pending"&&(Ce.status="fulfilled",Ce.value=ot)},function(ot){Ce.status==="pending"&&(Ce.status="rejected",Ce.reason=ot)})),Ce.status){case"fulfilled":return Ce.value;case"rejected":throw Ce.reason}}throw Ce}function Rt(Ce,ot,ke,et,pt){var vt=typeof Ce;(vt==="undefined"||vt==="boolean")&&(Ce=null);var Dt=!1;if(Ce===null)Dt=!0;else switch(vt){case"bigint":case"string":case"number":Dt=!0;break;case"object":switch(Ce.$$typeof){case e:case t:Dt=!0;break;case T:return Dt=Ce._init,Rt(Dt(Ce._payload),ot,ke,et,pt)}}if(Dt)return pt=pt(Ce),Dt=et===""?"."+st(Ce,0):et,pe(pt)?(ke="",Dt!=null&&(ke=Dt.replace(nt,"$&/")+"/"),Rt(pt,ot,ke,"",function(xt){return xt})):pt!=null&&(lt(pt)&&(pt=Ie(pt,ke+(pt.key==null||Ce&&Ce.key===pt.key?"":(""+pt.key).replace(nt,"$&/")+"/")+Dt)),ot.push(pt)),1;Dt=0;var Ut=et===""?".":et+":";if(pe(Ce))for(var Ft=0;Ft<Ce.length;Ft++)et=Ce[Ft],vt=Ut+st(et,Ft),Dt+=Rt(et,ot,ke,vt,pt);else if(Ft=L(Ce),typeof Ft=="function")for(Ce=Ft.call(Ce),Ft=0;!(et=Ce.next()).done;)et=et.value,vt=Ut+st(et,Ft++),Dt+=Rt(et,ot,ke,vt,pt);else if(vt==="object"){if(typeof Ce.then=="function")return Rt(wt(Ce),ot,ke,et,pt);throw ot=String(Ce),Error("Objects are not valid as a React child (found: "+(ot==="[object Object]"?"object with keys {"+Object.keys(Ce).join(", ")+"}":ot)+"). If you meant to render a collection of children, use an array instead.")}return Dt}function je(Ce,ot,ke){if(Ce==null)return Ce;var et=[],pt=0;return Rt(Ce,et,"","",function(vt){return ot.call(ke,vt,pt++)}),et}function it(Ce){if(Ce._status===-1){var ot=Ce._result;ot=ot(),ot.then(function(ke){(Ce._status===0||Ce._status===-1)&&(Ce._status=1,Ce._result=ke)},function(ke){(Ce._status===0||Ce._status===-1)&&(Ce._status=2,Ce._result=ke)}),Ce._status===-1&&(Ce._status=0,Ce._result=ot)}if(Ce._status===1)return Ce._result.default;throw Ce._result}var Ge=typeof reportError=="function"?reportError:function(Ce){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ot=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Ce=="object"&&Ce!==null&&typeof Ce.message=="string"?String(Ce.message):String(Ce),error:Ce});if(!window.dispatchEvent(ot))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Ce);return}console.error(Ce)};function bt(){}return Tr.Children={map:je,forEach:function(Ce,ot,ke){je(Ce,function(){ot.apply(this,arguments)},ke)},count:function(Ce){var ot=0;return je(Ce,function(){ot++}),ot},toArray:function(Ce){return je(Ce,function(ot){return ot})||[]},only:function(Ce){if(!lt(Ce))throw Error("React.Children.only expected to receive a single React element child.");return Ce}},Tr.Component=W,Tr.Fragment=a,Tr.Profiler=d,Tr.PureComponent=X,Tr.StrictMode=i,Tr.Suspense=A,Tr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=de,Tr.__COMPILER_RUNTIME={__proto__:null,c:function(Ce){return de.H.useMemoCache(Ce)}},Tr.cache=function(Ce){return function(){return Ce.apply(null,arguments)}},Tr.cloneElement=function(Ce,ot,ke){if(Ce==null)throw Error("The argument must be a React element, but you passed "+Ce+".");var et=q({},Ce.props),pt=Ce.key,vt=void 0;if(ot!=null)for(Dt in ot.ref!==void 0&&(vt=void 0),ot.key!==void 0&&(pt=""+ot.key),ot)!ye.call(ot,Dt)||Dt==="key"||Dt==="__self"||Dt==="__source"||Dt==="ref"&&ot.ref===void 0||(et[Dt]=ot[Dt]);var Dt=arguments.length-2;if(Dt===1)et.children=ke;else if(1<Dt){for(var Ut=Array(Dt),Ft=0;Ft<Dt;Ft++)Ut[Ft]=arguments[Ft+2];et.children=Ut}return xe(Ce.type,pt,void 0,void 0,vt,et)},Tr.createContext=function(Ce){return Ce={$$typeof:y,_currentValue:Ce,_currentValue2:Ce,_threadCount:0,Provider:null,Consumer:null},Ce.Provider=Ce,Ce.Consumer={$$typeof:p,_context:Ce},Ce},Tr.createElement=function(Ce,ot,ke){var et,pt={},vt=null;if(ot!=null)for(et in ot.key!==void 0&&(vt=""+ot.key),ot)ye.call(ot,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(pt[et]=ot[et]);var Dt=arguments.length-2;if(Dt===1)pt.children=ke;else if(1<Dt){for(var Ut=Array(Dt),Ft=0;Ft<Dt;Ft++)Ut[Ft]=arguments[Ft+2];pt.children=Ut}if(Ce&&Ce.defaultProps)for(et in Dt=Ce.defaultProps,Dt)pt[et]===void 0&&(pt[et]=Dt[et]);return xe(Ce,vt,void 0,void 0,null,pt)},Tr.createRef=function(){return{current:null}},Tr.forwardRef=function(Ce){return{$$typeof:c,render:Ce}},Tr.isValidElement=lt,Tr.lazy=function(Ce){return{$$typeof:T,_payload:{_status:-1,_result:Ce},_init:it}},Tr.memo=function(Ce,ot){return{$$typeof:C,type:Ce,compare:ot===void 0?null:ot}},Tr.startTransition=function(Ce){var ot=de.T,ke={};de.T=ke;try{var et=Ce(),pt=de.S;pt!==null&&pt(ke,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(bt,Ge)}catch(vt){Ge(vt)}finally{de.T=ot}},Tr.unstable_useCacheRefresh=function(){return de.H.useCacheRefresh()},Tr.use=function(Ce){return de.H.use(Ce)},Tr.useActionState=function(Ce,ot,ke){return de.H.useActionState(Ce,ot,ke)},Tr.useCallback=function(Ce,ot){return de.H.useCallback(Ce,ot)},Tr.useContext=function(Ce){return de.H.useContext(Ce)},Tr.useDebugValue=function(){},Tr.useDeferredValue=function(Ce,ot){return de.H.useDeferredValue(Ce,ot)},Tr.useEffect=function(Ce,ot,ke){var et=de.H;if(typeof ke=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return et.useEffect(Ce,ot)},Tr.useId=function(){return de.H.useId()},Tr.useImperativeHandle=function(Ce,ot,ke){return de.H.useImperativeHandle(Ce,ot,ke)},Tr.useInsertionEffect=function(Ce,ot){return de.H.useInsertionEffect(Ce,ot)},Tr.useLayoutEffect=function(Ce,ot){return de.H.useLayoutEffect(Ce,ot)},Tr.useMemo=function(Ce,ot){return de.H.useMemo(Ce,ot)},Tr.useOptimistic=function(Ce,ot){return de.H.useOptimistic(Ce,ot)},Tr.useReducer=function(Ce,ot,ke){return de.H.useReducer(Ce,ot,ke)},Tr.useRef=function(Ce){return de.H.useRef(Ce)},Tr.useState=function(Ce){return de.H.useState(Ce)},Tr.useSyncExternalStore=function(Ce,ot,ke){return de.H.useSyncExternalStore(Ce,ot,ke)},Tr.useTransition=function(){return de.H.useTransition()},Tr.version="19.1.1",Tr}var Cw;function Am(){return Cw||(Cw=1,y_.exports=UE()),y_.exports}var V=Am();const Ia=hc(V),m2=IE({__proto__:null,default:Ia},[V]);var g_={exports:{}},Zy={},v_={exports:{}},__={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dw;function LE(){return Dw||(Dw=1,(function(e){function t(je,it){var Ge=je.length;je.push(it);e:for(;0<Ge;){var bt=Ge-1>>>1,Ce=je[bt];if(0<d(Ce,it))je[bt]=it,je[Ge]=Ce,Ge=bt;else break e}}function a(je){return je.length===0?null:je[0]}function i(je){if(je.length===0)return null;var it=je[0],Ge=je.pop();if(Ge!==it){je[0]=Ge;e:for(var bt=0,Ce=je.length,ot=Ce>>>1;bt<ot;){var ke=2*(bt+1)-1,et=je[ke],pt=ke+1,vt=je[pt];if(0>d(et,Ge))pt<Ce&&0>d(vt,et)?(je[bt]=vt,je[pt]=Ge,bt=pt):(je[bt]=et,je[ke]=Ge,bt=ke);else if(pt<Ce&&0>d(vt,Ge))je[bt]=vt,je[pt]=Ge,bt=pt;else break e}}return it}function d(je,it){var Ge=je.sortIndex-it.sortIndex;return Ge!==0?Ge:je.id-it.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var p=performance;e.unstable_now=function(){return p.now()}}else{var y=Date,c=y.now();e.unstable_now=function(){return y.now()-c}}var A=[],C=[],T=1,R=null,L=3,U=!1,q=!1,$=!1,W=!1,Y=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function pe(je){for(var it=a(C);it!==null;){if(it.callback===null)i(C);else if(it.startTime<=je)i(C),it.sortIndex=it.expirationTime,t(A,it);else break;it=a(C)}}function de(je){if($=!1,pe(je),!q)if(a(A)!==null)q=!0,ye||(ye=!0,st());else{var it=a(C);it!==null&&Rt(de,it.startTime-je)}}var ye=!1,xe=-1,Ie=5,lt=-1;function mt(){return W?!0:!(e.unstable_now()-lt<Ie)}function nt(){if(W=!1,ye){var je=e.unstable_now();lt=je;var it=!0;try{e:{q=!1,$&&($=!1,X(xe),xe=-1),U=!0;var Ge=L;try{t:{for(pe(je),R=a(A);R!==null&&!(R.expirationTime>je&&mt());){var bt=R.callback;if(typeof bt=="function"){R.callback=null,L=R.priorityLevel;var Ce=bt(R.expirationTime<=je);if(je=e.unstable_now(),typeof Ce=="function"){R.callback=Ce,pe(je),it=!0;break t}R===a(A)&&i(A),pe(je)}else i(A);R=a(A)}if(R!==null)it=!0;else{var ot=a(C);ot!==null&&Rt(de,ot.startTime-je),it=!1}}break e}finally{R=null,L=Ge,U=!1}it=void 0}}finally{it?st():ye=!1}}}var st;if(typeof te=="function")st=function(){te(nt)};else if(typeof MessageChannel<"u"){var Je=new MessageChannel,wt=Je.port2;Je.port1.onmessage=nt,st=function(){wt.postMessage(null)}}else st=function(){Y(nt,0)};function Rt(je,it){xe=Y(function(){je(e.unstable_now())},it)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(je){je.callback=null},e.unstable_forceFrameRate=function(je){0>je||125<je?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ie=0<je?Math.floor(1e3/je):5},e.unstable_getCurrentPriorityLevel=function(){return L},e.unstable_next=function(je){switch(L){case 1:case 2:case 3:var it=3;break;default:it=L}var Ge=L;L=it;try{return je()}finally{L=Ge}},e.unstable_requestPaint=function(){W=!0},e.unstable_runWithPriority=function(je,it){switch(je){case 1:case 2:case 3:case 4:case 5:break;default:je=3}var Ge=L;L=je;try{return it()}finally{L=Ge}},e.unstable_scheduleCallback=function(je,it,Ge){var bt=e.unstable_now();switch(typeof Ge=="object"&&Ge!==null?(Ge=Ge.delay,Ge=typeof Ge=="number"&&0<Ge?bt+Ge:bt):Ge=bt,je){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=Ge+Ce,je={id:T++,callback:it,priorityLevel:je,startTime:Ge,expirationTime:Ce,sortIndex:-1},Ge>bt?(je.sortIndex=Ge,t(C,je),a(A)===null&&je===a(C)&&($?(X(xe),xe=-1):$=!0,Rt(de,Ge-bt))):(je.sortIndex=Ce,t(A,je),q||U||(q=!0,ye||(ye=!0,st()))),je},e.unstable_shouldYield=mt,e.unstable_wrapCallback=function(je){var it=L;return function(){var Ge=L;L=it;try{return je.apply(this,arguments)}finally{L=Ge}}}})(__)),__}var Mw;function zE(){return Mw||(Mw=1,v_.exports=LE()),v_.exports}var b_={exports:{}},to={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tw;function FE(){if(Tw)return to;Tw=1;var e=Am();function t(A){var C="https://react.dev/errors/"+A;if(1<arguments.length){C+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)C+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+A+"; visit "+C+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(t(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},d=Symbol.for("react.portal");function p(A,C,T){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:R==null?null:""+R,children:A,containerInfo:C,implementation:T}}var y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(A,C){if(A==="font")return"";if(typeof C=="string")return C==="use-credentials"?C:""}return to.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,to.createPortal=function(A,C){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!C||C.nodeType!==1&&C.nodeType!==9&&C.nodeType!==11)throw Error(t(299));return p(A,C,null,T)},to.flushSync=function(A){var C=y.T,T=i.p;try{if(y.T=null,i.p=2,A)return A()}finally{y.T=C,i.p=T,i.d.f()}},to.preconnect=function(A,C){typeof A=="string"&&(C?(C=C.crossOrigin,C=typeof C=="string"?C==="use-credentials"?C:"":void 0):C=null,i.d.C(A,C))},to.prefetchDNS=function(A){typeof A=="string"&&i.d.D(A)},to.preinit=function(A,C){if(typeof A=="string"&&C&&typeof C.as=="string"){var T=C.as,R=c(T,C.crossOrigin),L=typeof C.integrity=="string"?C.integrity:void 0,U=typeof C.fetchPriority=="string"?C.fetchPriority:void 0;T==="style"?i.d.S(A,typeof C.precedence=="string"?C.precedence:void 0,{crossOrigin:R,integrity:L,fetchPriority:U}):T==="script"&&i.d.X(A,{crossOrigin:R,integrity:L,fetchPriority:U,nonce:typeof C.nonce=="string"?C.nonce:void 0})}},to.preinitModule=function(A,C){if(typeof A=="string")if(typeof C=="object"&&C!==null){if(C.as==null||C.as==="script"){var T=c(C.as,C.crossOrigin);i.d.M(A,{crossOrigin:T,integrity:typeof C.integrity=="string"?C.integrity:void 0,nonce:typeof C.nonce=="string"?C.nonce:void 0})}}else C==null&&i.d.M(A)},to.preload=function(A,C){if(typeof A=="string"&&typeof C=="object"&&C!==null&&typeof C.as=="string"){var T=C.as,R=c(T,C.crossOrigin);i.d.L(A,T,{crossOrigin:R,integrity:typeof C.integrity=="string"?C.integrity:void 0,nonce:typeof C.nonce=="string"?C.nonce:void 0,type:typeof C.type=="string"?C.type:void 0,fetchPriority:typeof C.fetchPriority=="string"?C.fetchPriority:void 0,referrerPolicy:typeof C.referrerPolicy=="string"?C.referrerPolicy:void 0,imageSrcSet:typeof C.imageSrcSet=="string"?C.imageSrcSet:void 0,imageSizes:typeof C.imageSizes=="string"?C.imageSizes:void 0,media:typeof C.media=="string"?C.media:void 0})}},to.preloadModule=function(A,C){if(typeof A=="string")if(C){var T=c(C.as,C.crossOrigin);i.d.m(A,{as:typeof C.as=="string"&&C.as!=="script"?C.as:void 0,crossOrigin:T,integrity:typeof C.integrity=="string"?C.integrity:void 0})}else i.d.m(A)},to.requestFormReset=function(A){i.d.r(A)},to.unstable_batchedUpdates=function(A,C){return A(C)},to.useFormState=function(A,C,T){return y.H.useFormState(A,C,T)},to.useFormStatus=function(){return y.H.useHostTransitionStatus()},to.version="19.1.1",to}var Ew;function sD(){if(Ew)return b_.exports;Ew=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),b_.exports=FE(),b_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rw;function NE(){if(Rw)return Zy;Rw=1;var e=zE(),t=Am(),a=sD();function i(o){var h="https://react.dev/errors/"+o;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+o+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function p(o){var h=o,g=o;if(o.alternate)for(;h.return;)h=h.return;else{o=h;do h=o,(h.flags&4098)!==0&&(g=h.return),o=h.return;while(o)}return h.tag===3?g:null}function y(o){if(o.tag===13){var h=o.memoizedState;if(h===null&&(o=o.alternate,o!==null&&(h=o.memoizedState)),h!==null)return h.dehydrated}return null}function c(o){if(p(o)!==o)throw Error(i(188))}function A(o){var h=o.alternate;if(!h){if(h=p(o),h===null)throw Error(i(188));return h!==o?null:o}for(var g=o,x=h;;){var E=g.return;if(E===null)break;var F=E.alternate;if(F===null){if(x=E.return,x!==null){g=x;continue}break}if(E.child===F.child){for(F=E.child;F;){if(F===g)return c(E),o;if(F===x)return c(E),h;F=F.sibling}throw Error(i(188))}if(g.return!==x.return)g=E,x=F;else{for(var K=!1,le=E.child;le;){if(le===g){K=!0,g=E,x=F;break}if(le===x){K=!0,x=E,g=F;break}le=le.sibling}if(!K){for(le=F.child;le;){if(le===g){K=!0,g=F,x=E;break}if(le===x){K=!0,x=F,g=E;break}le=le.sibling}if(!K)throw Error(i(189))}}if(g.alternate!==x)throw Error(i(190))}if(g.tag!==3)throw Error(i(188));return g.stateNode.current===g?o:h}function C(o){var h=o.tag;if(h===5||h===26||h===27||h===6)return o;for(o=o.child;o!==null;){if(h=C(o),h!==null)return h;o=o.sibling}return null}var T=Object.assign,R=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),X=Symbol.for("react.consumer"),te=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),xe=Symbol.for("react.memo"),Ie=Symbol.for("react.lazy"),lt=Symbol.for("react.activity"),mt=Symbol.for("react.memo_cache_sentinel"),nt=Symbol.iterator;function st(o){return o===null||typeof o!="object"?null:(o=nt&&o[nt]||o["@@iterator"],typeof o=="function"?o:null)}var Je=Symbol.for("react.client.reference");function wt(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===Je?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case q:return"Fragment";case W:return"Profiler";case $:return"StrictMode";case de:return"Suspense";case ye:return"SuspenseList";case lt:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case U:return"Portal";case te:return(o.displayName||"Context")+".Provider";case X:return(o._context.displayName||"Context")+".Consumer";case pe:var h=o.render;return o=o.displayName,o||(o=h.displayName||h.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case xe:return h=o.displayName||null,h!==null?h:wt(o.type)||"Memo";case Ie:h=o._payload,o=o._init;try{return wt(o(h))}catch{}}return null}var Rt=Array.isArray,je=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ge={pending:!1,data:null,method:null,action:null},bt=[],Ce=-1;function ot(o){return{current:o}}function ke(o){0>Ce||(o.current=bt[Ce],bt[Ce]=null,Ce--)}function et(o,h){Ce++,bt[Ce]=o.current,o.current=h}var pt=ot(null),vt=ot(null),Dt=ot(null),Ut=ot(null);function Ft(o,h){switch(et(Dt,h),et(vt,o),et(pt,null),h.nodeType){case 9:case 11:o=(o=h.documentElement)&&(o=o.namespaceURI)?rh(o):0;break;default:if(o=h.tagName,h=h.namespaceURI)h=rh(h),o=ff(h,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}ke(pt),et(pt,o)}function xt(){ke(pt),ke(vt),ke(Dt)}function $t(o){o.memoizedState!==null&&et(Ut,o);var h=pt.current,g=ff(h,o.type);h!==g&&(et(vt,o),et(pt,g))}function Nt(o){vt.current===o&&(ke(pt),ke(vt)),Ut.current===o&&(ke(Ut),H._currentValue=Ge)}var $e=Object.prototype.hasOwnProperty,jt=e.unstable_scheduleCallback,Bt=e.unstable_cancelCallback,Sr=e.unstable_shouldYield,Rr=e.unstable_requestPaint,Lr=e.unstable_now,Bn=e.unstable_getCurrentPriorityLevel,Kn=e.unstable_ImmediatePriority,Wa=e.unstable_UserBlockingPriority,xa=e.unstable_NormalPriority,Gi=e.unstable_LowPriority,Ti=e.unstable_IdlePriority,To=e.log,no=e.unstable_setDisableYieldValue,di=null,Dn=null;function Ga(o){if(typeof To=="function"&&no(o),Dn&&typeof Dn.setStrictMode=="function")try{Dn.setStrictMode(di,o)}catch{}}var Re=Math.clz32?Math.clz32:ce,ne=Math.log,ae=Math.LN2;function ce(o){return o>>>=0,o===0?32:31-(ne(o)/ae|0)|0}var Se=256,De=4194304;function Oe(o){var h=o&42;if(h!==0)return h;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function We(o,h,g){var x=o.pendingLanes;if(x===0)return 0;var E=0,F=o.suspendedLanes,K=o.pingedLanes;o=o.warmLanes;var le=x&134217727;return le!==0?(x=le&~F,x!==0?E=Oe(x):(K&=le,K!==0?E=Oe(K):g||(g=le&~o,g!==0&&(E=Oe(g))))):(le=x&~F,le!==0?E=Oe(le):K!==0?E=Oe(K):g||(g=x&~o,g!==0&&(E=Oe(g)))),E===0?0:h!==0&&h!==E&&(h&F)===0&&(F=E&-E,g=h&-h,F>=g||F===32&&(g&4194048)!==0)?h:E}function Le(o,h){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&h)===0}function at(o,h){switch(o){case 1:case 2:case 4:case 8:case 64:return h+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function St(){var o=Se;return Se<<=1,(Se&4194048)===0&&(Se=256),o}function ht(){var o=De;return De<<=1,(De&62914560)===0&&(De=4194304),o}function zt(o){for(var h=[],g=0;31>g;g++)h.push(o);return h}function ze(o,h){o.pendingLanes|=h,h!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function ir(o,h,g,x,E,F){var K=o.pendingLanes;o.pendingLanes=g,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=g,o.entangledLanes&=g,o.errorRecoveryDisabledLanes&=g,o.shellSuspendCounter=0;var le=o.entanglements,Me=o.expirationTimes,Ye=o.hiddenUpdates;for(g=K&~g;0<g;){var dt=31-Re(g),_t=1<<dt;le[dt]=0,Me[dt]=-1;var Ke=Ye[dt];if(Ke!==null)for(Ye[dt]=null,dt=0;dt<Ke.length;dt++){var rt=Ke[dt];rt!==null&&(rt.lane&=-536870913)}g&=~_t}x!==0&&br(o,x,0),F!==0&&E===0&&o.tag!==0&&(o.suspendedLanes|=F&~(K&~h))}function br(o,h,g){o.pendingLanes|=h,o.suspendedLanes&=~h;var x=31-Re(h);o.entangledLanes|=h,o.entanglements[x]=o.entanglements[x]|1073741824|g&4194090}function Gt(o,h){var g=o.entangledLanes|=h;for(o=o.entanglements;g;){var x=31-Re(g),E=1<<x;E&h|o[x]&h&&(o[x]|=h),g&=~E}}function or(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Br(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Jn(){var o=it.p;return o!==0?o:(o=window.event,o===void 0?32:kt(o.type))}function aa(o,h){var g=it.p;try{return it.p=o,h()}finally{it.p=g}}var Qr=Math.random().toString(36).slice(2),rr="__reactFiber$"+Qr,sr="__reactProps$"+Qr,pn="__reactContainer$"+Qr,Pt="__reactEvents$"+Qr,ka="__reactListeners$"+Qr,Mn="__reactHandles$"+Qr,Jo="__reactResources$"+Qr,Eo="__reactMarker$"+Qr;function Ot(o){delete o[rr],delete o[sr],delete o[Pt],delete o[ka],delete o[Mn]}function mr(o){var h=o[rr];if(h)return h;for(var g=o.parentNode;g;){if(h=g[pn]||g[rr]){if(g=h.alternate,h.child!==null||g!==null&&g.child!==null)for(o=$y(o);o!==null;){if(g=o[rr])return g;o=$y(o)}return h}o=g,g=o.parentNode}return null}function ur(o){if(o=o[rr]||o[pn]){var h=o.tag;if(h===5||h===6||h===13||h===26||h===27||h===3)return o}return null}function qn(o){var h=o.tag;if(h===5||h===26||h===27||h===6)return o.stateNode;throw Error(i(33))}function Zi(o){var h=o[Jo];return h||(h=o[Jo]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function mn(o){o[Eo]=!0}var yr=new Set,pu={};function pi(o,h){es(o,h),es(o+"Capture",h)}function es(o,h){for(pu[o]=h,o=0;o<h.length;o++)yr.add(h[o])}var Ro=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ml={},Tn={};function Ch(o){return $e.call(Tn,o)?!0:$e.call(ml,o)?!1:Ro.test(o)?Tn[o]=!0:(ml[o]=!0,!1)}function Sa(o,h,g){if(Ch(h))if(g===null)o.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":o.removeAttribute(h);return;case"boolean":var x=h.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){o.removeAttribute(h);return}}o.setAttribute(h,""+g)}}function qr(o,h,g){if(g===null)o.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(h);return}o.setAttribute(h,""+g)}}function Io(o,h,g,x){if(x===null)o.removeAttribute(g);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(g);return}o.setAttributeNS(h,g,""+x)}}var yl,Dh;function Ei(o){if(yl===void 0)try{throw Error()}catch(g){var h=g.stack.trim().match(/\n( *(at )?)/);yl=h&&h[1]||"",Dh=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yl+o+Dh}var ko=!1;function mu(o,h){if(!o||ko)return"";ko=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(h){var _t=function(){throw Error()};if(Object.defineProperty(_t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_t,[])}catch(rt){var Ke=rt}Reflect.construct(o,[],_t)}else{try{_t.call()}catch(rt){Ke=rt}o.call(_t.prototype)}}else{try{throw Error()}catch(rt){Ke=rt}(_t=o())&&typeof _t.catch=="function"&&_t.catch(function(){})}}catch(rt){if(rt&&Ke&&typeof rt.stack=="string")return[rt.stack,Ke.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var F=x.DetermineComponentFrameRoot(),K=F[0],le=F[1];if(K&&le){var Me=K.split(`
`),Ye=le.split(`
`);for(E=x=0;x<Me.length&&!Me[x].includes("DetermineComponentFrameRoot");)x++;for(;E<Ye.length&&!Ye[E].includes("DetermineComponentFrameRoot");)E++;if(x===Me.length||E===Ye.length)for(x=Me.length-1,E=Ye.length-1;1<=x&&0<=E&&Me[x]!==Ye[E];)E--;for(;1<=x&&0<=E;x--,E--)if(Me[x]!==Ye[E]){if(x!==1||E!==1)do if(x--,E--,0>E||Me[x]!==Ye[E]){var dt=`
`+Me[x].replace(" at new "," at ");return o.displayName&&dt.includes("<anonymous>")&&(dt=dt.replace("<anonymous>",o.displayName)),dt}while(1<=x&&0<=E);break}}}finally{ko=!1,Error.prepareStackTrace=g}return(g=o?o.displayName||o.name:"")?Ei(g):""}function up(o){switch(o.tag){case 26:case 27:case 5:return Ei(o.type);case 16:return Ei("Lazy");case 13:return Ei("Suspense");case 19:return Ei("SuspenseList");case 0:case 15:return mu(o.type,!1);case 11:return mu(o.type.render,!1);case 1:return mu(o.type,!0);case 31:return Ei("Activity");default:return""}}function kf(o){try{var h="";do h+=up(o),o=o.return;while(o);return h}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}function wa(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Of(o){var h=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function jm(o){var h=Of(o)?"checked":"value",g=Object.getOwnPropertyDescriptor(o.constructor.prototype,h),x=""+o[h];if(!o.hasOwnProperty(h)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var E=g.get,F=g.set;return Object.defineProperty(o,h,{configurable:!0,get:function(){return E.call(this)},set:function(K){x=""+K,F.call(this,K)}}),Object.defineProperty(o,h,{enumerable:g.enumerable}),{getValue:function(){return x},setValue:function(K){x=""+K},stopTracking:function(){o._valueTracker=null,delete o[h]}}}}function Mh(o){o._valueTracker||(o._valueTracker=jm(o))}function hp(o){if(!o)return!1;var h=o._valueTracker;if(!h)return!0;var g=h.getValue(),x="";return o&&(x=Of(o)?o.checked?"true":"false":o.value),o=x,o!==g?(h.setValue(o),!0):!1}function gc(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var vc=/[\n"\\]/g;function mi(o){return o.replace(vc,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function yu(o,h,g,x,E,F,K,le){o.name="",K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?o.type=K:o.removeAttribute("type"),h!=null?K==="number"?(h===0&&o.value===""||o.value!=h)&&(o.value=""+wa(h)):o.value!==""+wa(h)&&(o.value=""+wa(h)):K!=="submit"&&K!=="reset"||o.removeAttribute("value"),h!=null?gu(o,K,wa(h)):g!=null?gu(o,K,wa(g)):x!=null&&o.removeAttribute("value"),E==null&&F!=null&&(o.defaultChecked=!!F),E!=null&&(o.checked=E&&typeof E!="function"&&typeof E!="symbol"),le!=null&&typeof le!="function"&&typeof le!="symbol"&&typeof le!="boolean"?o.name=""+wa(le):o.removeAttribute("name")}function gl(o,h,g,x,E,F,K,le){if(F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"&&(o.type=F),h!=null||g!=null){if(!(F!=="submit"&&F!=="reset"||h!=null))return;g=g!=null?""+wa(g):"",h=h!=null?""+wa(h):g,le||h===o.value||(o.value=h),o.defaultValue=h}x=x??E,x=typeof x!="function"&&typeof x!="symbol"&&!!x,o.checked=le?o.checked:!!x,o.defaultChecked=!!x,K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"&&(o.name=K)}function gu(o,h,g){h==="number"&&gc(o.ownerDocument)===o||o.defaultValue===""+g||(o.defaultValue=""+g)}function Ls(o,h,g,x){if(o=o.options,h){h={};for(var E=0;E<g.length;E++)h["$"+g[E]]=!0;for(g=0;g<o.length;g++)E=h.hasOwnProperty("$"+o[g].value),o[g].selected!==E&&(o[g].selected=E),E&&x&&(o[g].defaultSelected=!0)}else{for(g=""+wa(g),h=null,E=0;E<o.length;E++){if(o[E].value===g){o[E].selected=!0,x&&(o[E].defaultSelected=!0);return}h!==null||o[E].disabled||(h=o[E])}h!==null&&(h.selected=!0)}}function fp(o,h,g){if(h!=null&&(h=""+wa(h),h!==o.value&&(o.value=h),g==null)){o.defaultValue!==h&&(o.defaultValue=h);return}o.defaultValue=g!=null?""+wa(g):""}function vl(o,h,g,x){if(h==null){if(x!=null){if(g!=null)throw Error(i(92));if(Rt(x)){if(1<x.length)throw Error(i(93));x=x[0]}g=x}g==null&&(g=""),h=g}g=wa(h),o.defaultValue=g,x=o.textContent,x===g&&x!==""&&x!==null&&(o.value=x)}function Oo(o,h){if(h){var g=o.firstChild;if(g&&g===o.lastChild&&g.nodeType===3){g.nodeValue=h;return}}o.textContent=h}var ao=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xr(o,h,g){var x=h.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?x?o.setProperty(h,""):h==="float"?o.cssFloat="":o[h]="":x?o.setProperty(h,g):typeof g!="number"||g===0||ao.has(h)?h==="float"?o.cssFloat=g:o[h]=(""+g).trim():o[h]=g+"px"}function zs(o,h,g){if(h!=null&&typeof h!="object")throw Error(i(62));if(o=o.style,g!=null){for(var x in g)!g.hasOwnProperty(x)||h!=null&&h.hasOwnProperty(x)||(x.indexOf("--")===0?o.setProperty(x,""):x==="float"?o.cssFloat="":o[x]="");for(var E in h)x=h[E],h.hasOwnProperty(E)&&g[E]!==x&&xr(o,E,x)}else for(var F in h)h.hasOwnProperty(F)&&xr(o,F,h[F])}function Uo(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ts=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_l=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _r(o){return _l.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var rs=null;function _c(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ns=null,ea=null;function ia(o){var h=ur(o);if(h&&(o=h.stateNode)){var g=o[sr]||null;e:switch(o=h.stateNode,h.type){case"input":if(yu(o,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),h=g.name,g.type==="radio"&&h!=null){for(g=o;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+mi(""+h)+'"][type="radio"]'),h=0;h<g.length;h++){var x=g[h];if(x!==o&&x.form===o.form){var E=x[sr]||null;if(!E)throw Error(i(90));yu(x,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(h=0;h<g.length;h++)x=g[h],x.form===o.form&&hp(x)}break e;case"textarea":fp(o,g.value,g.defaultValue);break e;case"select":h=g.value,h!=null&&Ls(o,!!g.multiple,h,!1)}}}var Pa=!1;function $n(o,h,g){if(Pa)return o(h,g);Pa=!0;try{var x=o(h);return x}finally{if(Pa=!1,(ns!==null||ea!==null)&&(Sd(),ns&&(h=ns,o=ea,ea=ns=null,ia(h),o)))for(h=0;h<o.length;h++)ia(o[h])}}function Nr(o,h){var g=o.stateNode;if(g===null)return null;var x=g[sr]||null;if(x===null)return null;g=x[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(o=o.type,x=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!x;break e;default:o=!1}if(o)return null;if(g&&typeof g!="function")throw Error(i(231,h,typeof g));return g}var Lo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Aa=!1;if(Lo)try{var Ca={};Object.defineProperty(Ca,"passive",{get:function(){Aa=!0}}),window.addEventListener("test",Ca,Ca),window.removeEventListener("test",Ca,Ca)}catch{Aa=!1}var En=null,Xr=null,zo=null;function tr(){if(zo)return zo;var o,h=Xr,g=h.length,x,E="value"in En?En.value:En.textContent,F=E.length;for(o=0;o<g&&h[o]===E[o];o++);var K=g-o;for(x=1;x<=K&&h[g-x]===E[F-x];x++);return zo=E.slice(o,1<x?1-x:void 0)}function lr(o){var h=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&h===13&&(o=13)):o=h,o===10&&(o=13),32<=o||o===13?o:0}function Yi(){return!0}function Dr(){return!1}function cn(o){function h(g,x,E,F,K){this._reactName=g,this._targetInst=E,this.type=x,this.nativeEvent=F,this.target=K,this.currentTarget=null;for(var le in o)o.hasOwnProperty(le)&&(g=o[le],this[le]=g?g(F):F[le]);return this.isDefaultPrevented=(F.defaultPrevented!=null?F.defaultPrevented:F.returnValue===!1)?Yi:Dr,this.isPropagationStopped=Dr,this}return T(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Yi)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Yi)},persist:function(){},isPersistent:Yi}),h}var Oa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ri=cn(Oa),Fs=T({},Oa,{view:0,detail:0}),Uf=cn(Fs),Ns,bl,js,xl=T({},Fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pl,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==js&&(js&&o.type==="mousemove"?(Ns=o.screenX-js.screenX,bl=o.screenY-js.screenY):bl=Ns=0,js=o),Ns)},movementY:function(o){return"movementY"in o?o.movementY:bl}}),vu=cn(xl),io=T({},xl,{dataTransfer:0}),da=cn(io),bc=T({},Fs,{relatedTarget:0}),Sl=cn(bc),wl=T({},Oa,{animationName:0,elapsedTime:0,pseudoElement:0}),Un=cn(wl),dp=T({},Oa,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),_u=cn(dp),Lf=T({},Oa,{data:0}),pp=cn(Lf),xc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Da={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fo(o){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(o):(o=bu[o])?!!h[o]:!1}function Pl(){return Fo}var xu=T({},Fs,{key:function(o){if(o.key){var h=xc[o.key]||o.key;if(h!=="Unidentified")return h}return o.type==="keypress"?(o=lr(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Da[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pl,charCode:function(o){return o.type==="keypress"?lr(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?lr(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Su=cn(xu),Ua=T({},xl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zf=cn(Ua),Th=T({},Fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pl}),Bm=cn(Th),Ff=T({},Oa,{propertyName:0,elapsedTime:0,pseudoElement:0}),qm=cn(Ff),$m=T({},xl,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Eh=cn($m),Nf=T({},Oa,{newState:0,oldState:0}),Al=cn(Nf),jf=[9,13,27,32],Sc=Lo&&"CompositionEvent"in window,Za=null;Lo&&"documentMode"in document&&(Za=document.documentMode);var Hm=Lo&&"TextEvent"in window&&!Za,wu=Lo&&(!Sc||Za&&8<Za&&11>=Za),wc=" ",Pc=!1;function mp(o,h){switch(o){case"keyup":return jf.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pu(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Ac=!1;function Cl(o,h){switch(o){case"compositionend":return Pu(h);case"keypress":return h.which!==32?null:(Pc=!0,wc);case"textInput":return o=h.data,o===wc&&Pc?null:o;default:return null}}function yp(o,h){if(Ac)return o==="compositionend"||!Sc&&mp(o,h)?(o=tr(),zo=Xr=En=null,Ac=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return wu&&h.locale!=="ko"?null:h.data;default:return null}}var Bf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gp(o){var h=o&&o.nodeName&&o.nodeName.toLowerCase();return h==="input"?!!Bf[o.type]:h==="textarea"}function qf(o,h,g,x){ns?ea?ea.push(x):ea=[x]:ns=x,h=qp(h,"onChange"),0<h.length&&(g=new Ri("onChange","change",null,g,x),o.push({event:g,listeners:h}))}var Dl=null,Cc=null;function Rh(o){Oy(o,0)}function Au(o){var h=qn(o);if(hp(h))return o}function $f(o,h){if(o==="change")return h}var Bs=!1;if(Lo){var Cu;if(Lo){var Du="oninput"in document;if(!Du){var Dc=document.createElement("div");Dc.setAttribute("oninput","return;"),Du=typeof Dc.oninput=="function"}Cu=Du}else Cu=!1;Bs=Cu&&(!document.documentMode||9<document.documentMode)}function vp(){Dl&&(Dl.detachEvent("onpropertychange",Mc),Cc=Dl=null)}function Mc(o){if(o.propertyName==="value"&&Au(Cc)){var h=[];qf(h,Cc,o,_c(o)),$n(Rh,h)}}function _p(o,h,g){o==="focusin"?(vp(),Dl=h,Cc=g,Dl.attachEvent("onpropertychange",Mc)):o==="focusout"&&vp()}function Vm(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Au(Cc)}function bp(o,h){if(o==="click")return Au(h)}function xp(o,h){if(o==="input"||o==="change")return Au(h)}function Hf(o,h){return o===h&&(o!==0||1/o===1/h)||o!==o&&h!==h}var Ya=typeof Object.is=="function"?Object.is:Hf;function Tc(o,h){if(Ya(o,h))return!0;if(typeof o!="object"||o===null||typeof h!="object"||h===null)return!1;var g=Object.keys(o),x=Object.keys(h);if(g.length!==x.length)return!1;for(x=0;x<g.length;x++){var E=g[x];if(!$e.call(h,E)||!Ya(o[E],h[E]))return!1}return!0}function Mu(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function No(o,h){var g=Mu(o);o=0;for(var x;g;){if(g.nodeType===3){if(x=o+g.textContent.length,o<=h&&x>=h)return{node:g,offset:h-o};o=x}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=Mu(g)}}function Ir(o,h){return o&&h?o===h?!0:o&&o.nodeType===3?!1:h&&h.nodeType===3?Ir(o,h.parentNode):"contains"in o?o.contains(h):o.compareDocumentPosition?!!(o.compareDocumentPosition(h)&16):!1:!1}function Ih(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var h=gc(o.document);h instanceof o.HTMLIFrameElement;){try{var g=typeof h.contentWindow.location.href=="string"}catch{g=!1}if(g)o=h.contentWindow;else break;h=gc(o.document)}return h}function Tu(o){var h=o&&o.nodeName&&o.nodeName.toLowerCase();return h&&(h==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||h==="textarea"||o.contentEditable==="true")}var Sp=Lo&&"documentMode"in document&&11>=document.documentMode,qs=null,as=null,Ml=null,Vf=!1;function wp(o,h,g){var x=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;Vf||qs==null||qs!==gc(x)||(x=qs,"selectionStart"in x&&Tu(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Ml&&Tc(Ml,x)||(Ml=x,x=qp(as,"onSelect"),0<x.length&&(h=new Ri("onSelect","select",null,h,g),o.push({event:h,listeners:x}),h.target=qs)))}function Tl(o,h){var g={};return g[o.toLowerCase()]=h.toLowerCase(),g["Webkit"+o]="webkit"+h,g["Moz"+o]="moz"+h,g}var Ec={animationend:Tl("Animation","AnimationEnd"),animationiteration:Tl("Animation","AnimationIteration"),animationstart:Tl("Animation","AnimationStart"),transitionrun:Tl("Transition","TransitionRun"),transitionstart:Tl("Transition","TransitionStart"),transitioncancel:Tl("Transition","TransitionCancel"),transitionend:Tl("Transition","TransitionEnd")},kh={},Pp={};Lo&&(Pp=document.createElement("div").style,"AnimationEvent"in window||(delete Ec.animationend.animation,delete Ec.animationiteration.animation,delete Ec.animationstart.animation),"TransitionEvent"in window||delete Ec.transitionend.transition);function $s(o){if(kh[o])return kh[o];if(!Ec[o])return o;var h=Ec[o],g;for(g in h)if(h.hasOwnProperty(g)&&g in Pp)return kh[o]=h[g];return o}var Eu=$s("animationend"),Ru=$s("animationiteration"),Iu=$s("animationstart"),Wf=$s("transitionrun"),El=$s("transitionstart"),ku=$s("transitioncancel"),Rl=$s("transitionend"),Ii=new Map,Oh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Oh.push("scrollEnd");function Qi(o,h){Ii.set(o,h),pi(h,[o])}var Uh=new WeakMap;function pa(o,h){if(typeof o=="object"&&o!==null){var g=Uh.get(o);return g!==void 0?g:(h={value:o,source:h,stack:kf(h)},Uh.set(o,h),h)}return{value:o,source:h,stack:kf(h)}}var Qa=[],is=0,Il=0;function kl(){for(var o=is,h=Il=is=0;h<o;){var g=Qa[h];Qa[h++]=null;var x=Qa[h];Qa[h++]=null;var E=Qa[h];Qa[h++]=null;var F=Qa[h];if(Qa[h++]=null,x!==null&&E!==null){var K=x.pending;K===null?E.next=E:(E.next=K.next,K.next=E),x.pending=E}F!==0&&Gf(g,E,F)}}function Ou(o,h,g,x){Qa[is++]=o,Qa[is++]=h,Qa[is++]=g,Qa[is++]=x,Il|=x,o.lanes|=x,o=o.alternate,o!==null&&(o.lanes|=x)}function Hs(o,h,g,x){return Ou(o,h,g,x),Rc(o)}function ki(o,h){return Ou(o,null,null,h),Rc(o)}function Gf(o,h,g){o.lanes|=g;var x=o.alternate;x!==null&&(x.lanes|=g);for(var E=!1,F=o.return;F!==null;)F.childLanes|=g,x=F.alternate,x!==null&&(x.childLanes|=g),F.tag===22&&(o=F.stateNode,o===null||o._visibility&1||(E=!0)),o=F,F=F.return;return o.tag===3?(F=o.stateNode,E&&h!==null&&(E=31-Re(g),o=F.hiddenUpdates,x=o[E],x===null?o[E]=[h]:x.push(h),h.lane=g|536870912),F):null}function Rc(o){if(50<xd)throw xd=0,yy=null,Error(i(185));for(var h=o.return;h!==null;)o=h,h=o.return;return o.tag===3?o.stateNode:null}var gr={};function Uu(o,h,g,x){this.tag=o,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oi(o,h,g,x){return new Uu(o,h,g,x)}function Lh(o){return o=o.prototype,!(!o||!o.isReactComponent)}function La(o,h){var g=o.alternate;return g===null?(g=Oi(o.tag,h,o.key,o.mode),g.elementType=o.elementType,g.type=o.type,g.stateNode=o.stateNode,g.alternate=o,o.alternate=g):(g.pendingProps=h,g.type=o.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=o.flags&65011712,g.childLanes=o.childLanes,g.lanes=o.lanes,g.child=o.child,g.memoizedProps=o.memoizedProps,g.memoizedState=o.memoizedState,g.updateQueue=o.updateQueue,h=o.dependencies,g.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},g.sibling=o.sibling,g.index=o.index,g.ref=o.ref,g.refCleanup=o.refCleanup,g}function Zf(o,h){o.flags&=65011714;var g=o.alternate;return g===null?(o.childLanes=0,o.lanes=h,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=g.childLanes,o.lanes=g.lanes,o.child=g.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=g.memoizedProps,o.memoizedState=g.memoizedState,o.updateQueue=g.updateQueue,o.type=g.type,h=g.dependencies,o.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),o}function zh(o,h,g,x,E,F){var K=0;if(x=o,typeof o=="function")Lh(o)&&(K=1);else if(typeof o=="string")K=n(o,g,pt.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case lt:return o=Oi(31,g,h,E),o.elementType=lt,o.lanes=F,o;case q:return Vs(g.children,E,F,h);case $:K=8,E|=24;break;case W:return o=Oi(12,g,h,E|2),o.elementType=W,o.lanes=F,o;case de:return o=Oi(13,g,h,E),o.elementType=de,o.lanes=F,o;case ye:return o=Oi(19,g,h,E),o.elementType=ye,o.lanes=F,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case Y:case te:K=10;break e;case X:K=9;break e;case pe:K=11;break e;case xe:K=14;break e;case Ie:K=16,x=null;break e}K=29,g=Error(i(130,o===null?"null":typeof o,"")),x=null}return h=Oi(K,g,h,E),h.elementType=o,h.type=x,h.lanes=F,h}function Vs(o,h,g,x){return o=Oi(7,o,x,h),o.lanes=g,o}function Yf(o,h,g){return o=Oi(6,o,null,h),o.lanes=g,o}function Lu(o,h,g){return h=Oi(4,o.children!==null?o.children:[],o.key,h),h.lanes=g,h.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},h}var os=[],jo=0,Ws=null,Ic=0,Ui=[],za=0,oo=null,Li=1,Xa="";function so(o,h){os[jo++]=Ic,os[jo++]=Ws,Ws=o,Ic=h}function Fh(o,h,g){Ui[za++]=Li,Ui[za++]=Xa,Ui[za++]=oo,oo=o;var x=Li;o=Xa;var E=32-Re(x)-1;x&=~(1<<E),g+=1;var F=32-Re(h)+E;if(30<F){var K=E-E%5;F=(x&(1<<K)-1).toString(32),x>>=K,E-=K,Li=1<<32-Re(h)+E|g<<E|x,Xa=F+o}else Li=1<<F|g<<E|x,Xa=o}function ss(o){o.return!==null&&(so(o,1),Fh(o,1,0))}function zu(o){for(;o===Ws;)Ws=os[--jo],os[jo]=null,Ic=os[--jo],os[jo]=null;for(;o===oo;)oo=Ui[--za],Ui[za]=null,Xa=Ui[--za],Ui[za]=null,Li=Ui[--za],Ui[za]=null}var oa=null,yn=null,Fr=!1,Gs=null,lo=!1,kc=Error(i(519));function ls(o){var h=Error(i(418,""));throw Zs(pa(h,o)),kc}function Qf(o){var h=o.stateNode,g=o.type,x=o.memoizedProps;switch(h[rr]=o,h[sr]=x,g){case"dialog":Or("cancel",h),Or("close",h);break;case"iframe":case"object":case"embed":Or("load",h);break;case"video":case"audio":for(g=0;g<hf.length;g++)Or(hf[g],h);break;case"source":Or("error",h);break;case"img":case"image":case"link":Or("error",h),Or("load",h);break;case"details":Or("toggle",h);break;case"input":Or("invalid",h),gl(h,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0),Mh(h);break;case"select":Or("invalid",h);break;case"textarea":Or("invalid",h),vl(h,x.value,x.defaultValue,x.children),Mh(h)}g=x.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||h.textContent===""+g||x.suppressHydrationWarning===!0||Ny(h.textContent,g)?(x.popover!=null&&(Or("beforetoggle",h),Or("toggle",h)),x.onScroll!=null&&Or("scroll",h),x.onScrollEnd!=null&&Or("scrollend",h),x.onClick!=null&&(h.onclick=Td),h=!0):h=!1,h||ls(o)}function Nh(o){for(oa=o.return;oa;)switch(oa.tag){case 5:case 13:lo=!1;return;case 27:case 3:lo=!0;return;default:oa=oa.return}}function Wr(o){if(o!==oa)return!1;if(!Fr)return Nh(o),Fr=!0,!1;var h=o.tag,g;if((g=h!==3&&h!==27)&&((g=h===5)&&(g=o.type,g=!(g!=="form"&&g!=="button")||ec(o.type,o.memoizedProps)),g=!g),g&&yn&&ls(o),Nh(o),h===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));e:{for(o=o.nextSibling,h=0;o;){if(o.nodeType===8)if(g=o.data,g==="/$"){if(h===0){yn=Yo(o.nextSibling);break e}h--}else g!=="$"&&g!=="$!"&&g!=="$?"||h++;o=o.nextSibling}yn=null}}else h===27?(h=yn,tc(o.type)?(o=df,df=null,yn=o):yn=h):yn=oa?Yo(o.stateNode.nextSibling):null;return!0}function co(){yn=oa=null,Fr=!1}function yi(){var o=Gs;return o!==null&&(Fi===null?Fi=o:Fi.push.apply(Fi,o),Gs=null),o}function Zs(o){Gs===null?Gs=[o]:Gs.push(o)}var Oc=ot(null),cs=null,Ka=null;function gi(o,h,g){et(Oc,h._currentValue),h._currentValue=g}function zi(o){o._currentValue=Oc.current,ke(Oc)}function Fu(o,h,g){for(;o!==null;){var x=o.alternate;if((o.childLanes&h)!==h?(o.childLanes|=h,x!==null&&(x.childLanes|=h)):x!==null&&(x.childLanes&h)!==h&&(x.childLanes|=h),o===g)break;o=o.return}}function jh(o,h,g,x){var E=o.child;for(E!==null&&(E.return=o);E!==null;){var F=E.dependencies;if(F!==null){var K=E.child;F=F.firstContext;e:for(;F!==null;){var le=F;F=E;for(var Me=0;Me<h.length;Me++)if(le.context===h[Me]){F.lanes|=g,le=F.alternate,le!==null&&(le.lanes|=g),Fu(F.return,g,o),x||(K=null);break e}F=le.next}}else if(E.tag===18){if(K=E.return,K===null)throw Error(i(341));K.lanes|=g,F=K.alternate,F!==null&&(F.lanes|=g),Fu(K,g,o),K=null}else K=E.child;if(K!==null)K.return=E;else for(K=E;K!==null;){if(K===o){K=null;break}if(E=K.sibling,E!==null){E.return=K.return,K=E;break}K=K.return}E=K}}function Uc(o,h,g,x){o=null;for(var E=h,F=!1;E!==null;){if(!F){if((E.flags&524288)!==0)F=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var K=E.alternate;if(K===null)throw Error(i(387));if(K=K.memoizedProps,K!==null){var le=E.type;Ya(E.pendingProps.value,K.value)||(o!==null?o.push(le):o=[le])}}else if(E===Ut.current){if(K=E.alternate,K===null)throw Error(i(387));K.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(o!==null?o.push(H):o=[H])}E=E.return}o!==null&&jh(h,o,g,x),h.flags|=262144}function Nu(o){for(o=o.firstContext;o!==null;){if(!Ya(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Ys(o){cs=o,Ka=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Hn(o){return Ja(cs,o)}function vi(o,h){return cs===null&&Ys(o),Ja(o,h)}function Ja(o,h){var g=h._currentValue;if(h={context:h,memoizedValue:g,next:null},Ka===null){if(o===null)throw Error(i(308));Ka=h,o.dependencies={lanes:0,firstContext:h},o.flags|=524288}else Ka=Ka.next=h;return g}var Lc=typeof AbortController<"u"?AbortController:function(){var o=[],h=this.signal={aborted:!1,addEventListener:function(g,x){o.push(x)}};this.abort=function(){h.aborted=!0,o.forEach(function(g){return g()})}},Xf=e.unstable_scheduleCallback,Ap=e.unstable_NormalPriority,ta={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qs(){return{controller:new Lc,data:new Map,refCount:0}}function Ol(o){o.refCount--,o.refCount===0&&Xf(Ap,function(){o.controller.abort()})}var Xs=null,zc=0,us=0,Ma=null;function ei(o,h){if(Xs===null){var g=Xs=[];zc=0,us=Cd(),Ma={status:"pending",value:void 0,then:function(x){g.push(x)}}}return zc++,h.then(Kf,Kf),h}function Kf(){if(--zc===0&&Xs!==null){Ma!==null&&(Ma.status="fulfilled");var o=Xs;Xs=null,us=0,Ma=null;for(var h=0;h<o.length;h++)(0,o[h])()}}function uo(o,h){var g=[],x={status:"pending",value:null,reason:null,then:function(E){g.push(E)}};return o.then(function(){x.status="fulfilled",x.value=h;for(var E=0;E<g.length;E++)(0,g[E])(h)},function(E){for(x.status="rejected",x.reason=E,E=0;E<g.length;E++)(0,g[E])(void 0)}),x}var Ul=je.S;je.S=function(o,h){typeof h=="object"&&h!==null&&typeof h.then=="function"&&ei(o,h),Ul!==null&&Ul(o,h)};var ho=ot(null);function Jf(){var o=ho.current;return o!==null?o:fn.pooledCache}function Bh(o,h){h===null?et(ho,ho.current):et(ho,h.pool)}function ju(){var o=Jf();return o===null?null:{parent:ta._currentValue,pool:o}}var Fc=Error(i(460)),Ks=Error(i(474)),ti=Error(i(542)),Lt={then:function(){}};function qh(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Ll(){}function $h(o,h,g){switch(g=o[g],g===void 0?o.push(h):g!==h&&(h.then(Ll,Ll),h=g),h.status){case"fulfilled":return h.value;case"rejected":throw o=h.reason,Hh(o),o;default:if(typeof h.status=="string")h.then(Ll,Ll);else{if(o=fn,o!==null&&100<o.shellSuspendCounter)throw Error(i(482));o=h,o.status="pending",o.then(function(x){if(h.status==="pending"){var E=h;E.status="fulfilled",E.value=x}},function(x){if(h.status==="pending"){var E=h;E.status="rejected",E.reason=x}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw o=h.reason,Hh(o),o}throw fo=h,Fc}}var fo=null;function zl(){if(fo===null)throw Error(i(459));var o=fo;return fo=null,o}function Hh(o){if(o===Fc||o===ti)throw Error(i(483))}var fr=!1;function Bu(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vh(o,h){o=o.updateQueue,h.updateQueue===o&&(h.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Bo(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function hs(o,h,g){var x=o.updateQueue;if(x===null)return null;if(x=x.shared,(nn&2)!==0){var E=x.pending;return E===null?h.next=h:(h.next=E.next,E.next=h),x.pending=h,h=Rc(o),Gf(o,null,g),h}return Ou(o,x,h,g),Rc(o)}function Nc(o,h,g){if(h=h.updateQueue,h!==null&&(h=h.shared,(g&4194048)!==0)){var x=h.lanes;x&=o.pendingLanes,g|=x,h.lanes=g,Gt(o,g)}}function Wh(o,h){var g=o.updateQueue,x=o.alternate;if(x!==null&&(x=x.updateQueue,g===x)){var E=null,F=null;if(g=g.firstBaseUpdate,g!==null){do{var K={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};F===null?E=F=K:F=F.next=K,g=g.next}while(g!==null);F===null?E=F=h:F=F.next=h}else E=F=h;g={baseState:x.baseState,firstBaseUpdate:E,lastBaseUpdate:F,shared:x.shared,callbacks:x.callbacks},o.updateQueue=g;return}o=g.lastBaseUpdate,o===null?g.firstBaseUpdate=h:o.next=h,g.lastBaseUpdate=h}var qu=!1;function Fl(){if(qu){var o=Ma;if(o!==null)throw o}}function jc(o,h,g,x){qu=!1;var E=o.updateQueue;fr=!1;var F=E.firstBaseUpdate,K=E.lastBaseUpdate,le=E.shared.pending;if(le!==null){E.shared.pending=null;var Me=le,Ye=Me.next;Me.next=null,K===null?F=Ye:K.next=Ye,K=Me;var dt=o.alternate;dt!==null&&(dt=dt.updateQueue,le=dt.lastBaseUpdate,le!==K&&(le===null?dt.firstBaseUpdate=Ye:le.next=Ye,dt.lastBaseUpdate=Me))}if(F!==null){var _t=E.baseState;K=0,dt=Ye=Me=null,le=F;do{var Ke=le.lane&-536870913,rt=Ke!==le.lane;if(rt?(zr&Ke)===Ke:(x&Ke)===Ke){Ke!==0&&Ke===us&&(qu=!0),dt!==null&&(dt=dt.next={lane:0,tag:le.tag,payload:le.payload,callback:null,next:null});e:{var dr=o,cr=le;Ke=h;var ln=g;switch(cr.tag){case 1:if(dr=cr.payload,typeof dr=="function"){_t=dr.call(ln,_t,Ke);break e}_t=dr;break e;case 3:dr.flags=dr.flags&-65537|128;case 0:if(dr=cr.payload,Ke=typeof dr=="function"?dr.call(ln,_t,Ke):dr,Ke==null)break e;_t=T({},_t,Ke);break e;case 2:fr=!0}}Ke=le.callback,Ke!==null&&(o.flags|=64,rt&&(o.flags|=8192),rt=E.callbacks,rt===null?E.callbacks=[Ke]:rt.push(Ke))}else rt={lane:Ke,tag:le.tag,payload:le.payload,callback:le.callback,next:null},dt===null?(Ye=dt=rt,Me=_t):dt=dt.next=rt,K|=Ke;if(le=le.next,le===null){if(le=E.shared.pending,le===null)break;rt=le,le=rt.next,rt.next=null,E.lastBaseUpdate=rt,E.shared.pending=null}}while(!0);dt===null&&(Me=_t),E.baseState=Me,E.firstBaseUpdate=Ye,E.lastBaseUpdate=dt,F===null&&(E.shared.lanes=0),Yl|=K,o.lanes=K,o.memoizedState=_t}}function Gh(o,h){if(typeof o!="function")throw Error(i(191,o));o.call(h)}function ed(o,h){var g=o.callbacks;if(g!==null)for(o.callbacks=null,o=0;o<g.length;o++)Gh(g[o],h)}var fs=ot(null),po=ot(0);function $r(o,h){o=Zl,et(po,o),et(fs,h),Zl=o|h.baseLanes}function td(){et(po,Zl),et(fs,fs.current)}function Bc(){Zl=po.current,ke(fs),ke(po)}var mo=0,wr=null,Hr=null,Vn=null,Zh=!1,ri=!1,qo=!1,qt=0,Yt=0,ds=null,rd=0;function wn(){throw Error(i(321))}function ma(o,h){if(h===null)return!1;for(var g=0;g<h.length&&g<o.length;g++)if(!Ya(o[g],h[g]))return!1;return!0}function Yh(o,h,g,x,E,F){return mo=F,wr=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,je.H=o===null||o.memoizedState===null?$o:Ho,qo=!1,F=g(x,E),qo=!1,ri&&(F=Js(h,g,x,E)),Xi(o),F}function Xi(o){je.H=ga;var h=Hr!==null&&Hr.next!==null;if(mo=0,Vn=Hr=wr=null,Zh=!1,Yt=0,ds=null,h)throw Error(i(300));o===null||Gn||(o=o.dependencies,o!==null&&Nu(o)&&(Gn=!0))}function Js(o,h,g,x){wr=o;var E=0;do{if(ri&&(ds=null),Yt=0,ri=!1,25<=E)throw Error(i(301));if(E+=1,Vn=Hr=null,o.updateQueue!=null){var F=o.updateQueue;F.lastEffect=null,F.events=null,F.stores=null,F.memoCache!=null&&(F.memoCache.index=0)}je.H=rl,F=h(g,x)}while(ri);return F}function qc(){var o=je.H,h=o.useState()[0];return h=typeof h.then=="function"?Nl(h):h,o=o.useState()[0],(Hr!==null?Hr.memoizedState:null)!==o&&(wr.flags|=1024),h}function tn(){var o=qt!==0;return qt=0,o}function Pn(o,h,g){h.updateQueue=o.updateQueue,h.flags&=-2053,o.lanes&=~g}function $c(o){if(Zh){for(o=o.memoizedState;o!==null;){var h=o.queue;h!==null&&(h.pending=null),o=o.next}Zh=!1}mo=0,Vn=Hr=wr=null,ri=!1,Yt=qt=0,ds=null}function ya(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vn===null?wr.memoizedState=Vn=o:Vn=Vn.next=o,Vn}function un(){if(Hr===null){var o=wr.alternate;o=o!==null?o.memoizedState:null}else o=Hr.next;var h=Vn===null?wr.memoizedState:Vn.next;if(h!==null)Vn=h,Hr=o;else{if(o===null)throw wr.alternate===null?Error(i(467)):Error(i(310));Hr=o,o={memoizedState:Hr.memoizedState,baseState:Hr.baseState,baseQueue:Hr.baseQueue,queue:Hr.queue,next:null},Vn===null?wr.memoizedState=Vn=o:Vn=Vn.next=o}return Vn}function ps(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nl(o){var h=Yt;return Yt+=1,ds===null&&(ds=[]),o=$h(ds,o,h),h=wr,(Vn===null?h.memoizedState:Vn.next)===null&&(h=h.alternate,je.H=h===null||h.memoizedState===null?$o:Ho),o}function jl(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Nl(o);if(o.$$typeof===te)return Hn(o)}throw Error(i(438,String(o)))}function yo(o){var h=null,g=wr.updateQueue;if(g!==null&&(h=g.memoCache),h==null){var x=wr.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(h={data:x.data.map(function(E){return E.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),g===null&&(g=ps(),wr.updateQueue=g),g.memoCache=h,g=h.data[h.index],g===void 0)for(g=h.data[h.index]=Array(o),x=0;x<o;x++)g[x]=mt;return h.index++,g}function go(o,h){return typeof h=="function"?h(o):h}function Hc(o){var h=un();return Vc(h,Hr,o)}function Vc(o,h,g){var x=o.queue;if(x===null)throw Error(i(311));x.lastRenderedReducer=g;var E=o.baseQueue,F=x.pending;if(F!==null){if(E!==null){var K=E.next;E.next=F.next,F.next=K}h.baseQueue=E=F,x.pending=null}if(F=o.baseState,E===null)o.memoizedState=F;else{h=E.next;var le=K=null,Me=null,Ye=h,dt=!1;do{var _t=Ye.lane&-536870913;if(_t!==Ye.lane?(zr&_t)===_t:(mo&_t)===_t){var Ke=Ye.revertLane;if(Ke===0)Me!==null&&(Me=Me.next={lane:0,revertLane:0,action:Ye.action,hasEagerState:Ye.hasEagerState,eagerState:Ye.eagerState,next:null}),_t===us&&(dt=!0);else if((mo&Ke)===Ke){Ye=Ye.next,Ke===us&&(dt=!0);continue}else _t={lane:0,revertLane:Ye.revertLane,action:Ye.action,hasEagerState:Ye.hasEagerState,eagerState:Ye.eagerState,next:null},Me===null?(le=Me=_t,K=F):Me=Me.next=_t,wr.lanes|=Ke,Yl|=Ke;_t=Ye.action,qo&&g(F,_t),F=Ye.hasEagerState?Ye.eagerState:g(F,_t)}else Ke={lane:_t,revertLane:Ye.revertLane,action:Ye.action,hasEagerState:Ye.hasEagerState,eagerState:Ye.eagerState,next:null},Me===null?(le=Me=Ke,K=F):Me=Me.next=Ke,wr.lanes|=_t,Yl|=_t;Ye=Ye.next}while(Ye!==null&&Ye!==h);if(Me===null?K=F:Me.next=le,!Ya(F,o.memoizedState)&&(Gn=!0,dt&&(g=Ma,g!==null)))throw g;o.memoizedState=F,o.baseState=K,o.baseQueue=Me,x.lastRenderedState=F}return E===null&&(x.lanes=0),[o.memoizedState,x.dispatch]}function $u(o){var h=un(),g=h.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=o;var x=g.dispatch,E=g.pending,F=h.memoizedState;if(E!==null){g.pending=null;var K=E=E.next;do F=o(F,K.action),K=K.next;while(K!==E);Ya(F,h.memoizedState)||(Gn=!0),h.memoizedState=F,h.baseQueue===null&&(h.baseState=F),g.lastRenderedState=F}return[F,x]}function b(o,h,g){var x=wr,E=un(),F=Fr;if(F){if(g===void 0)throw Error(i(407));g=g()}else g=h();var K=!Ya((Hr||E).memoizedState,g);K&&(E.memoizedState=g,Gn=!0),E=E.queue;var le=m.bind(null,x,E,o);if(Ue(2048,8,le,[o]),E.getSnapshot!==h||K||Vn!==null&&Vn.memoizedState.tag&1){if(x.flags|=2048,_e(9,Ae(),u.bind(null,x,E,g,h),null),fn===null)throw Error(i(349));F||(mo&124)!==0||r(x,h,g)}return g}function r(o,h,g){o.flags|=16384,o={getSnapshot:h,value:g},h=wr.updateQueue,h===null?(h=ps(),wr.updateQueue=h,h.stores=[o]):(g=h.stores,g===null?h.stores=[o]:g.push(o))}function u(o,h,g,x){h.value=g,h.getSnapshot=x,_(h)&&w(o)}function m(o,h,g){return g(function(){_(h)&&w(o)})}function _(o){var h=o.getSnapshot;o=o.value;try{var g=h();return!Ya(o,g)}catch{return!0}}function w(o){var h=ki(o,2);h!==null&&Ni(h,o,2)}function D(o){var h=ya();if(typeof o=="function"){var g=o;if(o=g(),qo){Ga(!0);try{g()}finally{Ga(!1)}}}return h.memoizedState=h.baseState=o,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:go,lastRenderedState:o},h}function k(o,h,g,x){return o.baseState=g,Vc(o,Hr,typeof x=="function"?x:go)}function O(o,h,g,x,E){if(tl(o))throw Error(i(485));if(o=h.action,o!==null){var F={payload:E,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(K){F.listeners.push(K)}};je.T!==null?g(!0):F.isTransition=!1,x(F),g=h.pending,g===null?(F.next=h.pending=F,N(h,F)):(F.next=g.next,h.pending=g.next=F)}}function N(o,h){var g=h.action,x=h.payload,E=o.state;if(h.isTransition){var F=je.T,K={};je.T=K;try{var le=g(E,x),Me=je.S;Me!==null&&Me(K,le),B(o,h,le)}catch(Ye){G(o,h,Ye)}finally{je.T=F}}else try{F=g(E,x),B(o,h,F)}catch(Ye){G(o,h,Ye)}}function B(o,h,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(x){Z(o,h,x)},function(x){return G(o,h,x)}):Z(o,h,g)}function Z(o,h,g){h.status="fulfilled",h.value=g,J(h),o.state=g,h=o.pending,h!==null&&(g=h.next,g===h?o.pending=null:(g=g.next,h.next=g,N(o,g)))}function G(o,h,g){var x=o.pending;if(o.pending=null,x!==null){x=x.next;do h.status="rejected",h.reason=g,J(h),h=h.next;while(h!==x)}o.action=null}function J(o){o=o.listeners;for(var h=0;h<o.length;h++)(0,o[h])()}function ie(o,h){return h}function he(o,h){if(Fr){var g=fn.formState;if(g!==null){e:{var x=wr;if(Fr){if(yn){t:{for(var E=yn,F=lo;E.nodeType!==8;){if(!F){E=null;break t}if(E=Yo(E.nextSibling),E===null){E=null;break t}}F=E.data,E=F==="F!"||F==="F"?E:null}if(E){yn=Yo(E.nextSibling),x=E.data==="F!";break e}}ls(x)}x=!1}x&&(h=g[0])}}return g=ya(),g.memoizedState=g.baseState=h,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ie,lastRenderedState:h},g.queue=x,g=ms.bind(null,wr,x),x.dispatch=g,x=D(!1),F=ys.bind(null,wr,!1,x.queue),x=ya(),E={state:h,dispatch:null,action:o,pending:null},x.queue=E,g=O.bind(null,wr,E,F,g),E.dispatch=g,x.memoizedState=o,[h,g,!1]}function fe(o){var h=un();return me(h,Hr,o)}function me(o,h,g){if(h=Vc(o,h,ie)[0],o=Hc(go)[0],typeof h=="object"&&h!==null&&typeof h.then=="function")try{var x=Nl(h)}catch(K){throw K===Fc?ti:K}else x=h;h=un();var E=h.queue,F=E.dispatch;return g!==h.memoizedState&&(wr.flags|=2048,_e(9,Ae(),ve.bind(null,E,g),null)),[x,F,o]}function ve(o,h){o.action=h}function we(o){var h=un(),g=Hr;if(g!==null)return me(h,g,o);un(),h=h.memoizedState,g=un();var x=g.queue.dispatch;return g.memoizedState=o,[h,x,!1]}function _e(o,h,g,x){return o={tag:o,create:g,deps:x,inst:h,next:null},h=wr.updateQueue,h===null&&(h=ps(),wr.updateQueue=h),g=h.lastEffect,g===null?h.lastEffect=o.next=o:(x=g.next,g.next=o,o.next=x,h.lastEffect=o),o}function Ae(){return{destroy:void 0,resource:void 0}}function Ee(){return un().memoizedState}function be(o,h,g,x){var E=ya();x=x===void 0?null:x,wr.flags|=o,E.memoizedState=_e(1|h,Ae(),g,x)}function Ue(o,h,g,x){var E=un();x=x===void 0?null:x;var F=E.memoizedState.inst;Hr!==null&&x!==null&&ma(x,Hr.memoizedState.deps)?E.memoizedState=_e(h,F,g,x):(wr.flags|=o,E.memoizedState=_e(1|h,F,g,x))}function Qe(o,h){be(8390656,8,o,h)}function qe(o,h){Ue(2048,8,o,h)}function Ve(o,h){return Ue(4,2,o,h)}function Xe(o,h){return Ue(4,4,o,h)}function Et(o,h){if(typeof h=="function"){o=o();var g=h(o);return function(){typeof g=="function"?g():h(null)}}if(h!=null)return o=o(),h.current=o,function(){h.current=null}}function Mt(o,h,g){g=g!=null?g.concat([o]):null,Ue(4,4,Et.bind(null,h,o),g)}function ft(){}function Ht(o,h){var g=un();h=h===void 0?null:h;var x=g.memoizedState;return h!==null&&ma(h,x[1])?x[0]:(g.memoizedState=[o,h],o)}function vr(o,h){var g=un();h=h===void 0?null:h;var x=g.memoizedState;if(h!==null&&ma(h,x[1]))return x[0];if(x=o(),qo){Ga(!0);try{o()}finally{Ga(!1)}}return g.memoizedState=[x,h],x}function kr(o,h,g){return g===void 0||(mo&1073741824)!==0?o.memoizedState=h:(o.memoizedState=g,o=la(),wr.lanes|=o,Yl|=o,g)}function hn(o,h,g,x){return Ya(g,h)?g:fs.current!==null?(o=kr(o,g,x),Ya(o,h)||(Gn=!0),o):(mo&42)===0?(Gn=!0,o.memoizedState=g):(o=la(),wr.lanes|=o,Yl|=o,h)}function Gr(o,h,g,x,E){var F=it.p;it.p=F!==0&&8>F?F:8;var K=je.T,le={};je.T=le,ys(o,!1,h,g);try{var Me=E(),Ye=je.S;if(Ye!==null&&Ye(le,Me),Me!==null&&typeof Me=="object"&&typeof Me.then=="function"){var dt=uo(Me,x);ai(o,h,dt,li(o))}else ai(o,h,x,li(o))}catch(_t){ai(o,h,{then:function(){},status:"rejected",reason:_t},li())}finally{it.p=F,je.T=K}}function Zr(){}function rn(o,h,g,x){if(o.tag!==5)throw Error(i(476));var E=Kr(o).queue;Gr(o,E,h,Ge,g===null?Zr:function(){return Yr(o),g(x)})}function Kr(o){var h=o.memoizedState;if(h!==null)return h;h={memoizedState:Ge,baseState:Ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:go,lastRenderedState:Ge},next:null};var g={};return h.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:go,lastRenderedState:g},next:null},o.memoizedState=h,o=o.alternate,o!==null&&(o.memoizedState=h),h}function Yr(o){var h=Kr(o).next.queue;ai(o,h,{},li())}function Mr(){return Hn(H)}function ra(){return un().memoizedState}function Wn(){return un().memoizedState}function ni(o){for(var h=o.return;h!==null;){switch(h.tag){case 24:case 3:var g=li();o=Bo(g);var x=hs(h,o,g);x!==null&&(Ni(x,h,g),Nc(x,h,g)),h={cache:Qs()},o.payload=h;return}h=h.return}}function el(o,h,g){var x=li();g={lane:x,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null},tl(o)?Hu(h,g):(g=Hs(o,h,g,x),g!==null&&(Ni(g,o,x),gs(g,h,x)))}function ms(o,h,g){var x=li();ai(o,h,g,x)}function ai(o,h,g,x){var E={lane:x,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null};if(tl(o))Hu(h,E);else{var F=o.alternate;if(o.lanes===0&&(F===null||F.lanes===0)&&(F=h.lastRenderedReducer,F!==null))try{var K=h.lastRenderedState,le=F(K,g);if(E.hasEagerState=!0,E.eagerState=le,Ya(le,K))return Ou(o,h,E,0),fn===null&&kl(),!1}catch{}finally{}if(g=Hs(o,h,E,x),g!==null)return Ni(g,o,x),gs(g,h,x),!0}return!1}function ys(o,h,g,x){if(x={lane:2,revertLane:Cd(),action:x,hasEagerState:!1,eagerState:null,next:null},tl(o)){if(h)throw Error(i(479))}else h=Hs(o,g,x,2),h!==null&&Ni(h,o,2)}function tl(o){var h=o.alternate;return o===wr||h!==null&&h===wr}function Hu(o,h){ri=Zh=!0;var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}function gs(o,h,g){if((g&4194048)!==0){var x=h.lanes;x&=o.pendingLanes,g|=x,h.lanes=g,Gt(o,g)}}var ga={readContext:Hn,use:jl,useCallback:wn,useContext:wn,useEffect:wn,useImperativeHandle:wn,useLayoutEffect:wn,useInsertionEffect:wn,useMemo:wn,useReducer:wn,useRef:wn,useState:wn,useDebugValue:wn,useDeferredValue:wn,useTransition:wn,useSyncExternalStore:wn,useId:wn,useHostTransitionStatus:wn,useFormState:wn,useActionState:wn,useOptimistic:wn,useMemoCache:wn,useCacheRefresh:wn},$o={readContext:Hn,use:jl,useCallback:function(o,h){return ya().memoizedState=[o,h===void 0?null:h],o},useContext:Hn,useEffect:Qe,useImperativeHandle:function(o,h,g){g=g!=null?g.concat([o]):null,be(4194308,4,Et.bind(null,h,o),g)},useLayoutEffect:function(o,h){return be(4194308,4,o,h)},useInsertionEffect:function(o,h){be(4,2,o,h)},useMemo:function(o,h){var g=ya();h=h===void 0?null:h;var x=o();if(qo){Ga(!0);try{o()}finally{Ga(!1)}}return g.memoizedState=[x,h],x},useReducer:function(o,h,g){var x=ya();if(g!==void 0){var E=g(h);if(qo){Ga(!0);try{g(h)}finally{Ga(!1)}}}else E=h;return x.memoizedState=x.baseState=E,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:E},x.queue=o,o=o.dispatch=el.bind(null,wr,o),[x.memoizedState,o]},useRef:function(o){var h=ya();return o={current:o},h.memoizedState=o},useState:function(o){o=D(o);var h=o.queue,g=ms.bind(null,wr,h);return h.dispatch=g,[o.memoizedState,g]},useDebugValue:ft,useDeferredValue:function(o,h){var g=ya();return kr(g,o,h)},useTransition:function(){var o=D(!1);return o=Gr.bind(null,wr,o.queue,!0,!1),ya().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,h,g){var x=wr,E=ya();if(Fr){if(g===void 0)throw Error(i(407));g=g()}else{if(g=h(),fn===null)throw Error(i(349));(zr&124)!==0||r(x,h,g)}E.memoizedState=g;var F={value:g,getSnapshot:h};return E.queue=F,Qe(m.bind(null,x,F,o),[o]),x.flags|=2048,_e(9,Ae(),u.bind(null,x,F,g,h),null),g},useId:function(){var o=ya(),h=fn.identifierPrefix;if(Fr){var g=Xa,x=Li;g=(x&~(1<<32-Re(x)-1)).toString(32)+g,h="«"+h+"R"+g,g=qt++,0<g&&(h+="H"+g.toString(32)),h+="»"}else g=rd++,h="«"+h+"r"+g.toString(32)+"»";return o.memoizedState=h},useHostTransitionStatus:Mr,useFormState:he,useActionState:he,useOptimistic:function(o){var h=ya();h.memoizedState=h.baseState=o;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=g,h=ys.bind(null,wr,!0,g),g.dispatch=h,[o,h]},useMemoCache:yo,useCacheRefresh:function(){return ya().memoizedState=ni.bind(null,wr)}},Ho={readContext:Hn,use:jl,useCallback:Ht,useContext:Hn,useEffect:qe,useImperativeHandle:Mt,useInsertionEffect:Ve,useLayoutEffect:Xe,useMemo:vr,useReducer:Hc,useRef:Ee,useState:function(){return Hc(go)},useDebugValue:ft,useDeferredValue:function(o,h){var g=un();return hn(g,Hr.memoizedState,o,h)},useTransition:function(){var o=Hc(go)[0],h=un().memoizedState;return[typeof o=="boolean"?o:Nl(o),h]},useSyncExternalStore:b,useId:ra,useHostTransitionStatus:Mr,useFormState:fe,useActionState:fe,useOptimistic:function(o,h){var g=un();return k(g,Hr,o,h)},useMemoCache:yo,useCacheRefresh:Wn},rl={readContext:Hn,use:jl,useCallback:Ht,useContext:Hn,useEffect:qe,useImperativeHandle:Mt,useInsertionEffect:Ve,useLayoutEffect:Xe,useMemo:vr,useReducer:$u,useRef:Ee,useState:function(){return $u(go)},useDebugValue:ft,useDeferredValue:function(o,h){var g=un();return Hr===null?kr(g,o,h):hn(g,Hr.memoizedState,o,h)},useTransition:function(){var o=$u(go)[0],h=un().memoizedState;return[typeof o=="boolean"?o:Nl(o),h]},useSyncExternalStore:b,useId:ra,useHostTransitionStatus:Mr,useFormState:we,useActionState:we,useOptimistic:function(o,h){var g=un();return Hr!==null?k(g,Hr,o,h):(g.baseState=o,[o,g.queue.dispatch])},useMemoCache:yo,useCacheRefresh:Wn},jr=null,gn=0;function Fa(o){var h=gn;return gn+=1,jr===null&&(jr=[]),$h(jr,o,h)}function Rn(o,h){h=h.props.ref,o.ref=h!==void 0?h:null}function Qh(o,h){throw h.$$typeof===R?Error(i(525)):(o=Object.prototype.toString.call(h),Error(i(31,o==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":o)))}function Xh(o){var h=o._init;return h(o._payload)}function Wc(o){function h(Be,Ne){if(o){var He=Be.deletions;He===null?(Be.deletions=[Ne],Be.flags|=16):He.push(Ne)}}function g(Be,Ne){if(!o)return null;for(;Ne!==null;)h(Be,Ne),Ne=Ne.sibling;return null}function x(Be){for(var Ne=new Map;Be!==null;)Be.key!==null?Ne.set(Be.key,Be):Ne.set(Be.index,Be),Be=Be.sibling;return Ne}function E(Be,Ne){return Be=La(Be,Ne),Be.index=0,Be.sibling=null,Be}function F(Be,Ne,He){return Be.index=He,o?(He=Be.alternate,He!==null?(He=He.index,He<Ne?(Be.flags|=67108866,Ne):He):(Be.flags|=67108866,Ne)):(Be.flags|=1048576,Ne)}function K(Be){return o&&Be.alternate===null&&(Be.flags|=67108866),Be}function le(Be,Ne,He,gt){return Ne===null||Ne.tag!==6?(Ne=Yf(He,Be.mode,gt),Ne.return=Be,Ne):(Ne=E(Ne,He),Ne.return=Be,Ne)}function Me(Be,Ne,He,gt){var Qt=He.type;return Qt===q?dt(Be,Ne,He.props.children,gt,He.key):Ne!==null&&(Ne.elementType===Qt||typeof Qt=="object"&&Qt!==null&&Qt.$$typeof===Ie&&Xh(Qt)===Ne.type)?(Ne=E(Ne,He.props),Rn(Ne,He),Ne.return=Be,Ne):(Ne=zh(He.type,He.key,He.props,null,Be.mode,gt),Rn(Ne,He),Ne.return=Be,Ne)}function Ye(Be,Ne,He,gt){return Ne===null||Ne.tag!==4||Ne.stateNode.containerInfo!==He.containerInfo||Ne.stateNode.implementation!==He.implementation?(Ne=Lu(He,Be.mode,gt),Ne.return=Be,Ne):(Ne=E(Ne,He.children||[]),Ne.return=Be,Ne)}function dt(Be,Ne,He,gt,Qt){return Ne===null||Ne.tag!==7?(Ne=Vs(He,Be.mode,gt,Qt),Ne.return=Be,Ne):(Ne=E(Ne,He),Ne.return=Be,Ne)}function _t(Be,Ne,He){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return Ne=Yf(""+Ne,Be.mode,He),Ne.return=Be,Ne;if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case L:return He=zh(Ne.type,Ne.key,Ne.props,null,Be.mode,He),Rn(He,Ne),He.return=Be,He;case U:return Ne=Lu(Ne,Be.mode,He),Ne.return=Be,Ne;case Ie:var gt=Ne._init;return Ne=gt(Ne._payload),_t(Be,Ne,He)}if(Rt(Ne)||st(Ne))return Ne=Vs(Ne,Be.mode,He,null),Ne.return=Be,Ne;if(typeof Ne.then=="function")return _t(Be,Fa(Ne),He);if(Ne.$$typeof===te)return _t(Be,vi(Be,Ne),He);Qh(Be,Ne)}return null}function Ke(Be,Ne,He,gt){var Qt=Ne!==null?Ne.key:null;if(typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint")return Qt!==null?null:le(Be,Ne,""+He,gt);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case L:return He.key===Qt?Me(Be,Ne,He,gt):null;case U:return He.key===Qt?Ye(Be,Ne,He,gt):null;case Ie:return Qt=He._init,He=Qt(He._payload),Ke(Be,Ne,He,gt)}if(Rt(He)||st(He))return Qt!==null?null:dt(Be,Ne,He,gt,null);if(typeof He.then=="function")return Ke(Be,Ne,Fa(He),gt);if(He.$$typeof===te)return Ke(Be,Ne,vi(Be,He),gt);Qh(Be,He)}return null}function rt(Be,Ne,He,gt,Qt){if(typeof gt=="string"&&gt!==""||typeof gt=="number"||typeof gt=="bigint")return Be=Be.get(He)||null,le(Ne,Be,""+gt,Qt);if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case L:return Be=Be.get(gt.key===null?He:gt.key)||null,Me(Ne,Be,gt,Qt);case U:return Be=Be.get(gt.key===null?He:gt.key)||null,Ye(Ne,Be,gt,Qt);case Ie:var Er=gt._init;return gt=Er(gt._payload),rt(Be,Ne,He,gt,Qt)}if(Rt(gt)||st(gt))return Be=Be.get(He)||null,dt(Ne,Be,gt,Qt,null);if(typeof gt.then=="function")return rt(Be,Ne,He,Fa(gt),Qt);if(gt.$$typeof===te)return rt(Be,Ne,He,vi(Ne,gt),Qt);Qh(Ne,gt)}return null}function dr(Be,Ne,He,gt){for(var Qt=null,Er=null,ar=Ne,hr=Ne=0,$a=null;ar!==null&&hr<He.length;hr++){ar.index>hr?($a=ar,ar=null):$a=ar.sibling;var Vr=Ke(Be,ar,He[hr],gt);if(Vr===null){ar===null&&(ar=$a);break}o&&ar&&Vr.alternate===null&&h(Be,ar),Ne=F(Vr,Ne,hr),Er===null?Qt=Vr:Er.sibling=Vr,Er=Vr,ar=$a}if(hr===He.length)return g(Be,ar),Fr&&so(Be,hr),Qt;if(ar===null){for(;hr<He.length;hr++)ar=_t(Be,He[hr],gt),ar!==null&&(Ne=F(ar,Ne,hr),Er===null?Qt=ar:Er.sibling=ar,Er=ar);return Fr&&so(Be,hr),Qt}for(ar=x(ar);hr<He.length;hr++)$a=rt(ar,Be,hr,He[hr],gt),$a!==null&&(o&&$a.alternate!==null&&ar.delete($a.key===null?hr:$a.key),Ne=F($a,Ne,hr),Er===null?Qt=$a:Er.sibling=$a,Er=$a);return o&&ar.forEach(function(nu){return h(Be,nu)}),Fr&&so(Be,hr),Qt}function cr(Be,Ne,He,gt){if(He==null)throw Error(i(151));for(var Qt=null,Er=null,ar=Ne,hr=Ne=0,$a=null,Vr=He.next();ar!==null&&!Vr.done;hr++,Vr=He.next()){ar.index>hr?($a=ar,ar=null):$a=ar.sibling;var nu=Ke(Be,ar,Vr.value,gt);if(nu===null){ar===null&&(ar=$a);break}o&&ar&&nu.alternate===null&&h(Be,ar),Ne=F(nu,Ne,hr),Er===null?Qt=nu:Er.sibling=nu,Er=nu,ar=$a}if(Vr.done)return g(Be,ar),Fr&&so(Be,hr),Qt;if(ar===null){for(;!Vr.done;hr++,Vr=He.next())Vr=_t(Be,Vr.value,gt),Vr!==null&&(Ne=F(Vr,Ne,hr),Er===null?Qt=Vr:Er.sibling=Vr,Er=Vr);return Fr&&so(Be,hr),Qt}for(ar=x(ar);!Vr.done;hr++,Vr=He.next())Vr=rt(ar,Be,hr,Vr.value,gt),Vr!==null&&(o&&Vr.alternate!==null&&ar.delete(Vr.key===null?hr:Vr.key),Ne=F(Vr,Ne,hr),Er===null?Qt=Vr:Er.sibling=Vr,Er=Vr);return o&&ar.forEach(function(p_){return h(Be,p_)}),Fr&&so(Be,hr),Qt}function ln(Be,Ne,He,gt){if(typeof He=="object"&&He!==null&&He.type===q&&He.key===null&&(He=He.props.children),typeof He=="object"&&He!==null){switch(He.$$typeof){case L:e:{for(var Qt=He.key;Ne!==null;){if(Ne.key===Qt){if(Qt=He.type,Qt===q){if(Ne.tag===7){g(Be,Ne.sibling),gt=E(Ne,He.props.children),gt.return=Be,Be=gt;break e}}else if(Ne.elementType===Qt||typeof Qt=="object"&&Qt!==null&&Qt.$$typeof===Ie&&Xh(Qt)===Ne.type){g(Be,Ne.sibling),gt=E(Ne,He.props),Rn(gt,He),gt.return=Be,Be=gt;break e}g(Be,Ne);break}else h(Be,Ne);Ne=Ne.sibling}He.type===q?(gt=Vs(He.props.children,Be.mode,gt,He.key),gt.return=Be,Be=gt):(gt=zh(He.type,He.key,He.props,null,Be.mode,gt),Rn(gt,He),gt.return=Be,Be=gt)}return K(Be);case U:e:{for(Qt=He.key;Ne!==null;){if(Ne.key===Qt)if(Ne.tag===4&&Ne.stateNode.containerInfo===He.containerInfo&&Ne.stateNode.implementation===He.implementation){g(Be,Ne.sibling),gt=E(Ne,He.children||[]),gt.return=Be,Be=gt;break e}else{g(Be,Ne);break}else h(Be,Ne);Ne=Ne.sibling}gt=Lu(He,Be.mode,gt),gt.return=Be,Be=gt}return K(Be);case Ie:return Qt=He._init,He=Qt(He._payload),ln(Be,Ne,He,gt)}if(Rt(He))return dr(Be,Ne,He,gt);if(st(He)){if(Qt=st(He),typeof Qt!="function")throw Error(i(150));return He=Qt.call(He),cr(Be,Ne,He,gt)}if(typeof He.then=="function")return ln(Be,Ne,Fa(He),gt);if(He.$$typeof===te)return ln(Be,Ne,vi(Be,He),gt);Qh(Be,He)}return typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint"?(He=""+He,Ne!==null&&Ne.tag===6?(g(Be,Ne.sibling),gt=E(Ne,He),gt.return=Be,Be=gt):(g(Be,Ne),gt=Yf(He,Be.mode,gt),gt.return=Be,Be=gt),K(Be)):g(Be,Ne)}return function(Be,Ne,He,gt){try{gn=0;var Qt=ln(Be,Ne,He,gt);return jr=null,Qt}catch(ar){if(ar===Fc||ar===ti)throw ar;var Er=Oi(29,ar,null,Be.mode);return Er.lanes=gt,Er.return=Be,Er}finally{}}}var vo=Wc(!0),Vo=Wc(!1),Ln=ot(null),In=null;function Wo(o){var h=o.alternate;et(zn,zn.current&1),et(Ln,o),In===null&&(h===null||fs.current!==null||h.memoizedState!==null)&&(In=o)}function vs(o){if(o.tag===22){if(et(zn,zn.current),et(Ln,o),In===null){var h=o.alternate;h!==null&&h.memoizedState!==null&&(In=o)}}else _s()}function _s(){et(zn,zn.current),et(Ln,Ln.current)}function Ki(o){ke(Ln),In===o&&(In=null),ke(zn)}var zn=ot(0);function Bl(o){for(var h=o;h!==null;){if(h.tag===13){var g=h.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||qy(g)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===o)break;for(;h.sibling===null;){if(h.return===null||h.return===o)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}function ql(o,h,g,x){h=o.memoizedState,g=g(x,h),g=g==null?h:T({},h,g),o.memoizedState=g,o.lanes===0&&(o.updateQueue.baseState=g)}var $l={enqueueSetState:function(o,h,g){o=o._reactInternals;var x=li(),E=Bo(x);E.payload=h,g!=null&&(E.callback=g),h=hs(o,E,x),h!==null&&(Ni(h,o,x),Nc(h,o,x))},enqueueReplaceState:function(o,h,g){o=o._reactInternals;var x=li(),E=Bo(x);E.tag=1,E.payload=h,g!=null&&(E.callback=g),h=hs(o,E,x),h!==null&&(Ni(h,o,x),Nc(h,o,x))},enqueueForceUpdate:function(o,h){o=o._reactInternals;var g=li(),x=Bo(g);x.tag=2,h!=null&&(x.callback=h),h=hs(o,x,g),h!==null&&(Ni(h,o,g),Nc(h,o,g))}};function Wm(o,h,g,x,E,F,K){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(x,F,K):h.prototype&&h.prototype.isPureReactComponent?!Tc(g,x)||!Tc(E,F):!0}function Zg(o,h,g,x){o=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(g,x),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(g,x),h.state!==o&&$l.enqueueReplaceState(h,h.state,null)}function Hl(o,h){var g=h;if("ref"in h){g={};for(var x in h)x!=="ref"&&(g[x]=h[x])}if(o=o.defaultProps){g===h&&(g=T({},g));for(var E in o)g[E]===void 0&&(g[E]=o[E])}return g}var nd=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function ad(o){nd(o)}function Gm(o){console.error(o)}function Yg(o){nd(o)}function Kh(o,h){try{var g=o.onUncaughtError;g(h.value,{componentStack:h.stack})}catch(x){setTimeout(function(){throw x})}}function Qg(o,h,g){try{var x=o.onCaughtError;x(g.value,{componentStack:g.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function id(o,h,g){return g=Bo(g),g.tag=3,g.payload={element:null},g.callback=function(){Kh(o,h)},g}function Zm(o){return o=Bo(o),o.tag=3,o}function Ym(o,h,g,x){var E=g.type.getDerivedStateFromError;if(typeof E=="function"){var F=x.value;o.payload=function(){return E(F)},o.callback=function(){Qg(h,g,x)}}var K=g.stateNode;K!==null&&typeof K.componentDidCatch=="function"&&(o.callback=function(){Qg(h,g,x),typeof E!="function"&&(Zc===null?Zc=new Set([this]):Zc.add(this));var le=x.stack;this.componentDidCatch(x.value,{componentStack:le!==null?le:""})})}function Jh(o,h,g,x,E){if(g.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(h=g.alternate,h!==null&&Uc(h,g,E,!0),g=Ln.current,g!==null){switch(g.tag){case 13:return In===null?xy():g.alternate===null&&An===0&&(An=3),g.flags&=-257,g.flags|=65536,g.lanes=E,x===Lt?g.flags|=16384:(h=g.updateQueue,h===null?g.updateQueue=new Set([x]):h.add(x),Ay(o,x,E)),!1;case 22:return g.flags|=65536,x===Lt?g.flags|=16384:(h=g.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([x])},g.updateQueue=h):(g=h.retryQueue,g===null?h.retryQueue=new Set([x]):g.add(x)),Ay(o,x,E)),!1}throw Error(i(435,g.tag))}return Ay(o,x,E),xy(),!1}if(Fr)return h=Ln.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=E,x!==kc&&(o=Error(i(422),{cause:x}),Zs(pa(o,g)))):(x!==kc&&(h=Error(i(423),{cause:x}),Zs(pa(h,g))),o=o.current.alternate,o.flags|=65536,E&=-E,o.lanes|=E,x=pa(x,g),E=id(o.stateNode,x,E),Wh(o,E),An!==4&&(An=2)),!1;var F=Error(i(520),{cause:x});if(F=pa(F,g),gd===null?gd=[F]:gd.push(F),An!==4&&(An=2),h===null)return!0;x=pa(x,g),g=h;do{switch(g.tag){case 3:return g.flags|=65536,o=E&-E,g.lanes|=o,o=id(g.stateNode,x,o),Wh(g,o),!1;case 1:if(h=g.type,F=g.stateNode,(g.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Zc===null||!Zc.has(F))))return g.flags|=65536,E&=-E,g.lanes|=E,E=Zm(E),Ym(E,o,g,x),Wh(g,E),!1}g=g.return}while(g!==null);return!1}var Xg=Error(i(461)),Gn=!1;function va(o,h,g,x){h.child=o===null?Vo(h,null,g,x):vo(h,o.child,g,x)}function od(o,h,g,x,E){g=g.render;var F=h.ref;if("ref"in x){var K={};for(var le in x)le!=="ref"&&(K[le]=x[le])}else K=x;return Ys(h),x=Yh(o,h,g,K,F,E),le=tn(),o!==null&&!Gn?(Pn(o,h,E),bs(o,h,E)):(Fr&&le&&ss(h),h.flags|=1,va(o,h,x,E),h.child)}function Kg(o,h,g,x,E){if(o===null){var F=g.type;return typeof F=="function"&&!Lh(F)&&F.defaultProps===void 0&&g.compare===null?(h.tag=15,h.type=F,Jg(o,h,F,x,E)):(o=zh(g.type,null,x,h,h.mode,E),o.ref=h.ref,o.return=h,h.child=o)}if(F=o.child,!ey(o,E)){var K=F.memoizedProps;if(g=g.compare,g=g!==null?g:Tc,g(K,x)&&o.ref===h.ref)return bs(o,h,E)}return h.flags|=1,o=La(F,x),o.ref=h.ref,o.return=h,h.child=o}function Jg(o,h,g,x,E){if(o!==null){var F=o.memoizedProps;if(Tc(F,x)&&o.ref===h.ref)if(Gn=!1,h.pendingProps=x=F,ey(o,E))(o.flags&131072)!==0&&(Gn=!0);else return h.lanes=o.lanes,bs(o,h,E)}return ld(o,h,g,x,E)}function e0(o,h,g){var x=h.pendingProps,E=x.children,F=o!==null?o.memoizedState:null;if(x.mode==="hidden"){if((h.flags&128)!==0){if(x=F!==null?F.baseLanes|g:g,o!==null){for(E=h.child=o.child,F=0;E!==null;)F=F|E.lanes|E.childLanes,E=E.sibling;h.childLanes=F&~x}else h.childLanes=0,h.child=null;return t0(o,h,x,g)}if((g&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},o!==null&&Bh(h,F!==null?F.cachePool:null),F!==null?$r(h,F):td(),vs(h);else return h.lanes=h.childLanes=536870912,t0(o,h,F!==null?F.baseLanes|g:g,g)}else F!==null?(Bh(h,F.cachePool),$r(h,F),_s(),h.memoizedState=null):(o!==null&&Bh(h,null),td(),_s());return va(o,h,E,g),h.child}function t0(o,h,g,x){var E=Jf();return E=E===null?null:{parent:ta._currentValue,pool:E},h.memoizedState={baseLanes:g,cachePool:E},o!==null&&Bh(h,null),td(),vs(h),o!==null&&Uc(o,h,x,!0),null}function sd(o,h){var g=h.ref;if(g===null)o!==null&&o.ref!==null&&(h.flags|=4194816);else{if(typeof g!="function"&&typeof g!="object")throw Error(i(284));(o===null||o.ref!==g)&&(h.flags|=4194816)}}function ld(o,h,g,x,E){return Ys(h),g=Yh(o,h,g,x,void 0,E),x=tn(),o!==null&&!Gn?(Pn(o,h,E),bs(o,h,E)):(Fr&&x&&ss(h),h.flags|=1,va(o,h,g,E),h.child)}function Qm(o,h,g,x,E,F){return Ys(h),h.updateQueue=null,g=Js(h,x,g,E),Xi(o),x=tn(),o!==null&&!Gn?(Pn(o,h,F),bs(o,h,F)):(Fr&&x&&ss(h),h.flags|=1,va(o,h,g,F),h.child)}function Xm(o,h,g,x,E){if(Ys(h),h.stateNode===null){var F=gr,K=g.contextType;typeof K=="object"&&K!==null&&(F=Hn(K)),F=new g(x,F),h.memoizedState=F.state!==null&&F.state!==void 0?F.state:null,F.updater=$l,h.stateNode=F,F._reactInternals=h,F=h.stateNode,F.props=x,F.state=h.memoizedState,F.refs={},Bu(h),K=g.contextType,F.context=typeof K=="object"&&K!==null?Hn(K):gr,F.state=h.memoizedState,K=g.getDerivedStateFromProps,typeof K=="function"&&(ql(h,g,K,x),F.state=h.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof F.getSnapshotBeforeUpdate=="function"||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(K=F.state,typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount(),K!==F.state&&$l.enqueueReplaceState(F,F.state,null),jc(h,x,F,E),Fl(),F.state=h.memoizedState),typeof F.componentDidMount=="function"&&(h.flags|=4194308),x=!0}else if(o===null){F=h.stateNode;var le=h.memoizedProps,Me=Hl(g,le);F.props=Me;var Ye=F.context,dt=g.contextType;K=gr,typeof dt=="object"&&dt!==null&&(K=Hn(dt));var _t=g.getDerivedStateFromProps;dt=typeof _t=="function"||typeof F.getSnapshotBeforeUpdate=="function",le=h.pendingProps!==le,dt||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(le||Ye!==K)&&Zg(h,F,x,K),fr=!1;var Ke=h.memoizedState;F.state=Ke,jc(h,x,F,E),Fl(),Ye=h.memoizedState,le||Ke!==Ye||fr?(typeof _t=="function"&&(ql(h,g,_t,x),Ye=h.memoizedState),(Me=fr||Wm(h,g,Me,x,Ke,Ye,K))?(dt||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(h.flags|=4194308)):(typeof F.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=x,h.memoizedState=Ye),F.props=x,F.state=Ye,F.context=K,x=Me):(typeof F.componentDidMount=="function"&&(h.flags|=4194308),x=!1)}else{F=h.stateNode,Vh(o,h),K=h.memoizedProps,dt=Hl(g,K),F.props=dt,_t=h.pendingProps,Ke=F.context,Ye=g.contextType,Me=gr,typeof Ye=="object"&&Ye!==null&&(Me=Hn(Ye)),le=g.getDerivedStateFromProps,(Ye=typeof le=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(K!==_t||Ke!==Me)&&Zg(h,F,x,Me),fr=!1,Ke=h.memoizedState,F.state=Ke,jc(h,x,F,E),Fl();var rt=h.memoizedState;K!==_t||Ke!==rt||fr||o!==null&&o.dependencies!==null&&Nu(o.dependencies)?(typeof le=="function"&&(ql(h,g,le,x),rt=h.memoizedState),(dt=fr||Wm(h,g,dt,x,Ke,rt,Me)||o!==null&&o.dependencies!==null&&Nu(o.dependencies))?(Ye||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(x,rt,Me),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(x,rt,Me)),typeof F.componentDidUpdate=="function"&&(h.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof F.componentDidUpdate!="function"||K===o.memoizedProps&&Ke===o.memoizedState||(h.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||K===o.memoizedProps&&Ke===o.memoizedState||(h.flags|=1024),h.memoizedProps=x,h.memoizedState=rt),F.props=x,F.state=rt,F.context=Me,x=dt):(typeof F.componentDidUpdate!="function"||K===o.memoizedProps&&Ke===o.memoizedState||(h.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||K===o.memoizedProps&&Ke===o.memoizedState||(h.flags|=1024),x=!1)}return F=x,sd(o,h),x=(h.flags&128)!==0,F||x?(F=h.stateNode,g=x&&typeof g.getDerivedStateFromError!="function"?null:F.render(),h.flags|=1,o!==null&&x?(h.child=vo(h,o.child,null,E),h.child=vo(h,null,g,E)):va(o,h,g,E),h.memoizedState=F.state,o=h.child):o=bs(o,h,E),o}function r0(o,h,g,x){return co(),h.flags|=256,va(o,h,g,x),h.child}var Km={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cp(o){return{baseLanes:o,cachePool:ju()}}function Dp(o,h,g){return o=o!==null?o.childLanes&~g:0,h&&(o|=Zo),o}function n0(o,h,g){var x=h.pendingProps,E=!1,F=(h.flags&128)!==0,K;if((K=F)||(K=o!==null&&o.memoizedState===null?!1:(zn.current&2)!==0),K&&(E=!0,h.flags&=-129),K=(h.flags&32)!==0,h.flags&=-33,o===null){if(Fr){if(E?Wo(h):_s(),Fr){var le=yn,Me;if(Me=le){e:{for(Me=le,le=lo;Me.nodeType!==8;){if(!le){le=null;break e}if(Me=Yo(Me.nextSibling),Me===null){le=null;break e}}le=Me}le!==null?(h.memoizedState={dehydrated:le,treeContext:oo!==null?{id:Li,overflow:Xa}:null,retryLane:536870912,hydrationErrors:null},Me=Oi(18,null,null,0),Me.stateNode=le,Me.return=h,h.child=Me,oa=h,yn=null,Me=!0):Me=!1}Me||ls(h)}if(le=h.memoizedState,le!==null&&(le=le.dehydrated,le!==null))return qy(le)?h.lanes=32:h.lanes=536870912,null;Ki(h)}return le=x.children,x=x.fallback,E?(_s(),E=h.mode,le=ud({mode:"hidden",children:le},E),x=Vs(x,E,g,null),le.return=h,x.return=h,le.sibling=x,h.child=le,E=h.child,E.memoizedState=Cp(g),E.childLanes=Dp(o,K,g),h.memoizedState=Km,x):(Wo(h),cd(h,le))}if(Me=o.memoizedState,Me!==null&&(le=Me.dehydrated,le!==null)){if(F)h.flags&256?(Wo(h),h.flags&=-257,h=hd(o,h,g)):h.memoizedState!==null?(_s(),h.child=o.child,h.flags|=128,h=null):(_s(),E=x.fallback,le=h.mode,x=ud({mode:"visible",children:x.children},le),E=Vs(E,le,g,null),E.flags|=2,x.return=h,E.return=h,x.sibling=E,h.child=x,vo(h,o.child,null,g),x=h.child,x.memoizedState=Cp(g),x.childLanes=Dp(o,K,g),h.memoizedState=Km,h=E);else if(Wo(h),qy(le)){if(K=le.nextSibling&&le.nextSibling.dataset,K)var Ye=K.dgst;K=Ye,x=Error(i(419)),x.stack="",x.digest=K,Zs({value:x,source:null,stack:null}),h=hd(o,h,g)}else if(Gn||Uc(o,h,g,!1),K=(g&o.childLanes)!==0,Gn||K){if(K=fn,K!==null&&(x=g&-g,x=(x&42)!==0?1:or(x),x=(x&(K.suspendedLanes|g))!==0?0:x,x!==0&&x!==Me.retryLane))throw Me.retryLane=x,ki(o,x),Ni(K,o,x),Xg;le.data==="$?"||xy(),h=hd(o,h,g)}else le.data==="$?"?(h.flags|=192,h.child=o.child,h=null):(o=Me.treeContext,yn=Yo(le.nextSibling),oa=h,Fr=!0,Gs=null,lo=!1,o!==null&&(Ui[za++]=Li,Ui[za++]=Xa,Ui[za++]=oo,Li=o.id,Xa=o.overflow,oo=h),h=cd(h,x.children),h.flags|=4096);return h}return E?(_s(),E=x.fallback,le=h.mode,Me=o.child,Ye=Me.sibling,x=La(Me,{mode:"hidden",children:x.children}),x.subtreeFlags=Me.subtreeFlags&65011712,Ye!==null?E=La(Ye,E):(E=Vs(E,le,g,null),E.flags|=2),E.return=h,x.return=h,x.sibling=E,h.child=x,x=E,E=h.child,le=o.child.memoizedState,le===null?le=Cp(g):(Me=le.cachePool,Me!==null?(Ye=ta._currentValue,Me=Me.parent!==Ye?{parent:Ye,pool:Ye}:Me):Me=ju(),le={baseLanes:le.baseLanes|g,cachePool:Me}),E.memoizedState=le,E.childLanes=Dp(o,K,g),h.memoizedState=Km,x):(Wo(h),g=o.child,o=g.sibling,g=La(g,{mode:"visible",children:x.children}),g.return=h,g.sibling=null,o!==null&&(K=h.deletions,K===null?(h.deletions=[o],h.flags|=16):K.push(o)),h.child=g,h.memoizedState=null,g)}function cd(o,h){return h=ud({mode:"visible",children:h},o.mode),h.return=o,o.child=h}function ud(o,h){return o=Oi(22,o,null,h),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function hd(o,h,g){return vo(h,o.child,null,g),o=cd(h,h.pendingProps.children),o.flags|=2,h.memoizedState=null,o}function ef(o,h,g){o.lanes|=h;var x=o.alternate;x!==null&&(x.lanes|=h),Fu(o.return,h,g)}function ii(o,h,g,x,E){var F=o.memoizedState;F===null?o.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:x,tail:g,tailMode:E}:(F.isBackwards=h,F.rendering=null,F.renderingStartTime=0,F.last=x,F.tail=g,F.tailMode=E)}function Jm(o,h,g){var x=h.pendingProps,E=x.revealOrder,F=x.tail;if(va(o,h,x.children,g),x=zn.current,(x&2)!==0)x=x&1|2,h.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=h.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&ef(o,g,h);else if(o.tag===19)ef(o,g,h);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===h)break e;for(;o.sibling===null;){if(o.return===null||o.return===h)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}x&=1}switch(et(zn,x),E){case"forwards":for(g=h.child,E=null;g!==null;)o=g.alternate,o!==null&&Bl(o)===null&&(E=g),g=g.sibling;g=E,g===null?(E=h.child,h.child=null):(E=g.sibling,g.sibling=null),ii(h,!1,E,g,F);break;case"backwards":for(g=null,E=h.child,h.child=null;E!==null;){if(o=E.alternate,o!==null&&Bl(o)===null){h.child=E;break}o=E.sibling,E.sibling=g,g=E,E=o}ii(h,!0,g,null,F);break;case"together":ii(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function bs(o,h,g){if(o!==null&&(h.dependencies=o.dependencies),Yl|=h.lanes,(g&h.childLanes)===0)if(o!==null){if(Uc(o,h,g,!1),(g&h.childLanes)===0)return null}else return null;if(o!==null&&h.child!==o.child)throw Error(i(153));if(h.child!==null){for(o=h.child,g=La(o,o.pendingProps),h.child=g,g.return=h;o.sibling!==null;)o=o.sibling,g=g.sibling=La(o,o.pendingProps),g.return=h;g.sibling=null}return h.child}function ey(o,h){return(o.lanes&h)!==0?!0:(o=o.dependencies,!!(o!==null&&Nu(o)))}function a0(o,h,g){switch(h.tag){case 3:Ft(h,h.stateNode.containerInfo),gi(h,ta,o.memoizedState.cache),co();break;case 27:case 5:$t(h);break;case 4:Ft(h,h.stateNode.containerInfo);break;case 10:gi(h,h.type,h.memoizedProps.value);break;case 13:var x=h.memoizedState;if(x!==null)return x.dehydrated!==null?(Wo(h),h.flags|=128,null):(g&h.child.childLanes)!==0?n0(o,h,g):(Wo(h),o=bs(o,h,g),o!==null?o.sibling:null);Wo(h);break;case 19:var E=(o.flags&128)!==0;if(x=(g&h.childLanes)!==0,x||(Uc(o,h,g,!1),x=(g&h.childLanes)!==0),E){if(x)return Jm(o,h,g);h.flags|=128}if(E=h.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),et(zn,zn.current),x)break;return null;case 22:case 23:return h.lanes=0,e0(o,h,g);case 24:gi(h,ta,o.memoizedState.cache)}return bs(o,h,g)}function i0(o,h,g){if(o!==null)if(o.memoizedProps!==h.pendingProps)Gn=!0;else{if(!ey(o,g)&&(h.flags&128)===0)return Gn=!1,a0(o,h,g);Gn=(o.flags&131072)!==0}else Gn=!1,Fr&&(h.flags&1048576)!==0&&Fh(h,Ic,h.index);switch(h.lanes=0,h.tag){case 16:e:{o=h.pendingProps;var x=h.elementType,E=x._init;if(x=E(x._payload),h.type=x,typeof x=="function")Lh(x)?(o=Hl(x,o),h.tag=1,h=Xm(null,h,x,o,g)):(h.tag=0,h=ld(null,h,x,o,g));else{if(x!=null){if(E=x.$$typeof,E===pe){h.tag=11,h=od(null,h,x,o,g);break e}else if(E===xe){h.tag=14,h=Kg(null,h,x,o,g);break e}}throw h=wt(x)||x,Error(i(306,h,""))}}return h;case 0:return ld(o,h,h.type,h.pendingProps,g);case 1:return x=h.type,E=Hl(x,h.pendingProps),Xm(o,h,x,E,g);case 3:e:{if(Ft(h,h.stateNode.containerInfo),o===null)throw Error(i(387));x=h.pendingProps;var F=h.memoizedState;E=F.element,Vh(o,h),jc(h,x,null,g);var K=h.memoizedState;if(x=K.cache,gi(h,ta,x),x!==F.cache&&jh(h,[ta],g,!0),Fl(),x=K.element,F.isDehydrated)if(F={element:x,isDehydrated:!1,cache:K.cache},h.updateQueue.baseState=F,h.memoizedState=F,h.flags&256){h=r0(o,h,x,g);break e}else if(x!==E){E=pa(Error(i(424)),h),Zs(E),h=r0(o,h,x,g);break e}else{switch(o=h.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(yn=Yo(o.firstChild),oa=h,Fr=!0,Gs=null,lo=!0,g=Vo(h,null,x,g),h.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling}else{if(co(),x===E){h=bs(o,h,g);break e}va(o,h,x,g)}h=h.child}return h;case 26:return sd(o,h),o===null?(g=Zp(h.type,null,h.pendingProps,null))?h.memoizedState=g:Fr||(g=h.type,o=h.pendingProps,x=_i(Dt.current).createElement(g),x[rr]=h,x[sr]=o,ca(x,g,o),mn(x),h.stateNode=x):h.memoizedState=Zp(h.type,o.memoizedProps,h.pendingProps,o.memoizedState),null;case 27:return $t(h),o===null&&Fr&&(x=h.stateNode=Rd(h.type,h.pendingProps,Dt.current),oa=h,lo=!0,E=yn,tc(h.type)?(df=E,yn=Yo(x.firstChild)):yn=E),va(o,h,h.pendingProps.children,g),sd(o,h),o===null&&(h.flags|=4194304),h.child;case 5:return o===null&&Fr&&((E=x=yn)&&(x=O0(x,h.type,h.pendingProps,lo),x!==null?(h.stateNode=x,oa=h,yn=Yo(x.firstChild),lo=!1,E=!0):E=!1),E||ls(h)),$t(h),E=h.type,F=h.pendingProps,K=o!==null?o.memoizedProps:null,x=F.children,ec(E,F)?x=null:K!==null&&ec(E,K)&&(h.flags|=32),h.memoizedState!==null&&(E=Yh(o,h,qc,null,null,g),H._currentValue=E),sd(o,h),va(o,h,x,g),h.child;case 6:return o===null&&Fr&&((o=g=yn)&&(g=h_(g,h.pendingProps,lo),g!==null?(h.stateNode=g,oa=h,yn=null,o=!0):o=!1),o||ls(h)),null;case 13:return n0(o,h,g);case 4:return Ft(h,h.stateNode.containerInfo),x=h.pendingProps,o===null?h.child=vo(h,null,x,g):va(o,h,x,g),h.child;case 11:return od(o,h,h.type,h.pendingProps,g);case 7:return va(o,h,h.pendingProps,g),h.child;case 8:return va(o,h,h.pendingProps.children,g),h.child;case 12:return va(o,h,h.pendingProps.children,g),h.child;case 10:return x=h.pendingProps,gi(h,h.type,x.value),va(o,h,x.children,g),h.child;case 9:return E=h.type._context,x=h.pendingProps.children,Ys(h),E=Hn(E),x=x(E),h.flags|=1,va(o,h,x,g),h.child;case 14:return Kg(o,h,h.type,h.pendingProps,g);case 15:return Jg(o,h,h.type,h.pendingProps,g);case 19:return Jm(o,h,g);case 31:return x=h.pendingProps,g=h.mode,x={mode:x.mode,children:x.children},o===null?(g=ud(x,g),g.ref=h.ref,h.child=g,g.return=h,h=g):(g=La(o.child,x),g.ref=h.ref,h.child=g,g.return=h,h=g),h;case 22:return e0(o,h,g);case 24:return Ys(h),x=Hn(ta),o===null?(E=Jf(),E===null&&(E=fn,F=Qs(),E.pooledCache=F,F.refCount++,F!==null&&(E.pooledCacheLanes|=g),E=F),h.memoizedState={parent:x,cache:E},Bu(h),gi(h,ta,E)):((o.lanes&g)!==0&&(Vh(o,h),jc(h,null,null,g),Fl()),E=o.memoizedState,F=h.memoizedState,E.parent!==x?(E={parent:x,cache:x},h.memoizedState=E,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=E),gi(h,ta,x)):(x=F.cache,gi(h,ta,x),x!==E.cache&&jh(h,[ta],g,!0))),va(o,h,h.pendingProps.children,g),h.child;case 29:throw h.pendingProps}throw Error(i(156,h.tag))}function Vl(o){o.flags|=4}function ty(o,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!s(h)){if(h=Ln.current,h!==null&&((zr&4194048)===zr?In!==null:(zr&62914560)!==zr&&(zr&536870912)===0||h!==In))throw fo=Lt,Ks;o.flags|=8192}}function Mp(o,h){h!==null&&(o.flags|=4),o.flags&16384&&(h=o.tag!==22?ht():536870912,o.lanes|=h,nf|=h)}function Vu(o,h){if(!Fr)switch(o.tailMode){case"hidden":h=o.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?o.tail=null:g.sibling=null;break;case"collapsed":g=o.tail;for(var x=null;g!==null;)g.alternate!==null&&(x=g),g=g.sibling;x===null?h||o.tail===null?o.tail=null:o.tail.sibling=null:x.sibling=null}}function Fn(o){var h=o.alternate!==null&&o.alternate.child===o.child,g=0,x=0;if(h)for(var E=o.child;E!==null;)g|=E.lanes|E.childLanes,x|=E.subtreeFlags&65011712,x|=E.flags&65011712,E.return=o,E=E.sibling;else for(E=o.child;E!==null;)g|=E.lanes|E.childLanes,x|=E.subtreeFlags,x|=E.flags,E.return=o,E=E.sibling;return o.subtreeFlags|=x,o.childLanes=g,h}function o0(o,h,g){var x=h.pendingProps;switch(zu(h),h.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fn(h),null;case 1:return Fn(h),null;case 3:return g=h.stateNode,x=null,o!==null&&(x=o.memoizedState.cache),h.memoizedState.cache!==x&&(h.flags|=2048),zi(ta),xt(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(o===null||o.child===null)&&(Wr(h)?Vl(h):o===null||o.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,yi())),Fn(h),null;case 26:return g=h.memoizedState,o===null?(Vl(h),g!==null?(Fn(h),ty(h,g)):(Fn(h),h.flags&=-16777217)):g?g!==o.memoizedState?(Vl(h),Fn(h),ty(h,g)):(Fn(h),h.flags&=-16777217):(o.memoizedProps!==x&&Vl(h),Fn(h),h.flags&=-16777217),null;case 27:Nt(h),g=Dt.current;var E=h.type;if(o!==null&&h.stateNode!=null)o.memoizedProps!==x&&Vl(h);else{if(!x){if(h.stateNode===null)throw Error(i(166));return Fn(h),null}o=pt.current,Wr(h)?Qf(h):(o=Rd(E,x,g),h.stateNode=o,Vl(h))}return Fn(h),null;case 5:if(Nt(h),g=h.type,o!==null&&h.stateNode!=null)o.memoizedProps!==x&&Vl(h);else{if(!x){if(h.stateNode===null)throw Error(i(166));return Fn(h),null}if(o=pt.current,Wr(h))Qf(h);else{switch(E=_i(Dt.current),o){case 1:o=E.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:o=E.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":o=E.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":o=E.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":o=E.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof x.is=="string"?E.createElement("select",{is:x.is}):E.createElement("select"),x.multiple?o.multiple=!0:x.size&&(o.size=x.size);break;default:o=typeof x.is=="string"?E.createElement(g,{is:x.is}):E.createElement(g)}}o[rr]=h,o[sr]=x;e:for(E=h.child;E!==null;){if(E.tag===5||E.tag===6)o.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===h)break e;for(;E.sibling===null;){if(E.return===null||E.return===h)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}h.stateNode=o;e:switch(ca(o,g,x),g){case"button":case"input":case"select":case"textarea":o=!!x.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Vl(h)}}return Fn(h),h.flags&=-16777217,null;case 6:if(o&&h.stateNode!=null)o.memoizedProps!==x&&Vl(h);else{if(typeof x!="string"&&h.stateNode===null)throw Error(i(166));if(o=Dt.current,Wr(h)){if(o=h.stateNode,g=h.memoizedProps,x=null,E=oa,E!==null)switch(E.tag){case 27:case 5:x=E.memoizedProps}o[rr]=h,o=!!(o.nodeValue===g||x!==null&&x.suppressHydrationWarning===!0||Ny(o.nodeValue,g)),o||ls(h)}else o=_i(o).createTextNode(x),o[rr]=h,h.stateNode=o}return Fn(h),null;case 13:if(x=h.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(E=Wr(h),x!==null&&x.dehydrated!==null){if(o===null){if(!E)throw Error(i(318));if(E=h.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(i(317));E[rr]=h}else co(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Fn(h),E=!1}else E=yi(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=E),E=!0;if(!E)return h.flags&256?(Ki(h),h):(Ki(h),null)}if(Ki(h),(h.flags&128)!==0)return h.lanes=g,h;if(g=x!==null,o=o!==null&&o.memoizedState!==null,g){x=h.child,E=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(E=x.alternate.memoizedState.cachePool.pool);var F=null;x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(F=x.memoizedState.cachePool.pool),F!==E&&(x.flags|=2048)}return g!==o&&g&&(h.child.flags|=8192),Mp(h,h.updateQueue),Fn(h),null;case 4:return xt(),o===null&&Ly(h.stateNode.containerInfo),Fn(h),null;case 10:return zi(h.type),Fn(h),null;case 19:if(ke(zn),E=h.memoizedState,E===null)return Fn(h),null;if(x=(h.flags&128)!==0,F=E.rendering,F===null)if(x)Vu(E,!1);else{if(An!==0||o!==null&&(o.flags&128)!==0)for(o=h.child;o!==null;){if(F=Bl(o),F!==null){for(h.flags|=128,Vu(E,!1),o=F.updateQueue,h.updateQueue=o,Mp(h,o),h.subtreeFlags=0,o=g,g=h.child;g!==null;)Zf(g,o),g=g.sibling;return et(zn,zn.current&1|2),h.child}o=o.sibling}E.tail!==null&&Lr()>_d&&(h.flags|=128,x=!0,Vu(E,!1),h.lanes=4194304)}else{if(!x)if(o=Bl(F),o!==null){if(h.flags|=128,x=!0,o=o.updateQueue,h.updateQueue=o,Mp(h,o),Vu(E,!0),E.tail===null&&E.tailMode==="hidden"&&!F.alternate&&!Fr)return Fn(h),null}else 2*Lr()-E.renderingStartTime>_d&&g!==536870912&&(h.flags|=128,x=!0,Vu(E,!1),h.lanes=4194304);E.isBackwards?(F.sibling=h.child,h.child=F):(o=E.last,o!==null?o.sibling=F:h.child=F,E.last=F)}return E.tail!==null?(h=E.tail,E.rendering=h,E.tail=h.sibling,E.renderingStartTime=Lr(),h.sibling=null,o=zn.current,et(zn,x?o&1|2:o&1),h):(Fn(h),null);case 22:case 23:return Ki(h),Bc(),x=h.memoizedState!==null,o!==null?o.memoizedState!==null!==x&&(h.flags|=8192):x&&(h.flags|=8192),x?(g&536870912)!==0&&(h.flags&128)===0&&(Fn(h),h.subtreeFlags&6&&(h.flags|=8192)):Fn(h),g=h.updateQueue,g!==null&&Mp(h,g.retryQueue),g=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),x=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(x=h.memoizedState.cachePool.pool),x!==g&&(h.flags|=2048),o!==null&&ke(ho),null;case 24:return g=null,o!==null&&(g=o.memoizedState.cache),h.memoizedState.cache!==g&&(h.flags|=2048),zi(ta),Fn(h),null;case 25:return null;case 30:return null}throw Error(i(156,h.tag))}function i_(o,h){switch(zu(h),h.tag){case 1:return o=h.flags,o&65536?(h.flags=o&-65537|128,h):null;case 3:return zi(ta),xt(),o=h.flags,(o&65536)!==0&&(o&128)===0?(h.flags=o&-65537|128,h):null;case 26:case 27:case 5:return Nt(h),null;case 13:if(Ki(h),o=h.memoizedState,o!==null&&o.dehydrated!==null){if(h.alternate===null)throw Error(i(340));co()}return o=h.flags,o&65536?(h.flags=o&-65537|128,h):null;case 19:return ke(zn),null;case 4:return xt(),null;case 10:return zi(h.type),null;case 22:case 23:return Ki(h),Bc(),o!==null&&ke(ho),o=h.flags,o&65536?(h.flags=o&-65537|128,h):null;case 24:return zi(ta),null;case 25:return null;default:return null}}function s0(o,h){switch(zu(h),h.tag){case 3:zi(ta),xt();break;case 26:case 27:case 5:Nt(h);break;case 4:xt();break;case 13:Ki(h);break;case 19:ke(zn);break;case 10:zi(h.type);break;case 22:case 23:Ki(h),Bc(),o!==null&&ke(ho);break;case 24:zi(ta)}}function fd(o,h){try{var g=h.updateQueue,x=g!==null?g.lastEffect:null;if(x!==null){var E=x.next;g=E;do{if((g.tag&o)===o){x=void 0;var F=g.create,K=g.inst;x=F(),K.destroy=x}g=g.next}while(g!==E)}}catch(le){dn(h,h.return,le)}}function nl(o,h,g){try{var x=h.updateQueue,E=x!==null?x.lastEffect:null;if(E!==null){var F=E.next;x=F;do{if((x.tag&o)===o){var K=x.inst,le=K.destroy;if(le!==void 0){K.destroy=void 0,E=h;var Me=g,Ye=le;try{Ye()}catch(dt){dn(E,Me,dt)}}}x=x.next}while(x!==F)}}catch(dt){dn(h,h.return,dt)}}function Tp(o){var h=o.updateQueue;if(h!==null){var g=o.stateNode;try{ed(h,g)}catch(x){dn(o,o.return,x)}}}function ry(o,h,g){g.props=Hl(o.type,o.memoizedProps),g.state=o.memoizedState;try{g.componentWillUnmount()}catch(x){dn(o,h,x)}}function xs(o,h){try{var g=o.ref;if(g!==null){switch(o.tag){case 26:case 27:case 5:var x=o.stateNode;break;case 30:x=o.stateNode;break;default:x=o.stateNode}typeof g=="function"?o.refCleanup=g(x):g.current=x}}catch(E){dn(o,h,E)}}function Ji(o,h){var g=o.ref,x=o.refCleanup;if(g!==null)if(typeof x=="function")try{x()}catch(E){dn(o,h,E)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(E){dn(o,h,E)}else g.current=null}function l0(o){var h=o.type,g=o.memoizedProps,x=o.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":g.autoFocus&&x.focus();break e;case"img":g.src?x.src=g.src:g.srcSet&&(x.srcset=g.srcSet)}}catch(E){dn(o,o.return,E)}}function ny(o,h,g){try{var x=o.stateNode;T0(x,o.type,g,h),x[sr]=h}catch(E){dn(o,o.return,E)}}function c0(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&tc(o.type)||o.tag===4}function ay(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||c0(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&tc(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function iy(o,h,g){var x=o.tag;if(x===5||x===6)o=o.stateNode,h?(g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g).insertBefore(o,h):(h=g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g,h.appendChild(o),g=g._reactRootContainer,g!=null||h.onclick!==null||(h.onclick=Td));else if(x!==4&&(x===27&&tc(o.type)&&(g=o.stateNode,h=null),o=o.child,o!==null))for(iy(o,h,g),o=o.sibling;o!==null;)iy(o,h,g),o=o.sibling}function Ep(o,h,g){var x=o.tag;if(x===5||x===6)o=o.stateNode,h?g.insertBefore(o,h):g.appendChild(o);else if(x!==4&&(x===27&&tc(o.type)&&(g=o.stateNode),o=o.child,o!==null))for(Ep(o,h,g),o=o.sibling;o!==null;)Ep(o,h,g),o=o.sibling}function u0(o){var h=o.stateNode,g=o.memoizedProps;try{for(var x=o.type,E=h.attributes;E.length;)h.removeAttributeNode(E[0]);ca(h,x,g),h[rr]=o,h[sr]=g}catch(F){dn(o,o.return,F)}}var Ss=!1,sa=!1,Rp=!1,tf=typeof WeakSet=="function"?WeakSet:Set,Na=null;function Zn(o,h){if(o=o.containerInfo,Ed=Pe,o=Ih(o),Tu(o)){if("selectionStart"in o)var g={start:o.selectionStart,end:o.selectionEnd};else e:{g=(g=o.ownerDocument)&&g.defaultView||window;var x=g.getSelection&&g.getSelection();if(x&&x.rangeCount!==0){g=x.anchorNode;var E=x.anchorOffset,F=x.focusNode;x=x.focusOffset;try{g.nodeType,F.nodeType}catch{g=null;break e}var K=0,le=-1,Me=-1,Ye=0,dt=0,_t=o,Ke=null;t:for(;;){for(var rt;_t!==g||E!==0&&_t.nodeType!==3||(le=K+E),_t!==F||x!==0&&_t.nodeType!==3||(Me=K+x),_t.nodeType===3&&(K+=_t.nodeValue.length),(rt=_t.firstChild)!==null;)Ke=_t,_t=rt;for(;;){if(_t===o)break t;if(Ke===g&&++Ye===E&&(le=K),Ke===F&&++dt===x&&(Me=K),(rt=_t.nextSibling)!==null)break;_t=Ke,Ke=_t.parentNode}_t=rt}g=le===-1||Me===-1?null:{start:le,end:Me}}else g=null}g=g||{start:0,end:0}}else g=null;for(Hp={focusedElem:o,selectionRange:g},Pe=!1,Na=h;Na!==null;)if(h=Na,o=h.child,(h.subtreeFlags&1024)!==0&&o!==null)o.return=h,Na=o;else for(;Na!==null;){switch(h=Na,F=h.alternate,o=h.flags,h.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&F!==null){o=void 0,g=h,E=F.memoizedProps,F=F.memoizedState,x=g.stateNode;try{var dr=Hl(g.type,E,g.elementType===g.type);o=x.getSnapshotBeforeUpdate(dr,F),x.__reactInternalSnapshotBeforeUpdate=o}catch(cr){dn(g,g.return,cr)}}break;case 3:if((o&1024)!==0){if(o=h.stateNode.containerInfo,g=o.nodeType,g===9)Wp(o);else if(g===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Wp(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(i(163))}if(o=h.sibling,o!==null){o.return=h.return,Na=o;break}Na=h.return}}function Wu(o,h,g){var x=g.flags;switch(g.tag){case 0:case 11:case 15:Wl(o,g),x&4&&fd(5,g);break;case 1:if(Wl(o,g),x&4)if(o=g.stateNode,h===null)try{o.componentDidMount()}catch(K){dn(g,g.return,K)}else{var E=Hl(g.type,h.memoizedProps);h=h.memoizedState;try{o.componentDidUpdate(E,h,o.__reactInternalSnapshotBeforeUpdate)}catch(K){dn(g,g.return,K)}}x&64&&Tp(g),x&512&&xs(g,g.return);break;case 3:if(Wl(o,g),x&64&&(o=g.updateQueue,o!==null)){if(h=null,g.child!==null)switch(g.child.tag){case 27:case 5:h=g.child.stateNode;break;case 1:h=g.child.stateNode}try{ed(o,h)}catch(K){dn(g,g.return,K)}}break;case 27:h===null&&x&4&&u0(g);case 26:case 5:Wl(o,g),h===null&&x&4&&l0(g),x&512&&xs(g,g.return);break;case 12:Wl(o,g);break;case 13:Wl(o,g),x&4&&ly(o,g),x&64&&(o=g.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(g=Dy.bind(null,g),U0(o,g))));break;case 22:if(x=g.memoizedState!==null||Ss,!x){h=h!==null&&h.memoizedState!==null||sa,E=Ss;var F=sa;Ss=x,(sa=h)&&!F?Gc(o,g,(g.subtreeFlags&8772)!==0):Wl(o,g),Ss=E,sa=F}break;case 30:break;default:Wl(o,g)}}function oy(o){var h=o.alternate;h!==null&&(o.alternate=null,oy(h)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(h=o.stateNode,h!==null&&Ot(h)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var vn=null,oi=!1;function _o(o,h,g){for(g=g.child;g!==null;)sy(o,h,g),g=g.sibling}function sy(o,h,g){if(Dn&&typeof Dn.onCommitFiberUnmount=="function")try{Dn.onCommitFiberUnmount(di,g)}catch{}switch(g.tag){case 26:sa||Ji(g,h),_o(o,h,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:sa||Ji(g,h);var x=vn,E=oi;tc(g.type)&&(vn=g.stateNode,oi=!1),_o(o,h,g),Jc(g.stateNode),vn=x,oi=E;break;case 5:sa||Ji(g,h);case 6:if(x=vn,E=oi,vn=null,_o(o,h,g),vn=x,oi=E,vn!==null)if(oi)try{(vn.nodeType===9?vn.body:vn.nodeName==="HTML"?vn.ownerDocument.body:vn).removeChild(g.stateNode)}catch(F){dn(g,h,F)}else try{vn.removeChild(g.stateNode)}catch(F){dn(g,h,F)}break;case 18:vn!==null&&(oi?(o=vn,By(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,g.stateNode),Qn(o)):By(vn,g.stateNode));break;case 4:x=vn,E=oi,vn=g.stateNode.containerInfo,oi=!0,_o(o,h,g),vn=x,oi=E;break;case 0:case 11:case 14:case 15:sa||nl(2,g,h),sa||nl(4,g,h),_o(o,h,g);break;case 1:sa||(Ji(g,h),x=g.stateNode,typeof x.componentWillUnmount=="function"&&ry(g,h,x)),_o(o,h,g);break;case 21:_o(o,h,g);break;case 22:sa=(x=sa)||g.memoizedState!==null,_o(o,h,g),sa=x;break;default:_o(o,h,g)}}function ly(o,h){if(h.memoizedState===null&&(o=h.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Qn(o)}catch(g){dn(h,h.return,g)}}function dd(o){switch(o.tag){case 13:case 19:var h=o.stateNode;return h===null&&(h=o.stateNode=new tf),h;case 22:return o=o.stateNode,h=o._retryCache,h===null&&(h=o._retryCache=new tf),h;default:throw Error(i(435,o.tag))}}function pd(o,h){var g=dd(o);h.forEach(function(x){var E=My.bind(null,o,x);g.has(x)||(g.add(x),x.then(E,E))})}function ja(o,h){var g=h.deletions;if(g!==null)for(var x=0;x<g.length;x++){var E=g[x],F=o,K=h,le=K;e:for(;le!==null;){switch(le.tag){case 27:if(tc(le.type)){vn=le.stateNode,oi=!1;break e}break;case 5:vn=le.stateNode,oi=!1;break e;case 3:case 4:vn=le.stateNode.containerInfo,oi=!0;break e}le=le.return}if(vn===null)throw Error(i(160));sy(F,K,E),vn=null,oi=!1,F=E.alternate,F!==null&&(F.return=null),E.return=null}if(h.subtreeFlags&13878)for(h=h.child;h!==null;)Gu(h,o),h=h.sibling}var eo=null;function Gu(o,h){var g=o.alternate,x=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:ja(h,o),si(o),x&4&&(nl(3,o,o.return),fd(3,o),nl(5,o,o.return));break;case 1:ja(h,o),si(o),x&512&&(sa||g===null||Ji(g,g.return)),x&64&&Ss&&(o=o.updateQueue,o!==null&&(x=o.callbacks,x!==null&&(g=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=g===null?x:g.concat(x))));break;case 26:var E=eo;if(ja(h,o),si(o),x&512&&(sa||g===null||Ji(g,g.return)),x&4){var F=g!==null?g.memoizedState:null;if(x=o.memoizedState,g===null)if(x===null)if(o.stateNode===null){e:{x=o.type,g=o.memoizedProps,E=E.ownerDocument||E;t:switch(x){case"title":F=E.getElementsByTagName("title")[0],(!F||F[Eo]||F[rr]||F.namespaceURI==="http://www.w3.org/2000/svg"||F.hasAttribute("itemprop"))&&(F=E.createElement(x),E.head.insertBefore(F,E.querySelector("head > title"))),ca(F,x,g),F[rr]=o,mn(F),x=F;break e;case"link":var K=B0("link","href",E).get(x+(g.href||""));if(K){for(var le=0;le<K.length;le++)if(F=K[le],F.getAttribute("href")===(g.href==null||g.href===""?null:g.href)&&F.getAttribute("rel")===(g.rel==null?null:g.rel)&&F.getAttribute("title")===(g.title==null?null:g.title)&&F.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){K.splice(le,1);break t}}F=E.createElement(x),ca(F,x,g),E.head.appendChild(F);break;case"meta":if(K=B0("meta","content",E).get(x+(g.content||""))){for(le=0;le<K.length;le++)if(F=K[le],F.getAttribute("content")===(g.content==null?null:""+g.content)&&F.getAttribute("name")===(g.name==null?null:g.name)&&F.getAttribute("property")===(g.property==null?null:g.property)&&F.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&F.getAttribute("charset")===(g.charSet==null?null:g.charSet)){K.splice(le,1);break t}}F=E.createElement(x),ca(F,x,g),E.head.appendChild(F);break;default:throw Error(i(468,x))}F[rr]=o,mn(F),x=F}o.stateNode=x}else l(E,o.type,o.stateNode);else o.stateNode=Id(E,x,o.memoizedProps);else F!==x?(F===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):F.count--,x===null?l(E,o.type,o.stateNode):Id(E,x,o.memoizedProps)):x===null&&o.stateNode!==null&&ny(o,o.memoizedProps,g.memoizedProps)}break;case 27:ja(h,o),si(o),x&512&&(sa||g===null||Ji(g,g.return)),g!==null&&x&4&&ny(o,o.memoizedProps,g.memoizedProps);break;case 5:if(ja(h,o),si(o),x&512&&(sa||g===null||Ji(g,g.return)),o.flags&32){E=o.stateNode;try{Oo(E,"")}catch(rt){dn(o,o.return,rt)}}x&4&&o.stateNode!=null&&(E=o.memoizedProps,ny(o,E,g!==null?g.memoizedProps:E)),x&1024&&(Rp=!0);break;case 6:if(ja(h,o),si(o),x&4){if(o.stateNode===null)throw Error(i(162));x=o.memoizedProps,g=o.stateNode;try{g.nodeValue=x}catch(rt){dn(o,o.return,rt)}}break;case 3:if(gf=null,E=eo,eo=Gp(h.containerInfo),ja(h,o),eo=E,si(o),x&4&&g!==null&&g.memoizedState.isDehydrated)try{Qn(h.containerInfo)}catch(rt){dn(o,o.return,rt)}Rp&&(Rp=!1,h0(o));break;case 4:x=eo,eo=Gp(o.stateNode.containerInfo),ja(h,o),si(o),eo=x;break;case 12:ja(h,o),si(o);break;case 13:ja(h,o),si(o),o.child.flags&8192&&o.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(Op=Lr()),x&4&&(x=o.updateQueue,x!==null&&(o.updateQueue=null,pd(o,x)));break;case 22:E=o.memoizedState!==null;var Me=g!==null&&g.memoizedState!==null,Ye=Ss,dt=sa;if(Ss=Ye||E,sa=dt||Me,ja(h,o),sa=dt,Ss=Ye,si(o),x&8192)e:for(h=o.stateNode,h._visibility=E?h._visibility&-2:h._visibility|1,E&&(g===null||Me||Ss||sa||bo(o)),g=null,h=o;;){if(h.tag===5||h.tag===26){if(g===null){Me=g=h;try{if(F=Me.stateNode,E)K=F.style,typeof K.setProperty=="function"?K.setProperty("display","none","important"):K.display="none";else{le=Me.stateNode;var _t=Me.memoizedProps.style,Ke=_t!=null&&_t.hasOwnProperty("display")?_t.display:null;le.style.display=Ke==null||typeof Ke=="boolean"?"":(""+Ke).trim()}}catch(rt){dn(Me,Me.return,rt)}}}else if(h.tag===6){if(g===null){Me=h;try{Me.stateNode.nodeValue=E?"":Me.memoizedProps}catch(rt){dn(Me,Me.return,rt)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===o)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===o)break e;for(;h.sibling===null;){if(h.return===null||h.return===o)break e;g===h&&(g=null),h=h.return}g===h&&(g=null),h.sibling.return=h.return,h=h.sibling}x&4&&(x=o.updateQueue,x!==null&&(g=x.retryQueue,g!==null&&(x.retryQueue=null,pd(o,g))));break;case 19:ja(h,o),si(o),x&4&&(x=o.updateQueue,x!==null&&(o.updateQueue=null,pd(o,x)));break;case 30:break;case 21:break;default:ja(h,o),si(o)}}function si(o){var h=o.flags;if(h&2){try{for(var g,x=o.return;x!==null;){if(c0(x)){g=x;break}x=x.return}if(g==null)throw Error(i(160));switch(g.tag){case 27:var E=g.stateNode,F=ay(o);Ep(o,F,E);break;case 5:var K=g.stateNode;g.flags&32&&(Oo(K,""),g.flags&=-33);var le=ay(o);Ep(o,le,K);break;case 3:case 4:var Me=g.stateNode.containerInfo,Ye=ay(o);iy(o,Ye,Me);break;default:throw Error(i(161))}}catch(dt){dn(o,o.return,dt)}o.flags&=-3}h&4096&&(o.flags&=-4097)}function h0(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var h=o;h0(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),o=o.sibling}}function Wl(o,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)Wu(o,h.alternate,h),h=h.sibling}function bo(o){for(o=o.child;o!==null;){var h=o;switch(h.tag){case 0:case 11:case 14:case 15:nl(4,h,h.return),bo(h);break;case 1:Ji(h,h.return);var g=h.stateNode;typeof g.componentWillUnmount=="function"&&ry(h,h.return,g),bo(h);break;case 27:Jc(h.stateNode);case 26:case 5:Ji(h,h.return),bo(h);break;case 22:h.memoizedState===null&&bo(h);break;case 30:bo(h);break;default:bo(h)}o=o.sibling}}function Gc(o,h,g){for(g=g&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var x=h.alternate,E=o,F=h,K=F.flags;switch(F.tag){case 0:case 11:case 15:Gc(E,F,g),fd(4,F);break;case 1:if(Gc(E,F,g),x=F,E=x.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(Ye){dn(x,x.return,Ye)}if(x=F,E=x.updateQueue,E!==null){var le=x.stateNode;try{var Me=E.shared.hiddenCallbacks;if(Me!==null)for(E.shared.hiddenCallbacks=null,E=0;E<Me.length;E++)Gh(Me[E],le)}catch(Ye){dn(x,x.return,Ye)}}g&&K&64&&Tp(F),xs(F,F.return);break;case 27:u0(F);case 26:case 5:Gc(E,F,g),g&&x===null&&K&4&&l0(F),xs(F,F.return);break;case 12:Gc(E,F,g);break;case 13:Gc(E,F,g),g&&K&4&&ly(E,F);break;case 22:F.memoizedState===null&&Gc(E,F,g),xs(F,F.return);break;case 30:break;default:Gc(E,F,g)}h=h.sibling}}function Ip(o,h){var g=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),o=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(o=h.memoizedState.cachePool.pool),o!==g&&(o!=null&&o.refCount++,g!=null&&Ol(g))}function Zu(o,h){o=null,h.alternate!==null&&(o=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==o&&(h.refCount++,o!=null&&Ol(o))}function Go(o,h,g,x){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)cy(o,h,g,x),h=h.sibling}function cy(o,h,g,x){var E=h.flags;switch(h.tag){case 0:case 11:case 15:Go(o,h,g,x),E&2048&&fd(9,h);break;case 1:Go(o,h,g,x);break;case 3:Go(o,h,g,x),E&2048&&(o=null,h.alternate!==null&&(o=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==o&&(h.refCount++,o!=null&&Ol(o)));break;case 12:if(E&2048){Go(o,h,g,x),o=h.stateNode;try{var F=h.memoizedProps,K=F.id,le=F.onPostCommit;typeof le=="function"&&le(K,h.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(Me){dn(h,h.return,Me)}}else Go(o,h,g,x);break;case 13:Go(o,h,g,x);break;case 23:break;case 22:F=h.stateNode,K=h.alternate,h.memoizedState!==null?F._visibility&2?Go(o,h,g,x):md(o,h):F._visibility&2?Go(o,h,g,x):(F._visibility|=2,Yu(o,h,g,x,(h.subtreeFlags&10256)!==0)),E&2048&&Ip(K,h);break;case 24:Go(o,h,g,x),E&2048&&Zu(h.alternate,h);break;default:Go(o,h,g,x)}}function Yu(o,h,g,x,E){for(E=E&&(h.subtreeFlags&10256)!==0,h=h.child;h!==null;){var F=o,K=h,le=g,Me=x,Ye=K.flags;switch(K.tag){case 0:case 11:case 15:Yu(F,K,le,Me,E),fd(8,K);break;case 23:break;case 22:var dt=K.stateNode;K.memoizedState!==null?dt._visibility&2?Yu(F,K,le,Me,E):md(F,K):(dt._visibility|=2,Yu(F,K,le,Me,E)),E&&Ye&2048&&Ip(K.alternate,K);break;case 24:Yu(F,K,le,Me,E),E&&Ye&2048&&Zu(K.alternate,K);break;default:Yu(F,K,le,Me,E)}h=h.sibling}}function md(o,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var g=o,x=h,E=x.flags;switch(x.tag){case 22:md(g,x),E&2048&&Ip(x.alternate,x);break;case 24:md(g,x),E&2048&&Zu(x.alternate,x);break;default:md(g,x)}h=h.sibling}}var yd=8192;function rf(o){if(o.subtreeFlags&yd)for(o=o.child;o!==null;)f0(o),o=o.sibling}function f0(o){switch(o.tag){case 26:rf(o),o.flags&yd&&o.memoizedState!==null&&S(eo,o.memoizedState,o.memoizedProps);break;case 5:rf(o);break;case 3:case 4:var h=eo;eo=Gp(o.stateNode.containerInfo),rf(o),eo=h;break;case 22:o.memoizedState===null&&(h=o.alternate,h!==null&&h.memoizedState!==null?(h=yd,yd=16777216,rf(o),yd=h):rf(o));break;default:rf(o)}}function d0(o){var h=o.alternate;if(h!==null&&(o=h.child,o!==null)){h.child=null;do h=o.sibling,o.sibling=null,o=h;while(o!==null)}}function al(o){var h=o.deletions;if((o.flags&16)!==0){if(h!==null)for(var g=0;g<h.length;g++){var x=h[g];Na=x,uy(x,o)}d0(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)p0(o),o=o.sibling}function p0(o){switch(o.tag){case 0:case 11:case 15:al(o),o.flags&2048&&nl(9,o,o.return);break;case 3:al(o);break;case 12:al(o);break;case 22:var h=o.stateNode;o.memoizedState!==null&&h._visibility&2&&(o.return===null||o.return.tag!==13)?(h._visibility&=-3,kp(o)):al(o);break;default:al(o)}}function kp(o){var h=o.deletions;if((o.flags&16)!==0){if(h!==null)for(var g=0;g<h.length;g++){var x=h[g];Na=x,uy(x,o)}d0(o)}for(o=o.child;o!==null;){switch(h=o,h.tag){case 0:case 11:case 15:nl(8,h,h.return),kp(h);break;case 22:g=h.stateNode,g._visibility&2&&(g._visibility&=-3,kp(h));break;default:kp(h)}o=o.sibling}}function uy(o,h){for(;Na!==null;){var g=Na;switch(g.tag){case 0:case 11:case 15:nl(8,g,h);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var x=g.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:Ol(g.memoizedState.cache)}if(x=g.child,x!==null)x.return=g,Na=x;else e:for(g=o;Na!==null;){x=Na;var E=x.sibling,F=x.return;if(oy(x),x===g){Na=null;break e}if(E!==null){E.return=F,Na=E;break e}Na=F}}}var o_={getCacheForType:function(o){var h=Hn(ta),g=h.data.get(o);return g===void 0&&(g=o(),h.data.set(o,g)),g}},m0=typeof WeakMap=="function"?WeakMap:Map,nn=0,fn=null,Cr=null,zr=0,an=0,xo=null,Gl=!1,Qu=!1,hy=!1,Zl=0,An=0,Yl=0,Xu=0,fy=0,Zo=0,nf=0,gd=null,Fi=null,vd=!1,Op=0,_d=1/0,bd=null,Zc=null,_a=0,Yc=null,Ku=null,af=0,dy=0,py=null,my=null,xd=0,yy=null;function li(){if((nn&2)!==0&&zr!==0)return zr&-zr;if(je.T!==null){var o=us;return o!==0?o:Cd()}return Jn()}function la(){Zo===0&&(Zo=(zr&536870912)===0||Fr?St():536870912);var o=Ln.current;return o!==null&&(o.flags|=32),Zo}function Ni(o,h,g){(o===fn&&(an===2||an===9)||o.cancelPendingCommit!==null)&&(of(o,0),So(o,zr,Zo,!1)),ze(o,g),((nn&2)===0||o!==fn)&&(o===fn&&((nn&2)===0&&(Xu|=g),An===4&&So(o,zr,Zo,!1)),ws(o))}function gy(o,h,g){if((nn&6)!==0)throw Error(i(327));var x=!g&&(h&124)===0&&(h&o.expiredLanes)===0||Le(o,h),E=x?l_(o,h):Sy(o,h,!0),F=x;do{if(E===0){Qu&&!x&&So(o,h,0,!1);break}else{if(g=o.current.alternate,F&&!_y(g)){E=Sy(o,h,!1),F=!1;continue}if(E===2){if(F=h,o.errorRecoveryDisabledLanes&F)var K=0;else K=o.pendingLanes&-536870913,K=K!==0?K:K&536870912?536870912:0;if(K!==0){h=K;e:{var le=o;E=gd;var Me=le.current.memoizedState.isDehydrated;if(Me&&(of(le,K).flags|=256),K=Sy(le,K,!1),K!==2){if(hy&&!Me){le.errorRecoveryDisabledLanes|=F,Xu|=F,E=4;break e}F=Fi,Fi=E,F!==null&&(Fi===null?Fi=F:Fi.push.apply(Fi,F))}E=K}if(F=!1,E!==2)continue}}if(E===1){of(o,0),So(o,h,0,!0);break}e:{switch(x=o,F=E,F){case 0:case 1:throw Error(i(345));case 4:if((h&4194048)!==h)break;case 6:So(x,h,Zo,!Gl);break e;case 2:Fi=null;break;case 3:case 5:break;default:throw Error(i(329))}if((h&62914560)===h&&(E=Op+300-Lr(),10<E)){if(So(x,h,Zo,!Gl),We(x,0,!0)!==0)break e;x.timeoutHandle=jy(vy.bind(null,x,g,Fi,bd,vd,h,Zo,Xu,nf,Gl,F,2,-0,0),E);break e}vy(x,g,Fi,bd,vd,h,Zo,Xu,nf,Gl,F,0,-0,0)}}break}while(!0);ws(o)}function vy(o,h,g,x,E,F,K,le,Me,Ye,dt,_t,Ke,rt){if(o.timeoutHandle=-1,_t=h.subtreeFlags,(_t&8192||(_t&16785408)===16785408)&&(f={stylesheets:null,count:0,unsuspend:v},f0(h),_t=P(),_t!==null)){o.cancelPendingCommit=_t(Ql.bind(null,o,h,F,g,x,E,K,le,Me,dt,1,Ke,rt)),So(o,F,K,!Ye);return}Ql(o,h,F,g,x,E,K,le,Me)}function _y(o){for(var h=o;;){var g=h.tag;if((g===0||g===11||g===15)&&h.flags&16384&&(g=h.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var x=0;x<g.length;x++){var E=g[x],F=E.getSnapshot;E=E.value;try{if(!Ya(F(),E))return!1}catch{return!1}}if(g=h.child,h.subtreeFlags&16384&&g!==null)g.return=h,h=g;else{if(h===o)break;for(;h.sibling===null;){if(h.return===null||h.return===o)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function So(o,h,g,x){h&=~fy,h&=~Xu,o.suspendedLanes|=h,o.pingedLanes&=~h,x&&(o.warmLanes|=h),x=o.expirationTimes;for(var E=h;0<E;){var F=31-Re(E),K=1<<F;x[F]=-1,E&=~K}g!==0&&br(o,g,h)}function Sd(){return(nn&6)===0?(uf(0),!1):!0}function by(){if(Cr!==null){if(an===0)var o=Cr.return;else o=Cr,Ka=cs=null,$c(o),jr=null,gn=0,o=Cr;for(;o!==null;)s0(o.alternate,o),o=o.return;Cr=null}}function of(o,h){var g=o.timeoutHandle;g!==-1&&(o.timeoutHandle=-1,R0(g)),g=o.cancelPendingCommit,g!==null&&(o.cancelPendingCommit=null,g()),by(),fn=o,Cr=g=La(o.current,null),zr=h,an=0,xo=null,Gl=!1,Qu=Le(o,h),hy=!1,nf=Zo=fy=Xu=Yl=An=0,Fi=gd=null,vd=!1,(h&8)!==0&&(h|=h&32);var x=o.entangledLanes;if(x!==0)for(o=o.entanglements,x&=h;0<x;){var E=31-Re(x),F=1<<E;h|=o[E],x&=~F}return Zl=h,kl(),g}function y0(o,h){wr=null,je.H=ga,h===Fc||h===ti?(h=zl(),an=3):h===Ks?(h=zl(),an=4):an=h===Xg?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,xo=h,Cr===null&&(An=1,Kh(o,pa(h,o.current)))}function g0(){var o=je.H;return je.H=ga,o===null?ga:o}function v0(){var o=je.A;return je.A=o_,o}function xy(){An=4,Gl||(zr&4194048)!==zr&&Ln.current!==null||(Qu=!0),(Yl&134217727)===0&&(Xu&134217727)===0||fn===null||So(fn,zr,Zo,!1)}function Sy(o,h,g){var x=nn;nn|=2;var E=g0(),F=v0();(fn!==o||zr!==h)&&(bd=null,of(o,h)),h=!1;var K=An;e:do try{if(an!==0&&Cr!==null){var le=Cr,Me=xo;switch(an){case 8:by(),K=6;break e;case 3:case 2:case 9:case 6:Ln.current===null&&(h=!0);var Ye=an;if(an=0,xo=null,Ju(o,le,Me,Ye),g&&Qu){K=0;break e}break;default:Ye=an,an=0,xo=null,Ju(o,le,Me,Ye)}}s_(),K=An;break}catch(dt){y0(o,dt)}while(!0);return h&&o.shellSuspendCounter++,Ka=cs=null,nn=x,je.H=E,je.A=F,Cr===null&&(fn=null,zr=0,kl()),K}function s_(){for(;Cr!==null;)_0(Cr)}function l_(o,h){var g=nn;nn|=2;var x=g0(),E=v0();fn!==o||zr!==h?(bd=null,_d=Lr()+500,of(o,h)):Qu=Le(o,h);e:do try{if(an!==0&&Cr!==null){h=Cr;var F=xo;t:switch(an){case 1:an=0,xo=null,Ju(o,h,F,1);break;case 2:case 9:if(qh(F)){an=0,xo=null,b0(h);break}h=function(){an!==2&&an!==9||fn!==o||(an=7),ws(o)},F.then(h,h);break e;case 3:an=7;break e;case 4:an=5;break e;case 7:qh(F)?(an=0,xo=null,b0(h)):(an=0,xo=null,Ju(o,h,F,7));break;case 5:var K=null;switch(Cr.tag){case 26:K=Cr.memoizedState;case 5:case 27:var le=Cr;if(!K||s(K)){an=0,xo=null;var Me=le.sibling;if(Me!==null)Cr=Me;else{var Ye=le.return;Ye!==null?(Cr=Ye,sf(Ye)):Cr=null}break t}}an=0,xo=null,Ju(o,h,F,5);break;case 6:an=0,xo=null,Ju(o,h,F,6);break;case 8:by(),An=6;break e;default:throw Error(i(462))}}c_();break}catch(dt){y0(o,dt)}while(!0);return Ka=cs=null,je.H=x,je.A=E,nn=g,Cr!==null?0:(fn=null,zr=0,kl(),An)}function c_(){for(;Cr!==null&&!Sr();)_0(Cr)}function _0(o){var h=i0(o.alternate,o,Zl);o.memoizedProps=o.pendingProps,h===null?sf(o):Cr=h}function b0(o){var h=o,g=h.alternate;switch(h.tag){case 15:case 0:h=Qm(g,h,h.pendingProps,h.type,void 0,zr);break;case 11:h=Qm(g,h,h.pendingProps,h.type.render,h.ref,zr);break;case 5:$c(h);default:s0(g,h),h=Cr=Zf(h,Zl),h=i0(g,h,Zl)}o.memoizedProps=o.pendingProps,h===null?sf(o):Cr=h}function Ju(o,h,g,x){Ka=cs=null,$c(h),jr=null,gn=0;var E=h.return;try{if(Jh(o,E,h,g,zr)){An=1,Kh(o,pa(g,o.current)),Cr=null;return}}catch(F){if(E!==null)throw Cr=E,F;An=1,Kh(o,pa(g,o.current)),Cr=null;return}h.flags&32768?(Fr||x===1?o=!0:Qu||(zr&536870912)!==0?o=!1:(Gl=o=!0,(x===2||x===9||x===3||x===6)&&(x=Ln.current,x!==null&&x.tag===13&&(x.flags|=16384))),wy(h,o)):sf(h)}function sf(o){var h=o;do{if((h.flags&32768)!==0){wy(h,Gl);return}o=h.return;var g=o0(h.alternate,h,Zl);if(g!==null){Cr=g;return}if(h=h.sibling,h!==null){Cr=h;return}Cr=h=o}while(h!==null);An===0&&(An=5)}function wy(o,h){do{var g=i_(o.alternate,o);if(g!==null){g.flags&=32767,Cr=g;return}if(g=o.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!h&&(o=o.sibling,o!==null)){Cr=o;return}Cr=o=g}while(o!==null);An=6,Cr=null}function Ql(o,h,g,x,E,F,K,le,Me){o.cancelPendingCommit=null;do Up();while(_a!==0);if((nn&6)!==0)throw Error(i(327));if(h!==null){if(h===o.current)throw Error(i(177));if(F=h.lanes|h.childLanes,F|=Il,ir(o,g,F,K,le,Me),o===fn&&(Cr=fn=null,zr=0),Ku=h,Yc=o,af=g,dy=F,py=E,my=x,(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,u_(xa,function(){return x0(),null})):(o.callbackNode=null,o.callbackPriority=0),x=(h.flags&13878)!==0,(h.subtreeFlags&13878)!==0||x){x=je.T,je.T=null,E=it.p,it.p=2,K=nn,nn|=4;try{Zn(o,h,g)}finally{nn=K,it.p=E,je.T=x}}_a=1,lf(),eh(),wd()}}function lf(){if(_a===1){_a=0;var o=Yc,h=Ku,g=(h.flags&13878)!==0;if((h.subtreeFlags&13878)!==0||g){g=je.T,je.T=null;var x=it.p;it.p=2;var E=nn;nn|=4;try{Gu(h,o);var F=Hp,K=Ih(o.containerInfo),le=F.focusedElem,Me=F.selectionRange;if(K!==le&&le&&le.ownerDocument&&Ir(le.ownerDocument.documentElement,le)){if(Me!==null&&Tu(le)){var Ye=Me.start,dt=Me.end;if(dt===void 0&&(dt=Ye),"selectionStart"in le)le.selectionStart=Ye,le.selectionEnd=Math.min(dt,le.value.length);else{var _t=le.ownerDocument||document,Ke=_t&&_t.defaultView||window;if(Ke.getSelection){var rt=Ke.getSelection(),dr=le.textContent.length,cr=Math.min(Me.start,dr),ln=Me.end===void 0?cr:Math.min(Me.end,dr);!rt.extend&&cr>ln&&(K=ln,ln=cr,cr=K);var Be=No(le,cr),Ne=No(le,ln);if(Be&&Ne&&(rt.rangeCount!==1||rt.anchorNode!==Be.node||rt.anchorOffset!==Be.offset||rt.focusNode!==Ne.node||rt.focusOffset!==Ne.offset)){var He=_t.createRange();He.setStart(Be.node,Be.offset),rt.removeAllRanges(),cr>ln?(rt.addRange(He),rt.extend(Ne.node,Ne.offset)):(He.setEnd(Ne.node,Ne.offset),rt.addRange(He))}}}}for(_t=[],rt=le;rt=rt.parentNode;)rt.nodeType===1&&_t.push({element:rt,left:rt.scrollLeft,top:rt.scrollTop});for(typeof le.focus=="function"&&le.focus(),le=0;le<_t.length;le++){var gt=_t[le];gt.element.scrollLeft=gt.left,gt.element.scrollTop=gt.top}}Pe=!!Ed,Hp=Ed=null}finally{nn=E,it.p=x,je.T=g}}o.current=h,_a=2}}function eh(){if(_a===2){_a=0;var o=Yc,h=Ku,g=(h.flags&8772)!==0;if((h.subtreeFlags&8772)!==0||g){g=je.T,je.T=null;var x=it.p;it.p=2;var E=nn;nn|=4;try{Wu(o,h.alternate,h)}finally{nn=E,it.p=x,je.T=g}}_a=3}}function wd(){if(_a===4||_a===3){_a=0,Rr();var o=Yc,h=Ku,g=af,x=my;(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?_a=5:(_a=0,Ku=Yc=null,Pd(o,o.pendingLanes));var E=o.pendingLanes;if(E===0&&(Zc=null),Br(g),h=h.stateNode,Dn&&typeof Dn.onCommitFiberRoot=="function")try{Dn.onCommitFiberRoot(di,h,void 0,(h.current.flags&128)===128)}catch{}if(x!==null){h=je.T,E=it.p,it.p=2,je.T=null;try{for(var F=o.onRecoverableError,K=0;K<x.length;K++){var le=x[K];F(le.value,{componentStack:le.stack})}}finally{je.T=h,it.p=E}}(af&3)!==0&&Up(),ws(o),E=o.pendingLanes,(g&4194090)!==0&&(E&42)!==0?o===yy?xd++:(xd=0,yy=o):xd=0,uf(0)}}function Pd(o,h){(o.pooledCacheLanes&=h)===0&&(h=o.pooledCache,h!=null&&(o.pooledCache=null,Ol(h)))}function Up(o){return lf(),eh(),wd(),x0()}function x0(){if(_a!==5)return!1;var o=Yc,h=dy;dy=0;var g=Br(af),x=je.T,E=it.p;try{it.p=32>g?32:g,je.T=null,g=py,py=null;var F=Yc,K=af;if(_a=0,Ku=Yc=null,af=0,(nn&6)!==0)throw Error(i(331));var le=nn;if(nn|=4,p0(F.current),cy(F,F.current,K,g),nn=le,uf(0,!1),Dn&&typeof Dn.onPostCommitFiberRoot=="function")try{Dn.onPostCommitFiberRoot(di,F)}catch{}return!0}finally{it.p=E,je.T=x,Pd(o,h)}}function Py(o,h,g){h=pa(g,h),h=id(o.stateNode,h,2),o=hs(o,h,2),o!==null&&(ze(o,2),ws(o))}function dn(o,h,g){if(o.tag===3)Py(o,o,g);else for(;h!==null;){if(h.tag===3){Py(h,o,g);break}else if(h.tag===1){var x=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Zc===null||!Zc.has(x))){o=pa(g,o),g=Zm(2),x=hs(h,g,2),x!==null&&(Ym(g,x,h,o),ze(x,2),ws(x));break}}h=h.return}}function Ay(o,h,g){var x=o.pingCache;if(x===null){x=o.pingCache=new m0;var E=new Set;x.set(h,E)}else E=x.get(h),E===void 0&&(E=new Set,x.set(h,E));E.has(g)||(hy=!0,E.add(g),o=S0.bind(null,o,h,g),h.then(o,o))}function S0(o,h,g){var x=o.pingCache;x!==null&&x.delete(h),o.pingedLanes|=o.suspendedLanes&g,o.warmLanes&=~g,fn===o&&(zr&g)===g&&(An===4||An===3&&(zr&62914560)===zr&&300>Lr()-Op?(nn&2)===0&&of(o,0):fy|=g,nf===zr&&(nf=0)),ws(o)}function Cy(o,h){h===0&&(h=ht()),o=ki(o,h),o!==null&&(ze(o,h),ws(o))}function Dy(o){var h=o.memoizedState,g=0;h!==null&&(g=h.retryLane),Cy(o,g)}function My(o,h){var g=0;switch(o.tag){case 13:var x=o.stateNode,E=o.memoizedState;E!==null&&(g=E.retryLane);break;case 19:x=o.stateNode;break;case 22:x=o.stateNode._retryCache;break;default:throw Error(i(314))}x!==null&&x.delete(h),Cy(o,g)}function u_(o,h){return jt(o,h)}var Ad=null,cf=null,Ty=!1,Lp=!1,Ey=!1,th=0;function ws(o){o!==cf&&o.next===null&&(cf===null?Ad=cf=o:cf=cf.next=o),Lp=!0,Ty||(Ty=!0,Fp())}function uf(o,h){if(!Ey&&Lp){Ey=!0;do for(var g=!1,x=Ad;x!==null;){if(o!==0){var E=x.pendingLanes;if(E===0)var F=0;else{var K=x.suspendedLanes,le=x.pingedLanes;F=(1<<31-Re(42|o)+1)-1,F&=E&~(K&~le),F=F&201326741?F&201326741|1:F?F|2:0}F!==0&&(g=!0,w0(x,F))}else F=zr,F=We(x,x===fn?F:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(F&3)===0||Le(x,F)||(g=!0,w0(x,F));x=x.next}while(g);Ey=!1}}function Xl(){Kl()}function Kl(){Lp=Ty=!1;var o=0;th!==0&&(E0()&&(o=th),th=0);for(var h=Lr(),g=null,x=Ad;x!==null;){var E=x.next,F=Ry(x,h);F===0?(x.next=null,g===null?Ad=E:g.next=E,E===null&&(cf=g)):(g=x,(o!==0||(F&3)!==0)&&(Lp=!0)),x=E}uf(o)}function Ry(o,h){for(var g=o.suspendedLanes,x=o.pingedLanes,E=o.expirationTimes,F=o.pendingLanes&-62914561;0<F;){var K=31-Re(F),le=1<<K,Me=E[K];Me===-1?((le&g)===0||(le&x)!==0)&&(E[K]=at(le,h)):Me<=h&&(o.expiredLanes|=le),F&=~le}if(h=fn,g=zr,g=We(o,o===h?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),x=o.callbackNode,g===0||o===h&&(an===2||an===9)||o.cancelPendingCommit!==null)return x!==null&&x!==null&&Bt(x),o.callbackNode=null,o.callbackPriority=0;if((g&3)===0||Le(o,g)){if(h=g&-g,h===o.callbackPriority)return h;switch(x!==null&&Bt(x),Br(g)){case 2:case 8:g=Wa;break;case 32:g=xa;break;case 268435456:g=Ti;break;default:g=xa}return x=zp.bind(null,o),g=jt(g,x),o.callbackPriority=h,o.callbackNode=g,h}return x!==null&&x!==null&&Bt(x),o.callbackPriority=2,o.callbackNode=null,2}function zp(o,h){if(_a!==0&&_a!==5)return o.callbackNode=null,o.callbackPriority=0,null;var g=o.callbackNode;if(Up()&&o.callbackNode!==g)return null;var x=zr;return x=We(o,o===fn?x:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),x===0?null:(gy(o,x,h),Ry(o,Lr()),o.callbackNode!=null&&o.callbackNode===g?zp.bind(null,o):null)}function w0(o,h){if(Up())return null;gy(o,h,!0)}function Fp(){k0(function(){(nn&6)!==0?jt(Kn,Xl):Kl()})}function Cd(){return th===0&&(th=St()),th}function P0(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:_r(""+o)}function Np(o,h){var g=h.ownerDocument.createElement("input");return g.name=h.name,g.value=h.value,o.id&&g.setAttribute("form",o.id),h.parentNode.insertBefore(g,h),o=new FormData(o),g.parentNode.removeChild(g),o}function Iy(o,h,g,x,E){if(h==="submit"&&g&&g.stateNode===E){var F=P0((E[sr]||null).action),K=x.submitter;K&&(h=(h=K[sr]||null)?P0(h.formAction):K.getAttribute("formAction"),h!==null&&(F=h,K=null));var le=new Ri("action","action",null,x,E);o.push({event:le,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(th!==0){var Me=K?Np(E,K):new FormData(E);rn(g,{pending:!0,data:Me,method:E.method,action:F},null,Me)}}else typeof F=="function"&&(le.preventDefault(),Me=K?Np(E,K):new FormData(E),rn(g,{pending:!0,data:Me,method:E.method,action:F},F,Me))},currentTarget:E}]})}}for(var Qc=0;Qc<Oh.length;Qc++){var jp=Oh[Qc],A0=jp.toLowerCase(),ky=jp[0].toUpperCase()+jp.slice(1);Qi(A0,"on"+ky)}Qi(Eu,"onAnimationEnd"),Qi(Ru,"onAnimationIteration"),Qi(Iu,"onAnimationStart"),Qi("dblclick","onDoubleClick"),Qi("focusin","onFocus"),Qi("focusout","onBlur"),Qi(Wf,"onTransitionRun"),Qi(El,"onTransitionStart"),Qi(ku,"onTransitionCancel"),Qi(Rl,"onTransitionEnd"),es("onMouseEnter",["mouseout","mouseover"]),es("onMouseLeave",["mouseout","mouseover"]),es("onPointerEnter",["pointerout","pointerover"]),es("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hf));function Oy(o,h){h=(h&4)!==0;for(var g=0;g<o.length;g++){var x=o[g],E=x.event;x=x.listeners;e:{var F=void 0;if(h)for(var K=x.length-1;0<=K;K--){var le=x[K],Me=le.instance,Ye=le.currentTarget;if(le=le.listener,Me!==F&&E.isPropagationStopped())break e;F=le,E.currentTarget=Ye;try{F(E)}catch(dt){nd(dt)}E.currentTarget=null,F=Me}else for(K=0;K<x.length;K++){if(le=x[K],Me=le.instance,Ye=le.currentTarget,le=le.listener,Me!==F&&E.isPropagationStopped())break e;F=le,E.currentTarget=Ye;try{F(E)}catch(dt){nd(dt)}E.currentTarget=null,F=Me}}}}function Or(o,h){var g=h[Pt];g===void 0&&(g=h[Pt]=new Set);var x=o+"__bubble";g.has(x)||(C0(h,o,2,!1),g.add(x))}function Uy(o,h,g){var x=0;h&&(x|=4),C0(g,o,x,h)}var Dd="_reactListening"+Math.random().toString(36).slice(2);function Ly(o){if(!o[Dd]){o[Dd]=!0,yr.forEach(function(g){g!=="selectionchange"&&(Bp.has(g)||Uy(g,!1,o),Uy(g,!0,o))});var h=o.nodeType===9?o:o.ownerDocument;h===null||h[Dd]||(h[Dd]=!0,Uy("selectionchange",!1,h))}}function C0(o,h,g,x){switch(kt(h)){case 2:var E=Te;break;case 8:E=Ze;break;default:E=tt}g=E.bind(null,h,g,o),E=void 0,!Aa||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(E=!0),x?E!==void 0?o.addEventListener(h,g,{capture:!0,passive:E}):o.addEventListener(h,g,!0):E!==void 0?o.addEventListener(h,g,{passive:E}):o.addEventListener(h,g,!1)}function zy(o,h,g,x,E){var F=x;if((h&1)===0&&(h&2)===0&&x!==null)e:for(;;){if(x===null)return;var K=x.tag;if(K===3||K===4){var le=x.stateNode.containerInfo;if(le===E)break;if(K===4)for(K=x.return;K!==null;){var Me=K.tag;if((Me===3||Me===4)&&K.stateNode.containerInfo===E)return;K=K.return}for(;le!==null;){if(K=mr(le),K===null)return;if(Me=K.tag,Me===5||Me===6||Me===26||Me===27){x=F=K;continue e}le=le.parentNode}}x=x.return}$n(function(){var Ye=F,dt=_c(g),_t=[];e:{var Ke=Ii.get(o);if(Ke!==void 0){var rt=Ri,dr=o;switch(o){case"keypress":if(lr(g)===0)break e;case"keydown":case"keyup":rt=Su;break;case"focusin":dr="focus",rt=Sl;break;case"focusout":dr="blur",rt=Sl;break;case"beforeblur":case"afterblur":rt=Sl;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=vu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=da;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=Bm;break;case Eu:case Ru:case Iu:rt=Un;break;case Rl:rt=qm;break;case"scroll":case"scrollend":rt=Uf;break;case"wheel":rt=Eh;break;case"copy":case"cut":case"paste":rt=_u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=zf;break;case"toggle":case"beforetoggle":rt=Al}var cr=(h&4)!==0,ln=!cr&&(o==="scroll"||o==="scrollend"),Be=cr?Ke!==null?Ke+"Capture":null:Ke;cr=[];for(var Ne=Ye,He;Ne!==null;){var gt=Ne;if(He=gt.stateNode,gt=gt.tag,gt!==5&&gt!==26&&gt!==27||He===null||Be===null||(gt=Nr(Ne,Be),gt!=null&&cr.push(Md(Ne,gt,He))),ln)break;Ne=Ne.return}0<cr.length&&(Ke=new rt(Ke,dr,null,g,dt),_t.push({event:Ke,listeners:cr}))}}if((h&7)===0){e:{if(Ke=o==="mouseover"||o==="pointerover",rt=o==="mouseout"||o==="pointerout",Ke&&g!==rs&&(dr=g.relatedTarget||g.fromElement)&&(mr(dr)||dr[pn]))break e;if((rt||Ke)&&(Ke=dt.window===dt?dt:(Ke=dt.ownerDocument)?Ke.defaultView||Ke.parentWindow:window,rt?(dr=g.relatedTarget||g.toElement,rt=Ye,dr=dr?mr(dr):null,dr!==null&&(ln=p(dr),cr=dr.tag,dr!==ln||cr!==5&&cr!==27&&cr!==6)&&(dr=null)):(rt=null,dr=Ye),rt!==dr)){if(cr=vu,gt="onMouseLeave",Be="onMouseEnter",Ne="mouse",(o==="pointerout"||o==="pointerover")&&(cr=zf,gt="onPointerLeave",Be="onPointerEnter",Ne="pointer"),ln=rt==null?Ke:qn(rt),He=dr==null?Ke:qn(dr),Ke=new cr(gt,Ne+"leave",rt,g,dt),Ke.target=ln,Ke.relatedTarget=He,gt=null,mr(dt)===Ye&&(cr=new cr(Be,Ne+"enter",dr,g,dt),cr.target=He,cr.relatedTarget=ln,gt=cr),ln=gt,rt&&dr)t:{for(cr=rt,Be=dr,Ne=0,He=cr;He;He=Xc(He))Ne++;for(He=0,gt=Be;gt;gt=Xc(gt))He++;for(;0<Ne-He;)cr=Xc(cr),Ne--;for(;0<He-Ne;)Be=Xc(Be),He--;for(;Ne--;){if(cr===Be||Be!==null&&cr===Be.alternate)break t;cr=Xc(cr),Be=Xc(Be)}cr=null}else cr=null;rt!==null&&Jl(_t,Ke,rt,cr,!1),dr!==null&&ln!==null&&Jl(_t,ln,dr,cr,!0)}}e:{if(Ke=Ye?qn(Ye):window,rt=Ke.nodeName&&Ke.nodeName.toLowerCase(),rt==="select"||rt==="input"&&Ke.type==="file")var Qt=$f;else if(gp(Ke))if(Bs)Qt=xp;else{Qt=Vm;var Er=_p}else rt=Ke.nodeName,!rt||rt.toLowerCase()!=="input"||Ke.type!=="checkbox"&&Ke.type!=="radio"?Ye&&Uo(Ye.elementType)&&(Qt=$f):Qt=bp;if(Qt&&(Qt=Qt(o,Ye))){qf(_t,Qt,g,dt);break e}Er&&Er(o,Ke,Ye),o==="focusout"&&Ye&&Ke.type==="number"&&Ye.memoizedProps.value!=null&&gu(Ke,"number",Ke.value)}switch(Er=Ye?qn(Ye):window,o){case"focusin":(gp(Er)||Er.contentEditable==="true")&&(qs=Er,as=Ye,Ml=null);break;case"focusout":Ml=as=qs=null;break;case"mousedown":Vf=!0;break;case"contextmenu":case"mouseup":case"dragend":Vf=!1,wp(_t,g,dt);break;case"selectionchange":if(Sp)break;case"keydown":case"keyup":wp(_t,g,dt)}var ar;if(Sc)e:{switch(o){case"compositionstart":var hr="onCompositionStart";break e;case"compositionend":hr="onCompositionEnd";break e;case"compositionupdate":hr="onCompositionUpdate";break e}hr=void 0}else Ac?mp(o,g)&&(hr="onCompositionEnd"):o==="keydown"&&g.keyCode===229&&(hr="onCompositionStart");hr&&(wu&&g.locale!=="ko"&&(Ac||hr!=="onCompositionStart"?hr==="onCompositionEnd"&&Ac&&(ar=tr()):(En=dt,Xr="value"in En?En.value:En.textContent,Ac=!0)),Er=qp(Ye,hr),0<Er.length&&(hr=new pp(hr,o,null,g,dt),_t.push({event:hr,listeners:Er}),ar?hr.data=ar:(ar=Pu(g),ar!==null&&(hr.data=ar)))),(ar=Hm?Cl(o,g):yp(o,g))&&(hr=qp(Ye,"onBeforeInput"),0<hr.length&&(Er=new pp("onBeforeInput","beforeinput",null,g,dt),_t.push({event:Er,listeners:hr}),Er.data=ar)),Iy(_t,o,Ye,g,dt)}Oy(_t,h)})}function Md(o,h,g){return{instance:o,listener:h,currentTarget:g}}function qp(o,h){for(var g=h+"Capture",x=[];o!==null;){var E=o,F=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||F===null||(E=Nr(o,g),E!=null&&x.unshift(Md(o,E,F)),E=Nr(o,h),E!=null&&x.push(Md(o,E,F))),o.tag===3)return x;o=o.return}return[]}function Xc(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function Jl(o,h,g,x,E){for(var F=h._reactName,K=[];g!==null&&g!==x;){var le=g,Me=le.alternate,Ye=le.stateNode;if(le=le.tag,Me!==null&&Me===x)break;le!==5&&le!==26&&le!==27||Ye===null||(Me=Ye,E?(Ye=Nr(g,F),Ye!=null&&K.unshift(Md(g,Ye,Me))):E||(Ye=Nr(g,F),Ye!=null&&K.push(Md(g,Ye,Me)))),g=g.return}K.length!==0&&o.push({event:h,listeners:K})}var D0=/\r\n?/g,M0=/\u0000|\uFFFD/g;function Fy(o){return(typeof o=="string"?o:""+o).replace(D0,`
`).replace(M0,"")}function Ny(o,h){return h=Fy(h),Fy(o)===h}function Td(){}function Jr(o,h,g,x,E,F){switch(g){case"children":typeof x=="string"?h==="body"||h==="textarea"&&x===""||Oo(o,x):(typeof x=="number"||typeof x=="bigint")&&h!=="body"&&Oo(o,""+x);break;case"className":qr(o,"class",x);break;case"tabIndex":qr(o,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":qr(o,g,x);break;case"style":zs(o,x,F);break;case"data":if(h!=="object"){qr(o,"data",x);break}case"src":case"href":if(x===""&&(h!=="a"||g!=="href")){o.removeAttribute(g);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){o.removeAttribute(g);break}x=_r(""+x),o.setAttribute(g,x);break;case"action":case"formAction":if(typeof x=="function"){o.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof F=="function"&&(g==="formAction"?(h!=="input"&&Jr(o,h,"name",E.name,E,null),Jr(o,h,"formEncType",E.formEncType,E,null),Jr(o,h,"formMethod",E.formMethod,E,null),Jr(o,h,"formTarget",E.formTarget,E,null)):(Jr(o,h,"encType",E.encType,E,null),Jr(o,h,"method",E.method,E,null),Jr(o,h,"target",E.target,E,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){o.removeAttribute(g);break}x=_r(""+x),o.setAttribute(g,x);break;case"onClick":x!=null&&(o.onclick=Td);break;case"onScroll":x!=null&&Or("scroll",o);break;case"onScrollEnd":x!=null&&Or("scrollend",o);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(i(61));if(g=x.__html,g!=null){if(E.children!=null)throw Error(i(60));o.innerHTML=g}}break;case"multiple":o.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":o.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){o.removeAttribute("xlink:href");break}g=_r(""+x),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?o.setAttribute(g,""+x):o.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?o.setAttribute(g,""):o.removeAttribute(g);break;case"capture":case"download":x===!0?o.setAttribute(g,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?o.setAttribute(g,x):o.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?o.setAttribute(g,x):o.removeAttribute(g);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?o.removeAttribute(g):o.setAttribute(g,x);break;case"popover":Or("beforetoggle",o),Or("toggle",o),Sa(o,"popover",x);break;case"xlinkActuate":Io(o,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":Io(o,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":Io(o,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":Io(o,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":Io(o,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":Io(o,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":Io(o,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":Io(o,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":Io(o,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":Sa(o,"is",x);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=ts.get(g)||g,Sa(o,g,x))}}function $p(o,h,g,x,E,F){switch(g){case"style":zs(o,x,F);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(i(61));if(g=x.__html,g!=null){if(E.children!=null)throw Error(i(60));o.innerHTML=g}}break;case"children":typeof x=="string"?Oo(o,x):(typeof x=="number"||typeof x=="bigint")&&Oo(o,""+x);break;case"onScroll":x!=null&&Or("scroll",o);break;case"onScrollEnd":x!=null&&Or("scrollend",o);break;case"onClick":x!=null&&(o.onclick=Td);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pu.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(E=g.endsWith("Capture"),h=g.slice(2,E?g.length-7:void 0),F=o[sr]||null,F=F!=null?F[g]:null,typeof F=="function"&&o.removeEventListener(h,F,E),typeof x=="function")){typeof F!="function"&&F!==null&&(g in o?o[g]=null:o.hasAttribute(g)&&o.removeAttribute(g)),o.addEventListener(h,x,E);break e}g in o?o[g]=x:x===!0?o.setAttribute(g,""):Sa(o,g,x)}}}function ca(o,h,g){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Or("error",o),Or("load",o);var x=!1,E=!1,F;for(F in g)if(g.hasOwnProperty(F)){var K=g[F];if(K!=null)switch(F){case"src":x=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,h));default:Jr(o,h,F,K,g,null)}}E&&Jr(o,h,"srcSet",g.srcSet,g,null),x&&Jr(o,h,"src",g.src,g,null);return;case"input":Or("invalid",o);var le=F=K=E=null,Me=null,Ye=null;for(x in g)if(g.hasOwnProperty(x)){var dt=g[x];if(dt!=null)switch(x){case"name":E=dt;break;case"type":K=dt;break;case"checked":Me=dt;break;case"defaultChecked":Ye=dt;break;case"value":F=dt;break;case"defaultValue":le=dt;break;case"children":case"dangerouslySetInnerHTML":if(dt!=null)throw Error(i(137,h));break;default:Jr(o,h,x,dt,g,null)}}gl(o,F,le,Me,Ye,K,E,!1),Mh(o);return;case"select":Or("invalid",o),x=K=F=null;for(E in g)if(g.hasOwnProperty(E)&&(le=g[E],le!=null))switch(E){case"value":F=le;break;case"defaultValue":K=le;break;case"multiple":x=le;default:Jr(o,h,E,le,g,null)}h=F,g=K,o.multiple=!!x,h!=null?Ls(o,!!x,h,!1):g!=null&&Ls(o,!!x,g,!0);return;case"textarea":Or("invalid",o),F=E=x=null;for(K in g)if(g.hasOwnProperty(K)&&(le=g[K],le!=null))switch(K){case"value":x=le;break;case"defaultValue":E=le;break;case"children":F=le;break;case"dangerouslySetInnerHTML":if(le!=null)throw Error(i(91));break;default:Jr(o,h,K,le,g,null)}vl(o,x,E,F),Mh(o);return;case"option":for(Me in g)if(g.hasOwnProperty(Me)&&(x=g[Me],x!=null))switch(Me){case"selected":o.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:Jr(o,h,Me,x,g,null)}return;case"dialog":Or("beforetoggle",o),Or("toggle",o),Or("cancel",o),Or("close",o);break;case"iframe":case"object":Or("load",o);break;case"video":case"audio":for(x=0;x<hf.length;x++)Or(hf[x],o);break;case"image":Or("error",o),Or("load",o);break;case"details":Or("toggle",o);break;case"embed":case"source":case"link":Or("error",o),Or("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ye in g)if(g.hasOwnProperty(Ye)&&(x=g[Ye],x!=null))switch(Ye){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,h));default:Jr(o,h,Ye,x,g,null)}return;default:if(Uo(h)){for(dt in g)g.hasOwnProperty(dt)&&(x=g[dt],x!==void 0&&$p(o,h,dt,x,g,void 0));return}}for(le in g)g.hasOwnProperty(le)&&(x=g[le],x!=null&&Jr(o,h,le,x,g,null))}function T0(o,h,g,x){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,F=null,K=null,le=null,Me=null,Ye=null,dt=null;for(rt in g){var _t=g[rt];if(g.hasOwnProperty(rt)&&_t!=null)switch(rt){case"checked":break;case"value":break;case"defaultValue":Me=_t;default:x.hasOwnProperty(rt)||Jr(o,h,rt,null,x,_t)}}for(var Ke in x){var rt=x[Ke];if(_t=g[Ke],x.hasOwnProperty(Ke)&&(rt!=null||_t!=null))switch(Ke){case"type":F=rt;break;case"name":E=rt;break;case"checked":Ye=rt;break;case"defaultChecked":dt=rt;break;case"value":K=rt;break;case"defaultValue":le=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(i(137,h));break;default:rt!==_t&&Jr(o,h,Ke,rt,x,_t)}}yu(o,K,le,Me,Ye,dt,F,E);return;case"select":rt=K=le=Ke=null;for(F in g)if(Me=g[F],g.hasOwnProperty(F)&&Me!=null)switch(F){case"value":break;case"multiple":rt=Me;default:x.hasOwnProperty(F)||Jr(o,h,F,null,x,Me)}for(E in x)if(F=x[E],Me=g[E],x.hasOwnProperty(E)&&(F!=null||Me!=null))switch(E){case"value":Ke=F;break;case"defaultValue":le=F;break;case"multiple":K=F;default:F!==Me&&Jr(o,h,E,F,x,Me)}h=le,g=K,x=rt,Ke!=null?Ls(o,!!g,Ke,!1):!!x!=!!g&&(h!=null?Ls(o,!!g,h,!0):Ls(o,!!g,g?[]:"",!1));return;case"textarea":rt=Ke=null;for(le in g)if(E=g[le],g.hasOwnProperty(le)&&E!=null&&!x.hasOwnProperty(le))switch(le){case"value":break;case"children":break;default:Jr(o,h,le,null,x,E)}for(K in x)if(E=x[K],F=g[K],x.hasOwnProperty(K)&&(E!=null||F!=null))switch(K){case"value":Ke=E;break;case"defaultValue":rt=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(i(91));break;default:E!==F&&Jr(o,h,K,E,x,F)}fp(o,Ke,rt);return;case"option":for(var dr in g)if(Ke=g[dr],g.hasOwnProperty(dr)&&Ke!=null&&!x.hasOwnProperty(dr))switch(dr){case"selected":o.selected=!1;break;default:Jr(o,h,dr,null,x,Ke)}for(Me in x)if(Ke=x[Me],rt=g[Me],x.hasOwnProperty(Me)&&Ke!==rt&&(Ke!=null||rt!=null))switch(Me){case"selected":o.selected=Ke&&typeof Ke!="function"&&typeof Ke!="symbol";break;default:Jr(o,h,Me,Ke,x,rt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var cr in g)Ke=g[cr],g.hasOwnProperty(cr)&&Ke!=null&&!x.hasOwnProperty(cr)&&Jr(o,h,cr,null,x,Ke);for(Ye in x)if(Ke=x[Ye],rt=g[Ye],x.hasOwnProperty(Ye)&&Ke!==rt&&(Ke!=null||rt!=null))switch(Ye){case"children":case"dangerouslySetInnerHTML":if(Ke!=null)throw Error(i(137,h));break;default:Jr(o,h,Ye,Ke,x,rt)}return;default:if(Uo(h)){for(var ln in g)Ke=g[ln],g.hasOwnProperty(ln)&&Ke!==void 0&&!x.hasOwnProperty(ln)&&$p(o,h,ln,void 0,x,Ke);for(dt in x)Ke=x[dt],rt=g[dt],!x.hasOwnProperty(dt)||Ke===rt||Ke===void 0&&rt===void 0||$p(o,h,dt,Ke,x,rt);return}}for(var Be in g)Ke=g[Be],g.hasOwnProperty(Be)&&Ke!=null&&!x.hasOwnProperty(Be)&&Jr(o,h,Be,null,x,Ke);for(_t in x)Ke=x[_t],rt=g[_t],!x.hasOwnProperty(_t)||Ke===rt||Ke==null&&rt==null||Jr(o,h,_t,Ke,x,rt)}var Ed=null,Hp=null;function _i(o){return o.nodeType===9?o:o.ownerDocument}function rh(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ff(o,h){if(o===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&h==="foreignObject"?0:o}function ec(o,h){return o==="textarea"||o==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var Vp=null;function E0(){var o=window.event;return o&&o.type==="popstate"?o===Vp?!1:(Vp=o,!0):(Vp=null,!1)}var jy=typeof setTimeout=="function"?setTimeout:void 0,R0=typeof clearTimeout=="function"?clearTimeout:void 0,I0=typeof Promise=="function"?Promise:void 0,k0=typeof queueMicrotask=="function"?queueMicrotask:typeof I0<"u"?function(o){return I0.resolve(null).then(o).catch(Kc)}:jy;function Kc(o){setTimeout(function(){throw o})}function tc(o){return o==="head"}function By(o,h){var g=h,x=0,E=0;do{var F=g.nextSibling;if(o.removeChild(g),F&&F.nodeType===8)if(g=F.data,g==="/$"){if(0<x&&8>x){g=x;var K=o.ownerDocument;if(g&1&&Jc(K.documentElement),g&2&&Jc(K.body),g&4)for(g=K.head,Jc(g),K=g.firstChild;K;){var le=K.nextSibling,Me=K.nodeName;K[Eo]||Me==="SCRIPT"||Me==="STYLE"||Me==="LINK"&&K.rel.toLowerCase()==="stylesheet"||g.removeChild(K),K=le}}if(E===0){o.removeChild(F),Qn(h);return}E--}else g==="$"||g==="$?"||g==="$!"?E++:x=g.charCodeAt(0)-48;else x=0;g=F}while(g);Qn(h)}function Wp(o){var h=o.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var g=h;switch(h=h.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":Wp(g),Ot(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}o.removeChild(g)}}function O0(o,h,g,x){for(;o.nodeType===1;){var E=g;if(o.nodeName.toLowerCase()!==h.toLowerCase()){if(!x&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(x){if(!o[Eo])switch(h){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(F=o.getAttribute("rel"),F==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(F!==E.rel||o.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||o.getAttribute("title")!==(E.title==null?null:E.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(F=o.getAttribute("src"),(F!==(E.src==null?null:E.src)||o.getAttribute("type")!==(E.type==null?null:E.type)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&F&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(h==="input"&&o.type==="hidden"){var F=E.name==null?null:""+E.name;if(E.type==="hidden"&&o.getAttribute("name")===F)return o}else return o;if(o=Yo(o.nextSibling),o===null)break}return null}function h_(o,h,g){if(h==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!g||(o=Yo(o.nextSibling),o===null))return null;return o}function qy(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function U0(o,h){var g=o.ownerDocument;if(o.data!=="$?"||g.readyState==="complete")h();else{var x=function(){h(),g.removeEventListener("DOMContentLoaded",x)};g.addEventListener("DOMContentLoaded",x),o._reactRetry=x}}function Yo(o){for(;o!=null;o=o.nextSibling){var h=o.nodeType;if(h===1||h===3)break;if(h===8){if(h=o.data,h==="$"||h==="$!"||h==="$?"||h==="F!"||h==="F")break;if(h==="/$")return null}}return o}var df=null;function $y(o){o=o.previousSibling;for(var h=0;o;){if(o.nodeType===8){var g=o.data;if(g==="$"||g==="$!"||g==="$?"){if(h===0)return o;h--}else g==="/$"&&h++}o=o.previousSibling}return null}function Rd(o,h,g){switch(h=_i(g),o){case"html":if(o=h.documentElement,!o)throw Error(i(452));return o;case"head":if(o=h.head,!o)throw Error(i(453));return o;case"body":if(o=h.body,!o)throw Error(i(454));return o;default:throw Error(i(451))}}function Jc(o){for(var h=o.attributes;h.length;)o.removeAttributeNode(h[0]);Ot(o)}var ji=new Map,L0=new Set;function Gp(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var rc=it.d;it.d={f:pf,r:Ba,D:z0,C:Vy,L:f_,m:F0,X:d_,S:N0,M:j0};function pf(){var o=rc.f(),h=Sd();return o||h}function Ba(o){var h=ur(o);h!==null&&h.tag===5&&h.type==="form"?Yr(h):rc.r(o)}var eu=typeof document>"u"?null:document;function Hy(o,h,g){var x=eu;if(x&&typeof h=="string"&&h){var E=mi(h);E='link[rel="'+o+'"][href="'+E+'"]',typeof g=="string"&&(E+='[crossorigin="'+g+'"]'),L0.has(E)||(L0.add(E),o={rel:o,crossOrigin:g,href:h},x.querySelector(E)===null&&(h=x.createElement("link"),ca(h,"link",o),mn(h),x.head.appendChild(h)))}}function z0(o){rc.D(o),Hy("dns-prefetch",o,null)}function Vy(o,h){rc.C(o,h),Hy("preconnect",o,h)}function f_(o,h,g){rc.L(o,h,g);var x=eu;if(x&&o&&h){var E='link[rel="preload"][as="'+mi(h)+'"]';h==="image"&&g&&g.imageSrcSet?(E+='[imagesrcset="'+mi(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(E+='[imagesizes="'+mi(g.imageSizes)+'"]')):E+='[href="'+mi(o)+'"]';var F=E;switch(h){case"style":F=tu(o);break;case"script":F=nh(o)}ji.has(F)||(o=T({rel:"preload",href:h==="image"&&g&&g.imageSrcSet?void 0:o,as:h},g),ji.set(F,o),x.querySelector(E)!==null||h==="style"&&x.querySelector(mf(F))||h==="script"&&x.querySelector(ah(F))||(h=x.createElement("link"),ca(h,"link",o),mn(h),x.head.appendChild(h)))}}function F0(o,h){rc.m(o,h);var g=eu;if(g&&o){var x=h&&typeof h.as=="string"?h.as:"script",E='link[rel="modulepreload"][as="'+mi(x)+'"][href="'+mi(o)+'"]',F=E;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":F=nh(o)}if(!ji.has(F)&&(o=T({rel:"modulepreload",href:o},h),ji.set(F,o),g.querySelector(E)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(ah(F)))return}x=g.createElement("link"),ca(x,"link",o),mn(x),g.head.appendChild(x)}}}function N0(o,h,g){rc.S(o,h,g);var x=eu;if(x&&o){var E=Zi(x).hoistableStyles,F=tu(o);h=h||"default";var K=E.get(F);if(!K){var le={loading:0,preload:null};if(K=x.querySelector(mf(F)))le.loading=5;else{o=T({rel:"stylesheet",href:o,"data-precedence":h},g),(g=ji.get(F))&&kd(o,g);var Me=K=x.createElement("link");mn(Me),ca(Me,"link",o),Me._p=new Promise(function(Ye,dt){Me.onload=Ye,Me.onerror=dt}),Me.addEventListener("load",function(){le.loading|=1}),Me.addEventListener("error",function(){le.loading|=2}),le.loading|=4,ru(K,h,x)}K={type:"stylesheet",instance:K,count:1,state:le},E.set(F,K)}}}function d_(o,h){rc.X(o,h);var g=eu;if(g&&o){var x=Zi(g).hoistableScripts,E=nh(o),F=x.get(E);F||(F=g.querySelector(ah(E)),F||(o=T({src:o,async:!0},h),(h=ji.get(E))&&Od(o,h),F=g.createElement("script"),mn(F),ca(F,"link",o),g.head.appendChild(F)),F={type:"script",instance:F,count:1,state:null},x.set(E,F))}}function j0(o,h){rc.M(o,h);var g=eu;if(g&&o){var x=Zi(g).hoistableScripts,E=nh(o),F=x.get(E);F||(F=g.querySelector(ah(E)),F||(o=T({src:o,async:!0,type:"module"},h),(h=ji.get(E))&&Od(o,h),F=g.createElement("script"),mn(F),ca(F,"link",o),g.head.appendChild(F)),F={type:"script",instance:F,count:1,state:null},x.set(E,F))}}function Zp(o,h,g,x){var E=(E=Dt.current)?Gp(E):null;if(!E)throw Error(i(446));switch(o){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(h=tu(g.href),g=Zi(E).hoistableStyles,x=g.get(h),x||(x={type:"style",instance:null,count:0,state:null},g.set(h,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){o=tu(g.href);var F=Zi(E).hoistableStyles,K=F.get(o);if(K||(E=E.ownerDocument||E,K={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},F.set(o,K),(F=E.querySelector(mf(o)))&&!F._p&&(K.instance=F,K.state.loading=5),ji.has(o)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},ji.set(o,g),F||Wy(E,o,g,K.state))),h&&x===null)throw Error(i(528,""));return K}if(h&&x!==null)throw Error(i(529,""));return null;case"script":return h=g.async,g=g.src,typeof g=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=nh(g),g=Zi(E).hoistableScripts,x=g.get(h),x||(x={type:"script",instance:null,count:0,state:null},g.set(h,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,o))}}function tu(o){return'href="'+mi(o)+'"'}function mf(o){return'link[rel="stylesheet"]['+o+"]"}function yf(o){return T({},o,{"data-precedence":o.precedence,precedence:null})}function Wy(o,h,g,x){o.querySelector('link[rel="preload"][as="style"]['+h+"]")?x.loading=1:(h=o.createElement("link"),x.preload=h,h.addEventListener("load",function(){return x.loading|=1}),h.addEventListener("error",function(){return x.loading|=2}),ca(h,"link",g),mn(h),o.head.appendChild(h))}function nh(o){return'[src="'+mi(o)+'"]'}function ah(o){return"script[async]"+o}function Id(o,h,g){if(h.count++,h.instance===null)switch(h.type){case"style":var x=o.querySelector('style[data-href~="'+mi(g.href)+'"]');if(x)return h.instance=x,mn(x),x;var E=T({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return x=(o.ownerDocument||o).createElement("style"),mn(x),ca(x,"style",E),ru(x,g.precedence,o),h.instance=x;case"stylesheet":E=tu(g.href);var F=o.querySelector(mf(E));if(F)return h.state.loading|=4,h.instance=F,mn(F),F;x=yf(g),(E=ji.get(E))&&kd(x,E),F=(o.ownerDocument||o).createElement("link"),mn(F);var K=F;return K._p=new Promise(function(le,Me){K.onload=le,K.onerror=Me}),ca(F,"link",x),h.state.loading|=4,ru(F,g.precedence,o),h.instance=F;case"script":return F=nh(g.src),(E=o.querySelector(ah(F)))?(h.instance=E,mn(E),E):(x=g,(E=ji.get(F))&&(x=T({},g),Od(x,E)),o=o.ownerDocument||o,E=o.createElement("script"),mn(E),ca(E,"link",x),o.head.appendChild(E),h.instance=E);case"void":return null;default:throw Error(i(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(x=h.instance,h.state.loading|=4,ru(x,g.precedence,o));return h.instance}function ru(o,h,g){for(var x=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=x.length?x[x.length-1]:null,F=E,K=0;K<x.length;K++){var le=x[K];if(le.dataset.precedence===h)F=le;else if(F!==E)break}F?F.parentNode.insertBefore(o,F.nextSibling):(h=g.nodeType===9?g.head:g,h.insertBefore(o,h.firstChild))}function kd(o,h){o.crossOrigin==null&&(o.crossOrigin=h.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=h.referrerPolicy),o.title==null&&(o.title=h.title)}function Od(o,h){o.crossOrigin==null&&(o.crossOrigin=h.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=h.referrerPolicy),o.integrity==null&&(o.integrity=h.integrity)}var gf=null;function B0(o,h,g){if(gf===null){var x=new Map,E=gf=new Map;E.set(g,x)}else E=gf,x=E.get(g),x||(x=new Map,E.set(g,x));if(x.has(o))return x;for(x.set(o,null),g=g.getElementsByTagName(o),E=0;E<g.length;E++){var F=g[E];if(!(F[Eo]||F[rr]||o==="link"&&F.getAttribute("rel")==="stylesheet")&&F.namespaceURI!=="http://www.w3.org/2000/svg"){var K=F.getAttribute(h)||"";K=o+K;var le=x.get(K);le?le.push(F):x.set(K,[F])}}return x}function l(o,h,g){o=o.ownerDocument||o,o.head.insertBefore(g,h==="title"?o.querySelector("head > title"):null)}function n(o,h,g){if(g===1||h.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;switch(h.rel){case"stylesheet":return o=h.disabled,typeof h.precedence=="string"&&o==null;default:return!0}case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function s(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var f=null;function v(){}function S(o,h,g){if(f===null)throw Error(i(475));var x=f;if(h.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var E=tu(g.href),F=o.querySelector(mf(E));if(F){o=F._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(x.count++,x=M.bind(x),o.then(x,x)),h.state.loading|=4,h.instance=F,mn(F);return}F=o.ownerDocument||o,g=yf(g),(E=ji.get(E))&&kd(g,E),F=F.createElement("link"),mn(F);var K=F;K._p=new Promise(function(le,Me){K.onload=le,K.onerror=Me}),ca(F,"link",g),h.instance=F}x.stylesheets===null&&(x.stylesheets=new Map),x.stylesheets.set(h,o),(o=h.state.preload)&&(h.state.loading&3)===0&&(x.count++,h=M.bind(x),o.addEventListener("load",h),o.addEventListener("error",h))}}function P(){if(f===null)throw Error(i(475));var o=f;return o.stylesheets&&o.count===0&&z(o,o.stylesheets),0<o.count?function(h){var g=setTimeout(function(){if(o.stylesheets&&z(o,o.stylesheets),o.unsuspend){var x=o.unsuspend;o.unsuspend=null,x()}},6e4);return o.unsuspend=h,function(){o.unsuspend=null,clearTimeout(g)}}:null}function M(){if(this.count--,this.count===0){if(this.stylesheets)z(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var I=null;function z(o,h){o.stylesheets=null,o.unsuspend!==null&&(o.count++,I=new Map,h.forEach(j,o),I=null,M.call(o))}function j(o,h){if(!(h.state.loading&4)){var g=I.get(o);if(g)var x=g.get(null);else{g=new Map,I.set(o,g);for(var E=o.querySelectorAll("link[data-precedence],style[data-precedence]"),F=0;F<E.length;F++){var K=E[F];(K.nodeName==="LINK"||K.getAttribute("media")!=="not all")&&(g.set(K.dataset.precedence,K),x=K)}x&&g.set(null,x)}E=h.instance,K=E.getAttribute("data-precedence"),F=g.get(K)||x,F===x&&g.set(null,E),g.set(K,E),this.count++,x=M.bind(this),E.addEventListener("load",x),E.addEventListener("error",x),F?F.parentNode.insertBefore(E,F.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(E,o.firstChild)),h.state.loading|=4}}var H={$$typeof:te,Provider:null,Consumer:null,_currentValue:Ge,_currentValue2:Ge,_threadCount:0};function Q(o,h,g,x,E,F,K,le){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.hiddenUpdates=zt(null),this.identifierPrefix=x,this.onUncaughtError=E,this.onCaughtError=F,this.onRecoverableError=K,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=le,this.incompleteTransitions=new Map}function ee(o,h,g,x,E,F,K,le,Me,Ye,dt,_t){return o=new Q(o,h,g,K,le,Me,Ye,_t),h=1,F===!0&&(h|=24),F=Oi(3,null,null,h),o.current=F,F.stateNode=o,h=Qs(),h.refCount++,o.pooledCache=h,h.refCount++,F.memoizedState={element:x,isDehydrated:g,cache:h},Bu(F),o}function re(o){return o?(o=gr,o):gr}function oe(o,h,g,x,E,F){E=re(E),x.context===null?x.context=E:x.pendingContext=E,x=Bo(h),x.payload={element:g},F=F===void 0?null:F,F!==null&&(x.callback=F),g=hs(o,x,h),g!==null&&(Ni(g,o,h),Nc(g,o,h))}function ue(o,h){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var g=o.retryLane;o.retryLane=g!==0&&g<h?g:h}}function ge(o,h){ue(o,h),(o=o.alternate)&&ue(o,h)}function Fe(o){if(o.tag===13){var h=ki(o,67108864);h!==null&&Ni(h,o,67108864),ge(o,67108864)}}var Pe=!0;function Te(o,h,g,x){var E=je.T;je.T=null;var F=it.p;try{it.p=2,tt(o,h,g,x)}finally{it.p=F,je.T=E}}function Ze(o,h,g,x){var E=je.T;je.T=null;var F=it.p;try{it.p=8,tt(o,h,g,x)}finally{it.p=F,je.T=E}}function tt(o,h,g,x){if(Pe){var E=yt(x);if(E===null)zy(o,h,x,It,g),Ar(o,x);else if(ua(E,o,h,g,x))x.stopPropagation();else if(Ar(o,x),h&4&&-1<Vt.indexOf(o)){for(;E!==null;){var F=ur(E);if(F!==null)switch(F.tag){case 3:if(F=F.stateNode,F.current.memoizedState.isDehydrated){var K=Oe(F.pendingLanes);if(K!==0){var le=F;for(le.pendingLanes|=2,le.entangledLanes|=2;K;){var Me=1<<31-Re(K);le.entanglements[1]|=Me,K&=~Me}ws(F),(nn&6)===0&&(_d=Lr()+500,uf(0))}}break;case 13:le=ki(F,2),le!==null&&Ni(le,F,2),Sd(),ge(F,2)}if(F=yt(x),F===null&&zy(o,h,x,It,g),F===E)break;E=F}E!==null&&x.stopPropagation()}else zy(o,h,x,null,g)}}function yt(o){return o=_c(o),At(o)}var It=null;function At(o){if(It=null,o=mr(o),o!==null){var h=p(o);if(h===null)o=null;else{var g=h.tag;if(g===13){if(o=y(h),o!==null)return o;o=null}else if(g===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;o=null}else h!==o&&(o=null)}}return It=o,null}function kt(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bn()){case Kn:return 2;case Wa:return 8;case xa:case Gi:return 32;case Ti:return 268435456;default:return 32}default:return 32}}var Zt=!1,Ct=null,Tt=null,ct=null,er=new Map,nr=new Map,Wt=[],Vt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ar(o,h){switch(o){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":er.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":nr.delete(h.pointerId)}}function on(o,h,g,x,E,F){return o===null||o.nativeEvent!==F?(o={blockedOn:h,domEventName:g,eventSystemFlags:x,nativeEvent:F,targetContainers:[E]},h!==null&&(h=ur(h),h!==null&&Fe(h)),o):(o.eventSystemFlags|=x,h=o.targetContainers,E!==null&&h.indexOf(E)===-1&&h.push(E),o)}function ua(o,h,g,x,E){switch(h){case"focusin":return Ct=on(Ct,o,h,g,x,E),!0;case"dragenter":return Tt=on(Tt,o,h,g,x,E),!0;case"mouseover":return ct=on(ct,o,h,g,x,E),!0;case"pointerover":var F=E.pointerId;return er.set(F,on(er.get(F)||null,o,h,g,x,E)),!0;case"gotpointercapture":return F=E.pointerId,nr.set(F,on(nr.get(F)||null,o,h,g,x,E)),!0}return!1}function Ta(o){var h=mr(o.target);if(h!==null){var g=p(h);if(g!==null){if(h=g.tag,h===13){if(h=y(g),h!==null){o.blockedOn=h,aa(o.priority,function(){if(g.tag===13){var x=li();x=or(x);var E=ki(g,x);E!==null&&Ni(E,g,x),ge(g,x)}});return}}else if(h===3&&g.stateNode.current.memoizedState.isDehydrated){o.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}o.blockedOn=null}function bi(o){if(o.blockedOn!==null)return!1;for(var h=o.targetContainers;0<h.length;){var g=yt(o.nativeEvent);if(g===null){g=o.nativeEvent;var x=new g.constructor(g.type,g);rs=x,g.target.dispatchEvent(x),rs=null}else return h=ur(g),h!==null&&Fe(h),o.blockedOn=g,!1;h.shift()}return!0}function xi(o,h,g){bi(o)&&g.delete(h)}function Ea(){Zt=!1,Ct!==null&&bi(Ct)&&(Ct=null),Tt!==null&&bi(Tt)&&(Tt=null),ct!==null&&bi(ct)&&(ct=null),er.forEach(xi),nr.forEach(xi)}function sn(o,h){o.blockedOn===h&&(o.blockedOn=null,Zt||(Zt=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ea)))}var Yn=null;function ba(o){Yn!==o&&(Yn=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Yn===o&&(Yn=null);for(var h=0;h<o.length;h+=3){var g=o[h],x=o[h+1],E=o[h+2];if(typeof x!="function"){if(At(x||g)===null)continue;break}var F=ur(g);F!==null&&(o.splice(h,3),h-=3,rn(F,{pending:!0,data:E,method:g.method,action:x},x,E))}}))}function Qn(o){function h(Me){return sn(Me,o)}Ct!==null&&sn(Ct,o),Tt!==null&&sn(Tt,o),ct!==null&&sn(ct,o),er.forEach(h),nr.forEach(h);for(var g=0;g<Wt.length;g++){var x=Wt[g];x.blockedOn===o&&(x.blockedOn=null)}for(;0<Wt.length&&(g=Wt[0],g.blockedOn===null);)Ta(g),g.blockedOn===null&&Wt.shift();if(g=(o.ownerDocument||o).$$reactFormReplay,g!=null)for(x=0;x<g.length;x+=3){var E=g[x],F=g[x+1],K=E[sr]||null;if(typeof F=="function")K||ba(g);else if(K){var le=null;if(F&&F.hasAttribute("formAction")){if(E=F,K=F[sr]||null)le=K.formAction;else if(At(E)!==null)continue}else le=K.action;typeof le=="function"?g[x+1]=le:(g.splice(x,3),x-=3),ba(g)}}}function qa(o){this._internalRoot=o}Si.prototype.render=qa.prototype.render=function(o){var h=this._internalRoot;if(h===null)throw Error(i(409));var g=h.current,x=li();oe(g,x,o,h,null,null)},Si.prototype.unmount=qa.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var h=o.containerInfo;oe(o.current,2,null,o,null,null),Sd(),h[pn]=null}};function Si(o){this._internalRoot=o}Si.prototype.unstable_scheduleHydration=function(o){if(o){var h=Jn();o={blockedOn:null,target:o,priority:h};for(var g=0;g<Wt.length&&h!==0&&h<Wt[g].priority;g++);Wt.splice(g,0,o),g===0&&Ta(o)}};var ha=t.version;if(ha!=="19.1.1")throw Error(i(527,ha,"19.1.1"));it.findDOMNode=function(o){var h=o._reactInternals;if(h===void 0)throw typeof o.render=="function"?Error(i(188)):(o=Object.keys(o).join(","),Error(i(268,o)));return o=A(h),o=o!==null?C(o):null,o=o===null?null:o.stateNode,o};var Bi={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:je,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nn=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nn.isDisabled&&Nn.supportsFiber)try{di=Nn.inject(Bi),Dn=Nn}catch{}}return Zy.createRoot=function(o,h){if(!d(o))throw Error(i(299));var g=!1,x="",E=ad,F=Gm,K=Yg,le=null;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(x=h.identifierPrefix),h.onUncaughtError!==void 0&&(E=h.onUncaughtError),h.onCaughtError!==void 0&&(F=h.onCaughtError),h.onRecoverableError!==void 0&&(K=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(le=h.unstable_transitionCallbacks)),h=ee(o,1,!1,null,null,g,x,E,F,K,le,null),o[pn]=h.current,Ly(o),new qa(h)},Zy.hydrateRoot=function(o,h,g){if(!d(o))throw Error(i(299));var x=!1,E="",F=ad,K=Gm,le=Yg,Me=null,Ye=null;return g!=null&&(g.unstable_strictMode===!0&&(x=!0),g.identifierPrefix!==void 0&&(E=g.identifierPrefix),g.onUncaughtError!==void 0&&(F=g.onUncaughtError),g.onCaughtError!==void 0&&(K=g.onCaughtError),g.onRecoverableError!==void 0&&(le=g.onRecoverableError),g.unstable_transitionCallbacks!==void 0&&(Me=g.unstable_transitionCallbacks),g.formState!==void 0&&(Ye=g.formState)),h=ee(o,1,!0,h,g??null,x,E,F,K,le,Me,Ye),h.context=re(null),g=h.current,x=li(),x=or(x),E=Bo(x),E.callback=null,hs(g,E,x),g=x,h.current.lanes=g,ze(h,g),ws(h),o[pn]=h.current,Ly(o),new Si(h)},Zy.version="19.1.1",Zy}var Iw;function jE(){if(Iw)return g_.exports;Iw=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),g_.exports=NE(),g_.exports}var BE=jE();const qE="/what_makes_lands_happy/world-map-svgrepo-com.svg",ih=JSON.parse('[{"Country":"Finland","Country_clean":"finland","Region":"Western Europe","Happiness (score 0-10)":7.741,"Median Salary (USD/year)":4238.9,"Average Salary (USD/year)":4978.86,"Lowest Salary (USD/year)":1257.93,"Highest Salary (USD/year)":22093.02,"IQAir_AQI (AQI index)":5.25,"Infant Survival Rate (per 1000 births)":1000,"Alcohol Consumption Rate (liters per capita per year)":8.8,"Life Expectancy (years)":81.1,"Netflix":13.54,"Women Safety Index (score 0-1)":0.924,"Average Winter Temperature (°C)":-12.356432,"Average Summer Temperature (°C)":-4.902662,"Population (people)":5540745,"Energy Per Capita (kWh per capita)":58966.16,"% of Power from Fossil Fuels (%)":10.769,"% of Power from Nuclear (%)":34.333,"% of Power from Renewables (%)":54.898,"% of Agricultural Land (%)":7.4618100417,"% of Forest Land (%)":73.7264996577,"Territory (sq km)":303947.7,"Average Rainfall (mm/year)":536,"Corruption (std score)":0.1622093022,"Wheat Production (tonnes)":2640555,"Rye Production (tonnes)":1200,"Potatoes Production (tonnes)":38388000,"Meat, Chicken Production (tonnes)":54950,"Avocados Production (tonnes)":2243396.8,"Petrol Price (USD/liter)":2.64,"Daily Oil Consumption (barrels/day)":210030,"CO2 Emissions (tonnes per capita)":7.372854761,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":8746.09,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":38.9,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":22.85,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":2.71,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":84.3,"GDP Per Capita (USD/year)":48416.93603,"Military Expenditure (USD/year)":3849013845,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":1.6,"Average Age (years)":43.043,"Inflation Rate (year, %)":7.1},{"Country":"Denmark","Country_clean":"denmark","Region":"Western Europe","Happiness (score 0-10)":7.583,"Median Salary (USD/year)":5084.99,"Average Salary (USD/year)":5779.04,"Lowest Salary (USD/year)":1458.92,"Highest Salary (USD/year)":25637.39,"IQAir_AQI (AQI index)":9.7,"Infant Survival Rate (per 1000 births)":1000,"Alcohol Consumption Rate (liters per capita per year)":9.64,"Life Expectancy (years)":86,"Netflix":15.04,"Women Safety Index (score 0-1)":0.932,"Average Winter Temperature (°C)":1.278225,"Average Summer Temperature (°C)":5.266599,"Population (people)":5882261,"Energy Per Capita (kWh per capita)":32197.939,"% of Power from Fossil Fuels (%)":16.037,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":83.963,"% of Agricultural Land (%)":65.45,"% of Forest Land (%)":15.7345,"Territory (sq km)":40000,"Average Rainfall (mm/year)":703,"Corruption (std score)":0.1622093022,"Wheat Production (tonnes)":37885740,"Rye Production (tonnes)":2000,"Potatoes Production (tonnes)":28781776,"Meat, Chicken Production (tonnes)":94712,"Avocados Production (tonnes)":2300,"Petrol Price (USD/liter)":2.65,"Daily Oil Consumption (barrels/day)":158194,"CO2 Emissions (tonnes per capita)":5.107988509,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":7808.48,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":40.68,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":37.29,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":3.25,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":113.4,"GDP Per Capita (USD/year)":55671.16527,"Military Expenditure (USD/year)":4228194254,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":1,"Average Age (years)":42.743,"Inflation Rate (year, %)":7.7},{"Country":"Iceland","Country_clean":"iceland","Region":"Western Europe","Happiness (score 0-10)":7.525,"Median Salary (USD/year)":4661.2,"Average Salary (USD/year)":5049.03,"Lowest Salary (USD/year)":1273.23,"Highest Salary (USD/year)":22464.51,"IQAir_AQI (AQI index)":4.9,"Infant Survival Rate (per 1000 births)":1000,"Alcohol Consumption Rate (liters per capita per year)":7.45,"Life Expectancy (years)":82.7,"Netflix":14.67,"Women Safety Index (score 0-1)":0.924,"Average Winter Temperature (°C)":-4.115238,"Average Summer Temperature (°C)":-3.5402563,"Population (people)":372899,"Energy Per Capita (kWh per capita)":165870.875,"% of Power from Fossil Fuels (%)":0,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":99.986,"% of Agricultural Land (%)":18.5659030051,"% of Forest Land (%)":0.5157522563,"Territory (sq km)":100830,"Average Rainfall (mm/year)":1940,"Corruption (std score)":0.2001170814,"Wheat Production (tonnes)":1290.74,"Rye Production (tonnes)":46331.4,"Potatoes Production (tonnes)":294,"Meat, Chicken Production (tonnes)":2790,"Avocados Production (tonnes)":84114,"Petrol Price (USD/liter)":2.6,"Daily Oil Consumption (barrels/day)":19090,"CO2 Emissions (tonnes per capita)":4.548442258,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":6309.67,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":64.15,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":65.69,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":2.44,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":106.31,"GDP Per Capita (USD/year)":57303.06078,"Military Expenditure (USD/year)":0,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":1.5,"Average Age (years)":38.008,"Inflation Rate (year, %)":8.3},{"Country":"Sweden","Country_clean":"sweden","Region":"Western Europe","Happiness (score 0-10)":7.344,"Median Salary (USD/year)":3568.16,"Average Salary (USD/year)":4144.56,"Lowest Salary (USD/year)":1043,"Highest Salary (USD/year)":18389.75,"IQAir_AQI (AQI index)":6.1,"Infant Survival Rate (per 1000 births)":1000,"Alcohol Consumption Rate (liters per capita per year)":7.3,"Life Expectancy (years)":82.4,"Netflix":14.2,"Women Safety Index (score 0-1)":0.926,"Average Winter Temperature (°C)":-8.132298,"Average Summer Temperature (°C)":-2.8563125,"Population (people)":10549347,"Energy Per Capita (kWh per capita)":59926.805,"% of Power from Fossil Fuels (%)":1.782,"% of Power from Nuclear (%)":29.835,"% of Power from Renewables (%)":68.383,"% of Agricultural Land (%)":7.3730207707,"% of Forest Land (%)":68.6990689582,"Territory (sq km)":407283.54,"Average Rainfall (mm/year)":624,"Corruption (std score)":0.1622093022,"Wheat Production (tonnes)":5007.8,"Rye Production (tonnes)":34011.166,"Potatoes Production (tonnes)":3368,"Meat, Chicken Production (tonnes)":279,"Avocados Production (tonnes)":38349.266,"Petrol Price (USD/liter)":2.3,"Daily Oil Consumption (barrels/day)":322109,"CO2 Emissions (tonnes per capita)":3.405037919,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":11124.31,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":43.09,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":34.07,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":2.29,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":77.47,"GDP Per Capita (USD/year)":53208.88436,"Military Expenditure (USD/year)":5755367603,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":1.2,"Average Age (years)":41.961,"Inflation Rate (year, %)":8.4},{"Country":"Israel","Country_clean":"israel","Region":"Middle East and North Africa","Happiness (score 0-10)":7.341,"Median Salary (USD/year)":null,"Average Salary (USD/year)":null,"Lowest Salary (USD/year)":null,"Highest Salary (USD/year)":null,"IQAir_AQI (AQI index)":18.25,"Infant Survival Rate (per 1000 births)":1000,"Alcohol Consumption Rate (liters per capita per year)":2.62,"Life Expectancy (years)":82.5,"Netflix":15.05,"Women Safety Index (score 0-1)":0.703,"Average Winter Temperature (°C)":13.687662,"Average Summer Temperature (°C)":13.979397,"Population (people)":9038309,"Energy Per Capita (kWh per capita)":33643.016,"% of Power from Fossil Fuels (%)":93.227,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":9.508,"% of Agricultural Land (%)":29.7365988909,"% of Forest Land (%)":6.4695009242,"Territory (sq km)":21640,"Average Rainfall (mm/year)":435,"Corruption (std score)":0.2001170814,"Wheat Production (tonnes)":85400,"Rye Production (tonnes)":6347351.2,"Potatoes Production (tonnes)":1379223,"Meat, Chicken Production (tonnes)":7098960,"Avocados Production (tonnes)":41217,"Petrol Price (USD/liter)":2.1,"Daily Oil Consumption (barrels/day)":236249,"CO2 Emissions (tonnes per capita)":6.919593718,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":11468.34,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":71.34,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":27.66,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":2.4,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":88.08,"GDP Per Capita (USD/year)":39919.16965,"Military Expenditure (USD/year)":15946788601,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":1.5,"Average Age (years)":31.671,"Inflation Rate (year, %)":4.4},{"Country":"Netherlands","Country_clean":"netherlands","Region":"Western Europe","Happiness (score 0-10)":7.319,"Median Salary (USD/year)":4756.87,"Average Salary (USD/year)":5179.7,"Lowest Salary (USD/year)":1427.06,"Highest Salary (USD/year)":22515.86,"IQAir_AQI (AQI index)":10.65,"Infant Survival Rate (per 1000 births)":999,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":81.9,"Netflix":13.54,"Women Safety Index (score 0-1)":0.908,"Average Winter Temperature (°C)":3.8456993,"Average Summer Temperature (°C)":6.0171475,"Population (people)":17564014,"Energy Per Capita (kWh per capita)":56000.762,"% of Power from Fossil Fuels (%)":56.704,"% of Power from Nuclear (%)":3.425,"% of Power from Renewables (%)":39.871,"% of Agricultural Land (%)":53.8164538165,"% of Forest Land (%)":11.001980992,"Territory (sq km)":33670,"Average Rainfall (mm/year)":778,"Corruption (std score)":0.1622093022,"Wheat Production (tonnes)":86110,"Rye Production (tonnes)":1142391.36,"Potatoes Production (tonnes)":14154907,"Meat, Chicken Production (tonnes)":3756,"Avocados Production (tonnes)":5300,"Petrol Price (USD/liter)":2.47,"Daily Oil Consumption (barrels/day)":937098,"CO2 Emissions (tonnes per capita)":8.437074627,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":9815.34,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":42.77,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":49.7,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":2.72,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":84.3,"GDP Per Capita (USD/year)":56328.94114,"Military Expenditure (USD/year)":11242755804,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":0.6,"Average Age (years)":43.184,"Inflation Rate (year, %)":10},{"Country":"Norway","Country_clean":"norway","Region":"Western Europe","Happiness (score 0-10)":7.302,"Median Salary (USD/year)":4420.02,"Average Salary (USD/year)":4786.34,"Lowest Salary (USD/year)":1208.23,"Highest Salary (USD/year)":21281.57,"IQAir_AQI (AQI index)":7.45,"Infant Survival Rate (per 1000 births)":1000,"Alcohol Consumption Rate (liters per capita per year)":5.97,"Life Expectancy (years)":81.8,"Netflix":12.17,"Women Safety Index (score 0-1)":0.92,"Average Winter Temperature (°C)":-8.88361,"Average Summer Temperature (°C)":-4.446233,"Population (people)":5434319,"Energy Per Capita (kWh per capita)":96926.234,"% of Power from Fossil Fuels (%)":1.028,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":98.972,"% of Agricultural Land (%)":2.7040382134,"% of Forest Land (%)":33.4581491751,"Territory (sq km)":364270,"Average Rainfall (mm/year)":1414,"Corruption (std score)":0.1814468056,"Wheat Production (tonnes)":null,"Rye Production (tonnes)":null,"Potatoes Production (tonnes)":null,"Meat, Chicken Production (tonnes)":null,"Avocados Production (tonnes)":null,"Petrol Price (USD/liter)":2.7,"Daily Oil Consumption (barrels/day)":204090,"CO2 Emissions (tonnes per capita)":6.722269985,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":9925.38,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":46.68,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":50.07,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":3.23,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":112,"GDP Per Capita (USD/year)":65510.58527,"Military Expenditure (USD/year)":7067073381,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":0.6,"Average Age (years)":40.592,"Inflation Rate (year, %)":5.8},{"Country":"Luxembourg","Country_clean":"luxembourg","Region":"Western Europe","Happiness (score 0-10)":7.122,"Median Salary (USD/year)":4767.44,"Average Salary (USD/year)":5211.42,"Lowest Salary (USD/year)":1310.78,"Highest Salary (USD/year)":23150.11,"IQAir_AQI (AQI index)":8.7,"Infant Survival Rate (per 1000 births)":1000,"Alcohol Consumption Rate (liters per capita per year)":11.12,"Life Expectancy (years)":82,"Netflix":null,"Women Safety Index (score 0-1)":0.924,"Average Winter Temperature (°C)":1.5896153,"Average Summer Temperature (°C)":2.84097,"Population (people)":647599,"Energy Per Capita (kWh per capita)":60334.328,"% of Power from Fossil Fuels (%)":14.159,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":85.841,"% of Agricultural Land (%)":51.5879058133,"% of Forest Land (%)":34.4538272104,"Territory (sq km)":2574.46,"Average Rainfall (mm/year)":934,"Corruption (std score)":0.1622093022,"Wheat Production (tonnes)":22278900,"Rye Production (tonnes)":2792668.5,"Potatoes Production (tonnes)":2749.14,"Meat, Chicken Production (tonnes)":187,"Avocados Production (tonnes)":23943,"Petrol Price (USD/liter)":2.09,"Daily Oil Consumption (barrels/day)":56194,"CO2 Emissions (tonnes per capita)":15.30642656,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":13245.18,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":49.66,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":56.49,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":3.14,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":89.57,"GDP Per Capita (USD/year)":113337.4205,"Military Expenditure (USD/year)":419372654.8,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":0.2,"Average Age (years)":40.291,"Inflation Rate (year, %)":6.3},{"Country":"Switzerland","Country_clean":"switzerland","Region":"Western Europe","Happiness (score 0-10)":7.06,"Median Salary (USD/year)":9836.07,"Average Salary (USD/year)":11292.9,"Lowest Salary (USD/year)":2850.27,"Highest Salary (USD/year)":50363.93,"IQAir_AQI (AQI index)":9.55,"Infant Survival Rate (per 1000 births)":1000,"Alcohol Consumption Rate (liters per capita per year)":9.61,"Life Expectancy (years)":83.4,"Netflix":20.46,"Women Safety Index (score 0-1)":0.928,"Average Winter Temperature (°C)":-2.5467072,"Average Summer Temperature (°C)":-1.4338865,"Population (people)":8740472,"Energy Per Capita (kWh per capita)":33350.754,"% of Power from Fossil Fuels (%)":3.631,"% of Power from Nuclear (%)":36.964,"% of Power from Renewables (%)":59.406,"% of Agricultural Land (%)":37.9496922649,"% of Forest Land (%)":32.2086033203,"Territory (sq km)":39509.63,"Average Rainfall (mm/year)":1537,"Corruption (std score)":0.2001170814,"Wheat Production (tonnes)":702495.4,"Rye Production (tonnes)":118594,"Potatoes Production (tonnes)":6485000,"Meat, Chicken Production (tonnes)":100.8,"Avocados Production (tonnes)":226048.64,"Petrol Price (USD/liter)":2.19,"Daily Oil Consumption (barrels/day)":228194,"CO2 Emissions (tonnes per capita)":4.359041462,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":12643.33,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":64.35,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":54.39,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":4.15,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":106.85,"GDP Per Capita (USD/year)":68060.94105,"Military Expenditure (USD/year)":4795847181,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":0.5,"Average Age (years)":43.919,"Inflation Rate (year, %)":2.8},{"Country":"Australia","Country_clean":"australia","Region":"North America and ANZ","Happiness (score 0-10)":7.057,"Median Salary (USD/year)":4306.45,"Average Salary (USD/year)":4903.23,"Lowest Salary (USD/year)":1236.13,"Highest Salary (USD/year)":21774.19,"IQAir_AQI (AQI index)":5.4,"Infant Survival Rate (per 1000 births)":999,"Alcohol Consumption Rate (liters per capita per year)":9.71,"Life Expectancy (years)":82.8,"Netflix":12.12,"Women Safety Index (score 0-1)":0.902,"Average Winter Temperature (°C)":28.664902,"Average Summer Temperature (°C)":29.092043,"Population (people)":26177413,"Energy Per Capita (kWh per capita)":63458.84,"% of Power from Fossil Fuels (%)":67.697,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":32.303,"% of Agricultural Land (%)":47.2592374955,"% of Forest Land (%)":17.4213145572,"Territory (sq km)":7692020,"Average Rainfall (mm/year)":534,"Corruption (std score)":0.1621359587,"Wheat Production (tonnes)":1970363.6,"Rye Production (tonnes)":269,"Potatoes Production (tonnes)":767261.1,"Meat, Chicken Production (tonnes)":1191322,"Avocados Production (tonnes)":202541,"Petrol Price (USD/liter)":1.38,"Daily Oil Consumption (barrels/day)":1114645,"CO2 Emissions (tonnes per capita)":15.23826715,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":11820.92,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":57.5,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":50.66,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":2.23,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":81.55,"GDP Per Capita (USD/year)":51663.36509,"Military Expenditure (USD/year)":26711834225,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":0.9,"Average Age (years)":39.6,"Inflation Rate (year, %)":6.6},{"Country":"New Zealand","Country_clean":"new zealand","Region":"North America and ANZ","Happiness (score 0-10)":7.029,"Median Salary (USD/year)":4196.41,"Average Salary (USD/year)":4870.06,"Lowest Salary (USD/year)":1227.54,"Highest Salary (USD/year)":21656.29,"IQAir_AQI (AQI index)":8.6,"Infant Survival Rate (per 1000 births)":1000,"Alcohol Consumption Rate (liters per capita per year)":8.7,"Life Expectancy (years)":81.6,"Netflix":12.53,"Women Safety Index (score 0-1)":0.904,"Average Winter Temperature (°C)":15.329823,"Average Summer Temperature (°C)":16.2116,"Population (people)":5185288,"Energy Per Capita (kWh per capita)":44939.27,"% of Power from Fossil Fuels (%)":14.444,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":85.556,"% of Agricultural Land (%)":38.6426645399,"% of Forest Land (%)":37.6306509438,"Territory (sq km)":263310,"Average Rainfall (mm/year)":1732,"Corruption (std score)":0.1743465513,"Wheat Production (tonnes)":93719040,"Rye Production (tonnes)":1116969.72,"Potatoes Production (tonnes)":919200,"Meat, Chicken Production (tonnes)":4000,"Avocados Production (tonnes)":271591.974,"Petrol Price (USD/liter)":2.07,"Daily Oil Consumption (barrels/day)":166913,"CO2 Emissions (tonnes per capita)":6.830414187,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":8666.88,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":47.4,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":54.87,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":2.46,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":76.97,"GDP Per Capita (USD/year)":41005.42087,"Military Expenditure (USD/year)":2262928312,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":2.6,"Average Age (years)":38.172,"Inflation Rate (year, %)":7.2},{"Country":"Costa Rica","Country_clean":"costa rica","Region":"Latin America and Caribbean","Happiness (score 0-10)":6.955,"Median Salary (USD/year)":4016.06,"Average Salary (USD/year)":4427.01,"Lowest Salary (USD/year)":1115.16,"Highest Salary (USD/year)":19613.34,"IQAir_AQI (AQI index)":7.8,"Infant Survival Rate (per 1000 births)":999,"Alcohol Consumption Rate (liters per capita per year)":3.45,"Life Expectancy (years)":79.6,"Netflix":12.99,"Women Safety Index (score 0-1)":0.743,"Average Winter Temperature (°C)":22.746216,"Average Summer Temperature (°C)":23.510368,"Population (people)":5180829,"Energy Per Capita (kWh per capita)":11957.598,"% of Power from Fossil Fuels (%)":1.979,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":98.021,"% of Agricultural Land (%)":35.4680767724,"% of Forest Land (%)":59.7579318449,"Territory (sq km)":51060,"Average Rainfall (mm/year)":2926,"Corruption (std score)":0.1670125574,"Wheat Production (tonnes)":195069710,"Rye Production (tonnes)":124200,"Potatoes Production (tonnes)":695604,"Meat, Chicken Production (tonnes)":569.91,"Avocados Production (tonnes)":380,"Petrol Price (USD/liter)":1.55,"Daily Oil Consumption (barrels/day)":55000,"CO2 Emissions (tonnes per capita)":1.632471558,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":1219.89,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":37.24,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":46.23,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":1.27,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":33.42,"GDP Per Capita (USD/year)":17671.09535,"Military Expenditure (USD/year)":0,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":11.2,"Average Age (years)":32.406,"Inflation Rate (year, %)":8.3},{"Country":"Kuwait","Country_clean":"kuwait","Region":"Middle East and North Africa","Happiness (score 0-10)":6.951,"Median Salary (USD/year)":null,"Average Salary (USD/year)":null,"Lowest Salary (USD/year)":null,"Highest Salary (USD/year)":null,"IQAir_AQI (AQI index)":29.55,"Infant Survival Rate (per 1000 births)":1000,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":74.7,"Netflix":null,"Women Safety Index (score 0-1)":0.742,"Average Winter Temperature (°C)":14.190281,"Average Summer Temperature (°C)":16.082039,"Population (people)":4268873,"Energy Per Capita (kWh per capita)":103882.75,"% of Power from Fossil Fuels (%)":99.93,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":0.258,"% of Agricultural Land (%)":8.4175084175,"% of Forest Land (%)":0.3507295174,"Territory (sq km)":17820,"Average Rainfall (mm/year)":121,"Corruption (std score)":0.1987654865,"Wheat Production (tonnes)":413533,"Rye Production (tonnes)":433732.2,"Potatoes Production (tonnes)":190000,"Meat, Chicken Production (tonnes)":371700,"Avocados Production (tonnes)":264535,"Petrol Price (USD/liter)":0.34,"Daily Oil Consumption (barrels/day)":359000,"CO2 Emissions (tonnes per capita)":22.0224164,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":7057.23,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":124.6,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":29.68,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.47,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":52.13,"GDP Per Capita (USD/year)":72897.56235,"Military Expenditure (USD/year)":7296266526,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":1.8,"Average Age (years)":34.008,"Inflation Rate (year, %)":null},{"Country":"Austria","Country_clean":"austria","Region":"Western Europe","Happiness (score 0-10)":6.905,"Median Salary (USD/year)":3572.94,"Average Salary (USD/year)":4016.91,"Lowest Salary (USD/year)":1014.8,"Highest Salary (USD/year)":17864.69,"IQAir_AQI (AQI index)":10.9,"Infant Survival Rate (per 1000 births)":1000,"Alcohol Consumption Rate (liters per capita per year)":12.32,"Life Expectancy (years)":81.5,"Netflix":14.67,"Women Safety Index (score 0-1)":0.911,"Average Winter Temperature (°C)":-1.6856745,"Average Summer Temperature (°C)":-0.967524,"Population (people)":8939617,"Energy Per Capita (kWh per capita)":42685.379,"% of Power from Fossil Fuels (%)":23.713,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":76.287,"% of Agricultural Land (%)":31.4767256423,"% of Forest Land (%)":47.2944740669,"Territory (sq km)":82520,"Average Rainfall (mm/year)":1110,"Corruption (std score)":0.1622093022,"Wheat Production (tonnes)":1041825,"Rye Production (tonnes)":4076,"Potatoes Production (tonnes)":0,"Meat, Chicken Production (tonnes)":125900,"Avocados Production (tonnes)":260,"Petrol Price (USD/liter)":2.13,"Daily Oil Consumption (barrels/day)":262352,"CO2 Emissions (tonnes per capita)":7.293984252,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":9318.15,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":29.72,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":34.15,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":3.03,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":63.22,"GDP Per Capita (USD/year)":55454.68929,"Military Expenditure (USD/year)":3367460383,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":0.7,"Average Age (years)":44.785,"Inflation Rate (year, %)":8.5},{"Country":"Canada","Country_clean":"canada","Region":"North America and ANZ","Happiness (score 0-10)":6.9,"Median Salary (USD/year)":6311.03,"Average Salary (USD/year)":7352.94,"Lowest Salary (USD/year)":1850,"Highest Salary (USD/year)":32720.59,"IQAir_AQI (AQI index)":7.3,"Infant Survival Rate (per 1000 births)":998,"Alcohol Consumption Rate (liters per capita per year)":8.1,"Life Expectancy (years)":82.2,"Netflix":11.87,"Women Safety Index (score 0-1)":0.885,"Average Winter Temperature (°C)":-19.196556,"Average Summer Temperature (°C)":-14.700624,"Population (people)":38454327,"Energy Per Capita (kWh per capita)":102160.289,"% of Power from Fossil Fuels (%)":17.368,"% of Power from Nuclear (%)":12.888,"% of Power from Renewables (%)":69.744,"% of Agricultural Land (%)":6.4845767861,"% of Forest Land (%)":39.4701279256,"Territory (sq km)":8788700,"Average Rainfall (mm/year)":537,"Corruption (std score)":0.1705811173,"Wheat Production (tonnes)":96520,"Rye Production (tonnes)":10210326,"Potatoes Production (tonnes)":13000,"Meat, Chicken Production (tonnes)":17203.52,"Avocados Production (tonnes)":31000,"Petrol Price (USD/liter)":1.79,"Daily Oil Consumption (barrels/day)":2486301,"CO2 Emissions (tonnes per capita)":15.43061283,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":9834.67,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":46.66,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":54.91,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":1.95,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":85.23,"GDP Per Capita (USD/year)":48130.25597,"Military Expenditure (USD/year)":21620598712,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":2,"Average Age (years)":41.923,"Inflation Rate (year, %)":6.8},{"Country":"Belgium","Country_clean":"belgium","Region":"Western Europe","Happiness (score 0-10)":6.894,"Median Salary (USD/year)":5729.39,"Average Salary (USD/year)":6522.2,"Lowest Salary (USD/year)":1997.89,"Highest Salary (USD/year)":27378.44,"IQAir_AQI (AQI index)":11.9,"Infant Survival Rate (per 1000 births)":1000,"Alcohol Consumption Rate (liters per capita per year)":12.6,"Life Expectancy (years)":81.1,"Netflix":15.24,"Women Safety Index (score 0-1)":0.902,"Average Winter Temperature (°C)":2.9873695,"Average Summer Temperature (°C)":4.751282,"Population (people)":11655930,"Energy Per Capita (kWh per capita)":58395.824,"% of Power from Fossil Fuels (%)":27.892,"% of Power from Nuclear (%)":46.659,"% of Power from Renewables (%)":25.449,"% of Agricultural Land (%)":45.1013870542,"% of Forest Land (%)":22.7642007926,"Territory (sq km)":30280,"Average Rainfall (mm/year)":847,"Corruption (std score)":0.1622093022,"Wheat Production (tonnes)":240533,"Rye Production (tonnes)":219,"Potatoes Production (tonnes)":171,"Meat, Chicken Production (tonnes)":14934,"Avocados Production (tonnes)":51351,"Petrol Price (USD/liter)":2.21,"Daily Oil Consumption (barrels/day)":631522,"CO2 Emissions (tonnes per capita)":8.095583954,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":4091.43,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":32.5,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":51.82,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":2.53,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":73.76,"GDP Per Capita (USD/year)":51407.99834,"Military Expenditure (USD/year)":4959692173,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":1.7,"Average Age (years)":43.175,"Inflation Rate (year, %)":9.6},{"Country":"Ireland","Country_clean":"ireland","Region":"Western Europe","Happiness (score 0-10)":6.838,"Median Salary (USD/year)":3021.14,"Average Salary (USD/year)":3399.58,"Lowest Salary (USD/year)":856.24,"Highest Salary (USD/year)":15151.16,"IQAir_AQI (AQI index)":7.9,"Infant Survival Rate (per 1000 births)":1000,"Alcohol Consumption Rate (liters per capita per year)":10.75,"Life Expectancy (years)":81.4,"Netflix":14.67,"Women Safety Index (score 0-1)":0.892,"Average Winter Temperature (°C)":5.0232058,"Average Summer Temperature (°C)":7.5741353,"Population (people)":5023109,"Energy Per Capita (kWh per capita)":37761.402,"% of Power from Fossil Fuels (%)":61.381,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":38.619,"% of Agricultural Land (%)":62.9554362026,"% of Forest Land (%)":11.4097837132,"Territory (sq km)":68890,"Average Rainfall (mm/year)":1118,"Corruption (std score)":0.1622093022,"Wheat Production (tonnes)":1290.74,"Rye Production (tonnes)":46331.4,"Potatoes Production (tonnes)":294,"Meat, Chicken Production (tonnes)":2790,"Avocados Production (tonnes)":84114,"Petrol Price (USD/liter)":2.07,"Daily Oil Consumption (barrels/day)":152404,"CO2 Emissions (tonnes per capita)":7.245143221,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":7746.63,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":48.43,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":59.14,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":2.35,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":84.3,"GDP Per Capita (USD/year)":83203.39468,"Military Expenditure (USD/year)":1207582357,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":0.7,"Average Age (years)":38.077,"Inflation Rate (year, %)":7.8},{"Country":"Czechia","Country_clean":"czech republic","Region":"Central and Eastern Europe","Happiness (score 0-10)":6.822,"Median Salary (USD/year)":2310.03,"Average Salary (USD/year)":2653.06,"Lowest Salary (USD/year)":668.69,"Highest Salary (USD/year)":11810.68,"IQAir_AQI (AQI index)":14.7,"Infant Survival Rate (per 1000 births)":1000,"Alcohol Consumption Rate (liters per capita per year)":12.68,"Life Expectancy (years)":78.8,"Netflix":11.49,"Women Safety Index (score 0-1)":0.884,"Average Winter Temperature (°C)":-0.254366,"Average Summer Temperature (°C)":1.0374577,"Population (people)":10493986,"Energy Per Capita (kWh per capita)":44242.148,"% of Power from Fossil Fuels (%)":51.251,"% of Power from Nuclear (%)":36.412,"% of Power from Renewables (%)":12.337,"% of Agricultural Land (%)":45.7305605114,"% of Forest Land (%)":34.7066980209,"Territory (sq km)":77186.83,"Average Rainfall (mm/year)":677,"Corruption (std score)":0.1467373222,"Wheat Production (tonnes)":122501976,"Rye Production (tonnes)":5116,"Potatoes Production (tonnes)":631,"Meat, Chicken Production (tonnes)":123700,"Avocados Production (tonnes)":4200,"Petrol Price (USD/liter)":2,"Daily Oil Consumption (barrels/day)":179956,"CO2 Emissions (tonnes per capita)":9.022786158,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":7798.05,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":47.45,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":22.72,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":1.66,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":43.26,"GDP Per Capita (USD/year)":39743.59709,"Military Expenditure (USD/year)":2710017583,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":0.7,"Average Age (years)":42.906,"Inflation Rate (year, %)":15.1},{"Country":"Lithuania","Country_clean":"lithuania","Region":"Central and Eastern Europe","Happiness (score 0-10)":6.818,"Median Salary (USD/year)":903.87466,"Average Salary (USD/year)":997.90189,"Lowest Salary (USD/year)":251.75032,"Highest Salary (USD/year)":4428.3792,"IQAir_AQI (AQI index)":10.5,"Infant Survival Rate (per 1000 births)":1000,"Alcohol Consumption Rate (liters per capita per year)":15.19,"Life Expectancy (years)":73.6,"Netflix":11.29,"Women Safety Index (score 0-1)":0.886,"Average Winter Temperature (°C)":-4.2955937,"Average Summer Temperature (°C)":1.70184,"Population (people)":2750055,"Energy Per Capita (kWh per capita)":23151.053,"% of Power from Fossil Fuels (%)":25.18,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":74.82,"% of Agricultural Land (%)":46.9222168983,"% of Forest Land (%)":35.1807490816,"Territory (sq km)":62610,"Average Rainfall (mm/year)":656,"Corruption (std score)":0.1467373222,"Wheat Production (tonnes)":15983841,"Rye Production (tonnes)":21420,"Potatoes Production (tonnes)":26995,"Meat, Chicken Production (tonnes)":1391220,"Avocados Production (tonnes)":17200,"Petrol Price (USD/liter)":2.14,"Daily Oil Consumption (barrels/day)":61612,"CO2 Emissions (tonnes per capita)":4.198076022,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":4120.85,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":32.99,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":14.55,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":1.9,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":52.69,"GDP Per Capita (USD/year)":35461.3591,"Military Expenditure (USD/year)":1030416770,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":3.7,"Average Age (years)":42.157,"Inflation Rate (year, %)":19.7},{"Country":"United Kingdom","Country_clean":"united kingdom","Region":"Western Europe","Happiness (score 0-10)":6.749,"Median Salary (USD/year)":6300,"Average Salary (USD/year)":7235.37,"Lowest Salary (USD/year)":1829.27,"Highest Salary (USD/year)":32214.63,"IQAir_AQI (AQI index)":8.2,"Infant Survival Rate (per 1000 births)":997,"Alcohol Consumption Rate (liters per capita per year)":10.66,"Life Expectancy (years)":81.2,"Netflix":13.2,"Women Safety Index (score 0-1)":0.86,"Average Winter Temperature (°C)":4.4938073,"Average Summer Temperature (°C)":6.856918,"Population (people)":67508936,"Energy Per Capita (kWh per capita)":30097.885,"% of Power from Fossil Fuels (%)":43.729,"% of Power from Nuclear (%)":14.823,"% of Power from Renewables (%)":41.448,"% of Agricultural Land (%)":71.1575290373,"% of Forest Land (%)":13.2214553797,"Territory (sq km)":241930,"Average Rainfall (mm/year)":1220,"Corruption (std score)":0.1743465513,"Wheat Production (tonnes)":14336835.8,"Rye Production (tonnes)":56256.17,"Potatoes Production (tonnes)":157125,"Meat, Chicken Production (tonnes)":70221,"Avocados Production (tonnes)":238651.706,"Petrol Price (USD/liter)":2.22,"Daily Oil Consumption (barrels/day)":1583896,"CO2 Emissions (tonnes per capita)":5.220514488,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":14704.63,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":52.08,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":35.92,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":2.12,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":79.95,"GDP Per Capita (USD/year)":45973.5735,"Military Expenditure (USD/year)":49997192521,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":1.1,"Average Age (years)":40.45,"Inflation Rate (year, %)":7.9},{"Country":"Slovenia","Country_clean":"slovenia","Region":"Central and Eastern Europe","Happiness (score 0-10)":6.743,"Median Salary (USD/year)":1934.46,"Average Salary (USD/year)":2093.02,"Lowest Salary (USD/year)":528.54,"Highest Salary (USD/year)":9302.33,"IQAir_AQI (AQI index)":13.3,"Infant Survival Rate (per 1000 births)":1000,"Alcohol Consumption Rate (liters per capita per year)":10.46,"Life Expectancy (years)":88,"Netflix":null,"Women Safety Index (score 0-1)":0.824,"Average Winter Temperature (°C)":0.9988481,"Average Summer Temperature (°C)":1.4752173,"Population (people)":2119844,"Energy Per Capita (kWh per capita)":34391.094,"% of Power from Fossil Fuels (%)":28.259,"% of Power from Nuclear (%)":42.125,"% of Power from Renewables (%)":29.616,"% of Agricultural Land (%)":30.3410738762,"% of Forest Land (%)":61.3711140025,"Territory (sq km)":20136.4,"Average Rainfall (mm/year)":1162,"Corruption (std score)":0.1467373222,"Wheat Production (tonnes)":645031.8,"Rye Production (tonnes)":168.6,"Potatoes Production (tonnes)":7326446,"Meat, Chicken Production (tonnes)":4000,"Avocados Production (tonnes)":163.4,"Petrol Price (USD/liter)":1.62,"Daily Oil Consumption (barrels/day)":52298,"CO2 Emissions (tonnes per capita)":6.512209378,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":4634.13,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":44.77,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":34.72,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":2.36,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":44.26,"GDP Per Capita (USD/year)":38048.78466,"Military Expenditure (USD/year)":529496122.7,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":0.5,"Average Age (years)":44.555,"Inflation Rate (year, %)":8.8},{"Country":"United Arab Emirates","Country_clean":"united arab emirates","Region":"Middle East and North Africa","Happiness (score 0-10)":6.733,"Median Salary (USD/year)":3324.25,"Average Salary (USD/year)":3896.46,"Lowest Salary (USD/year)":708.45,"Highest Salary (USD/year)":18637.6,"IQAir_AQI (AQI index)":35.35,"Infant Survival Rate (per 1000 births)":999,"Alcohol Consumption Rate (liters per capita per year)":1.91,"Life Expectancy (years)":77.1,"Netflix":13.99,"Women Safety Index (score 0-1)":0.868,"Average Winter Temperature (°C)":20.363506,"Average Summer Temperature (°C)":20.625269,"Population (people)":9441129,"Energy Per Capita (kWh per capita)":148576.547,"% of Power from Fossil Fuels (%)":82.508,"% of Power from Nuclear (%)":12.992,"% of Power from Renewables (%)":4.5,"% of Agricultural Land (%)":5.5133976345,"% of Forest Land (%)":4.4677555618,"Territory (sq km)":71020,"Average Rainfall (mm/year)":78,"Corruption (std score)":0.1655614674,"Wheat Production (tonnes)":46614014.4,"Rye Production (tonnes)":72513,"Potatoes Production (tonnes)":136000,"Meat, Chicken Production (tonnes)":60000,"Avocados Production (tonnes)":43039.038,"Petrol Price (USD/liter)":1.1,"Daily Oil Consumption (barrels/day)":896000,"CO2 Emissions (tonnes per capita)":19.32956328,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":3752.32,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":74.01,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":97.02,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":1.24,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":81.68,"GDP Per Capita (USD/year)":75075.25741,"Military Expenditure (USD/year)":null,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":0.7,"Average Age (years)":34.381,"Inflation Rate (year, %)":8},{"Country":"United States","Country_clean":"united states","Region":"North America and ANZ","Happiness (score 0-10)":6.725,"Median Salary (USD/year)":6966,"Average Salary (USD/year)":7925,"Lowest Salary (USD/year)":2000,"Highest Salary (USD/year)":35250,"IQAir_AQI (AQI index)":9.7,"Infant Survival Rate (per 1000 births)":977,"Alcohol Consumption Rate (liters per capita per year)":8.82,"Life Expectancy (years)":79.3,"Netflix":13.99,"Women Safety Index (score 0-1)":0.823,"Average Winter Temperature (°C)":-2.7272227,"Average Summer Temperature (°C)":0.94223034,"Population (people)":338289857,"Energy Per Capita (kWh per capita)":78754.273,"% of Power from Fossil Fuels (%)":59.523,"% of Power from Nuclear (%)":17.956,"% of Power from Renewables (%)":22.521,"% of Agricultural Land (%)":44.3633673539,"% of Forest Land (%)":33.866926412,"Territory (sq km)":9147420,"Average Rainfall (mm/year)":715,"Corruption (std score)":0.1590943187,"Wheat Production (tonnes)":110,"Rye Production (tonnes)":12326464,"Potatoes Production (tonnes)":2525383,"Meat, Chicken Production (tonnes)":361499,"Avocados Production (tonnes)":1219.74,"Petrol Price (USD/liter)":1.37,"Daily Oil Consumption (barrels/day)":19687287,"CO2 Emissions (tonnes per capita)":14.67341061,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":14784.44,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":104.82,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":69.77,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":2.72,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":100,"GDP Per Capita (USD/year)":62794.58565,"Military Expenditure (USD/year)":649000000000,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":6.5,"Average Age (years)":37.868,"Inflation Rate (year, %)":8},{"Country":"Germany","Country_clean":"germany","Region":"Western Europe","Happiness (score 0-10)":6.719,"Median Salary (USD/year)":3731.5,"Average Salary (USD/year)":4048.63,"Lowest Salary (USD/year)":1014.8,"Highest Salary (USD/year)":17970.4,"IQAir_AQI (AQI index)":9.85,"Infant Survival Rate (per 1000 births)":998,"Alcohol Consumption Rate (liters per capita per year)":11.03,"Life Expectancy (years)":81,"Netflix":14.67,"Women Safety Index (score 0-1)":0.871,"Average Winter Temperature (°C)":1.539955,"Average Summer Temperature (°C)":3.0275564,"Population (people)":83369843,"Energy Per Capita (kWh per capita)":40977.492,"% of Power from Fossil Fuels (%)":50.783,"% of Power from Nuclear (%)":6.27,"% of Power from Renewables (%)":42.947,"% of Agricultural Land (%)":47.485617791,"% of Forest Land (%)":32.6826755202,"Territory (sq km)":349390,"Average Rainfall (mm/year)":700,"Corruption (std score)":0.1622093022,"Wheat Production (tonnes)":156400,"Rye Production (tonnes)":601991,"Potatoes Production (tonnes)":138832220,"Meat, Chicken Production (tonnes)":14429,"Avocados Production (tonnes)":2073,"Petrol Price (USD/liter)":2.02,"Daily Oil Consumption (barrels/day)":2383393,"CO2 Emissions (tonnes per capita)":7.911621016,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":8604.37,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":40.57,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":40.24,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":2.52,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":63.22,"GDP Per Capita (USD/year)":53074.54012,"Military Expenditure (USD/year)":49470627811,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":0.8,"Average Age (years)":47.918,"Inflation Rate (year, %)":6.9},{"Country":"Mexico","Country_clean":"mexico","Region":"Latin America and Caribbean","Happiness (score 0-10)":6.678,"Median Salary (USD/year)":1681.97,"Average Salary (USD/year)":1917.34,"Lowest Salary (USD/year)":482.78,"Highest Salary (USD/year)":8495.98,"IQAir_AQI (AQI index)":16.3,"Infant Survival Rate (per 1000 births)":970,"Alcohol Consumption Rate (liters per capita per year)":5.26,"Life Expectancy (years)":76.7,"Netflix":10.43,"Women Safety Index (score 0-1)":0.551,"Average Winter Temperature (°C)":15.8056965,"Average Summer Temperature (°C)":17.122166,"Population (people)":127504125,"Energy Per Capita (kWh per capita)":19009.186,"% of Power from Fossil Fuels (%)":74.097,"% of Power from Nuclear (%)":2.964,"% of Power from Renewables (%)":22.938,"% of Agricultural Land (%)":49.9632192186,"% of Forest Land (%)":33.7273678335,"Territory (sq km)":1943950,"Average Rainfall (mm/year)":758,"Corruption (std score)":0.1599350423,"Wheat Production (tonnes)":1744,"Rye Production (tonnes)":260323.2,"Potatoes Production (tonnes)":10968420,"Meat, Chicken Production (tonnes)":53300,"Avocados Production (tonnes)":2376648.5,"Petrol Price (USD/liter)":1.15,"Daily Oil Consumption (barrels/day)":2052607,"CO2 Emissions (tonnes per capita)":3.521600048,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":2769.15,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":45.15,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":26.67,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":1.07,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":39.97,"GDP Per Capita (USD/year)":19844.64567,"Military Expenditure (USD/year)":6567509336,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":28.4,"Average Age (years)":31.893,"Inflation Rate (year, %)":7.9},{"Country":"Uruguay","Country_clean":"uruguay","Region":"Latin America and Caribbean","Happiness (score 0-10)":6.611,"Median Salary (USD/year)":773.64,"Average Salary (USD/year)":862.2,"Lowest Salary (USD/year)":217.24,"Highest Salary (USD/year)":3829.12,"IQAir_AQI (AQI index)":14.2,"Infant Survival Rate (per 1000 births)":1000,"Alcohol Consumption Rate (liters per capita per year)":6.03,"Life Expectancy (years)":77,"Netflix":12.99,"Women Safety Index (score 0-1)":0.748,"Average Winter Temperature (°C)":20.111822,"Average Summer Temperature (°C)":23.139511,"Population (people)":3422794,"Energy Per Capita (kWh per capita)":18316.926,"% of Power from Fossil Fuels (%)":15.557,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":84.443,"% of Agricultural Land (%)":80.3885555936,"% of Forest Land (%)":11.7243743572,"Territory (sq km)":175020,"Average Rainfall (mm/year)":1300,"Corruption (std score)":0.1677868664,"Wheat Production (tonnes)":223447.024,"Rye Production (tonnes)":7181.2,"Potatoes Production (tonnes)":12261,"Meat, Chicken Production (tonnes)":3200,"Avocados Production (tonnes)":36219.6,"Petrol Price (USD/liter)":2.02,"Daily Oil Consumption (barrels/day)":53000,"CO2 Emissions (tonnes per capita)":1.874784543,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":2776.42,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":46.74,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":40.14,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":1.8,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":52.45,"GDP Per Capita (USD/year)":23572.17746,"Military Expenditure (USD/year)":1168130814,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":9.7,"Average Age (years)":35.641,"Inflation Rate (year, %)":9.1},{"Country":"France","Country_clean":"france","Region":"Western Europe","Happiness (score 0-10)":6.609,"Median Salary (USD/year)":3769.56,"Average Salary (USD/year)":4377.38,"Lowest Salary (USD/year)":1100.42,"Highest Salary (USD/year)":19467.23,"IQAir_AQI (AQI index)":9.4,"Infant Survival Rate (per 1000 births)":998,"Alcohol Consumption Rate (liters per capita per year)":11.5,"Life Expectancy (years)":82.4,"Netflix":15.24,"Women Safety Index (score 0-1)":0.864,"Average Winter Temperature (°C)":7.6805277,"Average Summer Temperature (°C)":7.854504,"Population (people)":64626628,"Energy Per Capita (kWh per capita)":36051.793,"% of Power from Fossil Fuels (%)":12.154,"% of Power from Nuclear (%)":63.304,"% of Power from Renewables (%)":24.542,"% of Agricultural Land (%)":52.1475462829,"% of Forest Land (%)":31.6613612829,"Territory (sq km)":547557,"Average Rainfall (mm/year)":867,"Corruption (std score)":0.1622093022,"Wheat Production (tonnes)":332400,"Rye Production (tonnes)":125870,"Potatoes Production (tonnes)":402966,"Meat, Chicken Production (tonnes)":10075471,"Avocados Production (tonnes)":28385.3,"Petrol Price (USD/liter)":2.19,"Daily Oil Consumption (barrels/day)":1705568,"CO2 Emissions (tonnes per capita)":4.468770089,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":13043.59,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":37.7,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":31.36,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":2.88,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":63.22,"GDP Per Capita (USD/year)":45342.39574,"Military Expenditure (USD/year)":63799676593,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":1.3,"Average Age (years)":42.142,"Inflation Rate (year, %)":5.2},{"Country":"Saudi Arabia","Country_clean":"saudi arabia","Region":"Middle East and North Africa","Happiness (score 0-10)":6.594,"Median Salary (USD/year)":3840,"Average Salary (USD/year)":4480,"Lowest Salary (USD/year)":1128,"Highest Salary (USD/year)":19893.33,"IQAir_AQI (AQI index)":32.75,"Infant Survival Rate (per 1000 births)":993,"Alcohol Consumption Rate (liters per capita per year)":0.09,"Life Expectancy (years)":74.5,"Netflix":null,"Women Safety Index (score 0-1)":0.737,"Average Winter Temperature (°C)":16.798635,"Average Summer Temperature (°C)":17.893715,"Population (people)":36408820,"Energy Per Capita (kWh per capita)":87707.289,"% of Power from Fossil Fuels (%)":99.792,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":0.208,"% of Agricultural Land (%)":80.7730416944,"% of Forest Land (%)":0.4544841349,"Territory (sq km)":2149690,"Average Rainfall (mm/year)":59,"Corruption (std score)":0.1871376336,"Wheat Production (tonnes)":229775,"Rye Production (tonnes)":70119.8,"Potatoes Production (tonnes)":738265,"Meat, Chicken Production (tonnes)":5332,"Avocados Production (tonnes)":8802.4,"Petrol Price (USD/liter)":0.62,"Daily Oil Consumption (barrels/day)":3302000,"CO2 Emissions (tonnes per capita)":15.28457873,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":1758.36,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":96.34,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":72.34,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.78,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":53.21,"GDP Per Capita (USD/year)":55335.67959,"Military Expenditure (USD/year)":67554666667,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":0.8,"Average Age (years)":27.524,"Inflation Rate (year, %)":2.5},{"Country":"Kosovo","Country_clean":"kosovo","Region":"Central and Eastern Europe","Happiness (score 0-10)":6.561,"Median Salary (USD/year)":null,"Average Salary (USD/year)":null,"Lowest Salary (USD/year)":null,"Highest Salary (USD/year)":null,"IQAir_AQI (AQI index)":12.2,"Infant Survival Rate (per 1000 births)":null,"Alcohol Consumption Rate (liters per capita per year)":null,"Life Expectancy (years)":null,"Netflix":null,"Women Safety Index (score 0-1)":null,"Average Winter Temperature (°C)":1.4193249,"Average Summer Temperature (°C)":1.8427454,"Population (people)":null,"Energy Per Capita (kWh per capita)":16776.646,"% of Power from Fossil Fuels (%)":93.71,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":6.29,"% of Agricultural Land (%)":null,"% of Forest Land (%)":null,"Territory (sq km)":null,"Average Rainfall (mm/year)":null,"Corruption (std score)":0.170497179,"Wheat Production (tonnes)":null,"Rye Production (tonnes)":null,"Potatoes Production (tonnes)":null,"Meat, Chicken Production (tonnes)":null,"Avocados Production (tonnes)":null,"Petrol Price (USD/liter)":null,"Daily Oil Consumption (barrels/day)":null,"CO2 Emissions (tonnes per capita)":null,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":1795.42,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":21.64,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":17.69,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":1.07,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":21.07,"GDP Per Capita (USD/year)":11348.36345,"Military Expenditure (USD/year)":63344074.22,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":2.4,"Average Age (years)":null,"Inflation Rate (year, %)":null},{"Country":"Singapore","Country_clean":"singapore","Region":"Southeast Asia","Happiness (score 0-10)":6.523,"Median Salary (USD/year)":5647.06,"Average Salary (USD/year)":6235.29,"Lowest Salary (USD/year)":1573.53,"Highest Salary (USD/year)":27720.59,"IQAir_AQI (AQI index)":13.8,"Infant Survival Rate (per 1000 births)":1000,"Alcohol Consumption Rate (liters per capita per year)":1.79,"Life Expectancy (years)":83.1,"Netflix":12.81,"Women Safety Index (score 0-1)":0.887,"Average Winter Temperature (°C)":null,"Average Summer Temperature (°C)":null,"Population (people)":5975689,"Energy Per Capita (kWh per capita)":147084.844,"% of Power from Fossil Fuels (%)":97.591,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":2.409,"% of Agricultural Land (%)":0.9192200557,"% of Forest Land (%)":21.43454039,"Territory (sq km)":718,"Average Rainfall (mm/year)":2497,"Corruption (std score)":0.1537519991,"Wheat Production (tonnes)":null,"Rye Production (tonnes)":null,"Potatoes Production (tonnes)":null,"Meat, Chicken Production (tonnes)":null,"Avocados Production (tonnes)":null,"Petrol Price (USD/liter)":2.3,"Daily Oil Consumption (barrels/day)":1357000,"CO2 Emissions (tonnes per capita)":8.307079491,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":20752.74,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":107.93,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":35.02,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":1.49,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":66.55,"GDP Per Capita (USD/year)":101531.6302,"Military Expenditure (USD/year)":10841000269,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":0.2,"Average Age (years)":45.71,"Inflation Rate (year, %)":6.1},{"Country":"Taiwan Province of China","Country_clean":"taiwan province of china","Region":"East Asia","Happiness (score 0-10)":6.503,"Median Salary (USD/year)":3684.93,"Average Salary (USD/year)":4027.4,"Lowest Salary (USD/year)":1015.07,"Highest Salary (USD/year)":17945.21,"IQAir_AQI (AQI index)":28.65,"Infant Survival Rate (per 1000 births)":994,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":76,"Netflix":11.9,"Women Safety Index (score 0-1)":0.7,"Average Winter Temperature (°C)":-6.3306623,"Average Summer Temperature (°C)":-5.6608214,"Population (people)":1425887337,"Energy Per Capita (kWh per capita)":31051.48,"% of Power from Fossil Fuels (%)":64.602,"% of Power from Nuclear (%)":4.725,"% of Power from Renewables (%)":30.673,"% of Agricultural Land (%)":55.4626494294,"% of Forest Land (%)":23.6315282679,"Territory (sq km)":9388210,"Average Rainfall (mm/year)":645,"Corruption (std score)":0.1543876231,"Wheat Production (tonnes)":13631,"Rye Production (tonnes)":800,"Potatoes Production (tonnes)":0,"Meat, Chicken Production (tonnes)":6155.65,"Avocados Production (tonnes)":88.19,"Petrol Price (USD/liter)":1.43,"Daily Oil Consumption (barrels/day)":12791553,"CO2 Emissions (tonnes per capita)":7.605936961,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":17746.11,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":63.49,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":17.07,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.53,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":39.86,"GDP Per Capita (USD/year)":18236.61298,"Military Expenditure (USD/year)":250000000000,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":0.5,"Average Age (years)":37.091,"Inflation Rate (year, %)":2},{"Country":"Romania","Country_clean":"romania","Region":"Central and Eastern Europe","Happiness (score 0-10)":6.491,"Median Salary (USD/year)":1739.87,"Average Salary (USD/year)":1921.11,"Lowest Salary (USD/year)":484.01,"Highest Salary (USD/year)":8550.11,"IQAir_AQI (AQI index)":15.4,"Infant Survival Rate (per 1000 births)":998,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":75,"Netflix":11.29,"Women Safety Index (score 0-1)":0.8,"Average Winter Temperature (°C)":-0.022084355,"Average Summer Temperature (°C)":1.9483956,"Population (people)":19659267,"Energy Per Capita (kWh per capita)":18346.869,"% of Power from Fossil Fuels (%)":37.815,"% of Power from Nuclear (%)":20.036,"% of Power from Renewables (%)":42.149,"% of Agricultural Land (%)":56.8454450626,"% of Forest Land (%)":30.1158292768,"Territory (sq km)":230080,"Average Rainfall (mm/year)":637,"Corruption (std score)":0.1467373222,"Wheat Production (tonnes)":32129760,"Rye Production (tonnes)":137059.6,"Potatoes Production (tonnes)":119834,"Meat, Chicken Production (tonnes)":6314210,"Avocados Production (tonnes)":17978,"Petrol Price (USD/liter)":1.82,"Daily Oil Consumption (barrels/day)":200000,"CO2 Emissions (tonnes per capita)":3.817434477,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":2526.67,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":45.69,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":8.37,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":1.87,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":42.82,"GDP Per Capita (USD/year)":28206.35705,"Military Expenditure (USD/year)":4608673550,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":1.5,"Average Age (years)":42.18,"Inflation Rate (year, %)":13.8},{"Country":"El Salvador","Country_clean":"el salvador","Region":"Latin America and Caribbean","Happiness (score 0-10)":6.469,"Median Salary (USD/year)":1470,"Average Salary (USD/year)":1710,"Lowest Salary (USD/year)":430,"Highest Salary (USD/year)":7610,"IQAir_AQI (AQI index)":null,"Infant Survival Rate (per 1000 births)":998,"Alcohol Consumption Rate (liters per capita per year)":2.52,"Life Expectancy (years)":73.5,"Netflix":null,"Women Safety Index (score 0-1)":0.566,"Average Winter Temperature (°C)":25.628748,"Average Summer Temperature (°C)":27.070652,"Population (people)":6336392,"Energy Per Capita (kWh per capita)":7076.433,"% of Power from Fossil Fuels (%)":26.772,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":73.228,"% of Agricultural Land (%)":57.7075289575,"% of Forest Land (%)":27.9623552124,"Territory (sq km)":20720,"Average Rainfall (mm/year)":1784,"Corruption (std score)":0.1591664106,"Wheat Production (tonnes)":439000,"Rye Production (tonnes)":9716,"Potatoes Production (tonnes)":104795630,"Meat, Chicken Production (tonnes)":1130102,"Avocados Production (tonnes)":93872.16,"Petrol Price (USD/liter)":1.14,"Daily Oil Consumption (barrels/day)":52000,"CO2 Emissions (tonnes per capita)":1.208637136,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":1068,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":31.67,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":41,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.64,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":25,"GDP Per Capita (USD/year)":8331.804142,"Military Expenditure (USD/year)":266460000,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":37.2,"Average Age (years)":27.286,"Inflation Rate (year, %)":7.2},{"Country":"Estonia","Country_clean":"estonia","Region":"Central and Eastern Europe","Happiness (score 0-10)":6.448,"Median Salary (USD/year)":2579.28,"Average Salary (USD/year)":2906.98,"Lowest Salary (USD/year)":729.39,"Highest Salary (USD/year)":12896.41,"IQAir_AQI (AQI index)":5.45,"Infant Survival Rate (per 1000 births)":1000,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":77.6,"Netflix":11.29,"Women Safety Index (score 0-1)":0.892,"Average Winter Temperature (°C)":-6.8556023,"Average Summer Temperature (°C)":1.2210779,"Population (people)":1326062,"Energy Per Capita (kWh per capita)":46504.863,"% of Power from Fossil Fuels (%)":55.995,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":44.005,"% of Agricultural Land (%)":23.0877192982,"% of Forest Land (%)":57.0385964912,"Territory (sq km)":42750,"Average Rainfall (mm/year)":626,"Corruption (std score)":0.1467373222,"Wheat Production (tonnes)":583000,"Rye Production (tonnes)":20000,"Potatoes Production (tonnes)":82505816,"Meat, Chicken Production (tonnes)":2425173,"Avocados Production (tonnes)":6500,"Petrol Price (USD/liter)":2.21,"Daily Oil Consumption (barrels/day)":28855,"CO2 Emissions (tonnes per capita)":7.672277909,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":4241.03,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":54.35,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":27.23,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":2.1,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":63.22,"GDP Per Capita (USD/year)":35973.77646,"Military Expenditure (USD/year)":618486125.4,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":3.2,"Average Age (years)":40.713,"Inflation Rate (year, %)":19.4},{"Country":"Poland","Country_clean":"poland","Region":"Central and Eastern Europe","Happiness (score 0-10)":6.442,"Median Salary (USD/year)":1496.57,"Average Salary (USD/year)":1736.84,"Lowest Salary (USD/year)":437.07,"Highest Salary (USD/year)":7734.55,"IQAir_AQI (AQI index)":19.05,"Infant Survival Rate (per 1000 births)":998,"Alcohol Consumption Rate (liters per capita per year)":10.71,"Life Expectancy (years)":77.5,"Netflix":10.58,"Women Safety Index (score 0-1)":0.859,"Average Winter Temperature (°C)":-0.49168286,"Average Summer Temperature (°C)":2.4689384,"Population (people)":39857145,"Energy Per Capita (kWh per capita)":30065.42,"% of Power from Fossil Fuels (%)":78.957,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":21.043,"% of Agricultural Land (%)":47.3683763476,"% of Forest Land (%)":31.0192747468,"Territory (sq km)":306100,"Average Rainfall (mm/year)":600,"Corruption (std score)":0.1467373222,"Wheat Production (tonnes)":452089,"Rye Production (tonnes)":208680.516,"Potatoes Production (tonnes)":260,"Meat, Chicken Production (tonnes)":2000,"Avocados Production (tonnes)":153457.498,"Petrol Price (USD/liter)":1.8,"Daily Oil Consumption (barrels/day)":582161,"CO2 Emissions (tonnes per capita)":7.773641839,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":4469.94,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":30.24,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":13.45,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":1.36,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":45.07,"GDP Per Capita (USD/year)":31336.6035,"Military Expenditure (USD/year)":11596155291,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":0.7,"Average Age (years)":41.738,"Inflation Rate (year, %)":14.4},{"Country":"Spain","Country_clean":"spain","Region":"Western Europe","Happiness (score 0-10)":6.421,"Median Salary (USD/year)":2579.28,"Average Salary (USD/year)":2875.26,"Lowest Salary (USD/year)":877.38,"Highest Salary (USD/year)":12050.74,"IQAir_AQI (AQI index)":8.9,"Infant Survival Rate (per 1000 births)":999,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":82.8,"Netflix":14.67,"Women Safety Index (score 0-1)":0.859,"Average Winter Temperature (°C)":7.264159,"Average Summer Temperature (°C)":8.429356,"Population (people)":47558630,"Energy Per Capita (kWh per capita)":33615.332,"% of Power from Fossil Fuels (%)":37.267,"% of Power from Nuclear (%)":20.515,"% of Power from Renewables (%)":42.218,"% of Agricultural Land (%)":52.4848941208,"% of Forest Land (%)":37.1727521093,"Territory (sq km)":499733.244,"Average Rainfall (mm/year)":636,"Corruption (std score)":0.1622093022,"Wheat Production (tonnes)":68301098.8,"Rye Production (tonnes)":179520.532,"Potatoes Production (tonnes)":4600000,"Meat, Chicken Production (tonnes)":400,"Avocados Production (tonnes)":119712.856,"Petrol Price (USD/liter)":2.21,"Daily Oil Consumption (barrels/day)":1290063,"CO2 Emissions (tonnes per capita)":5.09135092,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":5612.64,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":43.57,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":38.1,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":2.35,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":52.69,"GDP Per Capita (USD/year)":39715.43906,"Military Expenditure (USD/year)":18248291491,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":0.6,"Average Age (years)":43.794,"Inflation Rate (year, %)":8.4},{"Country":"Serbia","Country_clean":"serbia","Region":"Central and Eastern Europe","Happiness (score 0-10)":6.411,"Median Salary (USD/year)":1120.04,"Average Salary (USD/year)":1273.6,"Lowest Salary (USD/year)":320.66,"Highest Salary (USD/year)":5654.41,"IQAir_AQI (AQI index)":28.2,"Infant Survival Rate (per 1000 births)":999,"Alcohol Consumption Rate (liters per capita per year)":9.09,"Life Expectancy (years)":75.6,"Netflix":null,"Women Safety Index (score 0-1)":0.835,"Average Winter Temperature (°C)":1.7233353,"Average Summer Temperature (°C)":2.3860748,"Population (people)":7221365,"Energy Per Capita (kWh per capita)":27640.852,"% of Power from Fossil Fuels (%)":70.509,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":29.491,"% of Agricultural Land (%)":41.4436912831,"% of Forest Land (%)":32.3812581758,"Territory (sq km)":84090,"Average Rainfall (mm/year)":null,"Corruption (std score)":0.1620248556,"Wheat Production (tonnes)":3997110.2,"Rye Production (tonnes)":0,"Potatoes Production (tonnes)":1879008,"Meat, Chicken Production (tonnes)":387376.3,"Avocados Production (tonnes)":12.308,"Petrol Price (USD/liter)":1.76,"Daily Oil Consumption (barrels/day)":74000,"CO2 Emissions (tonnes per capita)":6.616046939,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":3218.58,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":30.56,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":24.23,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":1.84,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":34.56,"GDP Per Capita (USD/year)":17434.91613,"Military Expenditure (USD/year)":904323391.5,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":1,"Average Age (years)":39.832,"Inflation Rate (year, %)":12},{"Country":"Chile","Country_clean":"chile","Region":"Latin America and Caribbean","Happiness (score 0-10)":6.36,"Median Salary (USD/year)":1890.4,"Average Salary (USD/year)":2090.56,"Lowest Salary (USD/year)":525.98,"Highest Salary (USD/year)":9274.09,"IQAir_AQI (AQI index)":17.2,"Infant Survival Rate (per 1000 births)":998,"Alcohol Consumption Rate (liters per capita per year)":7.16,"Life Expectancy (years)":85,"Netflix":9.91,"Women Safety Index (score 0-1)":0.736,"Average Winter Temperature (°C)":12.694138,"Average Summer Temperature (°C)":14.701271,"Population (people)":19603733,"Energy Per Capita (kWh per capita)":25342.707,"% of Power from Fossil Fuels (%)":47.044,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":52.956,"% of Agricultural Land (%)":14.250277056,"% of Forest Land (%)":24.6574727113,"Territory (sq km)":743532,"Average Rainfall (mm/year)":1522,"Corruption (std score)":0.1599350423,"Wheat Production (tonnes)":102965304,"Rye Production (tonnes)":108500,"Potatoes Production (tonnes)":25363,"Meat, Chicken Production (tonnes)":230758.84,"Avocados Production (tonnes)":50,"Petrol Price (USD/liter)":1.39,"Daily Oil Consumption (barrels/day)":351989,"CO2 Emissions (tonnes per capita)":4.821118299,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":2279.57,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":34.63,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":23.72,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":1.11,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":45.27,"GDP Per Capita (USD/year)":25222.52778,"Military Expenditure (USD/year)":5570724563,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":4.8,"Average Age (years)":35.176,"Inflation Rate (year, %)":11.6},{"Country":"Panama","Country_clean":"panama","Region":"Latin America and Caribbean","Happiness (score 0-10)":6.358,"Median Salary (USD/year)":1890,"Average Salary (USD/year)":2130,"Lowest Salary (USD/year)":540,"Highest Salary (USD/year)":9460,"IQAir_AQI (AQI index)":null,"Infant Survival Rate (per 1000 births)":999,"Alcohol Consumption Rate (liters per capita per year)":6.74,"Life Expectancy (years)":77.8,"Netflix":null,"Women Safety Index (score 0-1)":0.757,"Average Winter Temperature (°C)":24.940985,"Average Summer Temperature (°C)":25.922495,"Population (people)":4408581,"Energy Per Capita (kWh per capita)":27067.068,"% of Power from Fossil Fuels (%)":25.469,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":74.531,"% of Agricultural Land (%)":29.4057158264,"% of Forest Land (%)":56.6517026153,"Territory (sq km)":74180,"Average Rainfall (mm/year)":2928,"Corruption (std score)":0.1670125574,"Wheat Production (tonnes)":12000,"Rye Production (tonnes)":7.6,"Potatoes Production (tonnes)":1280086,"Meat, Chicken Production (tonnes)":3500,"Avocados Production (tonnes)":16528.4,"Petrol Price (USD/liter)":1.45,"Daily Oil Consumption (barrels/day)":155000,"CO2 Emissions (tonnes per capita)":3.141454996,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":2200,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":39.36,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":46.98,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":1.66,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":52.5,"GDP Per Capita (USD/year)":25553.69671,"Military Expenditure (USD/year)":0,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":11.1,"Average Age (years)":30.107,"Inflation Rate (year, %)":2.9},{"Country":"Malta","Country_clean":"malta","Region":"Western Europe","Happiness (score 0-10)":6.346,"Median Salary (USD/year)":4439.75,"Average Salary (USD/year)":4904.86,"Lowest Salary (USD/year)":1236.79,"Highest Salary (USD/year)":21775.9,"IQAir_AQI (AQI index)":12.1,"Infant Survival Rate (per 1000 births)":1000,"Alcohol Consumption Rate (liters per capita per year)":8.49,"Life Expectancy (years)":81.7,"Netflix":null,"Women Safety Index (score 0-1)":0.846,"Average Winter Temperature (°C)":null,"Average Summer Temperature (°C)":null,"Population (people)":533286,"Energy Per Capita (kWh per capita)":74324.461,"% of Power from Fossil Fuels (%)":99.5,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":0.5,"% of Agricultural Land (%)":27.34375,"% of Forest Land (%)":1.4375,"Territory (sq km)":320,"Average Rainfall (mm/year)":560,"Corruption (std score)":0.1696073413,"Wheat Production (tonnes)":5165083,"Rye Production (tonnes)":4862470.8,"Potatoes Production (tonnes)":1641853,"Meat, Chicken Production (tonnes)":597949,"Avocados Production (tonnes)":4449.6,"Petrol Price (USD/liter)":1.4,"Daily Oil Consumption (barrels/day)":47000,"CO2 Emissions (tonnes per capita)":3.293245606,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":8781.21,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":75.52,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":53.86,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":2.14,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":84.3,"GDP Per Capita (USD/year)":42581.09786,"Military Expenditure (USD/year)":69284609.85,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":1.6,"Average Age (years)":42.459,"Inflation Rate (year, %)":6.2},{"Country":"Italy","Country_clean":"italy","Region":"Western Europe","Happiness (score 0-10)":6.324,"Median Salary (USD/year)":3467.23,"Average Salary (USD/year)":3868.92,"Lowest Salary (USD/year)":972.52,"Highest Salary (USD/year)":17230.44,"IQAir_AQI (AQI index)":12.85,"Infant Survival Rate (per 1000 births)":999,"Alcohol Consumption Rate (liters per capita per year)":7.56,"Life Expectancy (years)":82.7,"Netflix":14.67,"Women Safety Index (score 0-1)":0.827,"Average Winter Temperature (°C)":5.8631363,"Average Summer Temperature (°C)":6.1182337,"Population (people)":59037474,"Energy Per Capita (kWh per capita)":28910.201,"% of Power from Fossil Fuels (%)":63.562,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":36.438,"% of Agricultural Land (%)":41.942231593,"% of Forest Land (%)":32.5308994748,"Territory (sq km)":295717,"Average Rainfall (mm/year)":832,"Corruption (std score)":0.1622093022,"Wheat Production (tonnes)":5700,"Rye Production (tonnes)":1012,"Potatoes Production (tonnes)":20475928,"Meat, Chicken Production (tonnes)":4700,"Avocados Production (tonnes)":13817.47,"Petrol Price (USD/liter)":2.12,"Daily Oil Consumption (barrels/day)":1236628,"CO2 Emissions (tonnes per capita)":5.311315442,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":7125.32,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":52.72,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":29.26,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":2.09,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":73.76,"GDP Per Capita (USD/year)":41830.42633,"Military Expenditure (USD/year)":27807513898,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":0.5,"Average Age (years)":47.039,"Inflation Rate (year, %)":8.2},{"Country":"Guatemala","Country_clean":"guatemala","Region":"Latin America and Caribbean","Happiness (score 0-10)":6.287,"Median Salary (USD/year)":1222.65,"Average Salary (USD/year)":1335.88,"Lowest Salary (USD/year)":337.15,"Highest Salary (USD/year)":5954.2,"IQAir_AQI (AQI index)":19.2,"Infant Survival Rate (per 1000 births)":990,"Alcohol Consumption Rate (liters per capita per year)":1.88,"Life Expectancy (years)":71.9,"Netflix":10.99,"Women Safety Index (score 0-1)":0.569,"Average Winter Temperature (°C)":21.24547,"Average Summer Temperature (°C)":22.411528,"Population (people)":17843908,"Energy Per Capita (kWh per capita)":5712.118,"% of Power from Fossil Fuels (%)":34.488,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":65.512,"% of Agricultural Land (%)":43.0384471818,"% of Forest Land (%)":32.812616648,"Territory (sq km)":107160,"Average Rainfall (mm/year)":1996,"Corruption (std score)":0.1670125574,"Wheat Production (tonnes)":483,"Rye Production (tonnes)":511.23,"Potatoes Production (tonnes)":18843300,"Meat, Chicken Production (tonnes)":1760,"Avocados Production (tonnes)":1023.49,"Petrol Price (USD/liter)":1.36,"Daily Oil Consumption (barrels/day)":93000,"CO2 Emissions (tonnes per capita)":1.162970924,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":1534.68,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":51.65,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":46.81,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":1.09,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":35.02,"GDP Per Capita (USD/year)":8462.374008,"Military Expenditure (USD/year)":278420891.5,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":17.5,"Average Age (years)":21.056,"Inflation Rate (year, %)":6.9},{"Country":"Nicaragua","Country_clean":"nicaragua","Region":"Latin America and Caribbean","Happiness (score 0-10)":6.284,"Median Salary (USD/year)":449.1,"Average Salary (USD/year)":517.15,"Lowest Salary (USD/year)":130.38,"Highest Salary (USD/year)":2299.95,"IQAir_AQI (AQI index)":null,"Infant Survival Rate (per 1000 births)":998,"Alcohol Consumption Rate (liters per capita per year)":3.55,"Life Expectancy (years)":74.8,"Netflix":null,"Women Safety Index (score 0-1)":0.717,"Average Winter Temperature (°C)":24.97253,"Average Summer Temperature (°C)":25.584845,"Population (people)":6948392,"Energy Per Capita (kWh per capita)":4265.271,"% of Power from Fossil Fuels (%)":45.356,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":54.644,"% of Agricultural Land (%)":42.3051354496,"% of Forest Land (%)":27.4848761841,"Territory (sq km)":120340,"Average Rainfall (mm/year)":2280,"Corruption (std score)":0.1591832638,"Wheat Production (tonnes)":19615588,"Rye Production (tonnes)":1503073.6,"Potatoes Production (tonnes)":770127,"Meat, Chicken Production (tonnes)":20825,"Avocados Production (tonnes)":46826.8,"Petrol Price (USD/liter)":1.37,"Daily Oil Consumption (barrels/day)":37000,"CO2 Emissions (tonnes per capita)":0.800549594,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":905.56,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":31.03,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":58.25,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.76,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":30,"GDP Per Capita (USD/year)":5533.551064,"Military Expenditure (USD/year)":81593932.69,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":7.9,"Average Age (years)":25.686,"Inflation Rate (year, %)":10.5},{"Country":"Brazil","Country_clean":"brazil","Region":"Latin America and Caribbean","Happiness (score 0-10)":6.272,"Median Salary (USD/year)":1490.04,"Average Salary (USD/year)":1711.16,"Lowest Salary (USD/year)":432.27,"Highest Salary (USD/year)":7609.56,"IQAir_AQI (AQI index)":12.9,"Infant Survival Rate (per 1000 births)":958,"Alcohol Consumption Rate (liters per capita per year)":7.32,"Life Expectancy (years)":75,"Netflix":7.11,"Women Safety Index (score 0-1)":0.63,"Average Winter Temperature (°C)":25.908457,"Average Summer Temperature (°C)":26.127356,"Population (people)":215313498,"Energy Per Capita (kWh per capita)":17299.75,"% of Power from Fossil Fuels (%)":10.924,"% of Power from Nuclear (%)":2.135,"% of Power from Renewables (%)":86.94,"% of Agricultural Land (%)":28.6390944636,"% of Forest Land (%)":59.2705274977,"Territory (sq km)":8358140,"Average Rainfall (mm/year)":1761,"Corruption (std score)":0.1599350423,"Wheat Production (tonnes)":19888224,"Rye Production (tonnes)":5533432,"Potatoes Production (tonnes)":166772,"Meat, Chicken Production (tonnes)":1593.62,"Avocados Production (tonnes)":43200,"Petrol Price (USD/liter)":1.42,"Daily Oil Consumption (barrels/day)":2984000,"CO2 Emissions (tonnes per capita)":2.057810839,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":2542.37,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":25.04,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":21.55,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":1.12,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":38.32,"GDP Per Capita (USD/year)":16096.40096,"Military Expenditure (USD/year)":27766427104,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":22.5,"Average Age (years)":33.603,"Inflation Rate (year, %)":9.3},{"Country":"Slovakia","Country_clean":"slovakia","Region":"Central and Eastern Europe","Happiness (score 0-10)":6.257,"Median Salary (USD/year)":2114.16,"Average Salary (USD/year)":2315.01,"Lowest Salary (USD/year)":581.4,"Highest Salary (USD/year)":10295.98,"IQAir_AQI (AQI index)":16,"Infant Survival Rate (per 1000 births)":1000,"Alcohol Consumption Rate (liters per capita per year)":10.6,"Life Expectancy (years)":76.7,"Netflix":11.29,"Women Safety Index (score 0-1)":0.856,"Average Winter Temperature (°C)":-0.32777002,"Average Summer Temperature (°C)":0.70984817,"Population (people)":5643453,"Energy Per Capita (kWh per capita)":33887.691,"% of Power from Fossil Fuels (%)":17.845,"% of Power from Nuclear (%)":59.484,"% of Power from Renewables (%)":22.671,"% of Agricultural Land (%)":38.6023294509,"% of Forest Land (%)":40.056156406,"Territory (sq km)":48080,"Average Rainfall (mm/year)":824,"Corruption (std score)":0.1467373222,"Wheat Production (tonnes)":46043401.6,"Rye Production (tonnes)":3904665.32,"Potatoes Production (tonnes)":13240782,"Meat, Chicken Production (tonnes)":360,"Avocados Production (tonnes)":102320.138,"Petrol Price (USD/liter)":1.98,"Daily Oil Consumption (barrels/day)":81587,"CO2 Emissions (tonnes per capita)":5.698416255,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":5005.29,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":34.77,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":20.04,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":2.02,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":47.42,"GDP Per Capita (USD/year)":33736.40094,"Military Expenditure (USD/year)":1280643981,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":1.2,"Average Age (years)":41.154,"Inflation Rate (year, %)":12.8},{"Country":"Latvia","Country_clean":"latvia","Region":"Central and Eastern Europe","Happiness (score 0-10)":6.234,"Median Salary (USD/year)":1654.0727,"Average Salary (USD/year)":1952.1038,"Lowest Salary (USD/year)":491.75135,"Highest Salary (USD/year)":8657.804,"IQAir_AQI (AQI index)":null,"Infant Survival Rate (per 1000 births)":null,"Alcohol Consumption Rate (liters per capita per year)":null,"Life Expectancy (years)":null,"Netflix":11.29,"Women Safety Index (score 0-1)":0.872,"Average Winter Temperature (°C)":-5.6515737,"Average Summer Temperature (°C)":1.3988863,"Population (people)":1850651,"Energy Per Capita (kWh per capita)":21435.611,"% of Power from Fossil Fuels (%)":27.866,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":72.134,"% of Agricultural Land (%)":31.6567571911,"% of Forest Land (%)":54.871605335,"Territory (sq km)":62230,"Average Rainfall (mm/year)":667,"Corruption (std score)":0.1467373222,"Wheat Production (tonnes)":68948700,"Rye Production (tonnes)":896889.36,"Potatoes Production (tonnes)":8375542,"Meat, Chicken Production (tonnes)":122411.04,"Avocados Production (tonnes)":212977,"Petrol Price (USD/liter)":2.19,"Daily Oil Consumption (barrels/day)":37694,"CO2 Emissions (tonnes per capita)":3.955435862,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":2479.81,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":40.83,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":17.79,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":1.3,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":52.69,"GDP Per Capita (USD/year)":30304.8525,"Military Expenditure (USD/year)":679862611.1,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":2.6,"Average Age (years)":41.788,"Inflation Rate (year, %)":17.3},{"Country":"Uzbekistan","Country_clean":"uzbekistan","Region":"Commonwealth of Independent States","Happiness (score 0-10)":6.195,"Median Salary (USD/year)":97.25,"Average Salary (USD/year)":106.98,"Lowest Salary (USD/year)":27.07,"Highest Salary (USD/year)":477.35,"IQAir_AQI (AQI index)":42.8,"Infant Survival Rate (per 1000 births)":985,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":69.4,"Netflix":null,"Women Safety Index (score 0-1)":0.674,"Average Winter Temperature (°C)":-1.1172104,"Average Summer Temperature (°C)":0.41523957,"Population (people)":34627652,"Energy Per Capita (kWh per capita)":16929.814,"% of Power from Fossil Fuels (%)":91.537,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":7.744,"% of Agricultural Land (%)":58.3012029874,"% of Forest Land (%)":8.4318046172,"Territory (sq km)":440653,"Average Rainfall (mm/year)":206,"Corruption (std score)":0.1534096003,"Wheat Production (tonnes)":12797144.4,"Rye Production (tonnes)":56359,"Potatoes Production (tonnes)":4772327.2,"Meat, Chicken Production (tonnes)":3600,"Avocados Production (tonnes)":11471,"Petrol Price (USD/liter)":0.9,"Daily Oil Consumption (barrels/day)":49000,"CO2 Emissions (tonnes per capita)":3.47554445,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":1206.66,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":42.32,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":18.86,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.6,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":30,"GDP Per Capita (USD/year)":8556.051512,"Military Expenditure (USD/year)":null,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":1.2,"Average Age (years)":28.753,"Inflation Rate (year, %)":11.4},{"Country":"Argentina","Country_clean":"argentina","Region":"Latin America and Caribbean","Happiness (score 0-10)":6.188,"Median Salary (USD/year)":110.28,"Average Salary (USD/year)":129.42,"Lowest Salary (USD/year)":32.57,"Highest Salary (USD/year)":577.13,"IQAir_AQI (AQI index)":10.3,"Infant Survival Rate (per 1000 births)":992,"Alcohol Consumption Rate (liters per capita per year)":7.93,"Life Expectancy (years)":76.3,"Netflix":6.3,"Women Safety Index (score 0-1)":0.768,"Average Winter Temperature (°C)":20.045332,"Average Summer Temperature (°C)":22.75778,"Population (people)":45510318,"Energy Per Capita (kWh per capita)":21994.422,"% of Power from Fossil Fuels (%)":63.374,"% of Power from Nuclear (%)":5.199,"% of Power from Renewables (%)":31.426,"% of Agricultural Land (%)":43.1023461554,"% of Forest Land (%)":10.4007639521,"Territory (sq km)":2736690,"Average Rainfall (mm/year)":591,"Corruption (std score)":0.1599350423,"Wheat Production (tonnes)":188681200,"Rye Production (tonnes)":283601,"Potatoes Production (tonnes)":52048230,"Meat, Chicken Production (tonnes)":2055000,"Avocados Production (tonnes)":2040,"Petrol Price (USD/liter)":1.05,"Daily Oil Consumption (barrels/day)":709000,"CO2 Emissions (tonnes per capita)":3.740650291,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":2518.29,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":23.63,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":21.87,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":1.04,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":25,"GDP Per Capita (USD/year)":20610.56855,"Military Expenditure (USD/year)":4144991771,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":5.3,"Average Age (years)":32.837,"Inflation Rate (year, %)":null},{"Country":"Kazakhstan","Country_clean":"kazakhstan","Region":"Commonwealth of Independent States","Happiness (score 0-10)":6.188,"Median Salary (USD/year)":701,"Average Salary (USD/year)":813.99,"Lowest Salary (USD/year)":204.86,"Highest Salary (USD/year)":3620.08,"IQAir_AQI (AQI index)":24.7,"Infant Survival Rate (per 1000 births)":996,"Alcohol Consumption Rate (liters per capita per year)":6.29,"Life Expectancy (years)":72,"Netflix":null,"Women Safety Index (score 0-1)":0.729,"Average Winter Temperature (°C)":-9.164996,"Average Summer Temperature (°C)":-7.0029874,"Population (people)":19397998,"Energy Per Capita (kWh per capita)":44701.98,"% of Power from Fossil Fuels (%)":88.659,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":11.341,"% of Agricultural Land (%)":79.1924658295,"% of Forest Land (%)":1.2904838315,"Territory (sq km)":2699700,"Average Rainfall (mm/year)":250,"Corruption (std score)":0.1555387676,"Wheat Production (tonnes)":100,"Rye Production (tonnes)":230580.8,"Potatoes Production (tonnes)":275000,"Meat, Chicken Production (tonnes)":2736,"Avocados Production (tonnes)":72.65,"Petrol Price (USD/liter)":0.48,"Daily Oil Consumption (barrels/day)":325000,"CO2 Emissions (tonnes per capita)":11.45693783,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":1501.51,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":43.84,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":11.76,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.73,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":31.88,"GDP Per Capita (USD/year)":27879.75195,"Military Expenditure (USD/year)":1613589333,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":3.2,"Average Age (years)":31.887,"Inflation Rate (year, %)":null},{"Country":"Cyprus","Country_clean":"cyprus","Region":"Western Europe","Happiness (score 0-10)":6.068,"Median Salary (USD/year)":1976.74,"Average Salary (USD/year)":2293.87,"Lowest Salary (USD/year)":581.4,"Highest Salary (USD/year)":10211.42,"IQAir_AQI (AQI index)":14.3,"Infant Survival Rate (per 1000 births)":1000,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":85,"Netflix":null,"Women Safety Index (score 0-1)":0.739,"Average Winter Temperature (°C)":13.245076,"Average Summer Temperature (°C)":13.512097,"Population (people)":1251488,"Energy Per Capita (kWh per capita)":25359.791,"% of Power from Fossil Fuels (%)":83.08,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":16.92,"% of Agricultural Land (%)":13.3262878788,"% of Forest Land (%)":18.6699134199,"Territory (sq km)":9240,"Average Rainfall (mm/year)":498,"Corruption (std score)":0.1622093022,"Wheat Production (tonnes)":null,"Rye Production (tonnes)":null,"Potatoes Production (tonnes)":null,"Meat, Chicken Production (tonnes)":null,"Avocados Production (tonnes)":null,"Petrol Price (USD/liter)":1.86,"Daily Oil Consumption (barrels/day)":52000,"CO2 Emissions (tonnes per capita)":5.998795283,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":2212.86,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":59.71,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":31.45,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":1.38,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":52.69,"GDP Per Capita (USD/year)":38513.28457,"Military Expenditure (USD/year)":381879772.9,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":1.2,"Average Age (years)":38.998,"Inflation Rate (year, %)":8.4},{"Country":"Japan","Country_clean":"japan","Region":"East Asia","Happiness (score 0-10)":6.06,"Median Salary (USD/year)":3158.67,"Average Salary (USD/year)":3453.12,"Lowest Salary (USD/year)":869.97,"Highest Salary (USD/year)":15391.82,"IQAir_AQI (AQI index)":8.7,"Infant Survival Rate (per 1000 births)":998,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":83.7,"Netflix":13.13,"Women Safety Index (score 0-1)":0.866,"Average Winter Temperature (°C)":2.164464,"Average Summer Temperature (°C)":2.298908,"Population (people)":123951692,"Energy Per Capita (kWh per capita)":39984.914,"% of Power from Fossil Fuels (%)":71.011,"% of Power from Nuclear (%)":5.357,"% of Power from Renewables (%)":23.631,"% of Agricultural Land (%)":12.7818930041,"% of Forest Land (%)":68.4087791495,"Territory (sq km)":364500,"Average Rainfall (mm/year)":1668,"Corruption (std score)":0.1614369303,"Wheat Production (tonnes)":38159276,"Rye Production (tonnes)":460847.088,"Potatoes Production (tonnes)":3573873,"Meat, Chicken Production (tonnes)":117500,"Avocados Production (tonnes)":92936,"Petrol Price (USD/liter)":1.24,"Daily Oil Consumption (barrels/day)":4012877,"CO2 Emissions (tonnes per capita)":8.540980205,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":8043.38,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":65.2,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":32.15,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":1.09,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":48.39,"GDP Per Capita (USD/year)":42797.45852,"Military Expenditure (USD/year)":46617954864,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":0.3,"Average Age (years)":48.584,"Inflation Rate (year, %)":2.5},{"Country":"South Korea","Country_clean":"korea republic of","Region":"East Asia","Happiness (score 0-10)":6.058,"Median Salary (USD/year)":2593.42,"Average Salary (USD/year)":2889.81,"Lowest Salary (USD/year)":728.38,"Highest Salary (USD/year)":12893,"IQAir_AQI (AQI index)":17.4,"Infant Survival Rate (per 1000 births)":999,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":82.3,"Netflix":11.47,"Women Safety Index (score 0-1)":0.848,"Average Winter Temperature (°C)":0.54568756,"Average Summer Temperature (°C)":1.3578094,"Population (people)":51815810,"Energy Per Capita (kWh per capita)":68126.188,"% of Power from Fossil Fuels (%)":62.993,"% of Power from Nuclear (%)":27.795,"% of Power from Renewables (%)":9.212,"% of Agricultural Land (%)":16.4241803279,"% of Forest Land (%)":64.3135245902,"Territory (sq km)":97600,"Average Rainfall (mm/year)":1274,"Corruption (std score)":0.1531555355,"Wheat Production (tonnes)":2114998.2,"Rye Production (tonnes)":1300000,"Potatoes Production (tonnes)":715276,"Meat, Chicken Production (tonnes)":87928,"Avocados Production (tonnes)":8759.354,"Petrol Price (USD/liter)":1.61,"Daily Oil Consumption (barrels/day)":2605440,"CO2 Emissions (tonnes per capita)":11.79932538,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":22067.7,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":55.88,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":22.48,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":1.48,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":53.78,"GDP Per Capita (USD/year)":40111.77576,"Military Expenditure (USD/year)":43069973343,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":0.6,"Average Age (years)":43.22,"Inflation Rate (year, %)":5.1},{"Country":"Philippines","Country_clean":"philippines","Region":"Southeast Asia","Happiness (score 0-10)":6.048,"Median Salary (USD/year)":728.78,"Average Salary (USD/year)":790.54,"Lowest Salary (USD/year)":199.4,"Highest Salary (USD/year)":3511.56,"IQAir_AQI (AQI index)":15.7,"Infant Survival Rate (per 1000 births)":948,"Alcohol Consumption Rate (liters per capita per year)":4.52,"Life Expectancy (years)":68.5,"Netflix":9.14,"Women Safety Index (score 0-1)":0.612,"Average Winter Temperature (°C)":25.283766,"Average Summer Temperature (°C)":25.835867,"Population (people)":115559009,"Energy Per Capita (kWh per capita)":5066.786,"% of Power from Fossil Fuels (%)":77.417,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":22.583,"% of Agricultural Land (%)":42.536137103,"% of Forest Land (%)":24.2260455445,"Territory (sq km)":298170,"Average Rainfall (mm/year)":2348,"Corruption (std score)":0.1470372379,"Wheat Production (tonnes)":111872930,"Rye Production (tonnes)":14215792.8,"Potatoes Production (tonnes)":224700,"Meat, Chicken Production (tonnes)":5260,"Avocados Production (tonnes)":161127.4,"Petrol Price (USD/liter)":1.55,"Daily Oil Consumption (barrels/day)":429000,"CO2 Emissions (tonnes per capita)":1.345029057,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":3578.46,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":50.24,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":37.97,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.99,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":28.71,"GDP Per Capita (USD/year)":8951.085654,"Military Expenditure (USD/year)":3769741011,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":4.4,"Average Age (years)":26.014,"Inflation Rate (year, %)":5.8},{"Country":"Vietnam","Country_clean":"vietnam","Region":"Southeast Asia","Happiness (score 0-10)":6.043,"Median Salary (USD/year)":612.57,"Average Salary (USD/year)":711.24,"Lowest Salary (USD/year)":179.25,"Highest Salary (USD/year)":3161.52,"IQAir_AQI (AQI index)":23,"Infant Survival Rate (per 1000 births)":972,"Alcohol Consumption Rate (liters per capita per year)":4.09,"Life Expectancy (years)":76,"Netflix":null,"Women Safety Index (score 0-1)":0.707,"Average Winter Temperature (°C)":20.113937,"Average Summer Temperature (°C)":20.465149,"Population (people)":98186856,"Energy Per Capita (kWh per capita)":12983.017,"% of Power from Fossil Fuels (%)":48.449,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":51.551,"% of Agricultural Land (%)":39.4347683207,"% of Forest Land (%)":46.961161858,"Territory (sq km)":313429,"Average Rainfall (mm/year)":1821,"Corruption (std score)":0.1536959112,"Wheat Production (tonnes)":126369.276,"Rye Production (tonnes)":65741.052,"Potatoes Production (tonnes)":1658756.2,"Meat, Chicken Production (tonnes)":18293614,"Avocados Production (tonnes)":77631.608,"Petrol Price (USD/liter)":1.42,"Daily Oil Consumption (barrels/day)":478000,"CO2 Emissions (tonnes per capita)":3.488312636,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":4404.92,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":26.72,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":11.48,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.55,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":24.48,"GDP Per Capita (USD/year)":7447.814334,"Military Expenditure (USD/year)":5500000000,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":1.5,"Average Age (years)":32.298,"Inflation Rate (year, %)":3.2},{"Country":"Portugal","Country_clean":"portugal","Region":"Western Europe","Happiness (score 0-10)":6.03,"Median Salary (USD/year)":2537,"Average Salary (USD/year)":2917.55,"Lowest Salary (USD/year)":739.96,"Highest Salary (USD/year)":13002.11,"IQAir_AQI (AQI index)":6.4,"Infant Survival Rate (per 1000 births)":1000,"Alcohol Consumption Rate (liters per capita per year)":9.88,"Life Expectancy (years)":81.1,"Netflix":13.54,"Women Safety Index (score 0-1)":0.877,"Average Winter Temperature (°C)":9.626703,"Average Summer Temperature (°C)":10.976666,"Population (people)":10270865,"Energy Per Capita (kWh per capita)":25094.396,"% of Power from Fossil Fuels (%)":40.183,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":59.817,"% of Agricultural Land (%)":43.2538567511,"% of Forest Land (%)":36.1549948911,"Territory (sq km)":91605.6,"Average Rainfall (mm/year)":854,"Corruption (std score)":0.1622093022,"Wheat Production (tonnes)":947400,"Rye Production (tonnes)":3710.18,"Potatoes Production (tonnes)":10200,"Meat, Chicken Production (tonnes)":3760,"Avocados Production (tonnes)":125446.8,"Petrol Price (USD/liter)":2.26,"Daily Oil Consumption (barrels/day)":236866,"CO2 Emissions (tonnes per capita)":4.339768426,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":5757.09,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":39.89,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":35.58,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":1.73,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":52.69,"GDP Per Capita (USD/year)":33415.4379,"Military Expenditure (USD/year)":4247842971,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":0.9,"Average Age (years)":44.71,"Inflation Rate (year, %)":7.8},{"Country":"Hungary","Country_clean":"hungary","Region":"Central and Eastern Europe","Happiness (score 0-10)":6.017,"Median Salary (USD/year)":1227.46,"Average Salary (USD/year)":1344.23,"Lowest Salary (USD/year)":339.45,"Highest Salary (USD/year)":5974.36,"IQAir_AQI (AQI index)":14.5,"Infant Survival Rate (per 1000 births)":1000,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":75.8,"Netflix":10.71,"Women Safety Index (score 0-1)":0.835,"Average Winter Temperature (°C)":1.4500087,"Average Summer Temperature (°C)":2.1213894,"Population (people)":9967308,"Energy Per Capita (kWh per capita)":26660.49,"% of Power from Fossil Fuels (%)":34.178,"% of Power from Nuclear (%)":44.623,"% of Power from Renewables (%)":21.199,"% of Agricultural Land (%)":55.2672430419,"% of Forest Land (%)":22.4803495507,"Territory (sq km)":91260,"Average Rainfall (mm/year)":589,"Corruption (std score)":0.1467373222,"Wheat Production (tonnes)":18287,"Rye Production (tonnes)":240000,"Potatoes Production (tonnes)":13775,"Meat, Chicken Production (tonnes)":5795,"Avocados Production (tonnes)":230332,"Petrol Price (USD/liter)":2.01,"Daily Oil Consumption (barrels/day)":155544,"CO2 Emissions (tonnes per capita)":4.74663103,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":3407.13,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":44.23,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":12.82,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":1.14,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":38.57,"GDP Per Capita (USD/year)":31102.50275,"Military Expenditure (USD/year)":1642338440,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":0.8,"Average Age (years)":42.594,"Inflation Rate (year, %)":14.6},{"Country":"Paraguay","Country_clean":"paraguay","Region":"Latin America and Caribbean","Happiness (score 0-10)":5.977,"Median Salary (USD/year)":1019.69,"Average Salary (USD/year)":1126.17,"Lowest Salary (USD/year)":283.93,"Highest Salary (USD/year)":5009.74,"IQAir_AQI (AQI index)":null,"Infant Survival Rate (per 1000 births)":998,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":74,"Netflix":11.49,"Women Safety Index (score 0-1)":0.691,"Average Winter Temperature (°C)":26.823614,"Average Summer Temperature (°C)":29.723492,"Population (people)":6780744,"Energy Per Capita (kWh per capita)":15782.273,"% of Power from Fossil Fuels (%)":0.175,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":99.825,"% of Agricultural Land (%)":42.3084319154,"% of Forest Land (%)":39.8261432167,"Territory (sq km)":397300,"Average Rainfall (mm/year)":1130,"Corruption (std score)":0.1677868664,"Wheat Production (tonnes)":3974000,"Rye Production (tonnes)":597306.826,"Potatoes Production (tonnes)":5600,"Meat, Chicken Production (tonnes)":83300,"Avocados Production (tonnes)":3820.012,"Petrol Price (USD/liter)":1.4,"Daily Oil Consumption (barrels/day)":51000,"CO2 Emissions (tonnes per capita)":1.165425232,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":1286.16,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":27.11,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":24.37,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.9,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":22.17,"GDP Per Capita (USD/year)":13599.92656,"Military Expenditure (USD/year)":386556389.6,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":6.7,"Average Age (years)":26.085,"Inflation Rate (year, %)":9.8},{"Country":"Thailand","Country_clean":"thailand","Region":"Southeast Asia","Happiness (score 0-10)":5.976,"Median Salary (USD/year)":2432.28,"Average Salary (USD/year)":2662.11,"Lowest Salary (USD/year)":670.31,"Highest Salary (USD/year)":11846.79,"IQAir_AQI (AQI index)":21.8,"Infant Survival Rate (per 1000 births)":992,"Alcohol Consumption Rate (liters per capita per year)":6.41,"Life Expectancy (years)":74.9,"Netflix":10.43,"Women Safety Index (score 0-1)":0.764,"Average Winter Temperature (°C)":23.979416,"Average Summer Temperature (°C)":24.891027,"Population (people)":71697030,"Energy Per Capita (kWh per capita)":19616.777,"% of Power from Fossil Fuels (%)":84.744,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":15.256,"% of Agricultural Land (%)":45.9981600736,"% of Forest Land (%)":38.8283192077,"Territory (sq km)":510890,"Average Rainfall (mm/year)":1622,"Corruption (std score)":0.1531555355,"Wheat Production (tonnes)":2133386,"Rye Production (tonnes)":416000,"Potatoes Production (tonnes)":190964,"Meat, Chicken Production (tonnes)":416,"Avocados Production (tonnes)":266926.338,"Petrol Price (USD/liter)":1.51,"Daily Oil Consumption (barrels/day)":1302000,"CO2 Emissions (tonnes per capita)":3.836090019,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":5534.11,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":57.33,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":15.46,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.51,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":28.8,"GDP Per Capita (USD/year)":19051.33338,"Military Expenditure (USD/year)":6829203403,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":2.6,"Average Age (years)":36.188,"Inflation Rate (year, %)":6.1},{"Country":"Malaysia","Country_clean":"malaysia","Region":"Southeast Asia","Happiness (score 0-10)":5.975,"Median Salary (USD/year)":1236.17,"Average Salary (USD/year)":1406.38,"Lowest Salary (USD/year)":355.32,"Highest Salary (USD/year)":6255.32,"IQAir_AQI (AQI index)":14.95,"Infant Survival Rate (per 1000 births)":996,"Alcohol Consumption Rate (liters per capita per year)":0.52,"Life Expectancy (years)":75,"Netflix":10.65,"Women Safety Index (score 0-1)":0.738,"Average Winter Temperature (°C)":25.763824,"Average Summer Temperature (°C)":25.89396,"Population (people)":33938221,"Energy Per Capita (kWh per capita)":39586.996,"% of Power from Fossil Fuels (%)":80.96,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":19.04,"% of Agricultural Land (%)":26.0873535231,"% of Forest Land (%)":58.0243189773,"Territory (sq km)":328550,"Average Rainfall (mm/year)":2875,"Corruption (std score)":0.1531555355,"Wheat Production (tonnes)":58253,"Rye Production (tonnes)":127405.114,"Potatoes Production (tonnes)":10200,"Meat, Chicken Production (tonnes)":1556741.9,"Avocados Production (tonnes)":84517.6,"Petrol Price (USD/liter)":0.46,"Daily Oil Consumption (barrels/day)":708000,"CO2 Emissions (tonnes per capita)":7.927126037,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":2272.27,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":40.72,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":25.49,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.6,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":22.79,"GDP Per Capita (USD/year)":31782.15336,"Military Expenditure (USD/year)":3469828207,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":2.1,"Average Age (years)":29.646,"Inflation Rate (year, %)":3.4},{"Country":"China","Country_clean":"china","Region":"East Asia","Happiness (score 0-10)":5.973,"Median Salary (USD/year)":3684.93,"Average Salary (USD/year)":4027.4,"Lowest Salary (USD/year)":1015.07,"Highest Salary (USD/year)":17945.21,"IQAir_AQI (AQI index)":28.65,"Infant Survival Rate (per 1000 births)":null,"Alcohol Consumption Rate (liters per capita per year)":null,"Life Expectancy (years)":null,"Netflix":null,"Women Safety Index (score 0-1)":0.7,"Average Winter Temperature (°C)":-6.3306623,"Average Summer Temperature (°C)":-5.6608214,"Population (people)":1425887337,"Energy Per Capita (kWh per capita)":31051.48,"% of Power from Fossil Fuels (%)":64.602,"% of Power from Nuclear (%)":4.725,"% of Power from Renewables (%)":30.673,"% of Agricultural Land (%)":55.4626494294,"% of Forest Land (%)":23.6315282679,"Territory (sq km)":9388210,"Average Rainfall (mm/year)":645,"Corruption (std score)":0.1543876231,"Wheat Production (tonnes)":13631,"Rye Production (tonnes)":800,"Potatoes Production (tonnes)":0,"Meat, Chicken Production (tonnes)":6155.65,"Avocados Production (tonnes)":88.19,"Petrol Price (USD/liter)":1.43,"Daily Oil Consumption (barrels/day)":12791553,"CO2 Emissions (tonnes per capita)":7.605936961,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":17746.11,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":63.49,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":17.07,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.53,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":39.86,"GDP Per Capita (USD/year)":18236.61298,"Military Expenditure (USD/year)":250000000000,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":0.5,"Average Age (years)":37.091,"Inflation Rate (year, %)":2},{"Country":"Honduras","Country_clean":"honduras","Region":"Latin America and Caribbean","Happiness (score 0-10)":5.968,"Median Salary (USD/year)":1022.22,"Average Salary (USD/year)":1139.39,"Lowest Salary (USD/year)":287.27,"Highest Salary (USD/year)":5090.91,"IQAir_AQI (AQI index)":11.8,"Infant Survival Rate (per 1000 births)":997,"Alcohol Consumption Rate (liters per capita per year)":2.87,"Life Expectancy (years)":74.6,"Netflix":10.99,"Women Safety Index (score 0-1)":0.61,"Average Winter Temperature (°C)":22.25614,"Average Summer Temperature (°C)":23.138378,"Population (people)":10432860,"Energy Per Capita (kWh per capita)":5086.934,"% of Power from Fossil Fuels (%)":48.037,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":51.963,"% of Agricultural Land (%)":31.9599606757,"% of Forest Land (%)":56.6476896952,"Territory (sq km)":111890,"Average Rainfall (mm/year)":1976,"Corruption (std score)":0.1517658681,"Wheat Production (tonnes)":2455774,"Rye Production (tonnes)":3800,"Potatoes Production (tonnes)":2055233,"Meat, Chicken Production (tonnes)":710,"Avocados Production (tonnes)":12.8,"Petrol Price (USD/liter)":1.45,"Daily Oil Consumption (barrels/day)":58000,"CO2 Emissions (tonnes per capita)":1.048622992,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":430.56,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":null,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":50,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.71,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":45,"GDP Per Capita (USD/year)":5138.752457,"Military Expenditure (USD/year)":410414895.1,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":36.3,"Average Age (years)":24.284,"Inflation Rate (year, %)":9.1},{"Country":"Bahrain","Country_clean":"bahrain","Region":"Middle East and North Africa","Happiness (score 0-10)":5.959,"Median Salary (USD/year)":3617.02,"Average Salary (USD/year)":3936.17,"Lowest Salary (USD/year)":984.04,"Highest Salary (USD/year)":17553.19,"IQAir_AQI (AQI index)":49.8,"Infant Survival Rate (per 1000 births)":1000,"Alcohol Consumption Rate (liters per capita per year)":1.57,"Life Expectancy (years)":76.9,"Netflix":null,"Women Safety Index (score 0-1)":0.752,"Average Winter Temperature (°C)":18.957916,"Average Summer Temperature (°C)":19.866425,"Population (people)":1472233,"Energy Per Capita (kWh per capita)":161111.203,"% of Power from Fossil Fuels (%)":99.969,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":0.031,"% of Agricultural Land (%)":10.253164557,"% of Forest Land (%)":0.9113924051,"Territory (sq km)":790,"Average Rainfall (mm/year)":83,"Corruption (std score)":0.1871376336,"Wheat Production (tonnes)":null,"Rye Production (tonnes)":null,"Potatoes Production (tonnes)":null,"Meat, Chicken Production (tonnes)":null,"Avocados Production (tonnes)":null,"Petrol Price (USD/liter)":0.53,"Daily Oil Consumption (barrels/day)":62000,"CO2 Emissions (tonnes per capita)":20.26610279,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":1545.05,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":86.94,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":47.66,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.73,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":53.05,"GDP Per Capita (USD/year)":47303.04851,"Military Expenditure (USD/year)":1396808511,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":0.1,"Average Age (years)":31.876,"Inflation Rate (year, %)":3.6},{"Country":"Croatia","Country_clean":"croatia","Region":"Central and Eastern Europe","Happiness (score 0-10)":5.942,"Median Salary (USD/year)":1935.48,"Average Salary (USD/year)":2089.76,"Lowest Salary (USD/year)":527.35,"Highest Salary (USD/year)":9298.74,"IQAir_AQI (AQI index)":9.1,"Infant Survival Rate (per 1000 births)":1000,"Alcohol Consumption Rate (liters per capita per year)":12.14,"Life Expectancy (years)":78,"Netflix":11.29,"Women Safety Index (score 0-1)":0.862,"Average Winter Temperature (°C)":3.5226943,"Average Summer Temperature (°C)":3.6475925,"Population (people)":4030358,"Energy Per Capita (kWh per capita)":23468.168,"% of Power from Fossil Fuels (%)":36.686,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":63.314,"% of Agricultural Land (%)":26.3759828449,"% of Forest Land (%)":34.6963902788,"Territory (sq km)":55960,"Average Rainfall (mm/year)":1113,"Corruption (std score)":0.1467373222,"Wheat Production (tonnes)":73391864,"Rye Production (tonnes)":60000,"Potatoes Production (tonnes)":122.62,"Meat, Chicken Production (tonnes)":36,"Avocados Production (tonnes)":47000,"Petrol Price (USD/liter)":1.91,"Daily Oil Consumption (barrels/day)":69000,"CO2 Emissions (tonnes per capita)":4.063707833,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":3748.36,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":43.75,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":25.28,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":2.26,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":46.06,"GDP Per Capita (USD/year)":27579.78083,"Military Expenditure (USD/year)":889523365.3,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":1,"Average Age (years)":43.682,"Inflation Rate (year, %)":10.8},{"Country":"Greece","Country_clean":"greece","Region":"Western Europe","Happiness (score 0-10)":5.934,"Median Salary (USD/year)":2241.01,"Average Salary (USD/year)":2579.28,"Lowest Salary (USD/year)":655.39,"Highest Salary (USD/year)":11522.2,"IQAir_AQI (AQI index)":18.1,"Infant Survival Rate (per 1000 births)":1000,"Alcohol Consumption Rate (liters per capita per year)":7.53,"Life Expectancy (years)":81,"Netflix":12.42,"Women Safety Index (score 0-1)":0.766,"Average Winter Temperature (°C)":7.6042023,"Average Summer Temperature (°C)":8.659867,"Population (people)":10384971,"Energy Per Capita (kWh per capita)":30410.344,"% of Power from Fossil Fuels (%)":56.693,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":43.307,"% of Agricultural Land (%)":45.5173622964,"% of Forest Land (%)":30.2699767261,"Territory (sq km)":128900,"Average Rainfall (mm/year)":652,"Corruption (std score)":0.1622093022,"Wheat Production (tonnes)":4317391,"Rye Production (tonnes)":366200,"Potatoes Production (tonnes)":1512428,"Meat, Chicken Production (tonnes)":1049150,"Avocados Production (tonnes)":77556,"Petrol Price (USD/liter)":2.51,"Daily Oil Consumption (barrels/day)":296101,"CO2 Emissions (tonnes per capita)":5.59618907,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":2647.22,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":39.75,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":32.2,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":1.94,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":52.69,"GDP Per Capita (USD/year)":29592.15242,"Military Expenditure (USD/year)":5227152013,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":0.8,"Average Age (years)":44.978,"Inflation Rate (year, %)":9.6},{"Country":"Bosnia and Herzegovina","Country_clean":"bosnia and herzegovina","Region":"Central and Eastern Europe","Happiness (score 0-10)":5.877,"Median Salary (USD/year)":1151.35,"Average Salary (USD/year)":1248.65,"Lowest Salary (USD/year)":313.51,"Highest Salary (USD/year)":5567.57,"IQAir_AQI (AQI index)":33,"Infant Survival Rate (per 1000 births)":1000,"Alcohol Consumption Rate (liters per capita per year)":4.03,"Life Expectancy (years)":77.4,"Netflix":null,"Women Safety Index (score 0-1)":0.754,"Average Winter Temperature (°C)":2.2383707,"Average Summer Temperature (°C)":2.2406917,"Population (people)":3233526,"Energy Per Capita (kWh per capita)":23013.498,"% of Power from Fossil Fuels (%)":62.131,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":37.869,"% of Agricultural Land (%)":44.19921875,"% of Forest Land (%)":42.7326171875,"Territory (sq km)":51200,"Average Rainfall (mm/year)":1028,"Corruption (std score)":0.1741266698,"Wheat Production (tonnes)":9024254,"Rye Production (tonnes)":771700,"Potatoes Production (tonnes)":81498,"Meat, Chicken Production (tonnes)":20326,"Avocados Production (tonnes)":8525.45,"Petrol Price (USD/liter)":1.73,"Daily Oil Consumption (barrels/day)":35000,"CO2 Emissions (tonnes per capita)":6.382918043,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":2080.75,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":26.6,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":24.95,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":1.58,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":26.88,"GDP Per Capita (USD/year)":14623.67405,"Military Expenditure (USD/year)":221131597.1,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":1.3,"Average Age (years)":42.767,"Inflation Rate (year, %)":5.7},{"Country":"Libya","Country_clean":"libya","Region":"Middle East and North Africa","Happiness (score 0-10)":5.866,"Median Salary (USD/year)":417.18,"Average Salary (USD/year)":470.35,"Lowest Salary (USD/year)":118.61,"Highest Salary (USD/year)":2085.89,"IQAir_AQI (AQI index)":null,"Infant Survival Rate (per 1000 births)":999,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":72.7,"Netflix":null,"Women Safety Index (score 0-1)":0.61,"Average Winter Temperature (°C)":13.038244,"Average Summer Temperature (°C)":13.510715,"Population (people)":6812341,"Energy Per Capita (kWh per capita)":28270.334,"% of Power from Fossil Fuels (%)":99.969,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":0.031,"% of Agricultural Land (%)":8.7238710117,"% of Forest Land (%)":0.1233276879,"Territory (sq km)":1759540,"Average Rainfall (mm/year)":56,"Corruption (std score)":0.2036707252,"Wheat Production (tonnes)":85250690,"Rye Production (tonnes)":960041.848,"Potatoes Production (tonnes)":124532,"Meat, Chicken Production (tonnes)":125192,"Avocados Production (tonnes)":1306.12,"Petrol Price (USD/liter)":0.03,"Daily Oil Consumption (barrels/day)":223000,"CO2 Emissions (tonnes per capita)":8.380729344,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":1319.36,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":28.81,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":23.1,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.54,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":35.12,"GDP Per Capita (USD/year)":20764.16414,"Military Expenditure (USD/year)":null,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":null,"Average Age (years)":29.319,"Inflation Rate (year, %)":null},{"Country":"Jamaica","Country_clean":"jamaica","Region":"Latin America and Caribbean","Happiness (score 0-10)":5.842,"Median Salary (USD/year)":565.78,"Average Salary (USD/year)":624.56,"Lowest Salary (USD/year)":157.59,"Highest Salary (USD/year)":2777.24,"IQAir_AQI (AQI index)":null,"Infant Survival Rate (per 1000 births)":999,"Alcohol Consumption Rate (liters per capita per year)":3.83,"Life Expectancy (years)":76.2,"Netflix":null,"Women Safety Index (score 0-1)":0.71,"Average Winter Temperature (°C)":25.523024,"Average Summer Temperature (°C)":25.65008,"Population (people)":2827377,"Energy Per Capita (kWh per capita)":12235.784,"% of Power from Fossil Fuels (%)":83.908,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":16.092,"% of Agricultural Land (%)":38.5041551247,"% of Forest Land (%)":55.4730655586,"Territory (sq km)":10830,"Average Rainfall (mm/year)":2051,"Corruption (std score)":0.1735760421,"Wheat Production (tonnes)":1012930,"Rye Production (tonnes)":878583,"Potatoes Production (tonnes)":29460,"Meat, Chicken Production (tonnes)":26500,"Avocados Production (tonnes)":95729.19,"Petrol Price (USD/liter)":1.68,"Daily Oil Consumption (barrels/day)":54000,"CO2 Emissions (tonnes per capita)":2.845730012,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":1817.15,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":52.33,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":40.65,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":1.02,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":45.47,"GDP Per Capita (USD/year)":9326.664059,"Military Expenditure (USD/year)":207772685.8,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":44.7,"Average Age (years)":28.73,"Inflation Rate (year, %)":10.3},{"Country":"Peru","Country_clean":"peru","Region":"Latin America and Caribbean","Happiness (score 0-10)":5.841,"Median Salary (USD/year)":1825.86,"Average Salary (USD/year)":1997.36,"Lowest Salary (USD/year)":503.96,"Highest Salary (USD/year)":8891.82,"IQAir_AQI (AQI index)":15.95,"Infant Survival Rate (per 1000 births)":992,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":75.5,"Netflix":8.56,"Women Safety Index (score 0-1)":0.717,"Average Winter Temperature (°C)":20.036163,"Average Summer Temperature (°C)":20.772074,"Population (people)":34049588,"Energy Per Capita (kWh per capita)":9835.475,"% of Power from Fossil Fuels (%)":44.915,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":55.085,"% of Agricultural Land (%)":19.9341320313,"% of Forest Land (%)":56.3730728906,"Territory (sq km)":1280000,"Average Rainfall (mm/year)":1738,"Corruption (std score)":0.1599350423,"Wheat Production (tonnes)":29718000,"Rye Production (tonnes)":586828.8,"Potatoes Production (tonnes)":3289722,"Meat, Chicken Production (tonnes)":130,"Avocados Production (tonnes)":83822.8,"Petrol Price (USD/liter)":1.65,"Daily Oil Consumption (barrels/day)":246000,"CO2 Emissions (tonnes per capita)":1.745591927,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":1962.17,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":37.19,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":30.91,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.86,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":22.19,"GDP Per Capita (USD/year)":14418.07067,"Military Expenditure (USD/year)":2708912280,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":7.7,"Average Age (years)":28.939,"Inflation Rate (year, %)":8.3},{"Country":"Dominican Republic","Country_clean":"dominican republic","Region":"Latin America and Caribbean","Happiness (score 0-10)":5.823,"Median Salary (USD/year)":318.89,"Average Salary (USD/year)":350.6,"Lowest Salary (USD/year)":88.62,"Highest Salary (USD/year)":1562.72,"IQAir_AQI (AQI index)":null,"Infant Survival Rate (per 1000 births)":994,"Alcohol Consumption Rate (liters per capita per year)":5.92,"Life Expectancy (years)":73.9,"Netflix":null,"Women Safety Index (score 0-1)":0.666,"Average Winter Temperature (°C)":23.858599,"Average Summer Temperature (°C)":23.987373,"Population (people)":11228821,"Energy Per Capita (kWh per capita)":9987.583,"% of Power from Fossil Fuels (%)":83.059,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":16.941,"% of Agricultural Land (%)":51.1034903537,"% of Forest Land (%)":45.2797121878,"Territory (sq km)":47531,"Average Rainfall (mm/year)":1410,"Corruption (std score)":0.1670125574,"Wheat Production (tonnes)":32079,"Rye Production (tonnes)":1143319,"Potatoes Production (tonnes)":422589.44,"Meat, Chicken Production (tonnes)":5300,"Avocados Production (tonnes)":70948,"Petrol Price (USD/liter)":1.41,"Daily Oil Consumption (barrels/day)":133000,"CO2 Emissions (tonnes per capita)":2.535627952,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":2186.2,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":39.97,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":46.85,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.84,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":36.56,"GDP Per Capita (USD/year)":17748.18532,"Military Expenditure (USD/year)":602522387,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":8.9,"Average Age (years)":null,"Inflation Rate (year, %)":5.6},{"Country":"Mauritius","Country_clean":"mauritius","Region":"Sub-Saharan Africa","Happiness (score 0-10)":5.816,"Median Salary (USD/year)":901.53,"Average Salary (USD/year)":1047.66,"Lowest Salary (USD/year)":263.04,"Highest Salary (USD/year)":4653.78,"IQAir_AQI (AQI index)":null,"Infant Survival Rate (per 1000 births)":1000,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":74.6,"Netflix":null,"Women Safety Index (score 0-1)":0.678,"Average Winter Temperature (°C)":25.453356,"Average Summer Temperature (°C)":26.709538,"Population (people)":1299469,"Energy Per Capita (kWh per capita)":19724.719,"% of Power from Fossil Fuels (%)":79.167,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":20.833,"% of Agricultural Land (%)":43.0645968953,"% of Forest Land (%)":19.4341512268,"Territory (sq km)":1997,"Average Rainfall (mm/year)":2041,"Corruption (std score)":0.1810258031,"Wheat Production (tonnes)":201,"Rye Production (tonnes)":590006.12,"Potatoes Production (tonnes)":465598.97,"Meat, Chicken Production (tonnes)":1080,"Avocados Production (tonnes)":194246.34,"Petrol Price (USD/liter)":1.68,"Daily Oil Consumption (barrels/day)":28000,"CO2 Emissions (tonnes per capita)":3.294591006,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":412.37,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":27.49,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":29.21,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":1.04,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":20.62,"GDP Per Capita (USD/year)":23750.98804,"Military Expenditure (USD/year)":23202895.56,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":2.8,"Average Age (years)":35.603,"Inflation Rate (year, %)":10.8},{"Country":"Moldova","Country_clean":"moldova","Region":"Commonwealth of Independent States","Happiness (score 0-10)":5.816,"Median Salary (USD/year)":1318.68,"Average Salary (USD/year)":1467.03,"Lowest Salary (USD/year)":370.33,"Highest Salary (USD/year)":6538.46,"IQAir_AQI (AQI index)":null,"Infant Survival Rate (per 1000 births)":999,"Alcohol Consumption Rate (liters per capita per year)":9.99,"Life Expectancy (years)":72.1,"Netflix":11.29,"Women Safety Index (score 0-1)":0.758,"Average Winter Temperature (°C)":-0.58977896,"Average Summer Temperature (°C)":2.0659935,"Population (people)":3272996,"Energy Per Capita (kWh per capita)":16006.373,"% of Power from Fossil Fuels (%)":93.123,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":6.877,"% of Agricultural Land (%)":69.0021231423,"% of Forest Land (%)":11.7227782833,"Territory (sq km)":32970,"Average Rainfall (mm/year)":450,"Corruption (std score)":0.1620248556,"Wheat Production (tonnes)":1713061,"Rye Production (tonnes)":277982.8,"Potatoes Production (tonnes)":2263.6,"Meat, Chicken Production (tonnes)":474021.6,"Avocados Production (tonnes)":4707.65,"Petrol Price (USD/liter)":1.78,"Daily Oil Consumption (barrels/day)":18001,"CO2 Emissions (tonnes per capita)":3.324610168,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":1193.72,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":24.38,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":9.02,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.7,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":25.99,"GDP Per Capita (USD/year)":7271.641919,"Military Expenditure (USD/year)":33957719.1,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":2.3,"Average Age (years)":37.64,"Inflation Rate (year, %)":28.7},{"Country":"Russia","Country_clean":"russian federation","Region":"Commonwealth of Independent States","Happiness (score 0-10)":5.785,"Median Salary (USD/year)":975.51,"Average Salary (USD/year)":1065.68,"Lowest Salary (USD/year)":268.47,"Highest Salary (USD/year)":4744.34,"IQAir_AQI (AQI index)":10.5,"Infant Survival Rate (per 1000 births)":987,"Alcohol Consumption Rate (liters per capita per year)":10.12,"Life Expectancy (years)":75,"Netflix":10.84,"Women Safety Index (score 0-1)":0.752,"Average Winter Temperature (°C)":-22.901932,"Average Summer Temperature (°C)":-16.512663,"Population (people)":144713314,"Energy Per Capita (kWh per capita)":55459.422,"% of Power from Fossil Fuels (%)":61.33,"% of Power from Nuclear (%)":20.309,"% of Power from Renewables (%)":18.361,"% of Agricultural Land (%)":13.158436258,"% of Forest Land (%)":49.7843360789,"Territory (sq km)":16376870,"Average Rainfall (mm/year)":460,"Corruption (std score)":0.1620248556,"Wheat Production (tonnes)":38418516,"Rye Production (tonnes)":69628.2,"Potatoes Production (tonnes)":391924.53,"Meat, Chicken Production (tonnes)":21388082,"Avocados Production (tonnes)":25469.03,"Petrol Price (USD/liter)":0.9,"Daily Oil Consumption (barrels/day)":3631287,"CO2 Emissions (tonnes per capita)":11.79720293,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":7750.96,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":52.91,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":8.3,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":1.28,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":64,"GDP Per Capita (USD/year)":27588.12544,"Military Expenditure (USD/year)":61387546980,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":7.3,"Average Age (years)":40.011,"Inflation Rate (year, %)":null},{"Country":"Bolivia","Country_clean":"bolivia","Region":"Latin America and Caribbean","Happiness (score 0-10)":5.784,"Median Salary (USD/year)":1131.5,"Average Salary (USD/year)":1236.99,"Lowest Salary (USD/year)":312.14,"Highest Salary (USD/year)":5505.78,"IQAir_AQI (AQI index)":null,"Infant Survival Rate (per 1000 births)":992,"Alcohol Consumption Rate (liters per capita per year)":3.62,"Life Expectancy (years)":77,"Netflix":10.99,"Women Safety Index (score 0-1)":0.696,"Average Winter Temperature (°C)":22.62405,"Average Summer Temperature (°C)":23.684843,"Population (people)":12224110,"Energy Per Capita (kWh per capita)":7062.148,"% of Power from Fossil Fuels (%)":60.692,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":39.308,"% of Agricultural Land (%)":35.1881908982,"% of Forest Land (%)":46.7283054556,"Territory (sq km)":1083300,"Average Rainfall (mm/year)":1146,"Corruption (std score)":0.1598362178,"Wheat Production (tonnes)":631.08,"Rye Production (tonnes)":564675,"Potatoes Production (tonnes)":261690,"Meat, Chicken Production (tonnes)":1208,"Avocados Production (tonnes)":35000,"Petrol Price (USD/liter)":0.54,"Daily Oil Consumption (barrels/day)":90000,"CO2 Emissions (tonnes per capita)":1.940398005,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":1282.05,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":42.97,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":47.42,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":1,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":20.97,"GDP Per Capita (USD/year)":7873.166243,"Military Expenditure (USD/year)":618842083.1,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":7,"Average Age (years)":24.762,"Inflation Rate (year, %)":1.7},{"Country":"Ecuador","Country_clean":"ecuador","Region":"Latin America and Caribbean","Happiness (score 0-10)":5.725,"Median Salary (USD/year)":1260,"Average Salary (USD/year)":1370,"Lowest Salary (USD/year)":340,"Highest Salary (USD/year)":6080,"IQAir_AQI (AQI index)":6.3,"Infant Survival Rate (per 1000 births)":994,"Alcohol Consumption Rate (liters per capita per year)":3.82,"Life Expectancy (years)":76.2,"Netflix":10.99,"Women Safety Index (score 0-1)":0.655,"Average Winter Temperature (°C)":21.600014,"Average Summer Temperature (°C)":22.433525,"Population (people)":18001000,"Energy Per Capita (kWh per capita)":12150.252,"% of Power from Fossil Fuels (%)":24.275,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":75.725,"% of Agricultural Land (%)":22.0244805927,"% of Forest Land (%)":50.0626509905,"Territory (sq km)":248360,"Average Rainfall (mm/year)":2274,"Corruption (std score)":0.1677868664,"Wheat Production (tonnes)":2754740,"Rye Production (tonnes)":4000,"Potatoes Production (tonnes)":376000,"Meat, Chicken Production (tonnes)":118350,"Avocados Production (tonnes)":163323,"Petrol Price (USD/liter)":1.17,"Daily Oil Consumption (barrels/day)":259000,"CO2 Emissions (tonnes per capita)":2.261469817,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":1225,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":36.62,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":40.75,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.99,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":40,"GDP Per Capita (USD/year)":11734.38739,"Military Expenditure (USD/year)":2549400000,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":7.8,"Average Age (years)":28.712,"Inflation Rate (year, %)":3.5},{"Country":"Kyrgyzstan","Country_clean":"kyrgyzstan","Region":"Commonwealth of Independent States","Happiness (score 0-10)":5.714,"Median Salary (USD/year)":201.87,"Average Salary (USD/year)":219.92,"Lowest Salary (USD/year)":55.6,"Highest Salary (USD/year)":980.04,"IQAir_AQI (AQI index)":54.6,"Infant Survival Rate (per 1000 births)":997,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":71.1,"Netflix":null,"Women Safety Index (score 0-1)":0.673,"Average Winter Temperature (°C)":-12.751518,"Average Summer Temperature (°C)":-8.788135,"Population (people)":6630623,"Energy Per Capita (kWh per capita)":9274.61,"% of Power from Fossil Fuels (%)":10.097,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":89.903,"% of Agricultural Land (%)":null,"% of Forest Land (%)":null,"Territory (sq km)":null,"Average Rainfall (mm/year)":null,"Corruption (std score)":null,"Wheat Production (tonnes)":8330,"Rye Production (tonnes)":260323.2,"Potatoes Production (tonnes)":1791600,"Meat, Chicken Production (tonnes)":3175853,"Avocados Production (tonnes)":429912,"Petrol Price (USD/liter)":0.83,"Daily Oil Consumption (barrels/day)":40000,"CO2 Emissions (tonnes per capita)":null,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":915,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":38.89,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":13.46,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.55,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":23.68,"GDP Per Capita (USD/year)":null,"Military Expenditure (USD/year)":null,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":1.7,"Average Age (years)":28.508,"Inflation Rate (year, %)":13.9},{"Country":"Montenegro","Country_clean":"montenegro","Region":"Central and Eastern Europe","Happiness (score 0-10)":5.707,"Median Salary (USD/year)":2621.56,"Average Salary (USD/year)":2832.98,"Lowest Salary (USD/year)":718.82,"Highest Salary (USD/year)":12579.28,"IQAir_AQI (AQI index)":35.2,"Infant Survival Rate (per 1000 births)":1000,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":76.1,"Netflix":null,"Women Safety Index (score 0-1)":0.808,"Average Winter Temperature (°C)":1.7943455,"Average Summer Temperature (°C)":2.1861253,"Population (people)":627082,"Energy Per Capita (kWh per capita)":18940.291,"% of Power from Fossil Fuels (%)":47.678,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":52.322,"% of Agricultural Land (%)":19.0007434944,"% of Forest Land (%)":61.4869888476,"Territory (sq km)":13450,"Average Rainfall (mm/year)":null,"Corruption (std score)":0.1997847706,"Wheat Production (tonnes)":1275302,"Rye Production (tonnes)":3805260,"Potatoes Production (tonnes)":248321,"Meat, Chicken Production (tonnes)":789921.3,"Avocados Production (tonnes)":330240.25,"Petrol Price (USD/liter)":1.71,"Daily Oil Consumption (barrels/day)":7000,"CO2 Emissions (tonnes per capita)":4.179875994,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":1732.83,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":34.54,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":26.24,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":1.83,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":26.34,"GDP Per Capita (USD/year)":20689.98675,"Military Expenditure (USD/year)":83806050.31,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":2.9,"Average Age (years)":38.366,"Inflation Rate (year, %)":13},{"Country":"Mongolia","Country_clean":"mongolia","Region":"East Asia","Happiness (score 0-10)":5.696,"Median Salary (USD/year)":515.76,"Average Salary (USD/year)":564.74,"Lowest Salary (USD/year)":142.34,"Highest Salary (USD/year)":2509.62,"IQAir_AQI (AQI index)":13.3,"Infant Survival Rate (per 1000 births)":999,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":68.8,"Netflix":null,"Women Safety Index (score 0-1)":0.794,"Average Winter Temperature (°C)":-18.015043,"Average Summer Temperature (°C)":-16.466763,"Population (people)":3398366,"Energy Per Capita (kWh per capita)":22407.674,"% of Power from Fossil Fuels (%)":91.197,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":8.803,"% of Agricultural Land (%)":72.3150521956,"% of Forest Land (%)":9.0989446596,"Territory (sq km)":1557507,"Average Rainfall (mm/year)":241,"Corruption (std score)":0.1558940709,"Wheat Production (tonnes)":null,"Rye Production (tonnes)":null,"Potatoes Production (tonnes)":null,"Meat, Chicken Production (tonnes)":null,"Avocados Production (tonnes)":null,"Petrol Price (USD/liter)":1.23,"Daily Oil Consumption (barrels/day)":21000,"CO2 Emissions (tonnes per capita)":7.153120086,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":1417.26,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":57.6,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":12.53,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.74,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":29.35,"GDP Per Capita (USD/year)":13799.90485,"Military Expenditure (USD/year)":96067489.86,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":6,"Average Age (years)":31,"Inflation Rate (year, %)":15.1},{"Country":"Colombia","Country_clean":"colombia","Region":"Latin America and Caribbean","Happiness (score 0-10)":5.695,"Median Salary (USD/year)":995.6,"Average Salary (USD/year)":1157.85,"Lowest Salary (USD/year)":292.53,"Highest Salary (USD/year)":5137.79,"IQAir_AQI (AQI index)":13.25,"Infant Survival Rate (per 1000 births)":990,"Alcohol Consumption Rate (liters per capita per year)":4.38,"Life Expectancy (years)":74.8,"Netflix":6.86,"Women Safety Index (score 0-1)":0.582,"Average Winter Temperature (°C)":24.625221,"Average Summer Temperature (°C)":25.879896,"Population (people)":51874024,"Energy Per Capita (kWh per capita)":11746.604,"% of Power from Fossil Fuels (%)":24.503,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":75.497,"% of Agricultural Land (%)":38.5020279405,"% of Forest Land (%)":53.125395854,"Territory (sq km)":1109500,"Average Rainfall (mm/year)":3240,"Corruption (std score)":0.1599350423,"Wheat Production (tonnes)":144885,"Rye Production (tonnes)":168,"Potatoes Production (tonnes)":111760,"Meat, Chicken Production (tonnes)":13216000,"Avocados Production (tonnes)":9570,"Petrol Price (USD/liter)":0.6,"Daily Oil Consumption (barrels/day)":357000,"CO2 Emissions (tonnes per capita)":1.609870831,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":1444.09,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":17.95,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":19.69,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.57,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":18.88,"GDP Per Capita (USD/year)":15012.93027,"Military Expenditure (USD/year)":10602860967,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":22.6,"Average Age (years)":29.926,"Inflation Rate (year, %)":10.2},{"Country":"Venezuela","Country_clean":"venezuela","Region":"Latin America and Caribbean","Happiness (score 0-10)":5.607,"Median Salary (USD/year)":3282.02,"Average Salary (USD/year)":3862.91,"Lowest Salary (USD/year)":972.99,"Highest Salary (USD/year)":17165.26,"IQAir_AQI (AQI index)":null,"Infant Survival Rate (per 1000 births)":991,"Alcohol Consumption Rate (liters per capita per year)":6.47,"Life Expectancy (years)":74.1,"Netflix":10.99,"Women Safety Index (score 0-1)":0.628,"Average Winter Temperature (°C)":26.43019,"Average Summer Temperature (°C)":27.094582,"Population (people)":28301696,"Energy Per Capita (kWh per capita)":21683.146,"% of Power from Fossil Fuels (%)":35.508,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":80.468,"% of Agricultural Land (%)":24.3750354288,"% of Forest Land (%)":52.3477807381,"Territory (sq km)":882050,"Average Rainfall (mm/year)":2044,"Corruption (std score)":0.1630260944,"Wheat Production (tonnes)":2600996.2,"Rye Production (tonnes)":33067.614,"Potatoes Production (tonnes)":122987476,"Meat, Chicken Production (tonnes)":18293614,"Avocados Production (tonnes)":26527.058,"Petrol Price (USD/liter)":0.02,"Daily Oil Consumption (barrels/day)":598000,"CO2 Emissions (tonnes per capita)":3.939566209,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":805.57,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":45.64,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":49.38,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":1.12,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":50,"GDP Per Capita (USD/year)":null,"Military Expenditure (USD/year)":null,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":36.7,"Average Age (years)":29.297,"Inflation Rate (year, %)":null},{"Country":"Indonesia","Country_clean":"indonesia","Region":"Southeast Asia","Happiness (score 0-10)":5.568,"Median Salary (USD/year)":678.91,"Average Salary (USD/year)":788.83,"Lowest Salary (USD/year)":198.5,"Highest Salary (USD/year)":3504.47,"IQAir_AQI (AQI index)":19.8,"Infant Survival Rate (per 1000 births)":886,"Alcohol Consumption Rate (liters per capita per year)":0.09,"Life Expectancy (years)":69.1,"Netflix":10.66,"Women Safety Index (score 0-1)":0.7,"Average Winter Temperature (°C)":25.869717,"Average Summer Temperature (°C)":25.94353,"Population (people)":275501339,"Energy Per Capita (kWh per capita)":9854.455,"% of Power from Fossil Fuels (%)":80.383,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":19.617,"% of Agricultural Land (%)":34.1337419294,"% of Forest Land (%)":48.3619448681,"Territory (sq km)":1892555.47,"Average Rainfall (mm/year)":2702,"Corruption (std score)":0.1470372379,"Wheat Production (tonnes)":209830,"Rye Production (tonnes)":38193584,"Potatoes Production (tonnes)":95170,"Meat, Chicken Production (tonnes)":158.9,"Avocados Production (tonnes)":382467,"Petrol Price (USD/liter)":1.18,"Daily Oil Consumption (barrels/day)":1623000,"CO2 Emissions (tonnes per capita)":2.290397148,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":2632.8,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":30.89,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":31.57,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.61,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":22.69,"GDP Per Capita (USD/year)":13079.6193,"Military Expenditure (USD/year)":7437197348,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":0.4,"Average Age (years)":31.975,"Inflation Rate (year, %)":4.2},{"Country":"Bulgaria","Country_clean":"bulgaria","Region":"Central and Eastern Europe","Happiness (score 0-10)":5.463,"Median Salary (USD/year)":1605.41,"Average Salary (USD/year)":1794.59,"Lowest Salary (USD/year)":454.05,"Highest Salary (USD/year)":7945.95,"IQAir_AQI (AQI index)":16.8,"Infant Survival Rate (per 1000 births)":1000,"Alcohol Consumption Rate (liters per capita per year)":12.03,"Life Expectancy (years)":74.5,"Netflix":11.29,"Women Safety Index (score 0-1)":0.826,"Average Winter Temperature (°C)":1.7989875,"Average Summer Temperature (°C)":3.720064,"Population (people)":6781953,"Energy Per Capita (kWh per capita)":34175.52,"% of Power from Fossil Fuels (%)":48.754,"% of Power from Nuclear (%)":32.543,"% of Power from Renewables (%)":18.703,"% of Agricultural Land (%)":46.4867096536,"% of Forest Land (%)":35.9801031688,"Territory (sq km)":108560,"Average Rainfall (mm/year)":608,"Corruption (std score)":0.1467373222,"Wheat Production (tonnes)":2800,"Rye Production (tonnes)":79.38,"Potatoes Production (tonnes)":4584500,"Meat, Chicken Production (tonnes)":13234959,"Avocados Production (tonnes)":193,"Petrol Price (USD/liter)":1.72,"Daily Oil Consumption (barrels/day)":97000,"CO2 Emissions (tonnes per capita)":5.61085728,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":2539.67,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":29.6,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":12.8,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":1.21,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":37.4,"GDP Per Capita (USD/year)":21960.36994,"Military Expenditure (USD/year)":1095591047,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":1,"Average Age (years)":44.307,"Inflation Rate (year, %)":15.3},{"Country":"Armenia","Country_clean":"armenia","Region":"Commonwealth of Independent States","Happiness (score 0-10)":5.455,"Median Salary (USD/year)":1700.25,"Average Salary (USD/year)":1974.32,"Lowest Salary (USD/year)":497.39,"Highest Salary (USD/year)":8780.39,"IQAir_AQI (AQI index)":35.3,"Infant Survival Rate (per 1000 births)":999,"Alcohol Consumption Rate (liters per capita per year)":3.91,"Life Expectancy (years)":74.8,"Netflix":null,"Women Safety Index (score 0-1)":0.772,"Average Winter Temperature (°C)":-2.63862,"Average Summer Temperature (°C)":-2.4225743,"Population (people)":2780469,"Energy Per Capita (kWh per capita)":17684.547,"% of Power from Fossil Fuels (%)":43.443,"% of Power from Nuclear (%)":25.273,"% of Power from Renewables (%)":31.284,"% of Agricultural Land (%)":58.827537759,"% of Forest Land (%)":11.5300316122,"Territory (sq km)":28470,"Average Rainfall (mm/year)":562,"Corruption (std score)":0.1820750087,"Wheat Production (tonnes)":328610800,"Rye Production (tonnes)":188384.1,"Potatoes Production (tonnes)":174471740,"Meat, Chicken Production (tonnes)":9700,"Avocados Production (tonnes)":7610,"Petrol Price (USD/liter)":1.26,"Daily Oil Consumption (barrels/day)":6000,"CO2 Emissions (tonnes per capita)":2.086060678,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":2317.05,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":72.2,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":19.41,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.94,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":37.9,"GDP Per Capita (USD/year)":10343.17559,"Military Expenditure (USD/year)":608854649.9,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":1.8,"Average Age (years)":34.935,"Inflation Rate (year, %)":8.6},{"Country":"South Africa","Country_clean":"south africa","Region":"Sub-Saharan Africa","Happiness (score 0-10)":5.422,"Median Salary (USD/year)":1441.44,"Average Salary (USD/year)":1658.72,"Lowest Salary (USD/year)":417.59,"Highest Salary (USD/year)":7366.19,"IQAir_AQI (AQI index)":18.15,"Infant Survival Rate (per 1000 births)":958,"Alcohol Consumption Rate (liters per capita per year)":7.38,"Life Expectancy (years)":62.9,"Netflix":10.05,"Women Safety Index (score 0-1)":0.688,"Average Winter Temperature (°C)":23.753565,"Average Summer Temperature (°C)":24.343164,"Population (people)":59893885,"Energy Per Capita (kWh per capita)":22350.898,"% of Power from Fossil Fuels (%)":86.194,"% of Power from Nuclear (%)":4.714,"% of Power from Renewables (%)":9.092,"% of Agricultural Land (%)":79.4178502832,"% of Forest Land (%)":14.0250847011,"Territory (sq km)":1213090,"Average Rainfall (mm/year)":495,"Corruption (std score)":0.1603969038,"Wheat Production (tonnes)":230786548,"Rye Production (tonnes)":310517.2,"Potatoes Production (tonnes)":200506,"Meat, Chicken Production (tonnes)":1296,"Avocados Production (tonnes)":2868,"Petrol Price (USD/liter)":1.48,"Daily Oil Consumption (barrels/day)":640000,"CO2 Emissions (tonnes per capita)":7.507736092,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":735.61,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":32.4,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":49.89,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.91,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":34.22,"GDP Per Capita (USD/year)":13686.88236,"Military Expenditure (USD/year)":3639879165,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":33.5,"Average Age (years)":26.543,"Inflation Rate (year, %)":7},{"Country":"North Macedonia","Country_clean":"north macedonia","Region":"Central and Eastern Europe","Happiness (score 0-10)":5.369,"Median Salary (USD/year)":677,"Average Salary (USD/year)":794.14,"Lowest Salary (USD/year)":199.83,"Highest Salary (USD/year)":3531.44,"IQAir_AQI (AQI index)":21.85,"Infant Survival Rate (per 1000 births)":1000,"Alcohol Consumption Rate (liters per capita per year)":1.13,"Life Expectancy (years)":75.7,"Netflix":null,"Women Safety Index (score 0-1)":0.798,"Average Winter Temperature (°C)":1.727479,"Average Summer Temperature (°C)":2.884718,"Population (people)":2093599,"Energy Per Capita (kWh per capita)":13874.975,"% of Power from Fossil Fuels (%)":72.818,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":27.182,"% of Agricultural Land (%)":49.9603489294,"% of Forest Land (%)":39.7101506741,"Territory (sq km)":25220,"Average Rainfall (mm/year)":619,"Corruption (std score)":0.1741266698,"Wheat Production (tonnes)":1044000,"Rye Production (tonnes)":143862.004,"Potatoes Production (tonnes)":10800,"Meat, Chicken Production (tonnes)":63139.8,"Avocados Production (tonnes)":40944.6,"Petrol Price (USD/liter)":1.88,"Daily Oil Consumption (barrels/day)":21000,"CO2 Emissions (tonnes per capita)":3.996737213,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":1737.11,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":28.27,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":19.15,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":1.43,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":25.47,"GDP Per Capita (USD/year)":16358.66205,"Military Expenditure (USD/year)":117383985.5,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":1.2,"Average Age (years)":null,"Inflation Rate (year, %)":14.2},{"Country":"Algeria","Country_clean":"algeria","Region":"Middle East and North Africa","Happiness (score 0-10)":5.364,"Median Salary (USD/year)":1148.84,"Average Salary (USD/year)":1308.81,"Lowest Salary (USD/year)":330.11,"Highest Salary (USD/year)":5824.18,"IQAir_AQI (AQI index)":20,"Infant Survival Rate (per 1000 births)":979,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":75.6,"Netflix":null,"Women Safety Index (score 0-1)":0.622,"Average Winter Temperature (°C)":13.421954,"Average Summer Temperature (°C)":14.559108,"Population (people)":44903225,"Energy Per Capita (kWh per capita)":15252.127,"% of Power from Fossil Fuels (%)":98.826,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":0.839,"% of Agricultural Land (%)":17.3470041453,"% of Forest Land (%)":0.8222276478,"Territory (sq km)":2381741,"Average Rainfall (mm/year)":89,"Corruption (std score)":0.178580597,"Wheat Production (tonnes)":2168386,"Rye Production (tonnes)":135945,"Potatoes Production (tonnes)":4360880,"Meat, Chicken Production (tonnes)":257644.62,"Avocados Production (tonnes)":1240356.5,"Petrol Price (USD/liter)":0.31,"Daily Oil Consumption (barrels/day)":429000,"CO2 Emissions (tonnes per capita)":3.977650459,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":1624.07,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":20.15,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":27.77,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.5,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":21.7,"GDP Per Capita (USD/year)":15481.78762,"Military Expenditure (USD/year)":9583724288,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":1.3,"Average Age (years)":30.333,"Inflation Rate (year, %)":9.3},{"Country":"Hong Kong S.A.R. of China","Country_clean":"hong kong sar of china","Region":"East Asia","Happiness (score 0-10)":5.316,"Median Salary (USD/year)":3684.93,"Average Salary (USD/year)":4027.4,"Lowest Salary (USD/year)":1015.07,"Highest Salary (USD/year)":17945.21,"IQAir_AQI (AQI index)":28.65,"Infant Survival Rate (per 1000 births)":994,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":76,"Netflix":10,"Women Safety Index (score 0-1)":0.7,"Average Winter Temperature (°C)":-6.3306623,"Average Summer Temperature (°C)":-5.6608214,"Population (people)":1425887337,"Energy Per Capita (kWh per capita)":31051.48,"% of Power from Fossil Fuels (%)":64.602,"% of Power from Nuclear (%)":4.725,"% of Power from Renewables (%)":30.673,"% of Agricultural Land (%)":3.8095238095,"% of Forest Land (%)":null,"Territory (sq km)":1050,"Average Rainfall (mm/year)":null,"Corruption (std score)":0.1621359587,"Wheat Production (tonnes)":13631,"Rye Production (tonnes)":800,"Potatoes Production (tonnes)":0,"Meat, Chicken Production (tonnes)":6155.65,"Avocados Production (tonnes)":88.19,"Petrol Price (USD/liter)":1.43,"Daily Oil Consumption (barrels/day)":12791553,"CO2 Emissions (tonnes per capita)":7.605936961,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":17746.11,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":63.49,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":17.07,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.53,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":39.86,"GDP Per Capita (USD/year)":64596.56385,"Military Expenditure (USD/year)":250000000000,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":0.5,"Average Age (years)":45.58,"Inflation Rate (year, %)":2},{"Country":"Albania","Country_clean":"albania","Region":"Central and Eastern Europe","Happiness (score 0-10)":5.304,"Median Salary (USD/year)":832.84,"Average Salary (USD/year)":956.92,"Lowest Salary (USD/year)":241.22,"Highest Salary (USD/year)":4258.49,"IQAir_AQI (AQI index)":12.5,"Infant Survival Rate (per 1000 births)":1000,"Alcohol Consumption Rate (liters per capita per year)":4.6,"Life Expectancy (years)":77.8,"Netflix":null,"Women Safety Index (score 0-1)":0.796,"Average Winter Temperature (°C)":4.993411,"Average Summer Temperature (°C)":5.48025,"Population (people)":2842321,"Energy Per Capita (kWh per capita)":14100.432,"% of Power from Fossil Fuels (%)":0,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":100,"% of Agricultural Land (%)":41.4718978102,"% of Forest Land (%)":28.7919708029,"Territory (sq km)":27400,"Average Rainfall (mm/year)":1485,"Corruption (std score)":0.1620248556,"Wheat Production (tonnes)":225170.9,"Rye Production (tonnes)":873343.06,"Potatoes Production (tonnes)":258862,"Meat, Chicken Production (tonnes)":13250,"Avocados Production (tonnes)":4173.95,"Petrol Price (USD/liter)":2.11,"Daily Oil Consumption (barrels/day)":27000,"CO2 Emissions (tonnes per capita)":1.69224832,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":2213.03,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":36.09,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":15.95,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":1.45,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":36.04,"GDP Per Capita (USD/year)":13364.1554,"Military Expenditure (USD/year)":180488725.1,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":2.1,"Average Age (years)":33.636,"Inflation Rate (year, %)":6.7},{"Country":"Tajikistan","Country_clean":"tajikistan","Region":"Commonwealth of Independent States","Happiness (score 0-10)":5.281,"Median Salary (USD/year)":959.78,"Average Salary (USD/year)":1069.47,"Lowest Salary (USD/year)":269.65,"Highest Salary (USD/year)":4753.2,"IQAir_AQI (AQI index)":59.25,"Infant Survival Rate (per 1000 births)":990,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":69.7,"Netflix":null,"Women Safety Index (score 0-1)":0.69,"Average Winter Temperature (°C)":-13.769967,"Average Summer Temperature (°C)":-9.324993,"Population (people)":9952787,"Energy Per Capita (kWh per capita)":7674.914,"% of Power from Fossil Fuels (%)":8.768,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":91.232,"% of Agricultural Land (%)":35.4276244686,"% of Forest Land (%)":3.0607392463,"Territory (sq km)":138790,"Average Rainfall (mm/year)":691,"Corruption (std score)":0.1768408716,"Wheat Production (tonnes)":10363525.6,"Rye Production (tonnes)":3997,"Potatoes Production (tonnes)":140721600,"Meat, Chicken Production (tonnes)":425,"Avocados Production (tonnes)":39040.4,"Petrol Price (USD/liter)":1.57,"Daily Oil Consumption (barrels/day)":21000,"CO2 Emissions (tonnes per capita)":1.010618692,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":835.59,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":34.86,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":22.17,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.41,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":11,"GDP Per Capita (USD/year)":3449.779316,"Military Expenditure (USD/year)":null,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":0.9,"Average Age (years)":23.847,"Inflation Rate (year, %)":null},{"Country":"Congo (Brazzaville)","Country_clean":"congo brazzaville","Region":"Sub-Saharan Africa","Happiness (score 0-10)":5.221,"Median Salary (USD/year)":1058.67,"Average Salary (USD/year)":1205.3,"Lowest Salary (USD/year)":302.94,"Highest Salary (USD/year)":5365.86,"IQAir_AQI (AQI index)":null,"Infant Survival Rate (per 1000 births)":993,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":64.7,"Netflix":null,"Women Safety Index (score 0-1)":0.384,"Average Winter Temperature (°C)":25.505972,"Average Summer Temperature (°C)":26.152718,"Population (people)":99010212,"Energy Per Capita (kWh per capita)":2348.011,"% of Power from Fossil Fuels (%)":76.119,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":23.881,"% of Agricultural Land (%)":31.2679355783,"% of Forest Land (%)":64.2196193265,"Territory (sq km)":341500,"Average Rainfall (mm/year)":1646,"Corruption (std score)":0.158911109,"Wheat Production (tonnes)":916614,"Rye Production (tonnes)":15,"Potatoes Production (tonnes)":32500,"Meat, Chicken Production (tonnes)":1478922.8,"Avocados Production (tonnes)":21000,"Petrol Price (USD/liter)":1.04,"Daily Oil Consumption (barrels/day)":17000,"CO2 Emissions (tonnes per capita)":1.349316017,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":6170.63,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":97.5,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":300,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":2.78,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":42.63,"GDP Per Capita (USD/year)":5662.063411,"Military Expenditure (USD/year)":292260465.3,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":null,"Average Age (years)":21.846,"Inflation Rate (year, %)":3},{"Country":"Mozambique","Country_clean":"mozambique","Region":"Sub-Saharan Africa","Happiness (score 0-10)":5.216,"Median Salary (USD/year)":549.81,"Average Salary (USD/year)":631.27,"Lowest Salary (USD/year)":159.77,"Highest Salary (USD/year)":2803.88,"IQAir_AQI (AQI index)":null,"Infant Survival Rate (per 1000 births)":940,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":57.6,"Netflix":null,"Women Safety Index (score 0-1)":0.58,"Average Winter Temperature (°C)":26.116705,"Average Summer Temperature (°C)":28.754948,"Population (people)":32969517,"Energy Per Capita (kWh per capita)":2241.226,"% of Power from Fossil Fuels (%)":18.593,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":81.407,"% of Agricultural Land (%)":52.6638927745,"% of Forest Land (%)":46.4121731224,"Territory (sq km)":786380,"Average Rainfall (mm/year)":1032,"Corruption (std score)":0.1515905112,"Wheat Production (tonnes)":960,"Rye Production (tonnes)":240600.52,"Potatoes Production (tonnes)":13900,"Meat, Chicken Production (tonnes)":2108.7,"Avocados Production (tonnes)":21020,"Petrol Price (USD/liter)":1.3,"Daily Oil Consumption (barrels/day)":40000,"CO2 Emissions (tonnes per capita)":0.246986412,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":3248.65,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":59.25,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":123.73,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":1.04,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":66.56,"GDP Per Capita (USD/year)":1459.698413,"Military Expenditure (USD/year)":145206801.9,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":3.5,"Average Age (years)":19.071,"Inflation Rate (year, %)":10.3},{"Country":"Georgia","Country_clean":"georgia","Region":"Commonwealth of Independent States","Happiness (score 0-10)":5.185,"Median Salary (USD/year)":2309.7,"Average Salary (USD/year)":2526.12,"Lowest Salary (USD/year)":638.06,"Highest Salary (USD/year)":11231.34,"IQAir_AQI (AQI index)":20.4,"Infant Survival Rate (per 1000 births)":999,"Alcohol Consumption Rate (liters per capita per year)":6.13,"Life Expectancy (years)":74.4,"Netflix":null,"Women Safety Index (score 0-1)":0.812,"Average Winter Temperature (°C)":-1.3454458,"Average Summer Temperature (°C)":-1.0580338,"Population (people)":3744385,"Energy Per Capita (kWh per capita)":20834.768,"% of Power from Fossil Fuels (%)":23.806,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":76.194,"% of Agricultural Land (%)":34.2480932508,"% of Forest Land (%)":40.6159159591,"Territory (sq km)":69490,"Average Rainfall (mm/year)":1026,"Corruption (std score)":0.1741266698,"Wheat Production (tonnes)":33722,"Rye Production (tonnes)":1400,"Potatoes Production (tonnes)":10000,"Meat, Chicken Production (tonnes)":7479107,"Avocados Production (tonnes)":83301.25,"Petrol Price (USD/liter)":1.33,"Daily Oil Consumption (barrels/day)":33000,"CO2 Emissions (tonnes per capita)":2.717624226,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":1797.34,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":52.41,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":20.48,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.86,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":36.97,"GDP Per Capita (USD/year)":12004.57383,"Military Expenditure (USD/year)":316508368.1,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":1.9,"Average Age (years)":39.768,"Inflation Rate (year, %)":11.9},{"Country":"Iraq","Country_clean":"iraq","Region":"Middle East and North Africa","Happiness (score 0-10)":5.166,"Median Salary (USD/year)":1382.38,"Average Salary (USD/year)":1573.31,"Lowest Salary (USD/year)":395.62,"Highest Salary (USD/year)":6988.25,"IQAir_AQI (AQI index)":49.7,"Infant Survival Rate (per 1000 births)":968,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":68.9,"Netflix":null,"Women Safety Index (score 0-1)":0.424,"Average Winter Temperature (°C)":10.920471,"Average Summer Temperature (°C)":12.792713,"Population (people)":44496122,"Energy Per Capita (kWh per capita)":14392.053,"% of Power from Fossil Fuels (%)":94.571,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":3.169,"% of Agricultural Land (%)":21.7078833892,"% of Forest Land (%)":1.9003611838,"Territory (sq km)":434128,"Average Rainfall (mm/year)":216,"Corruption (std score)":0.2064384371,"Wheat Production (tonnes)":2000,"Rye Production (tonnes)":36788.4,"Potatoes Production (tonnes)":28,"Meat, Chicken Production (tonnes)":2250,"Avocados Production (tonnes)":79661,"Petrol Price (USD/liter)":0.51,"Daily Oil Consumption (barrels/day)":857000,"CO2 Emissions (tonnes per capita)":4.440624129,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":2099.93,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":34.73,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":58.46,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.46,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":22.85,"GDP Per Capita (USD/year)":17435.85393,"Military Expenditure (USD/year)":6317977150,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":10.1,"Average Age (years)":22.252,"Inflation Rate (year, %)":5},{"Country":"Nepal","Country_clean":"nepal","Region":"South Asia","Happiness (score 0-10)":5.158,"Median Salary (USD/year)":551.13,"Average Salary (USD/year)":608.2,"Lowest Salary (USD/year)":153.18,"Highest Salary (USD/year)":2703.11,"IQAir_AQI (AQI index)":35.4,"Infant Survival Rate (per 1000 births)":983,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":69.2,"Netflix":null,"Women Safety Index (score 0-1)":0.644,"Average Winter Temperature (°C)":3.4482849,"Average Summer Temperature (°C)":6.6038175,"Population (people)":30547580,"Energy Per Capita (kWh per capita)":1607.635,"% of Power from Fossil Fuels (%)":0,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":100,"% of Agricultural Land (%)":28.7478200209,"% of Forest Land (%)":41.5907220091,"Territory (sq km)":143350,"Average Rainfall (mm/year)":1500,"Corruption (std score)":0.1649870872,"Wheat Production (tonnes)":18053568,"Rye Production (tonnes)":1585771.6,"Potatoes Production (tonnes)":867000,"Meat, Chicken Production (tonnes)":142000,"Avocados Production (tonnes)":69582.234,"Petrol Price (USD/liter)":1.42,"Daily Oil Consumption (barrels/day)":43000,"CO2 Emissions (tonnes per capita)":0.470136453,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":1847.25,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":28.16,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":12.17,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.44,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":23.07,"GDP Per Capita (USD/year)":3089.556352,"Military Expenditure (USD/year)":398521544.9,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":2.3,"Average Age (years)":24.695,"Inflation Rate (year, %)":null},{"Country":"Laos","Country_clean":"laos","Region":"Southeast Asia","Happiness (score 0-10)":5.139,"Median Salary (USD/year)":206.42,"Average Salary (USD/year)":223.54,"Lowest Salary (USD/year)":56.25,"Highest Salary (USD/year)":992.99,"IQAir_AQI (AQI index)":21.5,"Infant Survival Rate (per 1000 births)":null,"Alcohol Consumption Rate (liters per capita per year)":null,"Life Expectancy (years)":null,"Netflix":null,"Women Safety Index (score 0-1)":0.704,"Average Winter Temperature (°C)":19.469608,"Average Summer Temperature (°C)":20.353256,"Population (people)":7529475,"Energy Per Capita (kWh per capita)":18847.086,"% of Power from Fossil Fuels (%)":27.045,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":72.955,"% of Agricultural Land (%)":null,"% of Forest Land (%)":null,"Territory (sq km)":null,"Average Rainfall (mm/year)":null,"Corruption (std score)":null,"Wheat Production (tonnes)":96402500,"Rye Production (tonnes)":177940.2,"Potatoes Production (tonnes)":7540892.5,"Meat, Chicken Production (tonnes)":96000,"Avocados Production (tonnes)":0,"Petrol Price (USD/liter)":1.91,"Daily Oil Consumption (barrels/day)":18000,"CO2 Emissions (tonnes per capita)":null,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":2493.1,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":34.22,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":102.02,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":1.07,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":24.07,"GDP Per Capita (USD/year)":null,"Military Expenditure (USD/year)":null,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":null,"Average Age (years)":23.728,"Inflation Rate (year, %)":23},{"Country":"Gabon","Country_clean":"gabon","Region":"Sub-Saharan Africa","Happiness (score 0-10)":5.106,"Median Salary (USD/year)":800.85,"Average Salary (USD/year)":894.31,"Lowest Salary (USD/year)":225.59,"Highest Salary (USD/year)":3980.08,"IQAir_AQI (AQI index)":null,"Infant Survival Rate (per 1000 births)":998,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":66,"Netflix":null,"Women Safety Index (score 0-1)":0.593,"Average Winter Temperature (°C)":25.409601,"Average Summer Temperature (°C)":26.325548,"Population (people)":2388992,"Energy Per Capita (kWh per capita)":8009.644,"% of Power from Fossil Fuels (%)":55.459,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":44.541,"% of Agricultural Land (%)":8.3565645981,"% of Forest Land (%)":91.2745760081,"Territory (sq km)":257670,"Average Rainfall (mm/year)":1831,"Corruption (std score)":0.1993061751,"Wheat Production (tonnes)":67690,"Rye Production (tonnes)":9447,"Potatoes Production (tonnes)":32656,"Meat, Chicken Production (tonnes)":4519606,"Avocados Production (tonnes)":9710,"Petrol Price (USD/liter)":0.97,"Daily Oil Consumption (barrels/day)":21000,"CO2 Emissions (tonnes per capita)":2.416484011,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":13654.61,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":70.68,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":66.93,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.84,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":80.32,"GDP Per Capita (USD/year)":17875.76115,"Military Expenditure (USD/year)":261217395.1,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":null,"Average Age (years)":24.392,"Inflation Rate (year, %)":4.2},{"Country":"Ivory Coast","Country_clean":"cote divoire","Region":"Sub-Saharan Africa","Happiness (score 0-10)":5.08,"Median Salary (USD/year)":497.91,"Average Salary (USD/year)":544.64,"Lowest Salary (USD/year)":137.45,"Highest Salary (USD/year)":2417.05,"IQAir_AQI (AQI index)":null,"Infant Survival Rate (per 1000 births)":943,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":53.3,"Netflix":null,"Women Safety Index (score 0-1)":0.573,"Average Winter Temperature (°C)":26.548874,"Average Summer Temperature (°C)":27.247503,"Population (people)":28160542,"Energy Per Capita (kWh per capita)":2370.596,"% of Power from Fossil Fuels (%)":69.854,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":30.146,"% of Agricultural Land (%)":73.8993710692,"% of Forest Land (%)":8.5654927673,"Territory (sq km)":318000,"Average Rainfall (mm/year)":1348,"Corruption (std score)":0.1473762393,"Wheat Production (tonnes)":195046800,"Rye Production (tonnes)":71873.17,"Potatoes Production (tonnes)":420,"Meat, Chicken Production (tonnes)":6563.91,"Avocados Production (tonnes)":53000,"Petrol Price (USD/liter)":1.18,"Daily Oil Consumption (barrels/day)":51000,"CO2 Emissions (tonnes per capita)":0.421129515,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":1579.65,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":57.03,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":55.88,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.76,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":32.13,"GDP Per Capita (USD/year)":4207.086934,"Military Expenditure (USD/year)":607848217.9,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":null,"Average Age (years)":21.159,"Inflation Rate (year, %)":5.3},{"Country":"Guinea","Country_clean":"guinea","Region":"Sub-Saharan Africa","Happiness (score 0-10)":5.023,"Median Salary (USD/year)":696.71,"Average Salary (USD/year)":817.87,"Lowest Salary (USD/year)":206.22,"Highest Salary (USD/year)":3634.99,"IQAir_AQI (AQI index)":null,"Infant Survival Rate (per 1000 births)":974,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":59,"Netflix":null,"Women Safety Index (score 0-1)":0.539,"Average Winter Temperature (°C)":25.573353,"Average Summer Temperature (°C)":26.244331,"Population (people)":13859341,"Energy Per Capita (kWh per capita)":1281.525,"% of Power from Fossil Fuels (%)":27.338,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":72.662,"% of Agricultural Land (%)":59.5718704216,"% of Forest Land (%)":25.0244180368,"Territory (sq km)":245720,"Average Rainfall (mm/year)":1651,"Corruption (std score)":0.1515905112,"Wheat Production (tonnes)":407,"Rye Production (tonnes)":295681,"Potatoes Production (tonnes)":1109560,"Meat, Chicken Production (tonnes)":351,"Avocados Production (tonnes)":5720,"Petrol Price (USD/liter)":1.36,"Daily Oil Consumption (barrels/day)":19001,"CO2 Emissions (tonnes per capita)":0.309288541,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":363.49,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":25.34,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":100,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":1.37,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":30,"GDP Per Capita (USD/year)":2504.869745,"Military Expenditure (USD/year)":209150578.3,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":1.1,"Average Age (years)":19.584,"Inflation Rate (year, %)":10.5},{"Country":"Turkiye","Country_clean":"turkey","Region":"Middle East and North Africa","Happiness (score 0-10)":4.975,"Median Salary (USD/year)":254.1,"Average Salary (USD/year)":286.13,"Lowest Salary (USD/year)":72.08,"Highest Salary (USD/year)":1274.12,"IQAir_AQI (AQI index)":19.8,"Infant Survival Rate (per 1000 births)":985,"Alcohol Consumption Rate (liters per capita per year)":1.45,"Life Expectancy (years)":75.8,"Netflix":3,"Women Safety Index (score 0-1)":0.665,"Average Winter Temperature (°C)":3.0063581,"Average Summer Temperature (°C)":3.4250228,"Population (people)":85341241,"Energy Per Capita (kWh per capita)":22824.15,"% of Power from Fossil Fuels (%)":58.027,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":41.973,"% of Agricultural Land (%)":49.4900146824,"% of Forest Land (%)":29.0741785014,"Territory (sq km)":769630,"Average Rainfall (mm/year)":593,"Corruption (std score)":0.1640447378,"Wheat Production (tonnes)":635748.4,"Rye Production (tonnes)":13876344.2,"Potatoes Production (tonnes)":3826904,"Meat, Chicken Production (tonnes)":55,"Avocados Production (tonnes)":16151.2,"Petrol Price (USD/liter)":1.6,"Daily Oil Consumption (barrels/day)":941861,"CO2 Emissions (tonnes per capita)":4.75658475,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":2374.69,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":26.37,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":8.9,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.9,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":24.15,"GDP Per Capita (USD/year)":28068.85941,"Military Expenditure (USD/year)":18967113031,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":2.5,"Average Age (years)":31.914,"Inflation Rate (year, %)":72.3},{"Country":"Senegal","Country_clean":"senegal","Region":"Sub-Saharan Africa","Happiness (score 0-10)":4.969,"Median Salary (USD/year)":493.08,"Average Salary (USD/year)":565.59,"Lowest Salary (USD/year)":142.77,"Highest Salary (USD/year)":2513.74,"IQAir_AQI (AQI index)":null,"Infant Survival Rate (per 1000 births)":981,"Alcohol Consumption Rate (liters per capita per year)":0.26,"Life Expectancy (years)":66.7,"Netflix":null,"Women Safety Index (score 0-1)":0.619,"Average Winter Temperature (°C)":25.55183,"Average Summer Temperature (°C)":26.647112,"Population (people)":17316449,"Energy Per Capita (kWh per capita)":2505.209,"% of Power from Fossil Fuels (%)":80.071,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":19.929,"% of Agricultural Land (%)":49.4000934919,"% of Forest Land (%)":41.6982288475,"Territory (sq km)":192530,"Average Rainfall (mm/year)":686,"Corruption (std score)":0.1473762393,"Wheat Production (tonnes)":56920,"Rye Production (tonnes)":13524458.4,"Potatoes Production (tonnes)":879000,"Meat, Chicken Production (tonnes)":117856.39,"Avocados Production (tonnes)":113807.792,"Petrol Price (USD/liter)":1.42,"Daily Oil Consumption (barrels/day)":49000,"CO2 Emissions (tonnes per capita)":0.651679184,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":9016.38,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":66.67,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":48.8,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":1.1,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":54.62,"GDP Per Capita (USD/year)":3782.538613,"Military Expenditure (USD/year)":346772974.6,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":0.3,"Average Age (years)":19.637,"Inflation Rate (year, %)":9.7},{"Country":"Iran","Country_clean":"iran","Region":"Middle East and North Africa","Happiness (score 0-10)":4.923,"Median Salary (USD/year)":932.63,"Average Salary (USD/year)":1070.97,"Lowest Salary (USD/year)":269.53,"Highest Salary (USD/year)":4770.47,"IQAir_AQI (AQI index)":26.1,"Infant Survival Rate (per 1000 births)":982,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":75.5,"Netflix":null,"Women Safety Index (score 0-1)":0.557,"Average Winter Temperature (°C)":6.699771,"Average Summer Temperature (°C)":9.465016,"Population (people)":88550570,"Energy Per Capita (kWh per capita)":38133.086,"% of Power from Fossil Fuels (%)":94.081,"% of Power from Nuclear (%)":0.955,"% of Power from Renewables (%)":4.965,"% of Agricultural Land (%)":29.0089368259,"% of Forest Land (%)":6.635211094,"Territory (sq km)":1622500,"Average Rainfall (mm/year)":228,"Corruption (std score)":0.1734505892,"Wheat Production (tonnes)":1562160,"Rye Production (tonnes)":71601,"Potatoes Production (tonnes)":195000,"Meat, Chicken Production (tonnes)":2530,"Avocados Production (tonnes)":382467,"Petrol Price (USD/liter)":0.05,"Daily Oil Consumption (barrels/day)":1803999,"CO2 Emissions (tonnes per capita)":7.598364845,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":2183.1,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":20.43,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":13.96,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.93,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":30,"GDP Per Capita (USD/year)":null,"Military Expenditure (USD/year)":13194151137,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":2.2,"Average Age (years)":32.191,"Inflation Rate (year, %)":null},{"Country":"Azerbaijan","Country_clean":"azerbaijan","Region":"Commonwealth of Independent States","Happiness (score 0-10)":4.893,"Median Salary (USD/year)":1558.82,"Average Salary (USD/year)":1741.18,"Lowest Salary (USD/year)":441.18,"Highest Salary (USD/year)":7764.71,"IQAir_AQI (AQI index)":17.6,"Infant Survival Rate (per 1000 births)":995,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":72.7,"Netflix":null,"Women Safety Index (score 0-1)":0.667,"Average Winter Temperature (°C)":1.85439,"Average Summer Temperature (°C)":3.2257857,"Population (people)":10358074,"Energy Per Capita (kWh per capita)":18747.918,"% of Power from Fossil Fuels (%)":94.599,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":6.343,"% of Agricultural Land (%)":57.8415003025,"% of Forest Land (%)":13.8329909256,"Territory (sq km)":82650,"Average Rainfall (mm/year)":447,"Corruption (std score)":0.1841555238,"Wheat Production (tonnes)":1348186,"Rye Production (tonnes)":7577,"Potatoes Production (tonnes)":31,"Meat, Chicken Production (tonnes)":95517,"Avocados Production (tonnes)":4200,"Petrol Price (USD/liter)":0.59,"Daily Oil Consumption (barrels/day)":96000,"CO2 Emissions (tonnes per capita)":3.542397828,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":1548.48,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":32.43,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":14.73,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.54,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":29.41,"GDP Per Capita (USD/year)":18044.13678,"Military Expenditure (USD/year)":1708941176,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":2.3,"Average Age (years)":32.029,"Inflation Rate (year, %)":13.9},{"Country":"Nigeria","Country_clean":"nigeria","Region":"Sub-Saharan Africa","Happiness (score 0-10)":4.881,"Median Salary (USD/year)":389.85,"Average Salary (USD/year)":438.91,"Lowest Salary (USD/year)":110.63,"Highest Salary (USD/year)":1949.27,"IQAir_AQI (AQI index)":28.5,"Infant Survival Rate (per 1000 births)":517,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":54.5,"Netflix":null,"Women Safety Index (score 0-1)":0.465,"Average Winter Temperature (°C)":25.011763,"Average Summer Temperature (°C)":25.588018,"Population (people)":218541212,"Energy Per Capita (kWh per capita)":2547.954,"% of Power from Fossil Fuels (%)":72.492,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":27.508,"% of Agricultural Land (%)":75.3691931003,"% of Forest Land (%)":23.5664876972,"Territory (sq km)":910770,"Average Rainfall (mm/year)":1150,"Corruption (std score)":0.1521603316,"Wheat Production (tonnes)":199000,"Rye Production (tonnes)":10328099,"Potatoes Production (tonnes)":1850,"Meat, Chicken Production (tonnes)":1441905,"Avocados Production (tonnes)":80609.488,"Petrol Price (USD/liter)":0.42,"Daily Oil Consumption (barrels/day)":428000,"CO2 Emissions (tonnes per capita)":0.573636206,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":746.59,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":40.01,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":52.83,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.4,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":45.03,"GDP Per Capita (USD/year)":5990.850432,"Military Expenditure (USD/year)":2043051719,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":22,"Average Age (years)":20.009,"Inflation Rate (year, %)":18.8},{"Country":"State of Palestine","Country_clean":"state of palestine","Region":"Middle East and North Africa","Happiness (score 0-10)":4.879,"Median Salary (USD/year)":1510,"Average Salary (USD/year)":1710,"Lowest Salary (USD/year)":430,"Highest Salary (USD/year)":7620,"IQAir_AQI (AQI index)":null,"Infant Survival Rate (per 1000 births)":764,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":59.8,"Netflix":null,"Women Safety Index (score 0-1)":0.483,"Average Winter Temperature (°C)":13.515371,"Average Summer Temperature (°C)":14.106538,"Population (people)":5250072,"Energy Per Capita (kWh per capita)":3999.195,"% of Power from Fossil Fuels (%)":76.744,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":23.256,"% of Agricultural Land (%)":68.7719298246,"% of Forest Land (%)":6.0701754386,"Territory (sq km)":570,"Average Rainfall (mm/year)":null,"Corruption (std score)":null,"Wheat Production (tonnes)":23762000,"Rye Production (tonnes)":391.1,"Potatoes Production (tonnes)":7529025,"Meat, Chicken Production (tonnes)":52000,"Avocados Production (tonnes)":145795,"Petrol Price (USD/liter)":1.75,"Daily Oil Consumption (barrels/day)":24001,"CO2 Emissions (tonnes per capita)":null,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":4700,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":null,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":null,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":1.68,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":20.49,"GDP Per Capita (USD/year)":null,"Military Expenditure (USD/year)":null,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":1,"Average Age (years)":null,"Inflation Rate (year, %)":3},{"Country":"Cameroon","Country_clean":"cameroon","Region":"Sub-Saharan Africa","Happiness (score 0-10)":4.874,"Median Salary (USD/year)":633.27,"Average Salary (USD/year)":744.45,"Lowest Salary (USD/year)":186.92,"Highest Salary (USD/year)":3303.31,"IQAir_AQI (AQI index)":null,"Infant Survival Rate (per 1000 births)":955,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":57.3,"Netflix":null,"Women Safety Index (score 0-1)":0.466,"Average Winter Temperature (°C)":24.881084,"Average Summer Temperature (°C)":24.946562,"Population (people)":27914536,"Energy Per Capita (kWh per capita)":1593.62,"% of Power from Fossil Fuels (%)":37.64,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":62.36,"% of Agricultural Land (%)":20.6257536333,"% of Forest Land (%)":42.9110448266,"Territory (sq km)":472710,"Average Rainfall (mm/year)":1604,"Corruption (std score)":0.1473762393,"Wheat Production (tonnes)":31793,"Rye Production (tonnes)":10210326,"Potatoes Production (tonnes)":2133322.8,"Meat, Chicken Production (tonnes)":6922.65,"Avocados Production (tonnes)":28994,"Petrol Price (USD/liter)":1.04,"Daily Oil Consumption (barrels/day)":40000,"CO2 Emissions (tonnes per capita)":0.364424922,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":1499.33,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":30.98,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":45.18,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.72,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":32.13,"GDP Per Capita (USD/year)":3785.079978,"Military Expenditure (USD/year)":429892180.6,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":1.4,"Average Age (years)":20.622,"Inflation Rate (year, %)":6.2},{"Country":"Ukraine","Country_clean":"ukraine","Region":"Commonwealth of Independent States","Happiness (score 0-10)":4.873,"Median Salary (USD/year)":530.73,"Average Salary (USD/year)":622.8,"Lowest Salary (USD/year)":157.32,"Highest Salary (USD/year)":2761.98,"IQAir_AQI (AQI index)":18.8,"Infant Survival Rate (per 1000 births)":996,"Alcohol Consumption Rate (liters per capita per year)":8.06,"Life Expectancy (years)":71.3,"Netflix":8.46,"Women Safety Index (score 0-1)":0.626,"Average Winter Temperature (°C)":-1.7763926,"Average Summer Temperature (°C)":0.87508214,"Population (people)":39701739,"Energy Per Capita (kWh per capita)":16309.124,"% of Power from Fossil Fuels (%)":25.424,"% of Power from Nuclear (%)":58.058,"% of Power from Renewables (%)":16.518,"% of Agricultural Land (%)":71.2996202969,"% of Forest Land (%)":16.7345529858,"Territory (sq km)":579400,"Average Rainfall (mm/year)":565,"Corruption (std score)":0.1620248556,"Wheat Production (tonnes)":2727560,"Rye Production (tonnes)":10948.6,"Potatoes Production (tonnes)":330779000,"Meat, Chicken Production (tonnes)":80000,"Avocados Production (tonnes)":97652.8,"Petrol Price (USD/liter)":1.7,"Daily Oil Consumption (barrels/day)":244000,"CO2 Emissions (tonnes per capita)":3.936583531,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":1967.7,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":24.02,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":5.11,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.62,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":26.6,"GDP Per Capita (USD/year)":9249.462135,"Military Expenditure (USD/year)":4750219044,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":6.2,"Average Age (years)":41.202,"Inflation Rate (year, %)":20.2},{"Country":"Namibia","Country_clean":"namibia","Region":"Sub-Saharan Africa","Happiness (score 0-10)":4.832,"Median Salary (USD/year)":821.41,"Average Salary (USD/year)":927.4,"Lowest Salary (USD/year)":233.7,"Highest Salary (USD/year)":4128.25,"IQAir_AQI (AQI index)":null,"Infant Survival Rate (per 1000 births)":998,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":65.8,"Netflix":null,"Women Safety Index (score 0-1)":0.61,"Average Winter Temperature (°C)":25.959553,"Average Summer Temperature (°C)":26.584833,"Population (people)":2567012,"Energy Per Capita (kWh per capita)":8748.273,"% of Power from Fossil Fuels (%)":4.459,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":95.541,"% of Agricultural Land (%)":47.1425621591,"% of Forest Land (%)":7.9776142064,"Territory (sq km)":823290,"Average Rainfall (mm/year)":285,"Corruption (std score)":0.1675386727,"Wheat Production (tonnes)":18053568,"Rye Production (tonnes)":2762388.832,"Potatoes Production (tonnes)":24754506,"Meat, Chicken Production (tonnes)":9280,"Avocados Production (tonnes)":567.4,"Petrol Price (USD/liter)":1.27,"Daily Oil Consumption (barrels/day)":26000,"CO2 Emissions (tonnes per capita)":1.691705428,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":857.63,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":39.31,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":48.6,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.78,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":37.16,"GDP Per Capita (USD/year)":11101.82628,"Military Expenditure (USD/year)":451546508.8,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":11.9,"Average Age (years)":23.559,"Inflation Rate (year, %)":6.1},{"Country":"Morocco","Country_clean":"morocco","Region":"Middle East and North Africa","Happiness (score 0-10)":4.795,"Median Salary (USD/year)":1634.24,"Average Salary (USD/year)":1896.89,"Lowest Salary (USD/year)":477.63,"Highest Salary (USD/year)":8433.85,"IQAir_AQI (AQI index)":null,"Infant Survival Rate (per 1000 births)":983,"Alcohol Consumption Rate (liters per capita per year)":0.43,"Life Expectancy (years)":74.3,"Netflix":null,"Women Safety Index (score 0-1)":0.637,"Average Winter Temperature (°C)":11.878008,"Average Summer Temperature (°C)":13.544462,"Population (people)":37457971,"Energy Per Capita (kWh per capita)":6855.11,"% of Power from Fossil Fuels (%)":80.194,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":17.382,"% of Agricultural Land (%)":67.8713869594,"% of Forest Land (%)":12.8903354246,"Territory (sq km)":446300,"Average Rainfall (mm/year)":346,"Corruption (std score)":0.1603332013,"Wheat Production (tonnes)":580,"Rye Production (tonnes)":240600.52,"Potatoes Production (tonnes)":1642,"Meat, Chicken Production (tonnes)":8401090,"Avocados Production (tonnes)":21020,"Petrol Price (USD/liter)":1.68,"Daily Oil Consumption (barrels/day)":275000,"CO2 Emissions (tonnes per capita)":1.959872285,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":1863.17,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":20.64,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":36.34,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.46,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":18.89,"GDP Per Capita (USD/year)":8611.709833,"Military Expenditure (USD/year)":3696856945,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":1.3,"Average Age (years)":29.825,"Inflation Rate (year, %)":6.7},{"Country":"Pakistan","Country_clean":"pakistan","Region":"South Asia","Happiness (score 0-10)":4.657,"Median Salary (USD/year)":245.34,"Average Salary (USD/year)":284.9,"Lowest Salary (USD/year)":71.83,"Highest Salary (USD/year)":1266.61,"IQAir_AQI (AQI index)":81.7,"Infant Survival Rate (per 1000 births)":648,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":66.4,"Netflix":null,"Women Safety Index (score 0-1)":0.481,"Average Winter Temperature (°C)":9.189832,"Average Summer Temperature (°C)":9.4178095,"Population (people)":235824862,"Energy Per Capita (kWh per capita)":4242.753,"% of Power from Fossil Fuels (%)":56.575,"% of Power from Nuclear (%)":14.74,"% of Power from Renewables (%)":28.685,"% of Agricultural Land (%)":47.0929327522,"% of Forest Land (%)":4.7796803653,"Territory (sq km)":770880,"Average Rainfall (mm/year)":494,"Corruption (std score)":0.1551976055,"Wheat Production (tonnes)":2326000,"Rye Production (tonnes)":2036086.2,"Potatoes Production (tonnes)":1000,"Meat, Chicken Production (tonnes)":1.6,"Avocados Production (tonnes)":548570.264,"Petrol Price (USD/liter)":1.03,"Daily Oil Consumption (barrels/day)":556000,"CO2 Emissions (tonnes per capita)":0.879965499,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":760.64,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":16.52,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":20.72,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.29,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":11.18,"GDP Per Capita (USD/year)":5567.055608,"Military Expenditure (USD/year)":11375525626,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":3.8,"Average Age (years)":23.703,"Inflation Rate (year, %)":19.9},{"Country":"Niger","Country_clean":"niger","Region":"Sub-Saharan Africa","Happiness (score 0-10)":4.556,"Median Salary (USD/year)":480.19,"Average Salary (USD/year)":547.87,"Lowest Salary (USD/year)":137.93,"Highest Salary (USD/year)":2433.17,"IQAir_AQI (AQI index)":null,"Infant Survival Rate (per 1000 births)":951,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":61.8,"Netflix":null,"Women Safety Index (score 0-1)":0.442,"Average Winter Temperature (°C)":18.64278,"Average Summer Temperature (°C)":19.539503,"Population (people)":26207977,"Energy Per Capita (kWh per capita)":409.757,"% of Power from Fossil Fuels (%)":88.889,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":11.111,"% of Agricultural Land (%)":36.7845583011,"% of Forest Land (%)":0.8425673009,"Territory (sq km)":1266700,"Average Rainfall (mm/year)":151,"Corruption (std score)":0.1515905112,"Wheat Production (tonnes)":6040500,"Rye Production (tonnes)":3735380.8,"Potatoes Production (tonnes)":770127,"Meat, Chicken Production (tonnes)":15557,"Avocados Production (tonnes)":87005.8,"Petrol Price (USD/liter)":null,"Daily Oil Consumption (barrels/day)":null,"CO2 Emissions (tonnes per capita)":0.092232251,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":240963.67,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":40.16,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":12.05,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":1.53,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":30.82,"GDP Per Capita (USD/year)":1063.421841,"Military Expenditure (USD/year)":229639906.1,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":4.4,"Average Age (years)":14.994,"Inflation Rate (year, %)":4.2},{"Country":"Burkina Faso","Country_clean":"burkina faso","Region":"Sub-Saharan Africa","Happiness (score 0-10)":4.548,"Median Salary (USD/year)":485.02,"Average Salary (USD/year)":534.97,"Lowest Salary (USD/year)":135.03,"Highest Salary (USD/year)":2384.83,"IQAir_AQI (AQI index)":null,"Infant Survival Rate (per 1000 births)":962,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":59.9,"Netflix":null,"Women Safety Index (score 0-1)":0.481,"Average Winter Temperature (°C)":25.427477,"Average Summer Temperature (°C)":26.73383,"Population (people)":22673762,"Energy Per Capita (kWh per capita)":904.726,"% of Power from Fossil Fuels (%)":86.857,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":13.143,"% of Agricultural Land (%)":46.5643274854,"% of Forest Land (%)":22.5380116959,"Territory (sq km)":273600,"Average Rainfall (mm/year)":748,"Corruption (std score)":0.1515905112,"Wheat Production (tonnes)":1780160,"Rye Production (tonnes)":21900,"Potatoes Production (tonnes)":3760,"Meat, Chicken Production (tonnes)":24732.78,"Avocados Production (tonnes)":138000,"Petrol Price (USD/liter)":1.14,"Daily Oil Consumption (barrels/day)":23000,"CO2 Emissions (tonnes per capita)":0.246046246,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":266.02,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":28.11,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":35.82,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.6,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":24.1,"GDP Per Capita (USD/year)":1984.884306,"Military Expenditure (USD/year)":312467611,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":1.3,"Average Age (years)":17.317,"Inflation Rate (year, %)":14.3},{"Country":"Mauritania","Country_clean":"mauritania","Region":"Sub-Saharan Africa","Happiness (score 0-10)":4.505,"Median Salary (USD/year)":44.623043,"Average Salary (USD/year)":52.497697,"Lowest Salary (USD/year)":13.203171,"Highest Salary (USD/year)":232.82729,"IQAir_AQI (AQI index)":null,"Infant Survival Rate (per 1000 births)":992,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":63.1,"Netflix":null,"Women Safety Index (score 0-1)":0.506,"Average Winter Temperature (°C)":20.794834,"Average Summer Temperature (°C)":21.64168,"Population (people)":4736139,"Energy Per Capita (kWh per capita)":3988.532,"% of Power from Fossil Fuels (%)":73.404,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":26.596,"% of Agricultural Land (%)":38.5272145144,"% of Forest Land (%)":0.2982116038,"Territory (sq km)":1030700,"Average Rainfall (mm/year)":92,"Corruption (std score)":0.163652122,"Wheat Production (tonnes)":329411,"Rye Production (tonnes)":845441.6,"Potatoes Production (tonnes)":326562,"Meat, Chicken Production (tonnes)":58000,"Avocados Production (tonnes)":91812.448,"Petrol Price (USD/liter)":null,"Daily Oil Consumption (barrels/day)":null,"CO2 Emissions (tonnes per capita)":0.872793555,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":362.93,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":43.7,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":90.4,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":3.44,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":27.01,"GDP Per Capita (USD/year)":4150.965246,"Military Expenditure (USD/year)":159013353,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":null,"Average Age (years)":21.967,"Inflation Rate (year, %)":9.5},{"Country":"Gambia","Country_clean":"gambia","Region":"Sub-Saharan Africa","Happiness (score 0-10)":4.485,"Median Salary (USD/year)":223.7,"Average Salary (USD/year)":246.84,"Lowest Salary (USD/year)":62.02,"Highest Salary (USD/year)":1095.34,"IQAir_AQI (AQI index)":null,"Infant Survival Rate (per 1000 births)":997,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":61.1,"Netflix":null,"Women Safety Index (score 0-1)":0.575,"Average Winter Temperature (°C)":25.587826,"Average Summer Temperature (°C)":26.182985,"Population (people)":2705992,"Energy Per Capita (kWh per capita)":931.273,"% of Power from Fossil Fuels (%)":100,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":0,"% of Agricultural Land (%)":62.6482213439,"% of Forest Land (%)":23.4123814229,"Territory (sq km)":10120,"Average Rainfall (mm/year)":836,"Corruption (std score)":0.1527849287,"Wheat Production (tonnes)":50000,"Rye Production (tonnes)":4000,"Potatoes Production (tonnes)":40392,"Meat, Chicken Production (tonnes)":4631097,"Avocados Production (tonnes)":9710,"Petrol Price (USD/liter)":1.33,"Daily Oil Consumption (barrels/day)":3800,"CO2 Emissions (tonnes per capita)":0.247050718,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":4838.71,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":16.94,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":92.74,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.73,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":16.13,"GDP Per Capita (USD/year)":2612.000995,"Military Expenditure (USD/year)":11487224.94,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":null,"Average Age (years)":20.148,"Inflation Rate (year, %)":11.5},{"Country":"Chad","Country_clean":"chad","Region":"Sub-Saharan Africa","Happiness (score 0-10)":4.471,"Median Salary (USD/year)":707.39,"Average Salary (USD/year)":787.96,"Lowest Salary (USD/year)":198.2,"Highest Salary (USD/year)":3512.79,"IQAir_AQI (AQI index)":47.35,"Infant Survival Rate (per 1000 births)":954,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":53.1,"Netflix":null,"Women Safety Index (score 0-1)":0.462,"Average Winter Temperature (°C)":21.083433,"Average Summer Temperature (°C)":21.204617,"Population (people)":17723315,"Energy Per Capita (kWh per capita)":361.161,"% of Power from Fossil Fuels (%)":96.774,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":3.226,"% of Agricultural Land (%)":39.9761753494,"% of Forest Land (%)":3.3365099269,"Territory (sq km)":1259200,"Average Rainfall (mm/year)":322,"Corruption (std score)":0.1769557148,"Wheat Production (tonnes)":94838540,"Rye Production (tonnes)":10666877,"Potatoes Production (tonnes)":1300,"Meat, Chicken Production (tonnes)":703003,"Avocados Production (tonnes)":83403.5,"Petrol Price (USD/liter)":null,"Daily Oil Consumption (barrels/day)":null,"CO2 Emissions (tonnes per capita)":0.141093412,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":160.64,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":128.51,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":74.97,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.88,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":32.13,"GDP Per Capita (USD/year)":1968.258262,"Military Expenditure (USD/year)":232930989.8,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":null,"Average Age (years)":17.944,"Inflation Rate (year, %)":5.8},{"Country":"Kenya","Country_clean":"kenya","Region":"Sub-Saharan Africa","Happiness (score 0-10)":4.47,"Median Salary (USD/year)":863.29,"Average Salary (USD/year)":991.43,"Lowest Salary (USD/year)":250.22,"Highest Salary (USD/year)":4424.36,"IQAir_AQI (AQI index)":14.3,"Infant Survival Rate (per 1000 births)":946,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":63.4,"Netflix":null,"Women Safety Index (score 0-1)":0.511,"Average Winter Temperature (°C)":25.798006,"Average Summer Temperature (°C)":26.603018,"Population (people)":54027487,"Energy Per Capita (kWh per capita)":1952.694,"% of Power from Fossil Fuels (%)":10.219,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":89.781,"% of Agricultural Land (%)":48.6874934111,"% of Forest Land (%)":6.3448184981,"Territory (sq km)":569140,"Average Rainfall (mm/year)":630,"Corruption (std score)":0.1473762393,"Wheat Production (tonnes)":250320,"Rye Production (tonnes)":76025.194,"Potatoes Production (tonnes)":112000,"Meat, Chicken Production (tonnes)":698000,"Avocados Production (tonnes)":370,"Petrol Price (USD/liter)":1.36,"Daily Oil Consumption (barrels/day)":114000,"CO2 Emissions (tonnes per capita)":0.423783898,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":1415.61,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":47.67,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":52.18,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.54,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":32.61,"GDP Per Capita (USD/year)":3467.556478,"Military Expenditure (USD/year)":1097458153,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":4,"Average Age (years)":19.313,"Inflation Rate (year, %)":7.7},{"Country":"Tunisia","Country_clean":"tunisia","Region":"Middle East and North Africa","Happiness (score 0-10)":4.422,"Median Salary (USD/year)":1088.33,"Average Salary (USD/year)":1239.75,"Lowest Salary (USD/year)":312.3,"Highest Salary (USD/year)":5520.5,"IQAir_AQI (AQI index)":null,"Infant Survival Rate (per 1000 births)":997,"Alcohol Consumption Rate (liters per capita per year)":1.39,"Life Expectancy (years)":75.3,"Netflix":null,"Women Safety Index (score 0-1)":0.669,"Average Winter Temperature (°C)":12.263956,"Average Summer Temperature (°C)":12.730293,"Population (people)":12356117,"Energy Per Capita (kWh per capita)":9524.104,"% of Power from Fossil Fuels (%)":95.611,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":4.389,"% of Agricultural Land (%)":62.4388516993,"% of Forest Land (%)":4.533084449,"Territory (sq km)":155360,"Average Rainfall (mm/year)":207,"Corruption (std score)":0.1589545012,"Wheat Production (tonnes)":null,"Rye Production (tonnes)":null,"Potatoes Production (tonnes)":null,"Meat, Chicken Production (tonnes)":null,"Avocados Production (tonnes)":null,"Petrol Price (USD/liter)":0.76,"Daily Oil Consumption (barrels/day)":97000,"CO2 Emissions (tonnes per capita)":2.557564208,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":888.43,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":26.65,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":19.71,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.52,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":15.49,"GDP Per Capita (USD/year)":12502.82019,"Military Expenditure (USD/year)":844227367.1,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":4.8,"Average Age (years)":33.496,"Inflation Rate (year, %)":8.3},{"Country":"Benin","Country_clean":"benin","Region":"Sub-Saharan Africa","Happiness (score 0-10)":4.377,"Median Salary (USD/year)":488.25,"Average Salary (USD/year)":549.48,"Lowest Salary (USD/year)":138.58,"Highest Salary (USD/year)":2449.28,"IQAir_AQI (AQI index)":null,"Infant Survival Rate (per 1000 births)":975,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":60,"Netflix":null,"Women Safety Index (score 0-1)":0.566,"Average Winter Temperature (°C)":26.43899,"Average Summer Temperature (°C)":27.806599,"Population (people)":13352864,"Energy Per Capita (kWh per capita)":2484.818,"% of Power from Fossil Fuels (%)":95.833,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":4.167,"% of Agricultural Land (%)":35.0301525364,"% of Forest Land (%)":27.3603228095,"Territory (sq km)":112760,"Average Rainfall (mm/year)":1039,"Corruption (std score)":0.1563068628,"Wheat Production (tonnes)":4326575,"Rye Production (tonnes)":2949,"Potatoes Production (tonnes)":12335,"Meat, Chicken Production (tonnes)":18924,"Avocados Production (tonnes)":12800,"Petrol Price (USD/liter)":0.96,"Daily Oil Consumption (barrels/day)":36000,"CO2 Emissions (tonnes per capita)":0.618583746,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":null,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":60.24,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":47.19,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.66,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":26.51,"GDP Per Capita (USD/year)":2424.755845,"Military Expenditure (USD/year)":90212425.99,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":1.1,"Average Age (years)":19.43,"Inflation Rate (year, %)":1.4},{"Country":"Uganda","Country_clean":"uganda","Region":"Sub-Saharan Africa","Happiness (score 0-10)":4.372,"Median Salary (USD/year)":645.21,"Average Salary (USD/year)":698.31,"Lowest Salary (USD/year)":176.04,"Highest Salary (USD/year)":3106.55,"IQAir_AQI (AQI index)":27.6,"Infant Survival Rate (per 1000 births)":934,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":62.3,"Netflix":null,"Women Safety Index (score 0-1)":0.544,"Average Winter Temperature (°C)":23.9091,"Average Summer Temperature (°C)":24.655352,"Population (people)":47249585,"Energy Per Capita (kWh per capita)":766.846,"% of Power from Fossil Fuels (%)":2.955,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":97.045,"% of Agricultural Land (%)":71.8880909635,"% of Forest Land (%)":11.4534375623,"Territory (sq km)":200520,"Average Rainfall (mm/year)":1180,"Corruption (std score)":0.1515905112,"Wheat Production (tonnes)":2727560,"Rye Production (tonnes)":10948.6,"Potatoes Production (tonnes)":297921600,"Meat, Chicken Production (tonnes)":25400,"Avocados Production (tonnes)":97652.8,"Petrol Price (USD/liter)":1.51,"Daily Oil Consumption (barrels/day)":32001,"CO2 Emissions (tonnes per capita)":0.132370788,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":1264.36,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":59.16,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":57.43,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.48,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":26.79,"GDP Per Capita (USD/year)":2038.073892,"Military Expenditure (USD/year)":408367566.7,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":9.7,"Average Age (years)":16.567,"Inflation Rate (year, %)":7.2},{"Country":"Myanmar","Country_clean":"myanmar","Region":"Southeast Asia","Happiness (score 0-10)":4.354,"Median Salary (USD/year)":228.46,"Average Salary (USD/year)":260.35,"Lowest Salary (USD/year)":65.68,"Highest Salary (USD/year)":1156.59,"IQAir_AQI (AQI index)":25,"Infant Survival Rate (per 1000 births)":961,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":66.6,"Netflix":null,"Women Safety Index (score 0-1)":0.451,"Average Winter Temperature (°C)":18.82836,"Average Summer Temperature (°C)":20.528673,"Population (people)":54179306,"Energy Per Capita (kWh per capita)":3064.848,"% of Power from Fossil Fuels (%)":58.184,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":41.816,"% of Agricultural Land (%)":19.8875388788,"% of Forest Land (%)":43.2901466285,"Territory (sq km)":652670,"Average Rainfall (mm/year)":2091,"Corruption (std score)":0.1673619598,"Wheat Production (tonnes)":2105000,"Rye Production (tonnes)":160787.4,"Potatoes Production (tonnes)":73000,"Meat, Chicken Production (tonnes)":15600,"Avocados Production (tonnes)":133.254,"Petrol Price (USD/liter)":1.26,"Daily Oil Consumption (barrels/day)":123000,"CO2 Emissions (tonnes per capita)":0.679428523,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":null,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":50,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":null,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.3,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":null,"GDP Per Capita (USD/year)":6674.028647,"Military Expenditure (USD/year)":2030465547,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":28.4,"Average Age (years)":31.35,"Inflation Rate (year, %)":null},{"Country":"Cambodia","Country_clean":"cambodia","Region":"Southeast Asia","Happiness (score 0-10)":4.341,"Median Salary (USD/year)":745.19,"Average Salary (USD/year)":808.3,"Lowest Salary (USD/year)":203.41,"Highest Salary (USD/year)":3592.44,"IQAir_AQI (AQI index)":19.8,"Infant Survival Rate (per 1000 births)":990,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":68.7,"Netflix":null,"Women Safety Index (score 0-1)":0.645,"Average Winter Temperature (°C)":25.820742,"Average Summer Temperature (°C)":26.725933,"Population (people)":16767842,"Energy Per Capita (kWh per capita)":4035.081,"% of Power from Fossil Fuels (%)":47.066,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":52.934,"% of Agricultural Land (%)":34.5521170406,"% of Forest Land (%)":44.8259687288,"Territory (sq km)":176520,"Average Rainfall (mm/year)":1904,"Corruption (std score)":0.1557928324,"Wheat Production (tonnes)":93873230,"Rye Production (tonnes)":14953906,"Potatoes Production (tonnes)":1175.02,"Meat, Chicken Production (tonnes)":183000,"Avocados Production (tonnes)":231517.88,"Petrol Price (USD/liter)":1.53,"Daily Oil Consumption (barrels/day)":48000,"CO2 Emissions (tonnes per capita)":0.98140655,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":2339.5,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":75.81,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":35.25,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.99,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":30,"GDP Per Capita (USD/year)":4360.854404,"Military Expenditure (USD/year)":543205183.3,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":1.8,"Average Age (years)":26.007,"Inflation Rate (year, %)":5.3},{"Country":"Ghana","Country_clean":"ghana","Region":"Sub-Saharan Africa","Happiness (score 0-10)":4.289,"Median Salary (USD/year)":373.82,"Average Salary (USD/year)":438.42,"Lowest Salary (USD/year)":110.25,"Highest Salary (USD/year)":1946.6,"IQAir_AQI (AQI index)":26.2,"Infant Survival Rate (per 1000 births)":963,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":62.4,"Netflix":null,"Women Safety Index (score 0-1)":0.651,"Average Winter Temperature (°C)":27.695566,"Average Summer Temperature (°C)":28.66266,"Population (people)":33475870,"Energy Per Capita (kWh per capita)":3483.363,"% of Power from Fossil Fuels (%)":65.122,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":34.878,"% of Agricultural Land (%)":55.3930199136,"% of Forest Land (%)":35.1286771589,"Territory (sq km)":227533,"Average Rainfall (mm/year)":1187,"Corruption (std score)":0.1473762393,"Wheat Production (tonnes)":16184871,"Rye Production (tonnes)":263400,"Potatoes Production (tonnes)":6323,"Meat, Chicken Production (tonnes)":100860,"Avocados Production (tonnes)":16800,"Petrol Price (USD/liter)":1.29,"Daily Oil Consumption (barrels/day)":88000,"CO2 Emissions (tonnes per capita)":0.658823541,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":1156.33,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":26.61,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":31.37,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.51,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":26.79,"GDP Per Capita (USD/year)":4746.684995,"Military Expenditure (USD/year)":218444253.6,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":2.1,"Average Age (years)":22.413,"Inflation Rate (year, %)":31.3},{"Country":"Liberia","Country_clean":"liberia","Region":"Sub-Saharan Africa","Happiness (score 0-10)":4.269,"Median Salary (USD/year)":334.39,"Average Salary (USD/year)":380.35,"Lowest Salary (USD/year)":96.14,"Highest Salary (USD/year)":1690.44,"IQAir_AQI (AQI index)":null,"Infant Survival Rate (per 1000 births)":992,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":61.4,"Netflix":null,"Women Safety Index (score 0-1)":0.5,"Average Winter Temperature (°C)":26.30846,"Average Summer Temperature (°C)":26.822199,"Population (people)":5302681,"Energy Per Capita (kWh per capita)":1064.616,"% of Power from Fossil Fuels (%)":42.391,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":57.609,"% of Agricultural Land (%)":19.9651162791,"% of Forest Land (%)":78.7705564784,"Territory (sq km)":96320,"Average Rainfall (mm/year)":2391,"Corruption (std score)":0.1515905112,"Wheat Production (tonnes)":null,"Rye Production (tonnes)":null,"Potatoes Production (tonnes)":null,"Meat, Chicken Production (tonnes)":null,"Avocados Production (tonnes)":null,"Petrol Price (USD/liter)":1.3,"Daily Oil Consumption (barrels/day)":8000,"CO2 Emissions (tonnes per capita)":0.23899343,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":5000,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":66.5,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":49.87,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":1.5,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":45,"GDP Per Capita (USD/year)":1308.629536,"Military Expenditure (USD/year)":15786500,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":3.3,"Average Age (years)":19.978,"Inflation Rate (year, %)":null},{"Country":"Mali","Country_clean":"mali","Region":"Sub-Saharan Africa","Happiness (score 0-10)":4.232,"Median Salary (USD/year)":478.58,"Average Salary (USD/year)":533.36,"Lowest Salary (USD/year)":134.55,"Highest Salary (USD/year)":2368.71,"IQAir_AQI (AQI index)":null,"Infant Survival Rate (per 1000 births)":948,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":58.2,"Netflix":null,"Women Safety Index (score 0-1)":0.481,"Average Winter Temperature (°C)":22.10115,"Average Summer Temperature (°C)":23.133558,"Population (people)":22593590,"Energy Per Capita (kWh per capita)":1168.567,"% of Power from Fossil Fuels (%)":64.012,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":35.988,"% of Agricultural Land (%)":35.3477737074,"% of Forest Land (%)":10.8966636344,"Territory (sq km)":1220190,"Average Rainfall (mm/year)":282,"Corruption (std score)":0.1473762393,"Wheat Production (tonnes)":4187394,"Rye Production (tonnes)":2372272,"Potatoes Production (tonnes)":1924871,"Meat, Chicken Production (tonnes)":494128,"Avocados Production (tonnes)":11187.4,"Petrol Price (USD/liter)":1.22,"Daily Oil Consumption (barrels/day)":21999,"CO2 Emissions (tonnes per capita)":0.29657102,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":null,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":63.28,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":29.27,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.77,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":51.68,"GDP Per Capita (USD/year)":2316.6552,"Military Expenditure (USD/year)":495165301,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":null,"Average Age (years)":18.455,"Inflation Rate (year, %)":null},{"Country":"Madagascar","Country_clean":"madagascar","Region":"Sub-Saharan Africa","Happiness (score 0-10)":4.228,"Median Salary (USD/year)":250.87,"Average Salary (USD/year)":290.48,"Lowest Salary (USD/year)":73.28,"Highest Salary (USD/year)":1291.74,"IQAir_AQI (AQI index)":18.1,"Infant Survival Rate (per 1000 births)":972,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":65.5,"Netflix":null,"Women Safety Index (score 0-1)":0.505,"Average Winter Temperature (°C)":24.953327,"Average Summer Temperature (°C)":25.925783,"Population (people)":29611714,"Energy Per Capita (kWh per capita)":507.644,"% of Power from Fossil Fuels (%)":65.55,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":34.45,"% of Agricultural Land (%)":70.2904778274,"% of Forest Land (%)":21.341692506,"Territory (sq km)":581800,"Average Rainfall (mm/year)":1513,"Corruption (std score)":0.1534845382,"Wheat Production (tonnes)":2286,"Rye Production (tonnes)":3011811.06,"Potatoes Production (tonnes)":1483500,"Meat, Chicken Production (tonnes)":7284,"Avocados Production (tonnes)":14839.178,"Petrol Price (USD/liter)":1.02,"Daily Oil Consumption (barrels/day)":18000,"CO2 Emissions (tonnes per capita)":0.152766255,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":916.38,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":54.41,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":58.79,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.84,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":20.62,"GDP Per Capita (USD/year)":1891.320668,"Military Expenditure (USD/year)":73258425.24,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":null,"Average Age (years)":20.475,"Inflation Rate (year, %)":8.2},{"Country":"Togo","Country_clean":"togo","Region":"Sub-Saharan Africa","Happiness (score 0-10)":4.214,"Median Salary (USD/year)":787.96,"Average Salary (USD/year)":852.41,"Lowest Salary (USD/year)":214.31,"Highest Salary (USD/year)":3786.72,"IQAir_AQI (AQI index)":null,"Infant Survival Rate (per 1000 births)":987,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":59.9,"Netflix":null,"Women Safety Index (score 0-1)":0.595,"Average Winter Temperature (°C)":27.114004,"Average Summer Temperature (°C)":28.22776,"Population (people)":8848699,"Energy Per Capita (kWh per capita)":1115.704,"% of Power from Fossil Fuels (%)":73.016,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":26.984,"% of Agricultural Land (%)":70.2334988049,"% of Forest Land (%)":22.1788931789,"Territory (sq km)":54390,"Average Rainfall (mm/year)":1168,"Corruption (std score)":0.1515905112,"Wheat Production (tonnes)":1169283.4,"Rye Production (tonnes)":9853.4,"Potatoes Production (tonnes)":682800,"Meat, Chicken Production (tonnes)":328000,"Avocados Production (tonnes)":179232.066,"Petrol Price (USD/liter)":0.84,"Daily Oil Consumption (barrels/day)":15000,"CO2 Emissions (tonnes per capita)":0.293231207,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":1164.66,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":31.06,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":59.33,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":2.41,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":20.18,"GDP Per Capita (USD/year)":1773.896632,"Military Expenditure (USD/year)":104378994.6,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":null,"Average Age (years)":21.968,"Inflation Rate (year, %)":8},{"Country":"Jordan","Country_clean":"jordan","Region":"Middle East and North Africa","Happiness (score 0-10)":4.186,"Median Salary (USD/year)":1946.4,"Average Salary (USD/year)":2284.91,"Lowest Salary (USD/year)":578.28,"Highest Salary (USD/year)":10141.04,"IQAir_AQI (AQI index)":16.5,"Infant Survival Rate (per 1000 births)":996,"Alcohol Consumption Rate (liters per capita per year)":0.41,"Life Expectancy (years)":74.1,"Netflix":null,"Women Safety Index (score 0-1)":0.679,"Average Winter Temperature (°C)":10.618665,"Average Summer Temperature (°C)":11.0657425,"Population (people)":11285869,"Energy Per Capita (kWh per capita)":9183.148,"% of Power from Fossil Fuels (%)":76.463,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":23.537,"% of Agricultural Land (%)":11.5210487195,"% of Forest Land (%)":1.0980471653,"Territory (sq km)":88794,"Average Rainfall (mm/year)":111,"Corruption (std score)":0.1633208543,"Wheat Production (tonnes)":1268900,"Rye Production (tonnes)":391236.668,"Potatoes Production (tonnes)":140000,"Meat, Chicken Production (tonnes)":250,"Avocados Production (tonnes)":190,"Petrol Price (USD/liter)":1.66,"Daily Oil Consumption (barrels/day)":114000,"CO2 Emissions (tonnes per capita)":2.438204112,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":1311.2,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":59.1,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":36.88,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.53,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":42.3,"GDP Per Capita (USD/year)":9478.904588,"Military Expenditure (USD/year)":1957746479,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":1,"Average Age (years)":25.716,"Inflation Rate (year, %)":4.2},{"Country":"India","Country_clean":"india","Region":"South Asia","Happiness (score 0-10)":4.054,"Median Salary (USD/year)":327.97,"Average Salary (USD/year)":384.43,"Lowest Salary (USD/year)":97.07,"Highest Salary (USD/year)":1717.92,"IQAir_AQI (AQI index)":48.2,"Infant Survival Rate (per 1000 births)":90,"Alcohol Consumption Rate (liters per capita per year)":3.07,"Life Expectancy (years)":68.3,"Netflix":6.61,"Women Safety Index (score 0-1)":0.595,"Average Winter Temperature (°C)":16.979853,"Average Summer Temperature (°C)":18.022833,"Population (people)":1417173173,"Energy Per Capita (kWh per capita)":7143.406,"% of Power from Fossil Fuels (%)":77.006,"% of Power from Nuclear (%)":2.519,"% of Power from Renewables (%)":20.476,"% of Agricultural Land (%)":60.0459264292,"% of Forest Land (%)":24.3598290052,"Territory (sq km)":2973190,"Average Rainfall (mm/year)":1083,"Corruption (std score)":0.1470372379,"Wheat Production (tonnes)":1286332,"Rye Production (tonnes)":4688054,"Potatoes Production (tonnes)":3087000,"Meat, Chicken Production (tonnes)":990,"Avocados Production (tonnes)":22132,"Petrol Price (USD/liter)":1.33,"Daily Oil Consumption (barrels/day)":4443000,"CO2 Emissions (tonnes per capita)":1.797620119,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":6092.45,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":25.37,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":9.33,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.48,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":18.42,"GDP Per Capita (USD/year)":7762.88177,"Military Expenditure (USD/year)":66510289108,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":3,"Average Age (years)":28.115,"Inflation Rate (year, %)":6.7},{"Country":"Egypt","Country_clean":"egypt","Region":"Middle East and North Africa","Happiness (score 0-10)":3.977,"Median Salary (USD/year)":254.53,"Average Salary (USD/year)":298.51,"Lowest Salary (USD/year)":75.36,"Highest Salary (USD/year)":1329.24,"IQAir_AQI (AQI index)":29.1,"Infant Survival Rate (per 1000 births)":949,"Alcohol Consumption Rate (liters per capita per year)":0.21,"Life Expectancy (years)":79,"Netflix":null,"Women Safety Index (score 0-1)":0.645,"Average Winter Temperature (°C)":14.330447,"Average Summer Temperature (°C)":14.60245,"Population (people)":110990103,"Energy Per Capita (kWh per capita)":9960.062,"% of Power from Fossil Fuels (%)":88.779,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":11.221,"% of Agricultural Land (%)":4.0494248832,"% of Forest Land (%)":0.0451855945,"Territory (sq km)":995450,"Average Rainfall (mm/year)":18.1,"Corruption (std score)":0.1632932276,"Wheat Production (tonnes)":1085494,"Rye Production (tonnes)":9716,"Potatoes Production (tonnes)":104900960,"Meat, Chicken Production (tonnes)":842853,"Avocados Production (tonnes)":0,"Petrol Price (USD/liter)":0.52,"Daily Oil Consumption (barrels/day)":877000,"CO2 Emissions (tonnes per capita)":2.484059911,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":549.42,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":23.44,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":16.37,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.25,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":20.35,"GDP Per Capita (USD/year)":12412.3094,"Military Expenditure (USD/year)":3109997892,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":2.6,"Average Age (years)":26.999,"Inflation Rate (year, %)":13.9},{"Country":"Sri Lanka","Country_clean":"sri lanka","Region":"South Asia","Happiness (score 0-10)":3.898,"Median Salary (USD/year)":249.68,"Average Salary (USD/year)":278.41,"Lowest Salary (USD/year)":70.14,"Highest Salary (USD/year)":1239.11,"IQAir_AQI (AQI index)":15.85,"Infant Survival Rate (per 1000 births)":997,"Alcohol Consumption Rate (liters per capita per year)":2.37,"Life Expectancy (years)":74.9,"Netflix":null,"Women Safety Index (score 0-1)":0.743,"Average Winter Temperature (°C)":25.60819,"Average Summer Temperature (°C)":25.9974,"Population (people)":21832143,"Energy Per Capita (kWh per capita)":4347.636,"% of Power from Fossil Fuels (%)":62.752,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":51.574,"% of Agricultural Land (%)":45.4574846427,"% of Forest Land (%)":34.1070158422,"Territory (sq km)":61860,"Average Rainfall (mm/year)":1712,"Corruption (std score)":0.1708792597,"Wheat Production (tonnes)":953620,"Rye Production (tonnes)":334353.706,"Potatoes Production (tonnes)":84310000,"Meat, Chicken Production (tonnes)":3670,"Avocados Production (tonnes)":16564.6,"Petrol Price (USD/liter)":1.26,"Daily Oil Consumption (barrels/day)":127000,"CO2 Emissions (tonnes per capita)":1.090675627,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":1734.36,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":9.43,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":9.61,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.35,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":10.85,"GDP Per Capita (USD/year)":13473.66309,"Military Expenditure (USD/year)":1681433577,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":3.5,"Average Age (years)":34.35,"Inflation Rate (year, %)":49.7},{"Country":"Bangladesh","Country_clean":"bangladesh","Region":"South Asia","Happiness (score 0-10)":3.886,"Median Salary (USD/year)":218.57,"Average Salary (USD/year)":236.71,"Lowest Salary (USD/year)":59.68,"Highest Salary (USD/year)":1052.06,"IQAir_AQI (AQI index)":46,"Infant Survival Rate (per 1000 births)":908,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":71.8,"Netflix":null,"Women Safety Index (score 0-1)":0.593,"Average Winter Temperature (°C)":16.99154,"Average Summer Temperature (°C)":19.676044,"Population (people)":171186372,"Energy Per Capita (kWh per capita)":2912.048,"% of Power from Fossil Fuels (%)":98.052,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":1.948,"% of Agricultural Land (%)":77.3450103711,"% of Forest Land (%)":14.4687716064,"Territory (sq km)":130170,"Average Rainfall (mm/year)":2666,"Corruption (std score)":0.1545842141,"Wheat Production (tonnes)":11000,"Rye Production (tonnes)":341300,"Potatoes Production (tonnes)":3296077,"Meat, Chicken Production (tonnes)":8222.25,"Avocados Production (tonnes)":55000,"Petrol Price (USD/liter)":0.95,"Daily Oil Consumption (barrels/day)":113000,"CO2 Emissions (tonnes per capita)":0.556529455,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":1119.98,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":17.24,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":21.9,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.29,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":11.71,"GDP Per Capita (USD/year)":4371.754986,"Military Expenditure (USD/year)":3894695211,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":2.4,"Average Age (years)":28.447,"Inflation Rate (year, %)":7.7},{"Country":"Ethiopia","Country_clean":"ethiopia","Region":"Sub-Saharan Africa","Happiness (score 0-10)":3.861,"Median Salary (USD/year)":143.88,"Average Salary (USD/year)":160.41,"Lowest Salary (USD/year)":40.42,"Highest Salary (USD/year)":713.13,"IQAir_AQI (AQI index)":15.6,"Infant Survival Rate (per 1000 births)":null,"Alcohol Consumption Rate (liters per capita per year)":null,"Life Expectancy (years)":null,"Netflix":null,"Women Safety Index (score 0-1)":0.521,"Average Winter Temperature (°C)":22.94068,"Average Summer Temperature (°C)":23.82733,"Population (people)":123379924,"Energy Per Capita (kWh per capita)":871.584,"% of Power from Fossil Fuels (%)":0.068,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":99.932,"% of Agricultural Land (%)":34.1981062224,"% of Forest Land (%)":15.0593059801,"Territory (sq km)":1128571.265,"Average Rainfall (mm/year)":848,"Corruption (std score)":0.1515905112,"Wheat Production (tonnes)":8126800,"Rye Production (tonnes)":7124000,"Potatoes Production (tonnes)":51085360,"Meat, Chicken Production (tonnes)":48000,"Avocados Production (tonnes)":762336,"Petrol Price (USD/liter)":0.71,"Daily Oil Consumption (barrels/day)":74000,"CO2 Emissions (tonnes per capita)":0.163813429,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":1457.18,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":57.25,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":202.38,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.61,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":30,"GDP Per Capita (USD/year)":2022.137961,"Military Expenditure (USD/year)":496621069.7,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":8.8,"Average Age (years)":19.793,"Inflation Rate (year, %)":null},{"Country":"Tanzania","Country_clean":"tanzania","Region":"Sub-Saharan Africa","Happiness (score 0-10)":3.781,"Median Salary (USD/year)":457.77,"Average Salary (USD/year)":505.54,"Lowest Salary (USD/year)":126.98,"Highest Salary (USD/year)":2245.08,"IQAir_AQI (AQI index)":null,"Infant Survival Rate (per 1000 births)":915,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":61.8,"Netflix":null,"Women Safety Index (score 0-1)":0.652,"Average Winter Temperature (°C)":22.93629,"Average Summer Temperature (°C)":23.6847,"Population (people)":65497748,"Energy Per Capita (kWh per capita)":907.404,"% of Power from Fossil Fuels (%)":55.868,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":44.132,"% of Agricultural Land (%)":44.6163919621,"% of Forest Land (%)":51.1131180853,"Territory (sq km)":885800,"Average Rainfall (mm/year)":1071,"Corruption (std score)":0.1473762393,"Wheat Production (tonnes)":23410593.11,"Rye Production (tonnes)":6242369.62,"Potatoes Production (tonnes)":102287,"Meat, Chicken Production (tonnes)":368,"Avocados Production (tonnes)":111386.946,"Petrol Price (USD/liter)":1.28,"Daily Oil Consumption (barrels/day)":71999,"CO2 Emissions (tonnes per capita)":0.21463496,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":3901.17,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":41.33,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":44.53,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.31,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":24.65,"GDP Per Capita (USD/year)":3240.262937,"Military Expenditure (USD/year)":675475234.1,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":6.5,"Average Age (years)":17.971,"Inflation Rate (year, %)":4.4},{"Country":"Comoros","Country_clean":"comoros","Region":"Sub-Saharan Africa","Happiness (score 0-10)":3.566,"Median Salary (USD/year)":567.21,"Average Salary (USD/year)":651,"Lowest Salary (USD/year)":163.93,"Highest Salary (USD/year)":2900.48,"IQAir_AQI (AQI index)":null,"Infant Survival Rate (per 1000 births)":999,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":63.5,"Netflix":null,"Women Safety Index (score 0-1)":0.519,"Average Winter Temperature (°C)":26.264544,"Average Summer Temperature (°C)":26.784773,"Population (people)":836774,"Energy Per Capita (kWh per capita)":1633.784,"% of Power from Fossil Fuels (%)":100,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":0,"% of Agricultural Land (%)":71.4669532509,"% of Forest Land (%)":17.4529822676,"Territory (sq km)":1861,"Average Rainfall (mm/year)":900,"Corruption (std score)":0.2269586474,"Wheat Production (tonnes)":700,"Rye Production (tonnes)":28383.1,"Potatoes Production (tonnes)":820515,"Meat, Chicken Production (tonnes)":13808618,"Avocados Production (tonnes)":1552.63,"Petrol Price (USD/liter)":1.36,"Daily Oil Consumption (barrels/day)":1300,"CO2 Emissions (tonnes per capita)":0.376076363,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":null,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":32.37,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":null,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":null,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":null,"GDP Per Capita (USD/year)":2913.387306,"Military Expenditure (USD/year)":null,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":null,"Average Age (years)":22.7,"Inflation Rate (year, %)":null},{"Country":"Yemen","Country_clean":"yemen","Region":"Middle East and North Africa","Happiness (score 0-10)":3.561,"Median Salary (USD/year)":120.98,"Average Salary (USD/year)":133.36,"Lowest Salary (USD/year)":33.62,"Highest Salary (USD/year)":594.93,"IQAir_AQI (AQI index)":null,"Infant Survival Rate (per 1000 births)":963,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":65.7,"Netflix":null,"Women Safety Index (score 0-1)":0.287,"Average Winter Temperature (°C)":19.670574,"Average Summer Temperature (°C)":21.359116,"Population (people)":33696614,"Energy Per Capita (kWh per capita)":1080.039,"% of Power from Fossil Fuels (%)":83.003,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":16.997,"% of Agricultural Land (%)":44.4191904843,"% of Forest Land (%)":1.0398318086,"Territory (sq km)":527970,"Average Rainfall (mm/year)":167,"Corruption (std score)":0.1827792972,"Wheat Production (tonnes)":202362,"Rye Production (tonnes)":16472.4,"Potatoes Production (tonnes)":58010040.4,"Meat, Chicken Production (tonnes)":2458136,"Avocados Production (tonnes)":11979.6,"Petrol Price (USD/liter)":0.52,"Daily Oil Consumption (barrels/day)":60000,"CO2 Emissions (tonnes per capita)":0.380633361,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":2786.35,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":85.55,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":36.93,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":1.05,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":17.97,"GDP Per Capita (USD/year)":2575.126385,"Military Expenditure (USD/year)":null,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":6.8,"Average Age (years)":19.776,"Inflation Rate (year, %)":null},{"Country":"Zambia","Country_clean":"zambia","Region":"Sub-Saharan Africa","Happiness (score 0-10)":3.502,"Median Salary (USD/year)":0.26133504,"Average Salary (USD/year)":0.28552394,"Lowest Salary (USD/year)":0.072092424,"Highest Salary (USD/year)":1.2711033,"IQAir_AQI (AQI index)":null,"Infant Survival Rate (per 1000 births)":973,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":61.8,"Netflix":null,"Women Safety Index (score 0-1)":0.556,"Average Winter Temperature (°C)":23.009497,"Average Summer Temperature (°C)":25.123566,"Population (people)":20017675,"Energy Per Capita (kWh per capita)":3418.863,"% of Power from Fossil Fuels (%)":7.792,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":92.208,"% of Agricultural Land (%)":32.0679589448,"% of Forest Land (%)":60.0301501231,"Territory (sq km)":743390,"Average Rainfall (mm/year)":1020,"Corruption (std score)":0.1535387486,"Wheat Production (tonnes)":12373724.2,"Rye Production (tonnes)":3980041.4,"Potatoes Production (tonnes)":1539264.8,"Meat, Chicken Production (tonnes)":16400,"Avocados Production (tonnes)":17474.034,"Petrol Price (USD/liter)":1.48,"Daily Oil Consumption (barrels/day)":22000,"CO2 Emissions (tonnes per capita)":0.380717051,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":10763.91,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":23.82,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":103.74,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.88,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":18.37,"GDP Per Capita (USD/year)":4223.906936,"Military Expenditure (USD/year)":378025431,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":5.4,"Average Age (years)":17.805,"Inflation Rate (year, %)":11},{"Country":"Eswatini","Country_clean":"eswatini","Region":"Sub-Saharan Africa","Happiness (score 0-10)":3.502,"Median Salary (USD/year)":204.56,"Average Salary (USD/year)":239.53,"Lowest Salary (USD/year)":60.41,"Highest Salary (USD/year)":1065.18,"IQAir_AQI (AQI index)":null,"Infant Survival Rate (per 1000 births)":998,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":58.9,"Netflix":null,"Women Safety Index (score 0-1)":0.415,"Average Winter Temperature (°C)":23.062267,"Average Summer Temperature (°C)":24.690916,"Population (people)":1201670,"Energy Per Capita (kWh per capita)":5981.112,"% of Power from Fossil Fuels (%)":5.405,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":94.595,"% of Agricultural Land (%)":69.476744186,"% of Forest Land (%)":28.998255814,"Territory (sq km)":17200,"Average Rainfall (mm/year)":788,"Corruption (std score)":0.2084804773,"Wheat Production (tonnes)":242000,"Rye Production (tonnes)":685,"Potatoes Production (tonnes)":84367810,"Meat, Chicken Production (tonnes)":148000,"Avocados Production (tonnes)":192307,"Petrol Price (USD/liter)":null,"Daily Oil Consumption (barrels/day)":null,"CO2 Emissions (tonnes per capita)":0.836140045,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":228.11,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":27.56,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":54.35,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.8,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":11.48,"GDP Per Capita (USD/year)":10637.84173,"Military Expenditure (USD/year)":87787078.57,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":11.6,"Average Age (years)":21.57,"Inflation Rate (year, %)":null},{"Country":"Malawi","Country_clean":"malawi","Region":"Sub-Saharan Africa","Happiness (score 0-10)":3.421,"Median Salary (USD/year)":132.38,"Average Salary (USD/year)":151.69,"Lowest Salary (USD/year)":38.24,"Highest Salary (USD/year)":674.79,"IQAir_AQI (AQI index)":null,"Infant Survival Rate (per 1000 births)":974,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":58.3,"Netflix":null,"Women Safety Index (score 0-1)":0.521,"Average Winter Temperature (°C)":23.77365,"Average Summer Temperature (°C)":25.912868,"Population (people)":20405317,"Energy Per Capita (kWh per capita)":464.983,"% of Power from Fossil Fuels (%)":15.493,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":84.507,"% of Agricultural Land (%)":64.1705557913,"% of Forest Land (%)":23.3315655494,"Territory (sq km)":94280,"Average Rainfall (mm/year)":1181,"Corruption (std score)":0.1473762393,"Wheat Production (tonnes)":23310800,"Rye Production (tonnes)":2242357.8,"Potatoes Production (tonnes)":447532.88,"Meat, Chicken Production (tonnes)":6200,"Avocados Production (tonnes)":68493.6,"Petrol Price (USD/liter)":1.35,"Daily Oil Consumption (barrels/day)":6001,"CO2 Emissions (tonnes per capita)":0.077836684,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":null,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":9.74,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":111.98,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.68,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":29.21,"GDP Per Capita (USD/year)":1310.995555,"Military Expenditure (USD/year)":58369173.44,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":1.8,"Average Age (years)":18.301,"Inflation Rate (year, %)":21},{"Country":"Botswana","Country_clean":"botswana","Region":"Sub-Saharan Africa","Happiness (score 0-10)":3.383,"Median Salary (USD/year)":729.39,"Average Salary (USD/year)":860.69,"Lowest Salary (USD/year)":216.63,"Highest Salary (USD/year)":3822.03,"IQAir_AQI (AQI index)":null,"Infant Survival Rate (per 1000 births)":998,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":65.7,"Netflix":null,"Women Safety Index (score 0-1)":0.659,"Average Winter Temperature (°C)":26.46735,"Average Summer Temperature (°C)":28.064913,"Population (people)":2630296,"Energy Per Capita (kWh per capita)":9385.398,"% of Power from Fossil Fuels (%)":99.543,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":0.457,"% of Agricultural Land (%)":45.6337232898,"% of Forest Land (%)":26.7083090713,"Territory (sq km)":566730,"Average Rainfall (mm/year)":416,"Corruption (std score)":0.1603969038,"Wheat Production (tonnes)":2713157,"Rye Production (tonnes)":557002.44,"Potatoes Production (tonnes)":30482,"Meat, Chicken Production (tonnes)":57420,"Avocados Production (tonnes)":830,"Petrol Price (USD/liter)":1.13,"Daily Oil Consumption (barrels/day)":21000,"CO2 Emissions (tonnes per capita)":3.147107071,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":1403.74,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":36.87,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":47.19,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.86,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":34.85,"GDP Per Capita (USD/year)":18615.79334,"Military Expenditure (USD/year)":529481042,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":15.2,"Average Age (years)":25.061,"Inflation Rate (year, %)":11.7},{"Country":"Zimbabwe","Country_clean":"zimbabwe","Region":"Sub-Saharan Africa","Happiness (score 0-10)":3.341,"Median Salary (USD/year)":555.40204,"Average Salary (USD/year)":602.37635,"Lowest Salary (USD/year)":151.42305,"Highest Salary (USD/year)":2674.772,"IQAir_AQI (AQI index)":null,"Infant Survival Rate (per 1000 births)":978,"Alcohol Consumption Rate (liters per capita per year)":6.5,"Life Expectancy (years)":67,"Netflix":null,"Women Safety Index (score 0-1)":0.604,"Average Winter Temperature (°C)":23.768185,"Average Summer Temperature (°C)":27.019161,"Population (people)":16320537,"Energy Per Capita (kWh per capita)":2635.154,"% of Power from Fossil Fuels (%)":44.956,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":55.044,"% of Agricultural Land (%)":41.876696394,"% of Forest Land (%)":44.9748222825,"Territory (sq km)":386850,"Average Rainfall (mm/year)":657,"Corruption (std score)":0.1515905112,"Wheat Production (tonnes)":1316724.8,"Rye Production (tonnes)":140284.8,"Potatoes Production (tonnes)":271012.612,"Meat, Chicken Production (tonnes)":8000,"Avocados Production (tonnes)":29313.66,"Petrol Price (USD/liter)":1.62,"Daily Oil Consumption (barrels/day)":24000,"CO2 Emissions (tonnes per capita)":0.80297852,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":1344.1,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":35,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":118.75,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.72,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":40,"GDP Per Capita (USD/year)":3029.793005,"Military Expenditure (USD/year)":420364000,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":7.5,"Average Age (years)":22.144,"Inflation Rate (year, %)":104.7},{"Country":"Congo (Kinshasa)","Country_clean":"congo kinshasa","Region":"Sub-Saharan Africa","Happiness (score 0-10)":3.295,"Median Salary (USD/year)":1058.67,"Average Salary (USD/year)":1205.3,"Lowest Salary (USD/year)":302.94,"Highest Salary (USD/year)":5365.86,"IQAir_AQI (AQI index)":null,"Infant Survival Rate (per 1000 births)":993,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":64.7,"Netflix":null,"Women Safety Index (score 0-1)":0.384,"Average Winter Temperature (°C)":25.505972,"Average Summer Temperature (°C)":26.152718,"Population (people)":99010212,"Energy Per Capita (kWh per capita)":2348.011,"% of Power from Fossil Fuels (%)":76.119,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":23.881,"% of Agricultural Land (%)":31.2679355783,"% of Forest Land (%)":64.2196193265,"Territory (sq km)":341500,"Average Rainfall (mm/year)":1646,"Corruption (std score)":0.158911109,"Wheat Production (tonnes)":916614,"Rye Production (tonnes)":15,"Potatoes Production (tonnes)":32500,"Meat, Chicken Production (tonnes)":1478922.8,"Avocados Production (tonnes)":21000,"Petrol Price (USD/liter)":1.04,"Daily Oil Consumption (barrels/day)":17000,"CO2 Emissions (tonnes per capita)":1.349316017,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":6170.63,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":97.5,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":300,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":2.78,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":42.63,"GDP Per Capita (USD/year)":5662.063411,"Military Expenditure (USD/year)":292260465.3,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":null,"Average Age (years)":21.846,"Inflation Rate (year, %)":null},{"Country":"Sierra Leone","Country_clean":"sierra leone","Region":"Sub-Saharan Africa","Happiness (score 0-10)":3.245,"Median Salary (USD/year)":249.1,"Average Salary (USD/year)":277.75,"Lowest Salary (USD/year)":69.92,"Highest Salary (USD/year)":1238.23,"IQAir_AQI (AQI index)":null,"Infant Survival Rate (per 1000 births)":978,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":51,"Netflix":null,"Women Safety Index (score 0-1)":0.543,"Average Winter Temperature (°C)":26.811758,"Average Summer Temperature (°C)":27.633963,"Population (people)":8605718,"Energy Per Capita (kWh per capita)":492.598,"% of Power from Fossil Fuels (%)":9.524,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":90.476,"% of Agricultural Land (%)":54.710446107,"% of Forest Land (%)":34.8455250762,"Territory (sq km)":72180,"Average Rainfall (mm/year)":2526,"Corruption (std score)":0.1473762393,"Wheat Production (tonnes)":127106.8,"Rye Production (tonnes)":49816.2,"Potatoes Production (tonnes)":65460290,"Meat, Chicken Production (tonnes)":688538.1,"Avocados Production (tonnes)":17496,"Petrol Price (USD/liter)":1.37,"Daily Oil Consumption (barrels/day)":6500,"CO2 Emissions (tonnes per capita)":0.115189573,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":1076.39,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":76.27,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":100,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.86,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":30,"GDP Per Capita (USD/year)":1601.974029,"Military Expenditure (USD/year)":29622478.1,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":1.7,"Average Age (years)":18.752,"Inflation Rate (year, %)":27.2},{"Country":"Lesotho","Country_clean":"lesotho","Region":"Sub-Saharan Africa","Happiness (score 0-10)":3.186,"Median Salary (USD/year)":540.54,"Average Salary (USD/year)":625.33,"Lowest Salary (USD/year)":157.39,"Highest Salary (USD/year)":2776.89,"IQAir_AQI (AQI index)":null,"Infant Survival Rate (per 1000 births)":996,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":53.7,"Netflix":null,"Women Safety Index (score 0-1)":0.605,"Average Winter Temperature (°C)":16.68572,"Average Summer Temperature (°C)":18.73354,"Population (people)":2305825,"Energy Per Capita (kWh per capita)":2132.814,"% of Power from Fossil Fuels (%)":0,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":100,"% of Agricultural Land (%)":80.1383399209,"% of Forest Land (%)":1.1370223979,"Territory (sq km)":30360,"Average Rainfall (mm/year)":788,"Corruption (std score)":0.1740706116,"Wheat Production (tonnes)":18781986,"Rye Production (tonnes)":10563.96,"Potatoes Production (tonnes)":285000,"Meat, Chicken Production (tonnes)":1068500,"Avocados Production (tonnes)":1664340,"Petrol Price (USD/liter)":1.5,"Daily Oil Consumption (barrels/day)":5001,"CO2 Emissions (tonnes per capita)":0.362307409,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":null,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":26.61,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":44.2,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.69,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":22.95,"GDP Per Capita (USD/year)":3219.457157,"Military Expenditure (USD/year)":51064347.75,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":43.6,"Average Age (years)":21.442,"Inflation Rate (year, %)":8.3},{"Country":"Lebanon","Country_clean":"lebanon","Region":"Middle East and North Africa","Happiness (score 0-10)":2.707,"Median Salary (USD/year)":753.33,"Average Salary (USD/year)":873.33,"Lowest Salary (USD/year)":219.33,"Highest Salary (USD/year)":3873.33,"IQAir_AQI (AQI index)":25.7,"Infant Survival Rate (per 1000 births)":999,"Alcohol Consumption Rate (liters per capita per year)":1.32,"Life Expectancy (years)":74.9,"Netflix":null,"Women Safety Index (score 0-1)":0.595,"Average Winter Temperature (°C)":9.020683,"Average Summer Temperature (°C)":9.587217,"Population (people)":5489739,"Energy Per Capita (kWh per capita)":18831.662,"% of Power from Fossil Fuels (%)":94.509,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":5.491,"% of Agricultural Land (%)":66.4027370479,"% of Forest Land (%)":14.0694037146,"Territory (sq km)":10230,"Average Rainfall (mm/year)":661,"Corruption (std score)":0.1708792597,"Wheat Production (tonnes)":239916,"Rye Production (tonnes)":714111.8,"Potatoes Production (tonnes)":200810,"Meat, Chicken Production (tonnes)":541292,"Avocados Production (tonnes)":195067.11,"Petrol Price (USD/liter)":1.43,"Daily Oil Consumption (barrels/day)":153000,"CO2 Emissions (tonnes per capita)":4.076894274,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":3928.57,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":51.62,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":65.01,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":2.99,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":60,"GDP Per Capita (USD/year)":13081.10746,"Military Expenditure (USD/year)":2775557816,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":1.9,"Average Age (years)":32.835,"Inflation Rate (year, %)":null},{"Country":"Afghanistan","Country_clean":"afghanistan","Region":"South Asia","Happiness (score 0-10)":1.721,"Median Salary (USD/year)":853.74,"Average Salary (USD/year)":1001.15,"Lowest Salary (USD/year)":252.53,"Highest Salary (USD/year)":4460.97,"IQAir_AQI (AQI index)":37.5,"Infant Survival Rate (per 1000 births)":938,"Alcohol Consumption Rate (liters per capita per year)":0.01,"Life Expectancy (years)":65,"Netflix":null,"Women Safety Index (score 0-1)":0.286,"Average Winter Temperature (°C)":0.047207996,"Average Summer Temperature (°C)":3.3000636,"Population (people)":41128771,"Energy Per Capita (kWh per capita)":676.696,"% of Power from Fossil Fuels (%)":15.663,"% of Power from Nuclear (%)":0,"% of Power from Renewables (%)":84.337,"% of Agricultural Land (%)":58.7415482269,"% of Forest Land (%)":1.8527819941,"Territory (sq km)":652230,"Average Rainfall (mm/year)":327,"Corruption (std score)":0.1827608198,"Wheat Production (tonnes)":3900000,"Rye Production (tonnes)":96473.03,"Potatoes Production (tonnes)":864772,"Meat, Chicken Production (tonnes)":28029.23,"Avocados Production (tonnes)":1069854.4,"Petrol Price (USD/liter)":0.96,"Daily Oil Consumption (barrels/day)":35000,"CO2 Emissions (tonnes per capita)":0.159824372,"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)":694.92,"Fitness Club, Monthly Fee for 1 Adult (USD/month)":13.56,"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)":715.63,"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)":0.23,"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)":5.65,"GDP Per Capita (USD/year)":1955.006208,"Military Expenditure (USD/year)":198086263.3,"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)":6.7,"Average Age (years)":17.81,"Inflation Rate (year, %)":null}]'),kw=[{metric:"Median Salary (USD/year)",weight_signed:.6558076975,weight_magnitude:.6558076975},{metric:"Average Salary (USD/year)",weight_signed:.6523718342,weight_magnitude:.6523718342},{metric:"Lowest Salary (USD/year)",weight_signed:.6485308062,weight_magnitude:.6485308062},{metric:"Highest Salary (USD/year)",weight_signed:.652181275,weight_magnitude:.652181275},{metric:"IQAir_AQI (AQI index)",weight_signed:-.473119728,weight_magnitude:.473119728},{metric:"Infant Survival Rate (per 1000 births)",weight_signed:.2322032702,weight_magnitude:.2322032702},{metric:"Alcohol Consumption Rate (liters per capita per year)",weight_signed:.5697201294,weight_magnitude:.5697201294},{metric:"Life Expectancy (years)",weight_signed:.7416090513,weight_magnitude:.7416090513},{metric:"Netflix",weight_signed:.68233766,weight_magnitude:.68233766},{metric:"Women Safety Index (score 0-1)",weight_signed:.7713289613,weight_magnitude:.7713289613},{metric:"Average Winter Temperature (°C)",weight_signed:-.4293739779,weight_magnitude:.4293739779},{metric:"Average Summer Temperature (°C)",weight_signed:-.4283984286,weight_magnitude:.4283984286},{metric:"Population (people)",weight_signed:-.0219677181,weight_magnitude:.0219677181},{metric:"Energy Per Capita (kWh per capita)",weight_signed:.5801967755,weight_magnitude:.5801967755},{metric:"% of Power from Fossil Fuels (%)",weight_signed:-.1362477334,weight_magnitude:.1362477334},{metric:"% of Power from Nuclear (%)",weight_signed:.2760217511,weight_magnitude:.2760217511},{metric:"% of Power from Renewables (%)",weight_signed:.0225333231,weight_magnitude:.0225333231},{metric:"% of Agricultural Land (%)",weight_signed:-.2509434126,weight_magnitude:.2509434126},{metric:"% of Forest Land (%)",weight_signed:.1552674975,weight_magnitude:.1552674975},{metric:"Territory (sq km)",weight_signed:.1241759612,weight_magnitude:.1241759612},{metric:"Average Rainfall (mm/year)",weight_signed:.0560770183,weight_magnitude:.0560770183},{metric:"Corruption (std score)",weight_signed:.0494015891,weight_magnitude:.0494015891},{metric:"Wheat Production (tonnes)",weight_signed:.0991311381,weight_magnitude:.0991311381},{metric:"Rye Production (tonnes)",weight_signed:-.0566746652,weight_magnitude:.0566746652},{metric:"Potatoes Production (tonnes)",weight_signed:-.1034607974,weight_magnitude:.1034607974},{metric:"Meat, Chicken Production (tonnes)",weight_signed:.0025616182,weight_magnitude:.0025616182},{metric:"Avocados Production (tonnes)",weight_signed:-.0224689248,weight_magnitude:.0224689248},{metric:"Petrol Price (USD/liter)",weight_signed:.4486226673,weight_magnitude:.4486226673},{metric:"Daily Oil Consumption (barrels/day)",weight_signed:.1522584044,weight_magnitude:.1522584044},{metric:"CO2 Emissions (tonnes per capita)",weight_signed:.5727786876,weight_magnitude:.5727786876},{metric:"Price per Square Meter to Buy Apartment in City Centre (USD/sqm)",weight_signed:.0116504384,weight_magnitude:.0116504384},{metric:"Fitness Club, Monthly Fee for 1 Adult (USD/month)",weight_signed:.1494452699,weight_magnitude:.1494452699},{metric:"Internet (60 Mbps or More, Unlimited Data, Cable/ADSL) (USD/month)",weight_signed:-.3850210632,weight_magnitude:.3850210632},{metric:"Coke/Pepsi (0.33 liter bottle, in restaurants) (USD/bottle)",weight_signed:.4883880713,weight_magnitude:.4883880713},{metric:"Meal for 2 People, Mid-range Restaurant, Three-course (USD/meal)",weight_signed:.6293410799,weight_magnitude:.6293410799},{metric:"GDP Per Capita (USD/year)",weight_signed:.6913383494,weight_magnitude:.6913383494},{metric:"Military Expenditure (USD/year)",weight_signed:.1428679802,weight_magnitude:.1428679802},{metric:"Yearly Homicide Rate (% per 100,000 people) (per 100,000 people)",weight_signed:-.1431878775,weight_magnitude:.1431878775},{metric:"Average Age (years)",weight_signed:.7032851312,weight_magnitude:.7032851312},{metric:"Inflation Rate (year, %)",weight_signed:-.2963979455,weight_magnitude:.2963979455}];function $E(e,t){const a=V.createContext(t),i=p=>{const{children:y,...c}=p,A=V.useMemo(()=>c,Object.values(c));return se.jsx(a.Provider,{value:A,children:y})};i.displayName=e+"Provider";function d(p){const y=V.useContext(a);if(y)return y;if(t!==void 0)return t;throw new Error(`\`${p}\` must be used within \`${e}\``)}return[i,d]}function ap(e,t=[]){let a=[];function i(p,y){const c=V.createContext(y),A=a.length;a=[...a,y];const C=R=>{const{scope:L,children:U,...q}=R,$=L?.[e]?.[A]||c,W=V.useMemo(()=>q,Object.values(q));return se.jsx($.Provider,{value:W,children:U})};C.displayName=p+"Provider";function T(R,L){const U=L?.[e]?.[A]||c,q=V.useContext(U);if(q)return q;if(y!==void 0)return y;throw new Error(`\`${R}\` must be used within \`${p}\``)}return[C,T]}const d=()=>{const p=a.map(y=>V.createContext(y));return function(c){const A=c?.[e]||p;return V.useMemo(()=>({[`__scope${e}`]:{...c,[e]:A}}),[c,A])}};return d.scopeName=e,[i,HE(d,...t)]}function HE(...e){const t=e[0];if(e.length===1)return t;const a=()=>{const i=e.map(d=>({useScope:d(),scopeName:d.scopeName}));return function(p){const y=i.reduce((c,{useScope:A,scopeName:C})=>{const R=A(p)[`__scope${C}`];return{...c,...R}},{});return V.useMemo(()=>({[`__scope${t.scopeName}`]:y}),[y])}};return a.scopeName=t.scopeName,a}var m1=sD();const VE=hc(m1);function Ow(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Yd(...e){return t=>{let a=!1;const i=e.map(d=>{const p=Ow(d,t);return!a&&typeof p=="function"&&(a=!0),p});if(a)return()=>{for(let d=0;d<i.length;d++){const p=i[d];typeof p=="function"?p():Ow(e[d],null)}}}}function Mo(...e){return V.useCallback(Yd(...e),e)}function um(e){const t=GE(e),a=V.forwardRef((i,d)=>{const{children:p,...y}=i,c=V.Children.toArray(p),A=c.find(YE);if(A){const C=A.props.children,T=c.map(R=>R===A?V.Children.count(C)>1?V.Children.only(null):V.isValidElement(C)?C.props.children:null:R);return se.jsx(t,{...y,ref:d,children:V.isValidElement(C)?V.cloneElement(C,void 0,T):null})}return se.jsx(t,{...y,ref:d,children:p})});return a.displayName=`${e}.Slot`,a}var WE=um("Slot");function GE(e){const t=V.forwardRef((a,i)=>{const{children:d,...p}=a;if(V.isValidElement(d)){const y=XE(d),c=QE(p,d.props);return d.type!==V.Fragment&&(c.ref=i?Yd(i,y):y),V.cloneElement(d,c)}return V.Children.count(d)>1?V.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ZE=Symbol("radix.slottable");function YE(e){return V.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ZE}function QE(e,t){const a={...t};for(const i in t){const d=e[i],p=t[i];/^on[A-Z]/.test(i)?d&&p?a[i]=(...c)=>{const A=p(...c);return d(...c),A}:d&&(a[i]=d):i==="style"?a[i]={...d,...p}:i==="className"&&(a[i]=[d,p].filter(Boolean).join(" "))}return{...e,...a}}function XE(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,a=t&&"isReactWarning"in t&&t.isReactWarning;return a?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,a=t&&"isReactWarning"in t&&t.isReactWarning,a?e.props.ref:e.props.ref||e.ref)}var KE=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],bn=KE.reduce((e,t)=>{const a=um(`Primitive.${t}`),i=V.forwardRef((d,p)=>{const{asChild:y,...c}=d,A=y?a:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),se.jsx(A,{...c,ref:p})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function JE(e,t){e&&m1.flushSync(()=>e.dispatchEvent(t))}var y2="Progress",g2=100,[eR]=ap(y2),[tR,rR]=eR(y2),lD=V.forwardRef((e,t)=>{const{__scopeProgress:a,value:i=null,max:d,getValueLabel:p=nR,...y}=e;(d||d===0)&&!Uw(d)&&console.error(aR(`${d}`,"Progress"));const c=Uw(d)?d:g2;i!==null&&!Lw(i,c)&&console.error(iR(`${i}`,"Progress"));const A=Lw(i,c)?i:null,C=wv(A)?p(A,c):void 0;return se.jsx(tR,{scope:a,value:A,max:c,children:se.jsx(bn.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":wv(A)?A:void 0,"aria-valuetext":C,role:"progressbar","data-state":hD(A,c),"data-value":A??void 0,"data-max":c,...y,ref:t})})});lD.displayName=y2;var cD="ProgressIndicator",uD=V.forwardRef((e,t)=>{const{__scopeProgress:a,...i}=e,d=rR(cD,a);return se.jsx(bn.div,{"data-state":hD(d.value,d.max),"data-value":d.value??void 0,"data-max":d.max,...i,ref:t})});uD.displayName=cD;function nR(e,t){return`${Math.round(e/t*100)}%`}function hD(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function wv(e){return typeof e=="number"}function Uw(e){return wv(e)&&!isNaN(e)&&e>0}function Lw(e,t){return wv(e)&&!isNaN(e)&&e<=t&&e>=0}function aR(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${g2}\`.`}function iR(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${g2} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var oR=lD,sR=uD;function fD(e){var t,a,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var d=e.length;for(t=0;t<d;t++)e[t]&&(a=fD(e[t]))&&(i&&(i+=" "),i+=a)}else for(a in e)e[a]&&(i&&(i+=" "),i+=a);return i}function On(){for(var e,t,a=0,i="",d=arguments.length;a<d;a++)(e=arguments[a])&&(t=fD(e))&&(i&&(i+=" "),i+=t);return i}const v2="-",lR=e=>{const t=uR(e),{conflictingClassGroups:a,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:y=>{const c=y.split(v2);return c[0]===""&&c.length!==1&&c.shift(),dD(c,t)||cR(y)},getConflictingClassGroupIds:(y,c)=>{const A=a[y]||[];return c&&i[y]?[...A,...i[y]]:A}}},dD=(e,t)=>{if(e.length===0)return t.classGroupId;const a=e[0],i=t.nextPart.get(a),d=i?dD(e.slice(1),i):void 0;if(d)return d;if(t.validators.length===0)return;const p=e.join(v2);return t.validators.find(({validator:y})=>y(p))?.classGroupId},zw=/^\[(.+)\]$/,cR=e=>{if(zw.test(e)){const t=zw.exec(e)[1],a=t?.substring(0,t.indexOf(":"));if(a)return"arbitrary.."+a}},uR=e=>{const{theme:t,classGroups:a}=e,i={nextPart:new Map,validators:[]};for(const d in a)dx(a[d],i,d,t);return i},dx=(e,t,a,i)=>{e.forEach(d=>{if(typeof d=="string"){const p=d===""?t:Fw(t,d);p.classGroupId=a;return}if(typeof d=="function"){if(hR(d)){dx(d(i),t,a,i);return}t.validators.push({validator:d,classGroupId:a});return}Object.entries(d).forEach(([p,y])=>{dx(y,Fw(t,p),a,i)})})},Fw=(e,t)=>{let a=e;return t.split(v2).forEach(i=>{a.nextPart.has(i)||a.nextPart.set(i,{nextPart:new Map,validators:[]}),a=a.nextPart.get(i)}),a},hR=e=>e.isThemeGetter,fR=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,a=new Map,i=new Map;const d=(p,y)=>{a.set(p,y),t++,t>e&&(t=0,i=a,a=new Map)};return{get(p){let y=a.get(p);if(y!==void 0)return y;if((y=i.get(p))!==void 0)return d(p,y),y},set(p,y){a.has(p)?a.set(p,y):d(p,y)}}},px="!",mx=":",dR=mx.length,pR=e=>{const{prefix:t,experimentalParseClassName:a}=e;let i=d=>{const p=[];let y=0,c=0,A=0,C;for(let q=0;q<d.length;q++){let $=d[q];if(y===0&&c===0){if($===mx){p.push(d.slice(A,q)),A=q+dR;continue}if($==="/"){C=q;continue}}$==="["?y++:$==="]"?y--:$==="("?c++:$===")"&&c--}const T=p.length===0?d:d.substring(A),R=mR(T),L=R!==T,U=C&&C>A?C-A:void 0;return{modifiers:p,hasImportantModifier:L,baseClassName:R,maybePostfixModifierPosition:U}};if(t){const d=t+mx,p=i;i=y=>y.startsWith(d)?p(y.substring(d.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:y,maybePostfixModifierPosition:void 0}}if(a){const d=i;i=p=>a({className:p,parseClassName:d})}return i},mR=e=>e.endsWith(px)?e.substring(0,e.length-1):e.startsWith(px)?e.substring(1):e,yR=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const d=[];let p=[];return i.forEach(y=>{y[0]==="["||t[y]?(d.push(...p.sort(),y),p=[]):p.push(y)}),d.push(...p.sort()),d}},gR=e=>({cache:fR(e.cacheSize),parseClassName:pR(e),sortModifiers:yR(e),...lR(e)}),vR=/\s+/,_R=(e,t)=>{const{parseClassName:a,getClassGroupId:i,getConflictingClassGroupIds:d,sortModifiers:p}=t,y=[],c=e.trim().split(vR);let A="";for(let C=c.length-1;C>=0;C-=1){const T=c[C],{isExternal:R,modifiers:L,hasImportantModifier:U,baseClassName:q,maybePostfixModifierPosition:$}=a(T);if(R){A=T+(A.length>0?" "+A:A);continue}let W=!!$,Y=i(W?q.substring(0,$):q);if(!Y){if(!W){A=T+(A.length>0?" "+A:A);continue}if(Y=i(q),!Y){A=T+(A.length>0?" "+A:A);continue}W=!1}const X=p(L).join(":"),te=U?X+px:X,pe=te+Y;if(y.includes(pe))continue;y.push(pe);const de=d(Y,W);for(let ye=0;ye<de.length;++ye){const xe=de[ye];y.push(te+xe)}A=T+(A.length>0?" "+A:A)}return A};function bR(){let e=0,t,a,i="";for(;e<arguments.length;)(t=arguments[e++])&&(a=pD(t))&&(i&&(i+=" "),i+=a);return i}const pD=e=>{if(typeof e=="string")return e;let t,a="";for(let i=0;i<e.length;i++)e[i]&&(t=pD(e[i]))&&(a&&(a+=" "),a+=t);return a};function xR(e,...t){let a,i,d,p=y;function y(A){const C=t.reduce((T,R)=>R(T),e());return a=gR(C),i=a.cache.get,d=a.cache.set,p=c,c(A)}function c(A){const C=i(A);if(C)return C;const T=_R(A,a);return d(A,T),T}return function(){return p(bR.apply(null,arguments))}}const ci=e=>{const t=a=>a[e]||[];return t.isThemeGetter=!0,t},mD=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,yD=/^\((?:(\w[\w-]*):)?(.+)\)$/i,SR=/^\d+\/\d+$/,wR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,PR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,AR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,CR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,DR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Yp=e=>SR.test(e),Ur=e=>!!e&&!Number.isNaN(Number(e)),vf=e=>!!e&&Number.isInteger(Number(e)),x_=e=>e.endsWith("%")&&Ur(e.slice(0,-1)),oh=e=>wR.test(e),MR=()=>!0,TR=e=>PR.test(e)&&!AR.test(e),gD=()=>!1,ER=e=>CR.test(e),RR=e=>DR.test(e),IR=e=>!Kt(e)&&!Jt(e),kR=e=>Cm(e,bD,gD),Kt=e=>mD.test(e),zd=e=>Cm(e,xD,TR),S_=e=>Cm(e,FR,Ur),Nw=e=>Cm(e,vD,gD),OR=e=>Cm(e,_D,RR),$0=e=>Cm(e,SD,ER),Jt=e=>yD.test(e),Yy=e=>Dm(e,xD),UR=e=>Dm(e,NR),jw=e=>Dm(e,vD),LR=e=>Dm(e,bD),zR=e=>Dm(e,_D),H0=e=>Dm(e,SD,!0),Cm=(e,t,a)=>{const i=mD.exec(e);return i?i[1]?t(i[1]):a(i[2]):!1},Dm=(e,t,a=!1)=>{const i=yD.exec(e);return i?i[1]?t(i[1]):a:!1},vD=e=>e==="position"||e==="percentage",_D=e=>e==="image"||e==="url",bD=e=>e==="length"||e==="size"||e==="bg-size",xD=e=>e==="length",FR=e=>e==="number",NR=e=>e==="family-name",SD=e=>e==="shadow",jR=()=>{const e=ci("color"),t=ci("font"),a=ci("text"),i=ci("font-weight"),d=ci("tracking"),p=ci("leading"),y=ci("breakpoint"),c=ci("container"),A=ci("spacing"),C=ci("radius"),T=ci("shadow"),R=ci("inset-shadow"),L=ci("text-shadow"),U=ci("drop-shadow"),q=ci("blur"),$=ci("perspective"),W=ci("aspect"),Y=ci("ease"),X=ci("animate"),te=()=>["auto","avoid","all","avoid-page","page","left","right","column"],pe=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],de=()=>[...pe(),Jt,Kt],ye=()=>["auto","hidden","clip","visible","scroll"],xe=()=>["auto","contain","none"],Ie=()=>[Jt,Kt,A],lt=()=>[Yp,"full","auto",...Ie()],mt=()=>[vf,"none","subgrid",Jt,Kt],nt=()=>["auto",{span:["full",vf,Jt,Kt]},vf,Jt,Kt],st=()=>[vf,"auto",Jt,Kt],Je=()=>["auto","min","max","fr",Jt,Kt],wt=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Rt=()=>["start","end","center","stretch","center-safe","end-safe"],je=()=>["auto",...Ie()],it=()=>[Yp,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...Ie()],Ge=()=>[e,Jt,Kt],bt=()=>[...pe(),jw,Nw,{position:[Jt,Kt]}],Ce=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ot=()=>["auto","cover","contain",LR,kR,{size:[Jt,Kt]}],ke=()=>[x_,Yy,zd],et=()=>["","none","full",C,Jt,Kt],pt=()=>["",Ur,Yy,zd],vt=()=>["solid","dashed","dotted","double"],Dt=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ut=()=>[Ur,x_,jw,Nw],Ft=()=>["","none",q,Jt,Kt],xt=()=>["none",Ur,Jt,Kt],$t=()=>["none",Ur,Jt,Kt],Nt=()=>[Ur,Jt,Kt],$e=()=>[Yp,"full",...Ie()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[oh],breakpoint:[oh],color:[MR],container:[oh],"drop-shadow":[oh],ease:["in","out","in-out"],font:[IR],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[oh],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[oh],shadow:[oh],spacing:["px",Ur],text:[oh],"text-shadow":[oh],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Yp,Kt,Jt,W]}],container:["container"],columns:[{columns:[Ur,Kt,Jt,c]}],"break-after":[{"break-after":te()}],"break-before":[{"break-before":te()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:de()}],overflow:[{overflow:ye()}],"overflow-x":[{"overflow-x":ye()}],"overflow-y":[{"overflow-y":ye()}],overscroll:[{overscroll:xe()}],"overscroll-x":[{"overscroll-x":xe()}],"overscroll-y":[{"overscroll-y":xe()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:lt()}],"inset-x":[{"inset-x":lt()}],"inset-y":[{"inset-y":lt()}],start:[{start:lt()}],end:[{end:lt()}],top:[{top:lt()}],right:[{right:lt()}],bottom:[{bottom:lt()}],left:[{left:lt()}],visibility:["visible","invisible","collapse"],z:[{z:[vf,"auto",Jt,Kt]}],basis:[{basis:[Yp,"full","auto",c,...Ie()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ur,Yp,"auto","initial","none",Kt]}],grow:[{grow:["",Ur,Jt,Kt]}],shrink:[{shrink:["",Ur,Jt,Kt]}],order:[{order:[vf,"first","last","none",Jt,Kt]}],"grid-cols":[{"grid-cols":mt()}],"col-start-end":[{col:nt()}],"col-start":[{"col-start":st()}],"col-end":[{"col-end":st()}],"grid-rows":[{"grid-rows":mt()}],"row-start-end":[{row:nt()}],"row-start":[{"row-start":st()}],"row-end":[{"row-end":st()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Je()}],"auto-rows":[{"auto-rows":Je()}],gap:[{gap:Ie()}],"gap-x":[{"gap-x":Ie()}],"gap-y":[{"gap-y":Ie()}],"justify-content":[{justify:[...wt(),"normal"]}],"justify-items":[{"justify-items":[...Rt(),"normal"]}],"justify-self":[{"justify-self":["auto",...Rt()]}],"align-content":[{content:["normal",...wt()]}],"align-items":[{items:[...Rt(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Rt(),{baseline:["","last"]}]}],"place-content":[{"place-content":wt()}],"place-items":[{"place-items":[...Rt(),"baseline"]}],"place-self":[{"place-self":["auto",...Rt()]}],p:[{p:Ie()}],px:[{px:Ie()}],py:[{py:Ie()}],ps:[{ps:Ie()}],pe:[{pe:Ie()}],pt:[{pt:Ie()}],pr:[{pr:Ie()}],pb:[{pb:Ie()}],pl:[{pl:Ie()}],m:[{m:je()}],mx:[{mx:je()}],my:[{my:je()}],ms:[{ms:je()}],me:[{me:je()}],mt:[{mt:je()}],mr:[{mr:je()}],mb:[{mb:je()}],ml:[{ml:je()}],"space-x":[{"space-x":Ie()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":Ie()}],"space-y-reverse":["space-y-reverse"],size:[{size:it()}],w:[{w:[c,"screen",...it()]}],"min-w":[{"min-w":[c,"screen","none",...it()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[y]},...it()]}],h:[{h:["screen","lh",...it()]}],"min-h":[{"min-h":["screen","lh","none",...it()]}],"max-h":[{"max-h":["screen","lh",...it()]}],"font-size":[{text:["base",a,Yy,zd]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,Jt,S_]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",x_,Kt]}],"font-family":[{font:[UR,Kt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[d,Jt,Kt]}],"line-clamp":[{"line-clamp":[Ur,"none",Jt,S_]}],leading:[{leading:[p,...Ie()]}],"list-image":[{"list-image":["none",Jt,Kt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Jt,Kt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Ge()}],"text-color":[{text:Ge()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...vt(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ur,"from-font","auto",Jt,zd]}],"text-decoration-color":[{decoration:Ge()}],"underline-offset":[{"underline-offset":[Ur,"auto",Jt,Kt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Ie()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Jt,Kt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Jt,Kt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:bt()}],"bg-repeat":[{bg:Ce()}],"bg-size":[{bg:ot()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},vf,Jt,Kt],radial:["",Jt,Kt],conic:[vf,Jt,Kt]},zR,OR]}],"bg-color":[{bg:Ge()}],"gradient-from-pos":[{from:ke()}],"gradient-via-pos":[{via:ke()}],"gradient-to-pos":[{to:ke()}],"gradient-from":[{from:Ge()}],"gradient-via":[{via:Ge()}],"gradient-to":[{to:Ge()}],rounded:[{rounded:et()}],"rounded-s":[{"rounded-s":et()}],"rounded-e":[{"rounded-e":et()}],"rounded-t":[{"rounded-t":et()}],"rounded-r":[{"rounded-r":et()}],"rounded-b":[{"rounded-b":et()}],"rounded-l":[{"rounded-l":et()}],"rounded-ss":[{"rounded-ss":et()}],"rounded-se":[{"rounded-se":et()}],"rounded-ee":[{"rounded-ee":et()}],"rounded-es":[{"rounded-es":et()}],"rounded-tl":[{"rounded-tl":et()}],"rounded-tr":[{"rounded-tr":et()}],"rounded-br":[{"rounded-br":et()}],"rounded-bl":[{"rounded-bl":et()}],"border-w":[{border:pt()}],"border-w-x":[{"border-x":pt()}],"border-w-y":[{"border-y":pt()}],"border-w-s":[{"border-s":pt()}],"border-w-e":[{"border-e":pt()}],"border-w-t":[{"border-t":pt()}],"border-w-r":[{"border-r":pt()}],"border-w-b":[{"border-b":pt()}],"border-w-l":[{"border-l":pt()}],"divide-x":[{"divide-x":pt()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":pt()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...vt(),"hidden","none"]}],"divide-style":[{divide:[...vt(),"hidden","none"]}],"border-color":[{border:Ge()}],"border-color-x":[{"border-x":Ge()}],"border-color-y":[{"border-y":Ge()}],"border-color-s":[{"border-s":Ge()}],"border-color-e":[{"border-e":Ge()}],"border-color-t":[{"border-t":Ge()}],"border-color-r":[{"border-r":Ge()}],"border-color-b":[{"border-b":Ge()}],"border-color-l":[{"border-l":Ge()}],"divide-color":[{divide:Ge()}],"outline-style":[{outline:[...vt(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ur,Jt,Kt]}],"outline-w":[{outline:["",Ur,Yy,zd]}],"outline-color":[{outline:Ge()}],shadow:[{shadow:["","none",T,H0,$0]}],"shadow-color":[{shadow:Ge()}],"inset-shadow":[{"inset-shadow":["none",R,H0,$0]}],"inset-shadow-color":[{"inset-shadow":Ge()}],"ring-w":[{ring:pt()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Ge()}],"ring-offset-w":[{"ring-offset":[Ur,zd]}],"ring-offset-color":[{"ring-offset":Ge()}],"inset-ring-w":[{"inset-ring":pt()}],"inset-ring-color":[{"inset-ring":Ge()}],"text-shadow":[{"text-shadow":["none",L,H0,$0]}],"text-shadow-color":[{"text-shadow":Ge()}],opacity:[{opacity:[Ur,Jt,Kt]}],"mix-blend":[{"mix-blend":[...Dt(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Dt()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ur]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ut()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ut()}],"mask-image-linear-from-color":[{"mask-linear-from":Ge()}],"mask-image-linear-to-color":[{"mask-linear-to":Ge()}],"mask-image-t-from-pos":[{"mask-t-from":Ut()}],"mask-image-t-to-pos":[{"mask-t-to":Ut()}],"mask-image-t-from-color":[{"mask-t-from":Ge()}],"mask-image-t-to-color":[{"mask-t-to":Ge()}],"mask-image-r-from-pos":[{"mask-r-from":Ut()}],"mask-image-r-to-pos":[{"mask-r-to":Ut()}],"mask-image-r-from-color":[{"mask-r-from":Ge()}],"mask-image-r-to-color":[{"mask-r-to":Ge()}],"mask-image-b-from-pos":[{"mask-b-from":Ut()}],"mask-image-b-to-pos":[{"mask-b-to":Ut()}],"mask-image-b-from-color":[{"mask-b-from":Ge()}],"mask-image-b-to-color":[{"mask-b-to":Ge()}],"mask-image-l-from-pos":[{"mask-l-from":Ut()}],"mask-image-l-to-pos":[{"mask-l-to":Ut()}],"mask-image-l-from-color":[{"mask-l-from":Ge()}],"mask-image-l-to-color":[{"mask-l-to":Ge()}],"mask-image-x-from-pos":[{"mask-x-from":Ut()}],"mask-image-x-to-pos":[{"mask-x-to":Ut()}],"mask-image-x-from-color":[{"mask-x-from":Ge()}],"mask-image-x-to-color":[{"mask-x-to":Ge()}],"mask-image-y-from-pos":[{"mask-y-from":Ut()}],"mask-image-y-to-pos":[{"mask-y-to":Ut()}],"mask-image-y-from-color":[{"mask-y-from":Ge()}],"mask-image-y-to-color":[{"mask-y-to":Ge()}],"mask-image-radial":[{"mask-radial":[Jt,Kt]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ut()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ut()}],"mask-image-radial-from-color":[{"mask-radial-from":Ge()}],"mask-image-radial-to-color":[{"mask-radial-to":Ge()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":pe()}],"mask-image-conic-pos":[{"mask-conic":[Ur]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ut()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ut()}],"mask-image-conic-from-color":[{"mask-conic-from":Ge()}],"mask-image-conic-to-color":[{"mask-conic-to":Ge()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:bt()}],"mask-repeat":[{mask:Ce()}],"mask-size":[{mask:ot()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Jt,Kt]}],filter:[{filter:["","none",Jt,Kt]}],blur:[{blur:Ft()}],brightness:[{brightness:[Ur,Jt,Kt]}],contrast:[{contrast:[Ur,Jt,Kt]}],"drop-shadow":[{"drop-shadow":["","none",U,H0,$0]}],"drop-shadow-color":[{"drop-shadow":Ge()}],grayscale:[{grayscale:["",Ur,Jt,Kt]}],"hue-rotate":[{"hue-rotate":[Ur,Jt,Kt]}],invert:[{invert:["",Ur,Jt,Kt]}],saturate:[{saturate:[Ur,Jt,Kt]}],sepia:[{sepia:["",Ur,Jt,Kt]}],"backdrop-filter":[{"backdrop-filter":["","none",Jt,Kt]}],"backdrop-blur":[{"backdrop-blur":Ft()}],"backdrop-brightness":[{"backdrop-brightness":[Ur,Jt,Kt]}],"backdrop-contrast":[{"backdrop-contrast":[Ur,Jt,Kt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ur,Jt,Kt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ur,Jt,Kt]}],"backdrop-invert":[{"backdrop-invert":["",Ur,Jt,Kt]}],"backdrop-opacity":[{"backdrop-opacity":[Ur,Jt,Kt]}],"backdrop-saturate":[{"backdrop-saturate":[Ur,Jt,Kt]}],"backdrop-sepia":[{"backdrop-sepia":["",Ur,Jt,Kt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":Ie()}],"border-spacing-x":[{"border-spacing-x":Ie()}],"border-spacing-y":[{"border-spacing-y":Ie()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Jt,Kt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ur,"initial",Jt,Kt]}],ease:[{ease:["linear","initial",Y,Jt,Kt]}],delay:[{delay:[Ur,Jt,Kt]}],animate:[{animate:["none",X,Jt,Kt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[$,Jt,Kt]}],"perspective-origin":[{"perspective-origin":de()}],rotate:[{rotate:xt()}],"rotate-x":[{"rotate-x":xt()}],"rotate-y":[{"rotate-y":xt()}],"rotate-z":[{"rotate-z":xt()}],scale:[{scale:$t()}],"scale-x":[{"scale-x":$t()}],"scale-y":[{"scale-y":$t()}],"scale-z":[{"scale-z":$t()}],"scale-3d":["scale-3d"],skew:[{skew:Nt()}],"skew-x":[{"skew-x":Nt()}],"skew-y":[{"skew-y":Nt()}],transform:[{transform:[Jt,Kt,"","none","gpu","cpu"]}],"transform-origin":[{origin:de()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:$e()}],"translate-x":[{"translate-x":$e()}],"translate-y":[{"translate-y":$e()}],"translate-z":[{"translate-z":$e()}],"translate-none":["translate-none"],accent:[{accent:Ge()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Ge()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Jt,Kt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Ie()}],"scroll-mx":[{"scroll-mx":Ie()}],"scroll-my":[{"scroll-my":Ie()}],"scroll-ms":[{"scroll-ms":Ie()}],"scroll-me":[{"scroll-me":Ie()}],"scroll-mt":[{"scroll-mt":Ie()}],"scroll-mr":[{"scroll-mr":Ie()}],"scroll-mb":[{"scroll-mb":Ie()}],"scroll-ml":[{"scroll-ml":Ie()}],"scroll-p":[{"scroll-p":Ie()}],"scroll-px":[{"scroll-px":Ie()}],"scroll-py":[{"scroll-py":Ie()}],"scroll-ps":[{"scroll-ps":Ie()}],"scroll-pe":[{"scroll-pe":Ie()}],"scroll-pt":[{"scroll-pt":Ie()}],"scroll-pr":[{"scroll-pr":Ie()}],"scroll-pb":[{"scroll-pb":Ie()}],"scroll-pl":[{"scroll-pl":Ie()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Jt,Kt]}],fill:[{fill:["none",...Ge()]}],"stroke-w":[{stroke:[Ur,Yy,zd,S_]}],stroke:[{stroke:["none",...Ge()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},BR=xR(jR);function xn(...e){return BR(On(e))}function qR({className:e,value:t,...a}){return se.jsx(oR,{"data-slot":"progress",className:xn("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...a,children:se.jsx(sR,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})})}const Bw=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,qw=On,$R=(e,t)=>a=>{var i;if(t?.variants==null)return qw(e,a?.class,a?.className);const{variants:d,defaultVariants:p}=t,y=Object.keys(d).map(C=>{const T=a?.[C],R=p?.[C];if(T===null)return null;const L=Bw(T)||Bw(R);return d[C][L]}),c=a&&Object.entries(a).reduce((C,T)=>{let[R,L]=T;return L===void 0||(C[R]=L),C},{}),A=t==null||(i=t.compoundVariants)===null||i===void 0?void 0:i.reduce((C,T)=>{let{class:R,className:L,...U}=T;return Object.entries(U).every(q=>{let[$,W]=q;return Array.isArray(W)?W.includes({...p,...c}[$]):{...p,...c}[$]===W})?[...C,R,L]:C},[]);return qw(e,y,A,a?.class,a?.className)},HR=$R("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function ug({className:e,variant:t,size:a,asChild:i=!1,...d}){const p=i?WE:"button";return se.jsx(p,{"data-slot":"button",className:xn(HR({variant:t,size:a,className:e})),...d})}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),WR=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,a,i)=>i?i.toUpperCase():a.toLowerCase()),$w=e=>{const t=WR(e);return t.charAt(0).toUpperCase()+t.slice(1)},wD=(...e)=>e.filter((t,a,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===a).join(" ").trim(),GR=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=V.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:i,className:d="",children:p,iconNode:y,...c},A)=>V.createElement("svg",{ref:A,...ZR,width:t,height:t,stroke:e,strokeWidth:i?Number(a)*24/Number(t):a,className:wD("lucide",d),...!p&&!GR(c)&&{"aria-hidden":"true"},...c},[...y.map(([C,T])=>V.createElement(C,T)),...Array.isArray(p)?p:[p]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=(e,t)=>{const a=V.forwardRef(({className:i,...d},p)=>V.createElement(YR,{ref:p,iconNode:t,className:wD(`lucide-${VR($w(e))}`,`lucide-${e}`,i),...d}));return a.displayName=$w(e),a};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],XR=Cg("check",QR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],JR=Cg("chevron-down",KR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],tI=Cg("chevrons-up-down",eI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],nI=Cg("search",rI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],iI=Cg("x",aI);var Hw=1,oI=.9,sI=.8,lI=.17,w_=.1,P_=.999,cI=.9999,uI=.99,hI=/[\\\/_+.#"@\[\(\{&]/,fI=/[\\\/_+.#"@\[\(\{&]/g,dI=/[\s-]/,PD=/[\s-]/g;function yx(e,t,a,i,d,p,y){if(p===t.length)return d===e.length?Hw:uI;var c=`${d},${p}`;if(y[c]!==void 0)return y[c];for(var A=i.charAt(p),C=a.indexOf(A,d),T=0,R,L,U,q;C>=0;)R=yx(e,t,a,i,C+1,p+1,y),R>T&&(C===d?R*=Hw:hI.test(e.charAt(C-1))?(R*=sI,U=e.slice(d,C-1).match(fI),U&&d>0&&(R*=Math.pow(P_,U.length))):dI.test(e.charAt(C-1))?(R*=oI,q=e.slice(d,C-1).match(PD),q&&d>0&&(R*=Math.pow(P_,q.length))):(R*=lI,d>0&&(R*=Math.pow(P_,C-d))),e.charAt(C)!==t.charAt(p)&&(R*=cI)),(R<w_&&a.charAt(C-1)===i.charAt(p+1)||i.charAt(p+1)===i.charAt(p)&&a.charAt(C-1)!==i.charAt(p))&&(L=yx(e,t,a,i,C+1,p+2,y),L*w_>R&&(R=L*w_)),R>T&&(T=R),C=a.indexOf(A,C+1);return y[c]=T,T}function Vw(e){return e.toLowerCase().replace(PD," ")}function pI(e,t,a){return e=a&&a.length>0?`${e+" "+a.join(" ")}`:e,yx(e,t,Vw(e),Vw(t),0,0,{})}function Co(e,t,{checkForDefaultPrevented:a=!0}={}){return function(d){if(e?.(d),a===!1||!d.defaultPrevented)return t?.(d)}}var dh=globalThis?.document?V.useLayoutEffect:()=>{},mI=m2[" useId ".trim().toString()]||(()=>{}),yI=0;function ul(e){const[t,a]=V.useState(mI());return dh(()=>{a(i=>i??String(yI++))},[e]),e||(t?`radix-${t}`:"")}var gI=m2[" useInsertionEffect ".trim().toString()]||dh;function Dg({prop:e,defaultProp:t,onChange:a=()=>{},caller:i}){const[d,p,y]=vI({defaultProp:t,onChange:a}),c=e!==void 0,A=c?e:d;{const T=V.useRef(e!==void 0);V.useEffect(()=>{const R=T.current;R!==c&&console.warn(`${i} is changing from ${R?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),T.current=c},[c,i])}const C=V.useCallback(T=>{if(c){const R=_I(T)?T(e):T;R!==e&&y.current?.(R)}else p(T)},[c,e,p,y]);return[A,C]}function vI({defaultProp:e,onChange:t}){const[a,i]=V.useState(e),d=V.useRef(a),p=V.useRef(t);return gI(()=>{p.current=t},[t]),V.useEffect(()=>{d.current!==a&&(p.current?.(a),d.current=a)},[a,d]),[a,i,p]}function _I(e){return typeof e=="function"}function hm(e){const t=V.useRef(e);return V.useEffect(()=>{t.current=e}),V.useMemo(()=>(...a)=>t.current?.(...a),[])}function bI(e,t=globalThis?.document){const a=hm(e);V.useEffect(()=>{const i=d=>{d.key==="Escape"&&a(d)};return t.addEventListener("keydown",i,{capture:!0}),()=>t.removeEventListener("keydown",i,{capture:!0})},[a,t])}var xI="DismissableLayer",gx="dismissableLayer.update",SI="dismissableLayer.pointerDownOutside",wI="dismissableLayer.focusOutside",Ww,AD=V.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_2=V.forwardRef((e,t)=>{const{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:i,onPointerDownOutside:d,onFocusOutside:p,onInteractOutside:y,onDismiss:c,...A}=e,C=V.useContext(AD),[T,R]=V.useState(null),L=T?.ownerDocument??globalThis?.document,[,U]=V.useState({}),q=Mo(t,xe=>R(xe)),$=Array.from(C.layers),[W]=[...C.layersWithOutsidePointerEventsDisabled].slice(-1),Y=$.indexOf(W),X=T?$.indexOf(T):-1,te=C.layersWithOutsidePointerEventsDisabled.size>0,pe=X>=Y,de=CI(xe=>{const Ie=xe.target,lt=[...C.branches].some(mt=>mt.contains(Ie));!pe||lt||(d?.(xe),y?.(xe),xe.defaultPrevented||c?.())},L),ye=DI(xe=>{const Ie=xe.target;[...C.branches].some(mt=>mt.contains(Ie))||(p?.(xe),y?.(xe),xe.defaultPrevented||c?.())},L);return bI(xe=>{X===C.layers.size-1&&(i?.(xe),!xe.defaultPrevented&&c&&(xe.preventDefault(),c()))},L),V.useEffect(()=>{if(T)return a&&(C.layersWithOutsidePointerEventsDisabled.size===0&&(Ww=L.body.style.pointerEvents,L.body.style.pointerEvents="none"),C.layersWithOutsidePointerEventsDisabled.add(T)),C.layers.add(T),Gw(),()=>{a&&C.layersWithOutsidePointerEventsDisabled.size===1&&(L.body.style.pointerEvents=Ww)}},[T,L,a,C]),V.useEffect(()=>()=>{T&&(C.layers.delete(T),C.layersWithOutsidePointerEventsDisabled.delete(T),Gw())},[T,C]),V.useEffect(()=>{const xe=()=>U({});return document.addEventListener(gx,xe),()=>document.removeEventListener(gx,xe)},[]),se.jsx(bn.div,{...A,ref:q,style:{pointerEvents:te?pe?"auto":"none":void 0,...e.style},onFocusCapture:Co(e.onFocusCapture,ye.onFocusCapture),onBlurCapture:Co(e.onBlurCapture,ye.onBlurCapture),onPointerDownCapture:Co(e.onPointerDownCapture,de.onPointerDownCapture)})});_2.displayName=xI;var PI="DismissableLayerBranch",AI=V.forwardRef((e,t)=>{const a=V.useContext(AD),i=V.useRef(null),d=Mo(t,i);return V.useEffect(()=>{const p=i.current;if(p)return a.branches.add(p),()=>{a.branches.delete(p)}},[a.branches]),se.jsx(bn.div,{...e,ref:d})});AI.displayName=PI;function CI(e,t=globalThis?.document){const a=hm(e),i=V.useRef(!1),d=V.useRef(()=>{});return V.useEffect(()=>{const p=c=>{if(c.target&&!i.current){let A=function(){CD(SI,a,C,{discrete:!0})};const C={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",d.current),d.current=A,t.addEventListener("click",d.current,{once:!0})):A()}else t.removeEventListener("click",d.current);i.current=!1},y=window.setTimeout(()=>{t.addEventListener("pointerdown",p)},0);return()=>{window.clearTimeout(y),t.removeEventListener("pointerdown",p),t.removeEventListener("click",d.current)}},[t,a]),{onPointerDownCapture:()=>i.current=!0}}function DI(e,t=globalThis?.document){const a=hm(e),i=V.useRef(!1);return V.useEffect(()=>{const d=p=>{p.target&&!i.current&&CD(wI,a,{originalEvent:p},{discrete:!1})};return t.addEventListener("focusin",d),()=>t.removeEventListener("focusin",d)},[t,a]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function Gw(){const e=new CustomEvent(gx);document.dispatchEvent(e)}function CD(e,t,a,{discrete:i}){const d=a.originalEvent.target,p=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:a});t&&d.addEventListener(e,t,{once:!0}),i?JE(d,p):d.dispatchEvent(p)}var A_="focusScope.autoFocusOnMount",C_="focusScope.autoFocusOnUnmount",Zw={bubbles:!1,cancelable:!0},MI="FocusScope",b2=V.forwardRef((e,t)=>{const{loop:a=!1,trapped:i=!1,onMountAutoFocus:d,onUnmountAutoFocus:p,...y}=e,[c,A]=V.useState(null),C=hm(d),T=hm(p),R=V.useRef(null),L=Mo(t,$=>A($)),U=V.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;V.useEffect(()=>{if(i){let $=function(te){if(U.paused||!c)return;const pe=te.target;c.contains(pe)?R.current=pe:_f(R.current,{select:!0})},W=function(te){if(U.paused||!c)return;const pe=te.relatedTarget;pe!==null&&(c.contains(pe)||_f(R.current,{select:!0}))},Y=function(te){if(document.activeElement===document.body)for(const de of te)de.removedNodes.length>0&&_f(c)};document.addEventListener("focusin",$),document.addEventListener("focusout",W);const X=new MutationObserver(Y);return c&&X.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",$),document.removeEventListener("focusout",W),X.disconnect()}}},[i,c,U.paused]),V.useEffect(()=>{if(c){Qw.add(U);const $=document.activeElement;if(!c.contains($)){const Y=new CustomEvent(A_,Zw);c.addEventListener(A_,C),c.dispatchEvent(Y),Y.defaultPrevented||(TI(OI(DD(c)),{select:!0}),document.activeElement===$&&_f(c))}return()=>{c.removeEventListener(A_,C),setTimeout(()=>{const Y=new CustomEvent(C_,Zw);c.addEventListener(C_,T),c.dispatchEvent(Y),Y.defaultPrevented||_f($??document.body,{select:!0}),c.removeEventListener(C_,T),Qw.remove(U)},0)}}},[c,C,T,U]);const q=V.useCallback($=>{if(!a&&!i||U.paused)return;const W=$.key==="Tab"&&!$.altKey&&!$.ctrlKey&&!$.metaKey,Y=document.activeElement;if(W&&Y){const X=$.currentTarget,[te,pe]=EI(X);te&&pe?!$.shiftKey&&Y===pe?($.preventDefault(),a&&_f(te,{select:!0})):$.shiftKey&&Y===te&&($.preventDefault(),a&&_f(pe,{select:!0})):Y===X&&$.preventDefault()}},[a,i,U.paused]);return se.jsx(bn.div,{tabIndex:-1,...y,ref:L,onKeyDown:q})});b2.displayName=MI;function TI(e,{select:t=!1}={}){const a=document.activeElement;for(const i of e)if(_f(i,{select:t}),document.activeElement!==a)return}function EI(e){const t=DD(e),a=Yw(t,e),i=Yw(t.reverse(),e);return[a,i]}function DD(e){const t=[],a=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const d=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||d?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)t.push(a.currentNode);return t}function Yw(e,t){for(const a of e)if(!RI(a,{upTo:t}))return a}function RI(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function II(e){return e instanceof HTMLInputElement&&"select"in e}function _f(e,{select:t=!1}={}){if(e&&e.focus){const a=document.activeElement;e.focus({preventScroll:!0}),e!==a&&II(e)&&t&&e.select()}}var Qw=kI();function kI(){let e=[];return{add(t){const a=e[0];t!==a&&a?.pause(),e=Xw(e,t),e.unshift(t)},remove(t){e=Xw(e,t),e[0]?.resume()}}}function Xw(e,t){const a=[...e],i=a.indexOf(t);return i!==-1&&a.splice(i,1),a}function OI(e){return e.filter(t=>t.tagName!=="A")}var UI="Portal",x2=V.forwardRef((e,t)=>{const{container:a,...i}=e,[d,p]=V.useState(!1);dh(()=>p(!0),[]);const y=a||d&&globalThis?.document?.body;return y?VE.createPortal(se.jsx(bn.div,{...i,ref:t}),y):null});x2.displayName=UI;function LI(e,t){return V.useReducer((a,i)=>t[a][i]??a,e)}var ip=e=>{const{present:t,children:a}=e,i=zI(t),d=typeof a=="function"?a({present:i.isPresent}):V.Children.only(a),p=Mo(i.ref,FI(d));return typeof a=="function"||i.isPresent?V.cloneElement(d,{ref:p}):null};ip.displayName="Presence";function zI(e){const[t,a]=V.useState(),i=V.useRef(null),d=V.useRef(e),p=V.useRef("none"),y=e?"mounted":"unmounted",[c,A]=LI(y,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return V.useEffect(()=>{const C=V0(i.current);p.current=c==="mounted"?C:"none"},[c]),dh(()=>{const C=i.current,T=d.current;if(T!==e){const L=p.current,U=V0(C);e?A("MOUNT"):U==="none"||C?.display==="none"?A("UNMOUNT"):A(T&&L!==U?"ANIMATION_OUT":"UNMOUNT"),d.current=e}},[e,A]),dh(()=>{if(t){let C;const T=t.ownerDocument.defaultView??window,R=U=>{const $=V0(i.current).includes(CSS.escape(U.animationName));if(U.target===t&&$&&(A("ANIMATION_END"),!d.current)){const W=t.style.animationFillMode;t.style.animationFillMode="forwards",C=T.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=W)})}},L=U=>{U.target===t&&(p.current=V0(i.current))};return t.addEventListener("animationstart",L),t.addEventListener("animationcancel",R),t.addEventListener("animationend",R),()=>{T.clearTimeout(C),t.removeEventListener("animationstart",L),t.removeEventListener("animationcancel",R),t.removeEventListener("animationend",R)}}else A("ANIMATION_END")},[t,A]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:V.useCallback(C=>{i.current=C?getComputedStyle(C):null,a(C)},[])}}function V0(e){return e?.animationName||"none"}function FI(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,a=t&&"isReactWarning"in t&&t.isReactWarning;return a?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,a=t&&"isReactWarning"in t&&t.isReactWarning,a?e.props.ref:e.props.ref||e.ref)}var D_=0;function MD(){V.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Kw()),document.body.insertAdjacentElement("beforeend",e[1]??Kw()),D_++,()=>{D_===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),D_--}},[])}function Kw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var iu=function(){return iu=Object.assign||function(t){for(var a,i=1,d=arguments.length;i<d;i++){a=arguments[i];for(var p in a)Object.prototype.hasOwnProperty.call(a,p)&&(t[p]=a[p])}return t},iu.apply(this,arguments)};function TD(e,t){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(a[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,i=Object.getOwnPropertySymbols(e);d<i.length;d++)t.indexOf(i[d])<0&&Object.prototype.propertyIsEnumerable.call(e,i[d])&&(a[i[d]]=e[i[d]]);return a}function NI(e,t,a){if(a||arguments.length===2)for(var i=0,d=t.length,p;i<d;i++)(p||!(i in t))&&(p||(p=Array.prototype.slice.call(t,0,i)),p[i]=t[i]);return e.concat(p||Array.prototype.slice.call(t))}var gv="right-scroll-bar-position",vv="width-before-scroll-bar",jI="with-scroll-bars-hidden",BI="--removed-body-scroll-bar-size";function M_(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function qI(e,t){var a=V.useState(function(){return{value:e,callback:t,facade:{get current(){return a.value},set current(i){var d=a.value;d!==i&&(a.value=i,a.callback(i,d))}}}})[0];return a.callback=t,a.facade}var $I=typeof window<"u"?V.useLayoutEffect:V.useEffect,Jw=new WeakMap;function HI(e,t){var a=qI(null,function(i){return e.forEach(function(d){return M_(d,i)})});return $I(function(){var i=Jw.get(a);if(i){var d=new Set(i),p=new Set(e),y=a.current;d.forEach(function(c){p.has(c)||M_(c,null)}),p.forEach(function(c){d.has(c)||M_(c,y)})}Jw.set(a,e)},[e]),a}function VI(e){return e}function WI(e,t){t===void 0&&(t=VI);var a=[],i=!1,d={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return a.length?a[a.length-1]:e},useMedium:function(p){var y=t(p,i);return a.push(y),function(){a=a.filter(function(c){return c!==y})}},assignSyncMedium:function(p){for(i=!0;a.length;){var y=a;a=[],y.forEach(p)}a={push:function(c){return p(c)},filter:function(){return a}}},assignMedium:function(p){i=!0;var y=[];if(a.length){var c=a;a=[],c.forEach(p),y=a}var A=function(){var T=y;y=[],T.forEach(p)},C=function(){return Promise.resolve().then(A)};C(),a={push:function(T){y.push(T),C()},filter:function(T){return y=y.filter(T),a}}}};return d}function GI(e){e===void 0&&(e={});var t=WI(null);return t.options=iu({async:!0,ssr:!1},e),t}var ED=function(e){var t=e.sideCar,a=TD(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return V.createElement(i,iu({},a))};ED.isSideCarExport=!0;function ZI(e,t){return e.useMedium(t),ED}var RD=GI(),T_=function(){},y1=V.forwardRef(function(e,t){var a=V.useRef(null),i=V.useState({onScrollCapture:T_,onWheelCapture:T_,onTouchMoveCapture:T_}),d=i[0],p=i[1],y=e.forwardProps,c=e.children,A=e.className,C=e.removeScrollBar,T=e.enabled,R=e.shards,L=e.sideCar,U=e.noRelative,q=e.noIsolation,$=e.inert,W=e.allowPinchZoom,Y=e.as,X=Y===void 0?"div":Y,te=e.gapMode,pe=TD(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),de=L,ye=HI([a,t]),xe=iu(iu({},pe),d);return V.createElement(V.Fragment,null,T&&V.createElement(de,{sideCar:RD,removeScrollBar:C,shards:R,noRelative:U,noIsolation:q,inert:$,setCallbacks:p,allowPinchZoom:!!W,lockRef:a,gapMode:te}),y?V.cloneElement(V.Children.only(c),iu(iu({},xe),{ref:ye})):V.createElement(X,iu({},xe,{className:A,ref:ye}),c))});y1.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};y1.classNames={fullWidth:vv,zeroRight:gv};var YI=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function QI(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=YI();return t&&e.setAttribute("nonce",t),e}function XI(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function KI(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var JI=function(){var e=0,t=null;return{add:function(a){e==0&&(t=QI())&&(XI(t,a),KI(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},e8=function(){var e=JI();return function(t,a){V.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&a])}},ID=function(){var e=e8(),t=function(a){var i=a.styles,d=a.dynamic;return e(i,d),null};return t},t8={left:0,top:0,right:0,gap:0},E_=function(e){return parseInt(e||"",10)||0},r8=function(e){var t=window.getComputedStyle(document.body),a=t[e==="padding"?"paddingLeft":"marginLeft"],i=t[e==="padding"?"paddingTop":"marginTop"],d=t[e==="padding"?"paddingRight":"marginRight"];return[E_(a),E_(i),E_(d)]},n8=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return t8;var t=r8(e),a=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-a+t[2]-t[0])}},a8=ID(),om="data-scroll-locked",i8=function(e,t,a,i){var d=e.left,p=e.top,y=e.right,c=e.gap;return a===void 0&&(a="margin"),`
  .`.concat(jI,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(c,"px ").concat(i,`;
  }
  body[`).concat(om,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(i,";"),a==="margin"&&`
    padding-left: `.concat(d,`px;
    padding-top: `).concat(p,`px;
    padding-right: `).concat(y,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(i,`;
    `),a==="padding"&&"padding-right: ".concat(c,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(gv,` {
    right: `).concat(c,"px ").concat(i,`;
  }
  
  .`).concat(vv,` {
    margin-right: `).concat(c,"px ").concat(i,`;
  }
  
  .`).concat(gv," .").concat(gv,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(vv," .").concat(vv,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(om,`] {
    `).concat(BI,": ").concat(c,`px;
  }
`)},eP=function(){var e=parseInt(document.body.getAttribute(om)||"0",10);return isFinite(e)?e:0},o8=function(){V.useEffect(function(){return document.body.setAttribute(om,(eP()+1).toString()),function(){var e=eP()-1;e<=0?document.body.removeAttribute(om):document.body.setAttribute(om,e.toString())}},[])},s8=function(e){var t=e.noRelative,a=e.noImportant,i=e.gapMode,d=i===void 0?"margin":i;o8();var p=V.useMemo(function(){return n8(d)},[d]);return V.createElement(a8,{styles:i8(p,!t,d,a?"":"!important")})},vx=!1;if(typeof window<"u")try{var W0=Object.defineProperty({},"passive",{get:function(){return vx=!0,!0}});window.addEventListener("test",W0,W0),window.removeEventListener("test",W0,W0)}catch{vx=!1}var Qp=vx?{passive:!1}:!1,l8=function(e){return e.tagName==="TEXTAREA"},kD=function(e,t){if(!(e instanceof Element))return!1;var a=window.getComputedStyle(e);return a[t]!=="hidden"&&!(a.overflowY===a.overflowX&&!l8(e)&&a[t]==="visible")},c8=function(e){return kD(e,"overflowY")},u8=function(e){return kD(e,"overflowX")},tP=function(e,t){var a=t.ownerDocument,i=t;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var d=OD(e,i);if(d){var p=UD(e,i),y=p[1],c=p[2];if(y>c)return!0}i=i.parentNode}while(i&&i!==a.body);return!1},h8=function(e){var t=e.scrollTop,a=e.scrollHeight,i=e.clientHeight;return[t,a,i]},f8=function(e){var t=e.scrollLeft,a=e.scrollWidth,i=e.clientWidth;return[t,a,i]},OD=function(e,t){return e==="v"?c8(t):u8(t)},UD=function(e,t){return e==="v"?h8(t):f8(t)},d8=function(e,t){return e==="h"&&t==="rtl"?-1:1},p8=function(e,t,a,i,d){var p=d8(e,window.getComputedStyle(t).direction),y=p*i,c=a.target,A=t.contains(c),C=!1,T=y>0,R=0,L=0;do{if(!c)break;var U=UD(e,c),q=U[0],$=U[1],W=U[2],Y=$-W-p*q;(q||Y)&&OD(e,c)&&(R+=Y,L+=q);var X=c.parentNode;c=X&&X.nodeType===Node.DOCUMENT_FRAGMENT_NODE?X.host:X}while(!A&&c!==document.body||A&&(t.contains(c)||t===c));return(T&&Math.abs(R)<1||!T&&Math.abs(L)<1)&&(C=!0),C},G0=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},rP=function(e){return[e.deltaX,e.deltaY]},nP=function(e){return e&&"current"in e?e.current:e},m8=function(e,t){return e[0]===t[0]&&e[1]===t[1]},y8=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},g8=0,Xp=[];function v8(e){var t=V.useRef([]),a=V.useRef([0,0]),i=V.useRef(),d=V.useState(g8++)[0],p=V.useState(ID)[0],y=V.useRef(e);V.useEffect(function(){y.current=e},[e]),V.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(d));var $=NI([e.lockRef.current],(e.shards||[]).map(nP),!0).filter(Boolean);return $.forEach(function(W){return W.classList.add("allow-interactivity-".concat(d))}),function(){document.body.classList.remove("block-interactivity-".concat(d)),$.forEach(function(W){return W.classList.remove("allow-interactivity-".concat(d))})}}},[e.inert,e.lockRef.current,e.shards]);var c=V.useCallback(function($,W){if("touches"in $&&$.touches.length===2||$.type==="wheel"&&$.ctrlKey)return!y.current.allowPinchZoom;var Y=G0($),X=a.current,te="deltaX"in $?$.deltaX:X[0]-Y[0],pe="deltaY"in $?$.deltaY:X[1]-Y[1],de,ye=$.target,xe=Math.abs(te)>Math.abs(pe)?"h":"v";if("touches"in $&&xe==="h"&&ye.type==="range")return!1;var Ie=tP(xe,ye);if(!Ie)return!0;if(Ie?de=xe:(de=xe==="v"?"h":"v",Ie=tP(xe,ye)),!Ie)return!1;if(!i.current&&"changedTouches"in $&&(te||pe)&&(i.current=de),!de)return!0;var lt=i.current||de;return p8(lt,W,$,lt==="h"?te:pe)},[]),A=V.useCallback(function($){var W=$;if(!(!Xp.length||Xp[Xp.length-1]!==p)){var Y="deltaY"in W?rP(W):G0(W),X=t.current.filter(function(de){return de.name===W.type&&(de.target===W.target||W.target===de.shadowParent)&&m8(de.delta,Y)})[0];if(X&&X.should){W.cancelable&&W.preventDefault();return}if(!X){var te=(y.current.shards||[]).map(nP).filter(Boolean).filter(function(de){return de.contains(W.target)}),pe=te.length>0?c(W,te[0]):!y.current.noIsolation;pe&&W.cancelable&&W.preventDefault()}}},[]),C=V.useCallback(function($,W,Y,X){var te={name:$,delta:W,target:Y,should:X,shadowParent:_8(Y)};t.current.push(te),setTimeout(function(){t.current=t.current.filter(function(pe){return pe!==te})},1)},[]),T=V.useCallback(function($){a.current=G0($),i.current=void 0},[]),R=V.useCallback(function($){C($.type,rP($),$.target,c($,e.lockRef.current))},[]),L=V.useCallback(function($){C($.type,G0($),$.target,c($,e.lockRef.current))},[]);V.useEffect(function(){return Xp.push(p),e.setCallbacks({onScrollCapture:R,onWheelCapture:R,onTouchMoveCapture:L}),document.addEventListener("wheel",A,Qp),document.addEventListener("touchmove",A,Qp),document.addEventListener("touchstart",T,Qp),function(){Xp=Xp.filter(function($){return $!==p}),document.removeEventListener("wheel",A,Qp),document.removeEventListener("touchmove",A,Qp),document.removeEventListener("touchstart",T,Qp)}},[]);var U=e.removeScrollBar,q=e.inert;return V.createElement(V.Fragment,null,q?V.createElement(p,{styles:y8(d)}):null,U?V.createElement(s8,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function _8(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const b8=ZI(RD,v8);var S2=V.forwardRef(function(e,t){return V.createElement(y1,iu({},e,{ref:t,sideCar:b8}))});S2.classNames=y1.classNames;var x8=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Kp=new WeakMap,Z0=new WeakMap,Y0={},R_=0,LD=function(e){return e&&(e.host||LD(e.parentNode))},S8=function(e,t){return t.map(function(a){if(e.contains(a))return a;var i=LD(a);return i&&e.contains(i)?i:(console.error("aria-hidden",a,"in not contained inside",e,". Doing nothing"),null)}).filter(function(a){return!!a})},w8=function(e,t,a,i){var d=S8(t,Array.isArray(e)?e:[e]);Y0[a]||(Y0[a]=new WeakMap);var p=Y0[a],y=[],c=new Set,A=new Set(d),C=function(R){!R||c.has(R)||(c.add(R),C(R.parentNode))};d.forEach(C);var T=function(R){!R||A.has(R)||Array.prototype.forEach.call(R.children,function(L){if(c.has(L))T(L);else try{var U=L.getAttribute(i),q=U!==null&&U!=="false",$=(Kp.get(L)||0)+1,W=(p.get(L)||0)+1;Kp.set(L,$),p.set(L,W),y.push(L),$===1&&q&&Z0.set(L,!0),W===1&&L.setAttribute(a,"true"),q||L.setAttribute(i,"true")}catch(Y){console.error("aria-hidden: cannot operate on ",L,Y)}})};return T(t),c.clear(),R_++,function(){y.forEach(function(R){var L=Kp.get(R)-1,U=p.get(R)-1;Kp.set(R,L),p.set(R,U),L||(Z0.has(R)||R.removeAttribute(i),Z0.delete(R)),U||R.removeAttribute(a)}),R_--,R_||(Kp=new WeakMap,Kp=new WeakMap,Z0=new WeakMap,Y0={})}},zD=function(e,t,a){a===void 0&&(a="data-aria-hidden");var i=Array.from(Array.isArray(e)?e:[e]),d=x8(e);return d?(i.push.apply(i,Array.from(d.querySelectorAll("[aria-live], script"))),w8(i,d,a,"aria-hidden")):function(){return null}},g1="Dialog",[FD]=ap(g1),[P8,fc]=FD(g1),ND=e=>{const{__scopeDialog:t,children:a,open:i,defaultOpen:d,onOpenChange:p,modal:y=!0}=e,c=V.useRef(null),A=V.useRef(null),[C,T]=Dg({prop:i,defaultProp:d??!1,onChange:p,caller:g1});return se.jsx(P8,{scope:t,triggerRef:c,contentRef:A,contentId:ul(),titleId:ul(),descriptionId:ul(),open:C,onOpenChange:T,onOpenToggle:V.useCallback(()=>T(R=>!R),[T]),modal:y,children:a})};ND.displayName=g1;var jD="DialogTrigger",BD=V.forwardRef((e,t)=>{const{__scopeDialog:a,...i}=e,d=fc(jD,a),p=Mo(t,d.triggerRef);return se.jsx(bn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":d.open,"aria-controls":d.contentId,"data-state":A2(d.open),...i,ref:p,onClick:Co(e.onClick,d.onOpenToggle)})});BD.displayName=jD;var w2="DialogPortal",[A8,qD]=FD(w2,{forceMount:void 0}),$D=e=>{const{__scopeDialog:t,forceMount:a,children:i,container:d}=e,p=fc(w2,t);return se.jsx(A8,{scope:t,forceMount:a,children:V.Children.map(i,y=>se.jsx(ip,{present:a||p.open,children:se.jsx(x2,{asChild:!0,container:d,children:y})}))})};$D.displayName=w2;var Pv="DialogOverlay",HD=V.forwardRef((e,t)=>{const a=qD(Pv,e.__scopeDialog),{forceMount:i=a.forceMount,...d}=e,p=fc(Pv,e.__scopeDialog);return p.modal?se.jsx(ip,{present:i||p.open,children:se.jsx(D8,{...d,ref:t})}):null});HD.displayName=Pv;var C8=um("DialogOverlay.RemoveScroll"),D8=V.forwardRef((e,t)=>{const{__scopeDialog:a,...i}=e,d=fc(Pv,a);return se.jsx(S2,{as:C8,allowPinchZoom:!0,shards:[d.contentRef],children:se.jsx(bn.div,{"data-state":A2(d.open),...i,ref:t,style:{pointerEvents:"auto",...i.style}})})}),Qd="DialogContent",VD=V.forwardRef((e,t)=>{const a=qD(Qd,e.__scopeDialog),{forceMount:i=a.forceMount,...d}=e,p=fc(Qd,e.__scopeDialog);return se.jsx(ip,{present:i||p.open,children:p.modal?se.jsx(M8,{...d,ref:t}):se.jsx(T8,{...d,ref:t})})});VD.displayName=Qd;var M8=V.forwardRef((e,t)=>{const a=fc(Qd,e.__scopeDialog),i=V.useRef(null),d=Mo(t,a.contentRef,i);return V.useEffect(()=>{const p=i.current;if(p)return zD(p)},[]),se.jsx(WD,{...e,ref:d,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Co(e.onCloseAutoFocus,p=>{p.preventDefault(),a.triggerRef.current?.focus()}),onPointerDownOutside:Co(e.onPointerDownOutside,p=>{const y=p.detail.originalEvent,c=y.button===0&&y.ctrlKey===!0;(y.button===2||c)&&p.preventDefault()}),onFocusOutside:Co(e.onFocusOutside,p=>p.preventDefault())})}),T8=V.forwardRef((e,t)=>{const a=fc(Qd,e.__scopeDialog),i=V.useRef(!1),d=V.useRef(!1);return se.jsx(WD,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:p=>{e.onCloseAutoFocus?.(p),p.defaultPrevented||(i.current||a.triggerRef.current?.focus(),p.preventDefault()),i.current=!1,d.current=!1},onInteractOutside:p=>{e.onInteractOutside?.(p),p.defaultPrevented||(i.current=!0,p.detail.originalEvent.type==="pointerdown"&&(d.current=!0));const y=p.target;a.triggerRef.current?.contains(y)&&p.preventDefault(),p.detail.originalEvent.type==="focusin"&&d.current&&p.preventDefault()}})}),WD=V.forwardRef((e,t)=>{const{__scopeDialog:a,trapFocus:i,onOpenAutoFocus:d,onCloseAutoFocus:p,...y}=e,c=fc(Qd,a),A=V.useRef(null),C=Mo(t,A);return MD(),se.jsxs(se.Fragment,{children:[se.jsx(b2,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:d,onUnmountAutoFocus:p,children:se.jsx(_2,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":A2(c.open),...y,ref:C,onDismiss:()=>c.onOpenChange(!1)})}),se.jsxs(se.Fragment,{children:[se.jsx(R8,{titleId:c.titleId}),se.jsx(k8,{contentRef:A,descriptionId:c.descriptionId})]})]})}),P2="DialogTitle",E8=V.forwardRef((e,t)=>{const{__scopeDialog:a,...i}=e,d=fc(P2,a);return se.jsx(bn.h2,{id:d.titleId,...i,ref:t})});E8.displayName=P2;var GD="DialogDescription",ZD=V.forwardRef((e,t)=>{const{__scopeDialog:a,...i}=e,d=fc(GD,a);return se.jsx(bn.p,{id:d.descriptionId,...i,ref:t})});ZD.displayName=GD;var YD="DialogClose",QD=V.forwardRef((e,t)=>{const{__scopeDialog:a,...i}=e,d=fc(YD,a);return se.jsx(bn.button,{type:"button",...i,ref:t,onClick:Co(e.onClick,()=>d.onOpenChange(!1))})});QD.displayName=YD;function A2(e){return e?"open":"closed"}var XD="DialogTitleWarning",[kQ,KD]=$E(XD,{contentName:Qd,titleName:P2,docsSlug:"dialog"}),R8=({titleId:e})=>{const t=KD(XD),a=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return V.useEffect(()=>{e&&(document.getElementById(e)||console.error(a))},[a,e]),null},I8="DialogDescriptionWarning",k8=({contentRef:e,descriptionId:t})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${KD(I8).contentName}}.`;return V.useEffect(()=>{const d=e.current?.getAttribute("aria-describedby");t&&d&&(document.getElementById(t)||console.warn(i))},[i,e,t]),null},JD=ND,O8=BD,eM=$D,tM=HD,rM=VD,U8=ZD,L8=QD,Qy='[cmdk-group=""]',I_='[cmdk-group-items=""]',z8='[cmdk-group-heading=""]',nM='[cmdk-item=""]',aP=`${nM}:not([aria-disabled="true"])`,_x="cmdk-item-select",nm="data-value",F8=(e,t,a)=>pI(e,t,a),aM=V.createContext(void 0),Mg=()=>V.useContext(aM),iM=V.createContext(void 0),C2=()=>V.useContext(iM),oM=V.createContext(void 0),sM=V.forwardRef((e,t)=>{let a=am(()=>{var ke,et;return{search:"",value:(et=(ke=e.value)!=null?ke:e.defaultValue)!=null?et:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),i=am(()=>new Set),d=am(()=>new Map),p=am(()=>new Map),y=am(()=>new Set),c=lM(e),{label:A,children:C,value:T,onValueChange:R,filter:L,shouldFilter:U,loop:q,disablePointerSelection:$=!1,vimBindings:W=!0,...Y}=e,X=ul(),te=ul(),pe=ul(),de=V.useRef(null),ye=Y8();Xd(()=>{if(T!==void 0){let ke=T.trim();a.current.value=ke,xe.emit()}},[T]),Xd(()=>{ye(6,Je)},[]);let xe=V.useMemo(()=>({subscribe:ke=>(y.current.add(ke),()=>y.current.delete(ke)),snapshot:()=>a.current,setState:(ke,et,pt)=>{var vt,Dt,Ut,Ft;if(!Object.is(a.current[ke],et)){if(a.current[ke]=et,ke==="search")st(),mt(),ye(1,nt);else if(ke==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let xt=document.getElementById(pe);xt?xt.focus():(vt=document.getElementById(X))==null||vt.focus()}if(ye(7,()=>{var xt;a.current.selectedItemId=(xt=wt())==null?void 0:xt.id,xe.emit()}),pt||ye(5,Je),((Dt=c.current)==null?void 0:Dt.value)!==void 0){let xt=et??"";(Ft=(Ut=c.current).onValueChange)==null||Ft.call(Ut,xt);return}}xe.emit()}},emit:()=>{y.current.forEach(ke=>ke())}}),[]),Ie=V.useMemo(()=>({value:(ke,et,pt)=>{var vt;et!==((vt=p.current.get(ke))==null?void 0:vt.value)&&(p.current.set(ke,{value:et,keywords:pt}),a.current.filtered.items.set(ke,lt(et,pt)),ye(2,()=>{mt(),xe.emit()}))},item:(ke,et)=>(i.current.add(ke),et&&(d.current.has(et)?d.current.get(et).add(ke):d.current.set(et,new Set([ke]))),ye(3,()=>{st(),mt(),a.current.value||nt(),xe.emit()}),()=>{p.current.delete(ke),i.current.delete(ke),a.current.filtered.items.delete(ke);let pt=wt();ye(4,()=>{st(),pt?.getAttribute("id")===ke&&nt(),xe.emit()})}),group:ke=>(d.current.has(ke)||d.current.set(ke,new Set),()=>{p.current.delete(ke),d.current.delete(ke)}),filter:()=>c.current.shouldFilter,label:A||e["aria-label"],getDisablePointerSelection:()=>c.current.disablePointerSelection,listId:X,inputId:pe,labelId:te,listInnerRef:de}),[]);function lt(ke,et){var pt,vt;let Dt=(vt=(pt=c.current)==null?void 0:pt.filter)!=null?vt:F8;return ke?Dt(ke,a.current.search,et):0}function mt(){if(!a.current.search||c.current.shouldFilter===!1)return;let ke=a.current.filtered.items,et=[];a.current.filtered.groups.forEach(vt=>{let Dt=d.current.get(vt),Ut=0;Dt.forEach(Ft=>{let xt=ke.get(Ft);Ut=Math.max(xt,Ut)}),et.push([vt,Ut])});let pt=de.current;Rt().sort((vt,Dt)=>{var Ut,Ft;let xt=vt.getAttribute("id"),$t=Dt.getAttribute("id");return((Ut=ke.get($t))!=null?Ut:0)-((Ft=ke.get(xt))!=null?Ft:0)}).forEach(vt=>{let Dt=vt.closest(I_);Dt?Dt.appendChild(vt.parentElement===Dt?vt:vt.closest(`${I_} > *`)):pt.appendChild(vt.parentElement===pt?vt:vt.closest(`${I_} > *`))}),et.sort((vt,Dt)=>Dt[1]-vt[1]).forEach(vt=>{var Dt;let Ut=(Dt=de.current)==null?void 0:Dt.querySelector(`${Qy}[${nm}="${encodeURIComponent(vt[0])}"]`);Ut?.parentElement.appendChild(Ut)})}function nt(){let ke=Rt().find(pt=>pt.getAttribute("aria-disabled")!=="true"),et=ke?.getAttribute(nm);xe.setState("value",et||void 0)}function st(){var ke,et,pt,vt;if(!a.current.search||c.current.shouldFilter===!1){a.current.filtered.count=i.current.size;return}a.current.filtered.groups=new Set;let Dt=0;for(let Ut of i.current){let Ft=(et=(ke=p.current.get(Ut))==null?void 0:ke.value)!=null?et:"",xt=(vt=(pt=p.current.get(Ut))==null?void 0:pt.keywords)!=null?vt:[],$t=lt(Ft,xt);a.current.filtered.items.set(Ut,$t),$t>0&&Dt++}for(let[Ut,Ft]of d.current)for(let xt of Ft)if(a.current.filtered.items.get(xt)>0){a.current.filtered.groups.add(Ut);break}a.current.filtered.count=Dt}function Je(){var ke,et,pt;let vt=wt();vt&&(((ke=vt.parentElement)==null?void 0:ke.firstChild)===vt&&((pt=(et=vt.closest(Qy))==null?void 0:et.querySelector(z8))==null||pt.scrollIntoView({block:"nearest"})),vt.scrollIntoView({block:"nearest"}))}function wt(){var ke;return(ke=de.current)==null?void 0:ke.querySelector(`${nM}[aria-selected="true"]`)}function Rt(){var ke;return Array.from(((ke=de.current)==null?void 0:ke.querySelectorAll(aP))||[])}function je(ke){let et=Rt()[ke];et&&xe.setState("value",et.getAttribute(nm))}function it(ke){var et;let pt=wt(),vt=Rt(),Dt=vt.findIndex(Ft=>Ft===pt),Ut=vt[Dt+ke];(et=c.current)!=null&&et.loop&&(Ut=Dt+ke<0?vt[vt.length-1]:Dt+ke===vt.length?vt[0]:vt[Dt+ke]),Ut&&xe.setState("value",Ut.getAttribute(nm))}function Ge(ke){let et=wt(),pt=et?.closest(Qy),vt;for(;pt&&!vt;)pt=ke>0?G8(pt,Qy):Z8(pt,Qy),vt=pt?.querySelector(aP);vt?xe.setState("value",vt.getAttribute(nm)):it(ke)}let bt=()=>je(Rt().length-1),Ce=ke=>{ke.preventDefault(),ke.metaKey?bt():ke.altKey?Ge(1):it(1)},ot=ke=>{ke.preventDefault(),ke.metaKey?je(0):ke.altKey?Ge(-1):it(-1)};return V.createElement(bn.div,{ref:t,tabIndex:-1,...Y,"cmdk-root":"",onKeyDown:ke=>{var et;(et=Y.onKeyDown)==null||et.call(Y,ke);let pt=ke.nativeEvent.isComposing||ke.keyCode===229;if(!(ke.defaultPrevented||pt))switch(ke.key){case"n":case"j":{W&&ke.ctrlKey&&Ce(ke);break}case"ArrowDown":{Ce(ke);break}case"p":case"k":{W&&ke.ctrlKey&&ot(ke);break}case"ArrowUp":{ot(ke);break}case"Home":{ke.preventDefault(),je(0);break}case"End":{ke.preventDefault(),bt();break}case"Enter":{ke.preventDefault();let vt=wt();if(vt){let Dt=new Event(_x);vt.dispatchEvent(Dt)}}}}},V.createElement("label",{"cmdk-label":"",htmlFor:Ie.inputId,id:Ie.labelId,style:X8},A),v1(e,ke=>V.createElement(iM.Provider,{value:xe},V.createElement(aM.Provider,{value:Ie},ke))))}),N8=V.forwardRef((e,t)=>{var a,i;let d=ul(),p=V.useRef(null),y=V.useContext(oM),c=Mg(),A=lM(e),C=(i=(a=A.current)==null?void 0:a.forceMount)!=null?i:y?.forceMount;Xd(()=>{if(!C)return c.item(d,y?.id)},[C]);let T=cM(d,p,[e.value,e.children,p],e.keywords),R=C2(),L=Pf(ye=>ye.value&&ye.value===T.current),U=Pf(ye=>C||c.filter()===!1?!0:ye.search?ye.filtered.items.get(d)>0:!0);V.useEffect(()=>{let ye=p.current;if(!(!ye||e.disabled))return ye.addEventListener(_x,q),()=>ye.removeEventListener(_x,q)},[U,e.onSelect,e.disabled]);function q(){var ye,xe;$(),(xe=(ye=A.current).onSelect)==null||xe.call(ye,T.current)}function $(){R.setState("value",T.current,!0)}if(!U)return null;let{disabled:W,value:Y,onSelect:X,forceMount:te,keywords:pe,...de}=e;return V.createElement(bn.div,{ref:Yd(p,t),...de,id:d,"cmdk-item":"",role:"option","aria-disabled":!!W,"aria-selected":!!L,"data-disabled":!!W,"data-selected":!!L,onPointerMove:W||c.getDisablePointerSelection()?void 0:$,onClick:W?void 0:q},e.children)}),j8=V.forwardRef((e,t)=>{let{heading:a,children:i,forceMount:d,...p}=e,y=ul(),c=V.useRef(null),A=V.useRef(null),C=ul(),T=Mg(),R=Pf(U=>d||T.filter()===!1?!0:U.search?U.filtered.groups.has(y):!0);Xd(()=>T.group(y),[]),cM(y,c,[e.value,e.heading,A]);let L=V.useMemo(()=>({id:y,forceMount:d}),[d]);return V.createElement(bn.div,{ref:Yd(c,t),...p,"cmdk-group":"",role:"presentation",hidden:R?void 0:!0},a&&V.createElement("div",{ref:A,"cmdk-group-heading":"","aria-hidden":!0,id:C},a),v1(e,U=>V.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":a?C:void 0},V.createElement(oM.Provider,{value:L},U))))}),B8=V.forwardRef((e,t)=>{let{alwaysRender:a,...i}=e,d=V.useRef(null),p=Pf(y=>!y.search);return!a&&!p?null:V.createElement(bn.div,{ref:Yd(d,t),...i,"cmdk-separator":"",role:"separator"})}),q8=V.forwardRef((e,t)=>{let{onValueChange:a,...i}=e,d=e.value!=null,p=C2(),y=Pf(C=>C.search),c=Pf(C=>C.selectedItemId),A=Mg();return V.useEffect(()=>{e.value!=null&&p.setState("search",e.value)},[e.value]),V.createElement(bn.input,{ref:t,...i,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":A.listId,"aria-labelledby":A.labelId,"aria-activedescendant":c,id:A.inputId,type:"text",value:d?e.value:y,onChange:C=>{d||p.setState("search",C.target.value),a?.(C.target.value)}})}),$8=V.forwardRef((e,t)=>{let{children:a,label:i="Suggestions",...d}=e,p=V.useRef(null),y=V.useRef(null),c=Pf(C=>C.selectedItemId),A=Mg();return V.useEffect(()=>{if(y.current&&p.current){let C=y.current,T=p.current,R,L=new ResizeObserver(()=>{R=requestAnimationFrame(()=>{let U=C.offsetHeight;T.style.setProperty("--cmdk-list-height",U.toFixed(1)+"px")})});return L.observe(C),()=>{cancelAnimationFrame(R),L.unobserve(C)}}},[]),V.createElement(bn.div,{ref:Yd(p,t),...d,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":c,"aria-label":i,id:A.listId},v1(e,C=>V.createElement("div",{ref:Yd(y,A.listInnerRef),"cmdk-list-sizer":""},C)))}),H8=V.forwardRef((e,t)=>{let{open:a,onOpenChange:i,overlayClassName:d,contentClassName:p,container:y,...c}=e;return V.createElement(JD,{open:a,onOpenChange:i},V.createElement(eM,{container:y},V.createElement(tM,{"cmdk-overlay":"",className:d}),V.createElement(rM,{"aria-label":e.label,"cmdk-dialog":"",className:p},V.createElement(sM,{ref:t,...c}))))}),V8=V.forwardRef((e,t)=>Pf(a=>a.filtered.count===0)?V.createElement(bn.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),W8=V.forwardRef((e,t)=>{let{progress:a,children:i,label:d="Loading...",...p}=e;return V.createElement(bn.div,{ref:t,...p,"cmdk-loading":"",role:"progressbar","aria-valuenow":a,"aria-valuemin":0,"aria-valuemax":100,"aria-label":d},v1(e,y=>V.createElement("div",{"aria-hidden":!0},y)))}),Mm=Object.assign(sM,{List:$8,Item:N8,Input:q8,Group:j8,Separator:B8,Dialog:H8,Empty:V8,Loading:W8});function G8(e,t){let a=e.nextElementSibling;for(;a;){if(a.matches(t))return a;a=a.nextElementSibling}}function Z8(e,t){let a=e.previousElementSibling;for(;a;){if(a.matches(t))return a;a=a.previousElementSibling}}function lM(e){let t=V.useRef(e);return Xd(()=>{t.current=e}),t}var Xd=typeof window>"u"?V.useEffect:V.useLayoutEffect;function am(e){let t=V.useRef();return t.current===void 0&&(t.current=e()),t}function Pf(e){let t=C2(),a=()=>e(t.snapshot());return V.useSyncExternalStore(t.subscribe,a,a)}function cM(e,t,a,i=[]){let d=V.useRef(),p=Mg();return Xd(()=>{var y;let c=(()=>{var C;for(let T of a){if(typeof T=="string")return T.trim();if(typeof T=="object"&&"current"in T)return T.current?(C=T.current.textContent)==null?void 0:C.trim():d.current}})(),A=i.map(C=>C.trim());p.value(e,c,A),(y=t.current)==null||y.setAttribute(nm,c),d.current=c}),d}var Y8=()=>{let[e,t]=V.useState(),a=am(()=>new Map);return Xd(()=>{a.current.forEach(i=>i()),a.current=new Map},[e]),(i,d)=>{a.current.set(i,d),t({})}};function Q8(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function v1({asChild:e,children:t},a){return e&&V.isValidElement(t)?V.cloneElement(Q8(t),{ref:t.ref},a(t.props.children)):a(t)}var X8={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function K8({...e}){return se.jsx(JD,{"data-slot":"dialog",...e})}function J8({...e}){return se.jsx(O8,{"data-slot":"dialog-trigger",...e})}function e7({...e}){return se.jsx(eM,{"data-slot":"dialog-portal",...e})}function t7({className:e,...t}){return se.jsx(tM,{"data-slot":"dialog-overlay",className:xn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function r7({className:e,children:t,showCloseButton:a=!0,...i}){return se.jsxs(e7,{"data-slot":"dialog-portal",children:[se.jsx(t7,{}),se.jsxs(rM,{"data-slot":"dialog-content",className:xn("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...i,children:[t,a&&se.jsxs(L8,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[se.jsx(iI,{}),se.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function n7({className:e,...t}){return se.jsx("div",{"data-slot":"dialog-header",className:xn("flex flex-col gap-2 text-center sm:text-left",e),...t})}function a7({className:e,...t}){return se.jsx(U8,{"data-slot":"dialog-description",className:xn("text-muted-foreground text-sm",e),...t})}function i7({className:e,...t}){return se.jsx(Mm,{"data-slot":"command",className:xn("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e),...t})}function o7({className:e,...t}){return se.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[se.jsx(nI,{className:"size-4 shrink-0 opacity-50"}),se.jsx(Mm.Input,{"data-slot":"command-input",className:xn("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e),...t})]})}function s7({className:e,...t}){return se.jsx(Mm.List,{"data-slot":"command-list",className:xn("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e),...t})}function l7({...e}){return se.jsx(Mm.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...e})}function c7({className:e,...t}){return se.jsx(Mm.Group,{"data-slot":"command-group",className:xn("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e),...t})}function u7({className:e,...t}){return se.jsx(Mm.Item,{"data-slot":"command-item",className:xn("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}const h7=["top","right","bottom","left"],Af=Math.min,Ms=Math.max,Av=Math.round,Q0=Math.floor,lu=e=>({x:e,y:e}),f7={left:"right",right:"left",bottom:"top",top:"bottom"},d7={start:"end",end:"start"};function bx(e,t,a){return Ms(e,Af(t,a))}function ph(e,t){return typeof e=="function"?e(t):e}function mh(e){return e.split("-")[0]}function Tm(e){return e.split("-")[1]}function D2(e){return e==="x"?"y":"x"}function M2(e){return e==="y"?"height":"width"}const p7=new Set(["top","bottom"]);function ou(e){return p7.has(mh(e))?"y":"x"}function T2(e){return D2(ou(e))}function m7(e,t,a){a===void 0&&(a=!1);const i=Tm(e),d=T2(e),p=M2(d);let y=d==="x"?i===(a?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[p]>t.floating[p]&&(y=Cv(y)),[y,Cv(y)]}function y7(e){const t=Cv(e);return[xx(e),t,xx(t)]}function xx(e){return e.replace(/start|end/g,t=>d7[t])}const iP=["left","right"],oP=["right","left"],g7=["top","bottom"],v7=["bottom","top"];function _7(e,t,a){switch(e){case"top":case"bottom":return a?t?oP:iP:t?iP:oP;case"left":case"right":return t?g7:v7;default:return[]}}function b7(e,t,a,i){const d=Tm(e);let p=_7(mh(e),a==="start",i);return d&&(p=p.map(y=>y+"-"+d),t&&(p=p.concat(p.map(xx)))),p}function Cv(e){return e.replace(/left|right|bottom|top/g,t=>f7[t])}function x7(e){return{top:0,right:0,bottom:0,left:0,...e}}function uM(e){return typeof e!="number"?x7(e):{top:e,right:e,bottom:e,left:e}}function Dv(e){const{x:t,y:a,width:i,height:d}=e;return{width:i,height:d,top:a,left:t,right:t+i,bottom:a+d,x:t,y:a}}function sP(e,t,a){let{reference:i,floating:d}=e;const p=ou(t),y=T2(t),c=M2(y),A=mh(t),C=p==="y",T=i.x+i.width/2-d.width/2,R=i.y+i.height/2-d.height/2,L=i[c]/2-d[c]/2;let U;switch(A){case"top":U={x:T,y:i.y-d.height};break;case"bottom":U={x:T,y:i.y+i.height};break;case"right":U={x:i.x+i.width,y:R};break;case"left":U={x:i.x-d.width,y:R};break;default:U={x:i.x,y:i.y}}switch(Tm(t)){case"start":U[y]-=L*(a&&C?-1:1);break;case"end":U[y]+=L*(a&&C?-1:1);break}return U}const S7=async(e,t,a)=>{const{placement:i="bottom",strategy:d="absolute",middleware:p=[],platform:y}=a,c=p.filter(Boolean),A=await(y.isRTL==null?void 0:y.isRTL(t));let C=await y.getElementRects({reference:e,floating:t,strategy:d}),{x:T,y:R}=sP(C,i,A),L=i,U={},q=0;for(let $=0;$<c.length;$++){const{name:W,fn:Y}=c[$],{x:X,y:te,data:pe,reset:de}=await Y({x:T,y:R,initialPlacement:i,placement:L,strategy:d,middlewareData:U,rects:C,platform:y,elements:{reference:e,floating:t}});T=X??T,R=te??R,U={...U,[W]:{...U[W],...pe}},de&&q<=50&&(q++,typeof de=="object"&&(de.placement&&(L=de.placement),de.rects&&(C=de.rects===!0?await y.getElementRects({reference:e,floating:t,strategy:d}):de.rects),{x:T,y:R}=sP(C,L,A)),$=-1)}return{x:T,y:R,placement:L,strategy:d,middlewareData:U}};async function hg(e,t){var a;t===void 0&&(t={});const{x:i,y:d,platform:p,rects:y,elements:c,strategy:A}=e,{boundary:C="clippingAncestors",rootBoundary:T="viewport",elementContext:R="floating",altBoundary:L=!1,padding:U=0}=ph(t,e),q=uM(U),W=c[L?R==="floating"?"reference":"floating":R],Y=Dv(await p.getClippingRect({element:(a=await(p.isElement==null?void 0:p.isElement(W)))==null||a?W:W.contextElement||await(p.getDocumentElement==null?void 0:p.getDocumentElement(c.floating)),boundary:C,rootBoundary:T,strategy:A})),X=R==="floating"?{x:i,y:d,width:y.floating.width,height:y.floating.height}:y.reference,te=await(p.getOffsetParent==null?void 0:p.getOffsetParent(c.floating)),pe=await(p.isElement==null?void 0:p.isElement(te))?await(p.getScale==null?void 0:p.getScale(te))||{x:1,y:1}:{x:1,y:1},de=Dv(p.convertOffsetParentRelativeRectToViewportRelativeRect?await p.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:X,offsetParent:te,strategy:A}):X);return{top:(Y.top-de.top+q.top)/pe.y,bottom:(de.bottom-Y.bottom+q.bottom)/pe.y,left:(Y.left-de.left+q.left)/pe.x,right:(de.right-Y.right+q.right)/pe.x}}const w7=e=>({name:"arrow",options:e,async fn(t){const{x:a,y:i,placement:d,rects:p,platform:y,elements:c,middlewareData:A}=t,{element:C,padding:T=0}=ph(e,t)||{};if(C==null)return{};const R=uM(T),L={x:a,y:i},U=T2(d),q=M2(U),$=await y.getDimensions(C),W=U==="y",Y=W?"top":"left",X=W?"bottom":"right",te=W?"clientHeight":"clientWidth",pe=p.reference[q]+p.reference[U]-L[U]-p.floating[q],de=L[U]-p.reference[U],ye=await(y.getOffsetParent==null?void 0:y.getOffsetParent(C));let xe=ye?ye[te]:0;(!xe||!await(y.isElement==null?void 0:y.isElement(ye)))&&(xe=c.floating[te]||p.floating[q]);const Ie=pe/2-de/2,lt=xe/2-$[q]/2-1,mt=Af(R[Y],lt),nt=Af(R[X],lt),st=mt,Je=xe-$[q]-nt,wt=xe/2-$[q]/2+Ie,Rt=bx(st,wt,Je),je=!A.arrow&&Tm(d)!=null&&wt!==Rt&&p.reference[q]/2-(wt<st?mt:nt)-$[q]/2<0,it=je?wt<st?wt-st:wt-Je:0;return{[U]:L[U]+it,data:{[U]:Rt,centerOffset:wt-Rt-it,...je&&{alignmentOffset:it}},reset:je}}}),P7=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var a,i;const{placement:d,middlewareData:p,rects:y,initialPlacement:c,platform:A,elements:C}=t,{mainAxis:T=!0,crossAxis:R=!0,fallbackPlacements:L,fallbackStrategy:U="bestFit",fallbackAxisSideDirection:q="none",flipAlignment:$=!0,...W}=ph(e,t);if((a=p.arrow)!=null&&a.alignmentOffset)return{};const Y=mh(d),X=ou(c),te=mh(c)===c,pe=await(A.isRTL==null?void 0:A.isRTL(C.floating)),de=L||(te||!$?[Cv(c)]:y7(c)),ye=q!=="none";!L&&ye&&de.push(...b7(c,$,q,pe));const xe=[c,...de],Ie=await hg(t,W),lt=[];let mt=((i=p.flip)==null?void 0:i.overflows)||[];if(T&&lt.push(Ie[Y]),R){const wt=m7(d,y,pe);lt.push(Ie[wt[0]],Ie[wt[1]])}if(mt=[...mt,{placement:d,overflows:lt}],!lt.every(wt=>wt<=0)){var nt,st;const wt=(((nt=p.flip)==null?void 0:nt.index)||0)+1,Rt=xe[wt];if(Rt&&(!(R==="alignment"?X!==ou(Rt):!1)||mt.every(Ge=>ou(Ge.placement)===X?Ge.overflows[0]>0:!0)))return{data:{index:wt,overflows:mt},reset:{placement:Rt}};let je=(st=mt.filter(it=>it.overflows[0]<=0).sort((it,Ge)=>it.overflows[1]-Ge.overflows[1])[0])==null?void 0:st.placement;if(!je)switch(U){case"bestFit":{var Je;const it=(Je=mt.filter(Ge=>{if(ye){const bt=ou(Ge.placement);return bt===X||bt==="y"}return!0}).map(Ge=>[Ge.placement,Ge.overflows.filter(bt=>bt>0).reduce((bt,Ce)=>bt+Ce,0)]).sort((Ge,bt)=>Ge[1]-bt[1])[0])==null?void 0:Je[0];it&&(je=it);break}case"initialPlacement":je=c;break}if(d!==je)return{reset:{placement:je}}}return{}}}};function lP(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function cP(e){return h7.some(t=>e[t]>=0)}const A7=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:a}=t,{strategy:i="referenceHidden",...d}=ph(e,t);switch(i){case"referenceHidden":{const p=await hg(t,{...d,elementContext:"reference"}),y=lP(p,a.reference);return{data:{referenceHiddenOffsets:y,referenceHidden:cP(y)}}}case"escaped":{const p=await hg(t,{...d,altBoundary:!0}),y=lP(p,a.floating);return{data:{escapedOffsets:y,escaped:cP(y)}}}default:return{}}}}},hM=new Set(["left","top"]);async function C7(e,t){const{placement:a,platform:i,elements:d}=e,p=await(i.isRTL==null?void 0:i.isRTL(d.floating)),y=mh(a),c=Tm(a),A=ou(a)==="y",C=hM.has(y)?-1:1,T=p&&A?-1:1,R=ph(t,e);let{mainAxis:L,crossAxis:U,alignmentAxis:q}=typeof R=="number"?{mainAxis:R,crossAxis:0,alignmentAxis:null}:{mainAxis:R.mainAxis||0,crossAxis:R.crossAxis||0,alignmentAxis:R.alignmentAxis};return c&&typeof q=="number"&&(U=c==="end"?q*-1:q),A?{x:U*T,y:L*C}:{x:L*C,y:U*T}}const D7=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var a,i;const{x:d,y:p,placement:y,middlewareData:c}=t,A=await C7(t,e);return y===((a=c.offset)==null?void 0:a.placement)&&(i=c.arrow)!=null&&i.alignmentOffset?{}:{x:d+A.x,y:p+A.y,data:{...A,placement:y}}}}},M7=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:a,y:i,placement:d}=t,{mainAxis:p=!0,crossAxis:y=!1,limiter:c={fn:W=>{let{x:Y,y:X}=W;return{x:Y,y:X}}},...A}=ph(e,t),C={x:a,y:i},T=await hg(t,A),R=ou(mh(d)),L=D2(R);let U=C[L],q=C[R];if(p){const W=L==="y"?"top":"left",Y=L==="y"?"bottom":"right",X=U+T[W],te=U-T[Y];U=bx(X,U,te)}if(y){const W=R==="y"?"top":"left",Y=R==="y"?"bottom":"right",X=q+T[W],te=q-T[Y];q=bx(X,q,te)}const $=c.fn({...t,[L]:U,[R]:q});return{...$,data:{x:$.x-a,y:$.y-i,enabled:{[L]:p,[R]:y}}}}}},T7=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:a,y:i,placement:d,rects:p,middlewareData:y}=t,{offset:c=0,mainAxis:A=!0,crossAxis:C=!0}=ph(e,t),T={x:a,y:i},R=ou(d),L=D2(R);let U=T[L],q=T[R];const $=ph(c,t),W=typeof $=="number"?{mainAxis:$,crossAxis:0}:{mainAxis:0,crossAxis:0,...$};if(A){const te=L==="y"?"height":"width",pe=p.reference[L]-p.floating[te]+W.mainAxis,de=p.reference[L]+p.reference[te]-W.mainAxis;U<pe?U=pe:U>de&&(U=de)}if(C){var Y,X;const te=L==="y"?"width":"height",pe=hM.has(mh(d)),de=p.reference[R]-p.floating[te]+(pe&&((Y=y.offset)==null?void 0:Y[R])||0)+(pe?0:W.crossAxis),ye=p.reference[R]+p.reference[te]+(pe?0:((X=y.offset)==null?void 0:X[R])||0)-(pe?W.crossAxis:0);q<de?q=de:q>ye&&(q=ye)}return{[L]:U,[R]:q}}}},E7=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var a,i;const{placement:d,rects:p,platform:y,elements:c}=t,{apply:A=()=>{},...C}=ph(e,t),T=await hg(t,C),R=mh(d),L=Tm(d),U=ou(d)==="y",{width:q,height:$}=p.floating;let W,Y;R==="top"||R==="bottom"?(W=R,Y=L===(await(y.isRTL==null?void 0:y.isRTL(c.floating))?"start":"end")?"left":"right"):(Y=R,W=L==="end"?"top":"bottom");const X=$-T.top-T.bottom,te=q-T.left-T.right,pe=Af($-T[W],X),de=Af(q-T[Y],te),ye=!t.middlewareData.shift;let xe=pe,Ie=de;if((a=t.middlewareData.shift)!=null&&a.enabled.x&&(Ie=te),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(xe=X),ye&&!L){const mt=Ms(T.left,0),nt=Ms(T.right,0),st=Ms(T.top,0),Je=Ms(T.bottom,0);U?Ie=q-2*(mt!==0||nt!==0?mt+nt:Ms(T.left,T.right)):xe=$-2*(st!==0||Je!==0?st+Je:Ms(T.top,T.bottom))}await A({...t,availableWidth:Ie,availableHeight:xe});const lt=await y.getDimensions(c.floating);return q!==lt.width||$!==lt.height?{reset:{rects:!0}}:{}}}};function _1(){return typeof window<"u"}function Em(e){return fM(e)?(e.nodeName||"").toLowerCase():"#document"}function Rs(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function du(e){var t;return(t=(fM(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function fM(e){return _1()?e instanceof Node||e instanceof Rs(e).Node:!1}function lc(e){return _1()?e instanceof Element||e instanceof Rs(e).Element:!1}function uu(e){return _1()?e instanceof HTMLElement||e instanceof Rs(e).HTMLElement:!1}function uP(e){return!_1()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Rs(e).ShadowRoot}const R7=new Set(["inline","contents"]);function Tg(e){const{overflow:t,overflowX:a,overflowY:i,display:d}=cc(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+a)&&!R7.has(d)}const I7=new Set(["table","td","th"]);function k7(e){return I7.has(Em(e))}const O7=[":popover-open",":modal"];function b1(e){return O7.some(t=>{try{return e.matches(t)}catch{return!1}})}const U7=["transform","translate","scale","rotate","perspective"],L7=["transform","translate","scale","rotate","perspective","filter"],z7=["paint","layout","strict","content"];function E2(e){const t=R2(),a=lc(e)?cc(e):e;return U7.some(i=>a[i]?a[i]!=="none":!1)||(a.containerType?a.containerType!=="normal":!1)||!t&&(a.backdropFilter?a.backdropFilter!=="none":!1)||!t&&(a.filter?a.filter!=="none":!1)||L7.some(i=>(a.willChange||"").includes(i))||z7.some(i=>(a.contain||"").includes(i))}function F7(e){let t=Cf(e);for(;uu(t)&&!fm(t);){if(E2(t))return t;if(b1(t))return null;t=Cf(t)}return null}function R2(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const N7=new Set(["html","body","#document"]);function fm(e){return N7.has(Em(e))}function cc(e){return Rs(e).getComputedStyle(e)}function x1(e){return lc(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Cf(e){if(Em(e)==="html")return e;const t=e.assignedSlot||e.parentNode||uP(e)&&e.host||du(e);return uP(t)?t.host:t}function dM(e){const t=Cf(e);return fm(t)?e.ownerDocument?e.ownerDocument.body:e.body:uu(t)&&Tg(t)?t:dM(t)}function fg(e,t,a){var i;t===void 0&&(t=[]),a===void 0&&(a=!0);const d=dM(e),p=d===((i=e.ownerDocument)==null?void 0:i.body),y=Rs(d);if(p){const c=Sx(y);return t.concat(y,y.visualViewport||[],Tg(d)?d:[],c&&a?fg(c):[])}return t.concat(d,fg(d,[],a))}function Sx(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function pM(e){const t=cc(e);let a=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const d=uu(e),p=d?e.offsetWidth:a,y=d?e.offsetHeight:i,c=Av(a)!==p||Av(i)!==y;return c&&(a=p,i=y),{width:a,height:i,$:c}}function I2(e){return lc(e)?e:e.contextElement}function sm(e){const t=I2(e);if(!uu(t))return lu(1);const a=t.getBoundingClientRect(),{width:i,height:d,$:p}=pM(t);let y=(p?Av(a.width):a.width)/i,c=(p?Av(a.height):a.height)/d;return(!y||!Number.isFinite(y))&&(y=1),(!c||!Number.isFinite(c))&&(c=1),{x:y,y:c}}const j7=lu(0);function mM(e){const t=Rs(e);return!R2()||!t.visualViewport?j7:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function B7(e,t,a){return t===void 0&&(t=!1),!a||t&&a!==Rs(e)?!1:t}function Kd(e,t,a,i){t===void 0&&(t=!1),a===void 0&&(a=!1);const d=e.getBoundingClientRect(),p=I2(e);let y=lu(1);t&&(i?lc(i)&&(y=sm(i)):y=sm(e));const c=B7(p,a,i)?mM(p):lu(0);let A=(d.left+c.x)/y.x,C=(d.top+c.y)/y.y,T=d.width/y.x,R=d.height/y.y;if(p){const L=Rs(p),U=i&&lc(i)?Rs(i):i;let q=L,$=Sx(q);for(;$&&i&&U!==q;){const W=sm($),Y=$.getBoundingClientRect(),X=cc($),te=Y.left+($.clientLeft+parseFloat(X.paddingLeft))*W.x,pe=Y.top+($.clientTop+parseFloat(X.paddingTop))*W.y;A*=W.x,C*=W.y,T*=W.x,R*=W.y,A+=te,C+=pe,q=Rs($),$=Sx(q)}}return Dv({width:T,height:R,x:A,y:C})}function S1(e,t){const a=x1(e).scrollLeft;return t?t.left+a:Kd(du(e)).left+a}function yM(e,t){const a=e.getBoundingClientRect(),i=a.left+t.scrollLeft-S1(e,a),d=a.top+t.scrollTop;return{x:i,y:d}}function q7(e){let{elements:t,rect:a,offsetParent:i,strategy:d}=e;const p=d==="fixed",y=du(i),c=t?b1(t.floating):!1;if(i===y||c&&p)return a;let A={scrollLeft:0,scrollTop:0},C=lu(1);const T=lu(0),R=uu(i);if((R||!R&&!p)&&((Em(i)!=="body"||Tg(y))&&(A=x1(i)),uu(i))){const U=Kd(i);C=sm(i),T.x=U.x+i.clientLeft,T.y=U.y+i.clientTop}const L=y&&!R&&!p?yM(y,A):lu(0);return{width:a.width*C.x,height:a.height*C.y,x:a.x*C.x-A.scrollLeft*C.x+T.x+L.x,y:a.y*C.y-A.scrollTop*C.y+T.y+L.y}}function $7(e){return Array.from(e.getClientRects())}function H7(e){const t=du(e),a=x1(e),i=e.ownerDocument.body,d=Ms(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),p=Ms(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let y=-a.scrollLeft+S1(e);const c=-a.scrollTop;return cc(i).direction==="rtl"&&(y+=Ms(t.clientWidth,i.clientWidth)-d),{width:d,height:p,x:y,y:c}}const hP=25;function V7(e,t){const a=Rs(e),i=du(e),d=a.visualViewport;let p=i.clientWidth,y=i.clientHeight,c=0,A=0;if(d){p=d.width,y=d.height;const T=R2();(!T||T&&t==="fixed")&&(c=d.offsetLeft,A=d.offsetTop)}const C=S1(i);if(C<=0){const T=i.ownerDocument,R=T.body,L=getComputedStyle(R),U=T.compatMode==="CSS1Compat"&&parseFloat(L.marginLeft)+parseFloat(L.marginRight)||0,q=Math.abs(i.clientWidth-R.clientWidth-U);q<=hP&&(p-=q)}else C<=hP&&(p+=C);return{width:p,height:y,x:c,y:A}}const W7=new Set(["absolute","fixed"]);function G7(e,t){const a=Kd(e,!0,t==="fixed"),i=a.top+e.clientTop,d=a.left+e.clientLeft,p=uu(e)?sm(e):lu(1),y=e.clientWidth*p.x,c=e.clientHeight*p.y,A=d*p.x,C=i*p.y;return{width:y,height:c,x:A,y:C}}function fP(e,t,a){let i;if(t==="viewport")i=V7(e,a);else if(t==="document")i=H7(du(e));else if(lc(t))i=G7(t,a);else{const d=mM(e);i={x:t.x-d.x,y:t.y-d.y,width:t.width,height:t.height}}return Dv(i)}function gM(e,t){const a=Cf(e);return a===t||!lc(a)||fm(a)?!1:cc(a).position==="fixed"||gM(a,t)}function Z7(e,t){const a=t.get(e);if(a)return a;let i=fg(e,[],!1).filter(c=>lc(c)&&Em(c)!=="body"),d=null;const p=cc(e).position==="fixed";let y=p?Cf(e):e;for(;lc(y)&&!fm(y);){const c=cc(y),A=E2(y);!A&&c.position==="fixed"&&(d=null),(p?!A&&!d:!A&&c.position==="static"&&!!d&&W7.has(d.position)||Tg(y)&&!A&&gM(e,y))?i=i.filter(T=>T!==y):d=c,y=Cf(y)}return t.set(e,i),i}function Y7(e){let{element:t,boundary:a,rootBoundary:i,strategy:d}=e;const y=[...a==="clippingAncestors"?b1(t)?[]:Z7(t,this._c):[].concat(a),i],c=y[0],A=y.reduce((C,T)=>{const R=fP(t,T,d);return C.top=Ms(R.top,C.top),C.right=Af(R.right,C.right),C.bottom=Af(R.bottom,C.bottom),C.left=Ms(R.left,C.left),C},fP(t,c,d));return{width:A.right-A.left,height:A.bottom-A.top,x:A.left,y:A.top}}function Q7(e){const{width:t,height:a}=pM(e);return{width:t,height:a}}function X7(e,t,a){const i=uu(t),d=du(t),p=a==="fixed",y=Kd(e,!0,p,t);let c={scrollLeft:0,scrollTop:0};const A=lu(0);function C(){A.x=S1(d)}if(i||!i&&!p)if((Em(t)!=="body"||Tg(d))&&(c=x1(t)),i){const U=Kd(t,!0,p,t);A.x=U.x+t.clientLeft,A.y=U.y+t.clientTop}else d&&C();p&&!i&&d&&C();const T=d&&!i&&!p?yM(d,c):lu(0),R=y.left+c.scrollLeft-A.x-T.x,L=y.top+c.scrollTop-A.y-T.y;return{x:R,y:L,width:y.width,height:y.height}}function k_(e){return cc(e).position==="static"}function dP(e,t){if(!uu(e)||cc(e).position==="fixed")return null;if(t)return t(e);let a=e.offsetParent;return du(e)===a&&(a=a.ownerDocument.body),a}function vM(e,t){const a=Rs(e);if(b1(e))return a;if(!uu(e)){let d=Cf(e);for(;d&&!fm(d);){if(lc(d)&&!k_(d))return d;d=Cf(d)}return a}let i=dP(e,t);for(;i&&k7(i)&&k_(i);)i=dP(i,t);return i&&fm(i)&&k_(i)&&!E2(i)?a:i||F7(e)||a}const K7=async function(e){const t=this.getOffsetParent||vM,a=this.getDimensions,i=await a(e.floating);return{reference:X7(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function J7(e){return cc(e).direction==="rtl"}const e9={convertOffsetParentRelativeRectToViewportRelativeRect:q7,getDocumentElement:du,getClippingRect:Y7,getOffsetParent:vM,getElementRects:K7,getClientRects:$7,getDimensions:Q7,getScale:sm,isElement:lc,isRTL:J7};function _M(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function t9(e,t){let a=null,i;const d=du(e);function p(){var c;clearTimeout(i),(c=a)==null||c.disconnect(),a=null}function y(c,A){c===void 0&&(c=!1),A===void 0&&(A=1),p();const C=e.getBoundingClientRect(),{left:T,top:R,width:L,height:U}=C;if(c||t(),!L||!U)return;const q=Q0(R),$=Q0(d.clientWidth-(T+L)),W=Q0(d.clientHeight-(R+U)),Y=Q0(T),te={rootMargin:-q+"px "+-$+"px "+-W+"px "+-Y+"px",threshold:Ms(0,Af(1,A))||1};let pe=!0;function de(ye){const xe=ye[0].intersectionRatio;if(xe!==A){if(!pe)return y();xe?y(!1,xe):i=setTimeout(()=>{y(!1,1e-7)},1e3)}xe===1&&!_M(C,e.getBoundingClientRect())&&y(),pe=!1}try{a=new IntersectionObserver(de,{...te,root:d.ownerDocument})}catch{a=new IntersectionObserver(de,te)}a.observe(e)}return y(!0),p}function r9(e,t,a,i){i===void 0&&(i={});const{ancestorScroll:d=!0,ancestorResize:p=!0,elementResize:y=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:A=!1}=i,C=I2(e),T=d||p?[...C?fg(C):[],...fg(t)]:[];T.forEach(Y=>{d&&Y.addEventListener("scroll",a,{passive:!0}),p&&Y.addEventListener("resize",a)});const R=C&&c?t9(C,a):null;let L=-1,U=null;y&&(U=new ResizeObserver(Y=>{let[X]=Y;X&&X.target===C&&U&&(U.unobserve(t),cancelAnimationFrame(L),L=requestAnimationFrame(()=>{var te;(te=U)==null||te.observe(t)})),a()}),C&&!A&&U.observe(C),U.observe(t));let q,$=A?Kd(e):null;A&&W();function W(){const Y=Kd(e);$&&!_M($,Y)&&a(),$=Y,q=requestAnimationFrame(W)}return a(),()=>{var Y;T.forEach(X=>{d&&X.removeEventListener("scroll",a),p&&X.removeEventListener("resize",a)}),R?.(),(Y=U)==null||Y.disconnect(),U=null,A&&cancelAnimationFrame(q)}}const n9=D7,a9=M7,i9=P7,o9=E7,s9=A7,pP=w7,l9=T7,c9=(e,t,a)=>{const i=new Map,d={platform:e9,...a},p={...d.platform,_c:i};return S7(e,t,{...d,platform:p})};var u9=typeof document<"u",h9=function(){},_v=u9?V.useLayoutEffect:h9;function Mv(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let a,i,d;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(a=e.length,a!==t.length)return!1;for(i=a;i--!==0;)if(!Mv(e[i],t[i]))return!1;return!0}if(d=Object.keys(e),a=d.length,a!==Object.keys(t).length)return!1;for(i=a;i--!==0;)if(!{}.hasOwnProperty.call(t,d[i]))return!1;for(i=a;i--!==0;){const p=d[i];if(!(p==="_owner"&&e.$$typeof)&&!Mv(e[p],t[p]))return!1}return!0}return e!==e&&t!==t}function bM(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function mP(e,t){const a=bM(e);return Math.round(t*a)/a}function O_(e){const t=V.useRef(e);return _v(()=>{t.current=e}),t}function f9(e){e===void 0&&(e={});const{placement:t="bottom",strategy:a="absolute",middleware:i=[],platform:d,elements:{reference:p,floating:y}={},transform:c=!0,whileElementsMounted:A,open:C}=e,[T,R]=V.useState({x:0,y:0,strategy:a,placement:t,middlewareData:{},isPositioned:!1}),[L,U]=V.useState(i);Mv(L,i)||U(i);const[q,$]=V.useState(null),[W,Y]=V.useState(null),X=V.useCallback(Ge=>{Ge!==ye.current&&(ye.current=Ge,$(Ge))},[]),te=V.useCallback(Ge=>{Ge!==xe.current&&(xe.current=Ge,Y(Ge))},[]),pe=p||q,de=y||W,ye=V.useRef(null),xe=V.useRef(null),Ie=V.useRef(T),lt=A!=null,mt=O_(A),nt=O_(d),st=O_(C),Je=V.useCallback(()=>{if(!ye.current||!xe.current)return;const Ge={placement:t,strategy:a,middleware:L};nt.current&&(Ge.platform=nt.current),c9(ye.current,xe.current,Ge).then(bt=>{const Ce={...bt,isPositioned:st.current!==!1};wt.current&&!Mv(Ie.current,Ce)&&(Ie.current=Ce,m1.flushSync(()=>{R(Ce)}))})},[L,t,a,nt,st]);_v(()=>{C===!1&&Ie.current.isPositioned&&(Ie.current.isPositioned=!1,R(Ge=>({...Ge,isPositioned:!1})))},[C]);const wt=V.useRef(!1);_v(()=>(wt.current=!0,()=>{wt.current=!1}),[]),_v(()=>{if(pe&&(ye.current=pe),de&&(xe.current=de),pe&&de){if(mt.current)return mt.current(pe,de,Je);Je()}},[pe,de,Je,mt,lt]);const Rt=V.useMemo(()=>({reference:ye,floating:xe,setReference:X,setFloating:te}),[X,te]),je=V.useMemo(()=>({reference:pe,floating:de}),[pe,de]),it=V.useMemo(()=>{const Ge={position:a,left:0,top:0};if(!je.floating)return Ge;const bt=mP(je.floating,T.x),Ce=mP(je.floating,T.y);return c?{...Ge,transform:"translate("+bt+"px, "+Ce+"px)",...bM(je.floating)>=1.5&&{willChange:"transform"}}:{position:a,left:bt,top:Ce}},[a,c,je.floating,T.x,T.y]);return V.useMemo(()=>({...T,update:Je,refs:Rt,elements:je,floatingStyles:it}),[T,Je,Rt,je,it])}const d9=e=>{function t(a){return{}.hasOwnProperty.call(a,"current")}return{name:"arrow",options:e,fn(a){const{element:i,padding:d}=typeof e=="function"?e(a):e;return i&&t(i)?i.current!=null?pP({element:i.current,padding:d}).fn(a):{}:i?pP({element:i,padding:d}).fn(a):{}}}},p9=(e,t)=>({...n9(e),options:[e,t]}),m9=(e,t)=>({...a9(e),options:[e,t]}),y9=(e,t)=>({...l9(e),options:[e,t]}),g9=(e,t)=>({...i9(e),options:[e,t]}),v9=(e,t)=>({...o9(e),options:[e,t]}),_9=(e,t)=>({...s9(e),options:[e,t]}),b9=(e,t)=>({...d9(e),options:[e,t]});var x9="Arrow",xM=V.forwardRef((e,t)=>{const{children:a,width:i=10,height:d=5,...p}=e;return se.jsx(bn.svg,{...p,ref:t,width:i,height:d,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?a:se.jsx("polygon",{points:"0,0 30,0 15,10"})})});xM.displayName=x9;var S9=xM;function w9(e){const[t,a]=V.useState(void 0);return dh(()=>{if(e){a({width:e.offsetWidth,height:e.offsetHeight});const i=new ResizeObserver(d=>{if(!Array.isArray(d)||!d.length)return;const p=d[0];let y,c;if("borderBoxSize"in p){const A=p.borderBoxSize,C=Array.isArray(A)?A[0]:A;y=C.inlineSize,c=C.blockSize}else y=e.offsetWidth,c=e.offsetHeight;a({width:y,height:c})});return i.observe(e,{box:"border-box"}),()=>i.unobserve(e)}else a(void 0)},[e]),t}var k2="Popper",[SM,wM]=ap(k2),[P9,PM]=SM(k2),AM=e=>{const{__scopePopper:t,children:a}=e,[i,d]=V.useState(null);return se.jsx(P9,{scope:t,anchor:i,onAnchorChange:d,children:a})};AM.displayName=k2;var CM="PopperAnchor",DM=V.forwardRef((e,t)=>{const{__scopePopper:a,virtualRef:i,...d}=e,p=PM(CM,a),y=V.useRef(null),c=Mo(t,y),A=V.useRef(null);return V.useEffect(()=>{const C=A.current;A.current=i?.current||y.current,C!==A.current&&p.onAnchorChange(A.current)}),i?null:se.jsx(bn.div,{...d,ref:c})});DM.displayName=CM;var O2="PopperContent",[A9,C9]=SM(O2),MM=V.forwardRef((e,t)=>{const{__scopePopper:a,side:i="bottom",sideOffset:d=0,align:p="center",alignOffset:y=0,arrowPadding:c=0,avoidCollisions:A=!0,collisionBoundary:C=[],collisionPadding:T=0,sticky:R="partial",hideWhenDetached:L=!1,updatePositionStrategy:U="optimized",onPlaced:q,...$}=e,W=PM(O2,a),[Y,X]=V.useState(null),te=Mo(t,Ut=>X(Ut)),[pe,de]=V.useState(null),ye=w9(pe),xe=ye?.width??0,Ie=ye?.height??0,lt=i+(p!=="center"?"-"+p:""),mt=typeof T=="number"?T:{top:0,right:0,bottom:0,left:0,...T},nt=Array.isArray(C)?C:[C],st=nt.length>0,Je={padding:mt,boundary:nt.filter(M9),altBoundary:st},{refs:wt,floatingStyles:Rt,placement:je,isPositioned:it,middlewareData:Ge}=f9({strategy:"fixed",placement:lt,whileElementsMounted:(...Ut)=>r9(...Ut,{animationFrame:U==="always"}),elements:{reference:W.anchor},middleware:[p9({mainAxis:d+Ie,alignmentAxis:y}),A&&m9({mainAxis:!0,crossAxis:!1,limiter:R==="partial"?y9():void 0,...Je}),A&&g9({...Je}),v9({...Je,apply:({elements:Ut,rects:Ft,availableWidth:xt,availableHeight:$t})=>{const{width:Nt,height:$e}=Ft.reference,jt=Ut.floating.style;jt.setProperty("--radix-popper-available-width",`${xt}px`),jt.setProperty("--radix-popper-available-height",`${$t}px`),jt.setProperty("--radix-popper-anchor-width",`${Nt}px`),jt.setProperty("--radix-popper-anchor-height",`${$e}px`)}}),pe&&b9({element:pe,padding:c}),T9({arrowWidth:xe,arrowHeight:Ie}),L&&_9({strategy:"referenceHidden",...Je})]}),[bt,Ce]=RM(je),ot=hm(q);dh(()=>{it&&ot?.()},[it,ot]);const ke=Ge.arrow?.x,et=Ge.arrow?.y,pt=Ge.arrow?.centerOffset!==0,[vt,Dt]=V.useState();return dh(()=>{Y&&Dt(window.getComputedStyle(Y).zIndex)},[Y]),se.jsx("div",{ref:wt.setFloating,"data-radix-popper-content-wrapper":"",style:{...Rt,transform:it?Rt.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:vt,"--radix-popper-transform-origin":[Ge.transformOrigin?.x,Ge.transformOrigin?.y].join(" "),...Ge.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:se.jsx(A9,{scope:a,placedSide:bt,onArrowChange:de,arrowX:ke,arrowY:et,shouldHideArrow:pt,children:se.jsx(bn.div,{"data-side":bt,"data-align":Ce,...$,ref:te,style:{...$.style,animation:it?void 0:"none"}})})})});MM.displayName=O2;var TM="PopperArrow",D9={top:"bottom",right:"left",bottom:"top",left:"right"},EM=V.forwardRef(function(t,a){const{__scopePopper:i,...d}=t,p=C9(TM,i),y=D9[p.placedSide];return se.jsx("span",{ref:p.onArrowChange,style:{position:"absolute",left:p.arrowX,top:p.arrowY,[y]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[p.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[p.placedSide],visibility:p.shouldHideArrow?"hidden":void 0},children:se.jsx(S9,{...d,ref:a,style:{...d.style,display:"block"}})})});EM.displayName=TM;function M9(e){return e!==null}var T9=e=>({name:"transformOrigin",options:e,fn(t){const{placement:a,rects:i,middlewareData:d}=t,y=d.arrow?.centerOffset!==0,c=y?0:e.arrowWidth,A=y?0:e.arrowHeight,[C,T]=RM(a),R={start:"0%",center:"50%",end:"100%"}[T],L=(d.arrow?.x??0)+c/2,U=(d.arrow?.y??0)+A/2;let q="",$="";return C==="bottom"?(q=y?R:`${L}px`,$=`${-A}px`):C==="top"?(q=y?R:`${L}px`,$=`${i.floating.height+A}px`):C==="right"?(q=`${-A}px`,$=y?R:`${U}px`):C==="left"&&(q=`${i.floating.width+A}px`,$=y?R:`${U}px`),{data:{x:q,y:$}}}});function RM(e){const[t,a="center"]=e.split("-");return[t,a]}var E9=AM,IM=DM,R9=MM,I9=EM,w1="Popover",[kM]=ap(w1,[wM]),Eg=wM(),[k9,Tf]=kM(w1),OM=e=>{const{__scopePopover:t,children:a,open:i,defaultOpen:d,onOpenChange:p,modal:y=!1}=e,c=Eg(t),A=V.useRef(null),[C,T]=V.useState(!1),[R,L]=Dg({prop:i,defaultProp:d??!1,onChange:p,caller:w1});return se.jsx(E9,{...c,children:se.jsx(k9,{scope:t,contentId:ul(),triggerRef:A,open:R,onOpenChange:L,onOpenToggle:V.useCallback(()=>L(U=>!U),[L]),hasCustomAnchor:C,onCustomAnchorAdd:V.useCallback(()=>T(!0),[]),onCustomAnchorRemove:V.useCallback(()=>T(!1),[]),modal:y,children:a})})};OM.displayName=w1;var UM="PopoverAnchor",O9=V.forwardRef((e,t)=>{const{__scopePopover:a,...i}=e,d=Tf(UM,a),p=Eg(a),{onCustomAnchorAdd:y,onCustomAnchorRemove:c}=d;return V.useEffect(()=>(y(),()=>c()),[y,c]),se.jsx(IM,{...p,...i,ref:t})});O9.displayName=UM;var LM="PopoverTrigger",zM=V.forwardRef((e,t)=>{const{__scopePopover:a,...i}=e,d=Tf(LM,a),p=Eg(a),y=Mo(t,d.triggerRef),c=se.jsx(bn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":d.open,"aria-controls":d.contentId,"data-state":qM(d.open),...i,ref:y,onClick:Co(e.onClick,d.onOpenToggle)});return d.hasCustomAnchor?c:se.jsx(IM,{asChild:!0,...p,children:c})});zM.displayName=LM;var U2="PopoverPortal",[U9,L9]=kM(U2,{forceMount:void 0}),FM=e=>{const{__scopePopover:t,forceMount:a,children:i,container:d}=e,p=Tf(U2,t);return se.jsx(U9,{scope:t,forceMount:a,children:se.jsx(ip,{present:a||p.open,children:se.jsx(x2,{asChild:!0,container:d,children:i})})})};FM.displayName=U2;var dm="PopoverContent",NM=V.forwardRef((e,t)=>{const a=L9(dm,e.__scopePopover),{forceMount:i=a.forceMount,...d}=e,p=Tf(dm,e.__scopePopover);return se.jsx(ip,{present:i||p.open,children:p.modal?se.jsx(F9,{...d,ref:t}):se.jsx(N9,{...d,ref:t})})});NM.displayName=dm;var z9=um("PopoverContent.RemoveScroll"),F9=V.forwardRef((e,t)=>{const a=Tf(dm,e.__scopePopover),i=V.useRef(null),d=Mo(t,i),p=V.useRef(!1);return V.useEffect(()=>{const y=i.current;if(y)return zD(y)},[]),se.jsx(S2,{as:z9,allowPinchZoom:!0,children:se.jsx(jM,{...e,ref:d,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Co(e.onCloseAutoFocus,y=>{y.preventDefault(),p.current||a.triggerRef.current?.focus()}),onPointerDownOutside:Co(e.onPointerDownOutside,y=>{const c=y.detail.originalEvent,A=c.button===0&&c.ctrlKey===!0,C=c.button===2||A;p.current=C},{checkForDefaultPrevented:!1}),onFocusOutside:Co(e.onFocusOutside,y=>y.preventDefault(),{checkForDefaultPrevented:!1})})})}),N9=V.forwardRef((e,t)=>{const a=Tf(dm,e.__scopePopover),i=V.useRef(!1),d=V.useRef(!1);return se.jsx(jM,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:p=>{e.onCloseAutoFocus?.(p),p.defaultPrevented||(i.current||a.triggerRef.current?.focus(),p.preventDefault()),i.current=!1,d.current=!1},onInteractOutside:p=>{e.onInteractOutside?.(p),p.defaultPrevented||(i.current=!0,p.detail.originalEvent.type==="pointerdown"&&(d.current=!0));const y=p.target;a.triggerRef.current?.contains(y)&&p.preventDefault(),p.detail.originalEvent.type==="focusin"&&d.current&&p.preventDefault()}})}),jM=V.forwardRef((e,t)=>{const{__scopePopover:a,trapFocus:i,onOpenAutoFocus:d,onCloseAutoFocus:p,disableOutsidePointerEvents:y,onEscapeKeyDown:c,onPointerDownOutside:A,onFocusOutside:C,onInteractOutside:T,...R}=e,L=Tf(dm,a),U=Eg(a);return MD(),se.jsx(b2,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:d,onUnmountAutoFocus:p,children:se.jsx(_2,{asChild:!0,disableOutsidePointerEvents:y,onInteractOutside:T,onEscapeKeyDown:c,onPointerDownOutside:A,onFocusOutside:C,onDismiss:()=>L.onOpenChange(!1),children:se.jsx(R9,{"data-state":qM(L.open),role:"dialog",id:L.contentId,...U,...R,ref:t,style:{...R.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),BM="PopoverClose",j9=V.forwardRef((e,t)=>{const{__scopePopover:a,...i}=e,d=Tf(BM,a);return se.jsx(bn.button,{type:"button",...i,ref:t,onClick:Co(e.onClick,()=>d.onOpenChange(!1))})});j9.displayName=BM;var B9="PopoverArrow",q9=V.forwardRef((e,t)=>{const{__scopePopover:a,...i}=e,d=Eg(a);return se.jsx(I9,{...d,...i,ref:t})});q9.displayName=B9;function qM(e){return e?"open":"closed"}var $9=OM,H9=zM,V9=FM,W9=NM;function G9({...e}){return se.jsx($9,{"data-slot":"popover",...e})}function Z9({...e}){return se.jsx(H9,{"data-slot":"popover-trigger",...e})}function Y9({className:e,align:t="center",sideOffset:a=4,...i}){return se.jsx(V9,{children:se.jsx(W9,{"data-slot":"popover-content",align:t,sideOffset:a,className:xn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...i})})}function Q9({data:e,onSelect:t}){const[a,i]=V.useState(!1),[d,p]=V.useState("");let y=e.sort((c,A)=>c.Country.localeCompare(A.Country));return se.jsxs(G9,{open:a,onOpenChange:i,children:[se.jsx(Z9,{asChild:!0,children:se.jsxs(ug,{variant:"outline",role:"combobox","aria-expanded":a,className:"w-[150px] justify-between bg-transparent text-xs p-2",children:[d?y.find(c=>c.Country_clean===d)?.Country:"Select country...",se.jsx(tI,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),se.jsx(Y9,{className:"w-[200px] p-0",children:se.jsxs(i7,{children:[se.jsx(o7,{placeholder:"Search country..."}),se.jsxs(s7,{children:[se.jsx(l7,{children:"No country found."}),se.jsx(c7,{children:y.map(c=>se.jsxs(u7,{value:c.Country_clean,onSelect:A=>{p(A),t(A),i(!1)},children:[se.jsx(XR,{className:xn("mr-2 h-4 w-4",d===c.Country_clean?"opacity-100":"opacity-0")}),c.Country]},c.Country_clean))})]})]})})]})}var bv={exports:{}};/**
 * MapLibre GL JS
 * @license 3-Clause BSD. Full text of license: https://github.com/maplibre/maplibre-gl-js/blob/v5.7.3/LICENSE.txt
 */var X9=bv.exports,yP;function K9(){return yP||(yP=1,(function(e,t){(function(a,i){e.exports=i()})(X9,(function(){var a={},i={};function d(y,c,A){if(i[y]=A,y==="index"){var C="var sharedModule = {}; ("+i.shared+")(sharedModule); ("+i.worker+")(sharedModule);",T={};return i.shared(T),i.index(a,T),typeof window<"u"&&a.setWorkerUrl(window.URL.createObjectURL(new Blob([C],{type:"text/javascript"}))),a}}d("shared",["exports"],(function(y){function c(l,n,s,f){return new(s||(s=Promise))((function(v,S){function P(z){try{I(f.next(z))}catch(j){S(j)}}function M(z){try{I(f.throw(z))}catch(j){S(j)}}function I(z){var j;z.done?v(z.value):(j=z.value,j instanceof s?j:new s((function(H){H(j)}))).then(P,M)}I((f=f.apply(l,n||[])).next())}))}function A(l,n){this.x=l,this.y=n}function C(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var T,R;typeof SuppressedError=="function"&&SuppressedError,A.prototype={clone(){return new A(this.x,this.y)},add(l){return this.clone()._add(l)},sub(l){return this.clone()._sub(l)},multByPoint(l){return this.clone()._multByPoint(l)},divByPoint(l){return this.clone()._divByPoint(l)},mult(l){return this.clone()._mult(l)},div(l){return this.clone()._div(l)},rotate(l){return this.clone()._rotate(l)},rotateAround(l,n){return this.clone()._rotateAround(l,n)},matMult(l){return this.clone()._matMult(l)},unit(){return this.clone()._unit()},perp(){return this.clone()._perp()},round(){return this.clone()._round()},mag(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals(l){return this.x===l.x&&this.y===l.y},dist(l){return Math.sqrt(this.distSqr(l))},distSqr(l){const n=l.x-this.x,s=l.y-this.y;return n*n+s*s},angle(){return Math.atan2(this.y,this.x)},angleTo(l){return Math.atan2(this.y-l.y,this.x-l.x)},angleWith(l){return this.angleWithSep(l.x,l.y)},angleWithSep(l,n){return Math.atan2(this.x*n-this.y*l,this.x*l+this.y*n)},_matMult(l){const n=l[2]*this.x+l[3]*this.y;return this.x=l[0]*this.x+l[1]*this.y,this.y=n,this},_add(l){return this.x+=l.x,this.y+=l.y,this},_sub(l){return this.x-=l.x,this.y-=l.y,this},_mult(l){return this.x*=l,this.y*=l,this},_div(l){return this.x/=l,this.y/=l,this},_multByPoint(l){return this.x*=l.x,this.y*=l.y,this},_divByPoint(l){return this.x/=l.x,this.y/=l.y,this},_unit(){return this._div(this.mag()),this},_perp(){const l=this.y;return this.y=this.x,this.x=-l,this},_rotate(l){const n=Math.cos(l),s=Math.sin(l),f=s*this.x+n*this.y;return this.x=n*this.x-s*this.y,this.y=f,this},_rotateAround(l,n){const s=Math.cos(l),f=Math.sin(l),v=n.y+f*(this.x-n.x)+s*(this.y-n.y);return this.x=n.x+s*(this.x-n.x)-f*(this.y-n.y),this.y=v,this},_round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},constructor:A},A.convert=function(l){if(l instanceof A)return l;if(Array.isArray(l))return new A(+l[0],+l[1]);if(l.x!==void 0&&l.y!==void 0)return new A(+l.x,+l.y);throw new Error("Expected [x, y] or {x, y} point format")};var L=(function(){if(R)return T;function l(n,s,f,v){this.cx=3*n,this.bx=3*(f-n)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*s,this.by=3*(v-s)-this.cy,this.ay=1-this.cy-this.by,this.p1x=n,this.p1y=s,this.p2x=f,this.p2y=v}return R=1,T=l,l.prototype={sampleCurveX:function(n){return((this.ax*n+this.bx)*n+this.cx)*n},sampleCurveY:function(n){return((this.ay*n+this.by)*n+this.cy)*n},sampleCurveDerivativeX:function(n){return(3*this.ax*n+2*this.bx)*n+this.cx},solveCurveX:function(n,s){if(s===void 0&&(s=1e-6),n<0)return 0;if(n>1)return 1;for(var f=n,v=0;v<8;v++){var S=this.sampleCurveX(f)-n;if(Math.abs(S)<s)return f;var P=this.sampleCurveDerivativeX(f);if(Math.abs(P)<1e-6)break;f-=S/P}var M=0,I=1;for(f=n,v=0;v<20&&(S=this.sampleCurveX(f),!(Math.abs(S-n)<s));v++)n>S?M=f:I=f,f=.5*(I-M)+M;return f},solve:function(n,s){return this.sampleCurveY(this.solveCurveX(n,s))}},T})(),U=C(L);let q,$;function W(){return q==null&&(q=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),q}function Y(){if($==null&&($=!1,W())){const n=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(n){for(let f=0;f<25;f++){const v=4*f;n.fillStyle=`rgb(${v},${v+1},${v+2})`,n.fillRect(f%5,Math.floor(f/5),1,1)}const s=n.getImageData(0,0,5,5).data;for(let f=0;f<100;f++)if(f%4!=3&&s[f]!==f){$=!0;break}}}return $||!1}var X=1e-6,te=typeof Float32Array<"u"?Float32Array:Array;function pe(){var l=new te(9);return te!=Float32Array&&(l[1]=0,l[2]=0,l[3]=0,l[5]=0,l[6]=0,l[7]=0),l[0]=1,l[4]=1,l[8]=1,l}function de(l){return l[0]=1,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=1,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=1,l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1,l}function ye(){var l=new te(3);return te!=Float32Array&&(l[0]=0,l[1]=0,l[2]=0),l}function xe(l){var n=l[0],s=l[1],f=l[2];return Math.sqrt(n*n+s*s+f*f)}function Ie(l,n,s){var f=new te(3);return f[0]=l,f[1]=n,f[2]=s,f}function lt(l,n,s){return l[0]=n[0]+s[0],l[1]=n[1]+s[1],l[2]=n[2]+s[2],l}function mt(l,n,s){return l[0]=n[0]*s,l[1]=n[1]*s,l[2]=n[2]*s,l}function nt(l,n,s){var f=n[0],v=n[1],S=n[2],P=s[0],M=s[1],I=s[2];return l[0]=v*I-S*M,l[1]=S*P-f*I,l[2]=f*M-v*P,l}var st,Je=xe;function wt(l,n,s){var f=n[0],v=n[1],S=n[2],P=n[3];return l[0]=s[0]*f+s[4]*v+s[8]*S+s[12]*P,l[1]=s[1]*f+s[5]*v+s[9]*S+s[13]*P,l[2]=s[2]*f+s[6]*v+s[10]*S+s[14]*P,l[3]=s[3]*f+s[7]*v+s[11]*S+s[15]*P,l}function Rt(){var l=new te(4);return te!=Float32Array&&(l[0]=0,l[1]=0,l[2]=0),l[3]=1,l}function je(l,n,s,f){var v=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"zyx",S=Math.PI/360;n*=S,f*=S,s*=S;var P=Math.sin(n),M=Math.cos(n),I=Math.sin(s),z=Math.cos(s),j=Math.sin(f),H=Math.cos(f);switch(v){case"xyz":l[0]=P*z*H+M*I*j,l[1]=M*I*H-P*z*j,l[2]=M*z*j+P*I*H,l[3]=M*z*H-P*I*j;break;case"xzy":l[0]=P*z*H-M*I*j,l[1]=M*I*H-P*z*j,l[2]=M*z*j+P*I*H,l[3]=M*z*H+P*I*j;break;case"yxz":l[0]=P*z*H+M*I*j,l[1]=M*I*H-P*z*j,l[2]=M*z*j-P*I*H,l[3]=M*z*H+P*I*j;break;case"yzx":l[0]=P*z*H+M*I*j,l[1]=M*I*H+P*z*j,l[2]=M*z*j-P*I*H,l[3]=M*z*H-P*I*j;break;case"zxy":l[0]=P*z*H-M*I*j,l[1]=M*I*H+P*z*j,l[2]=M*z*j+P*I*H,l[3]=M*z*H-P*I*j;break;case"zyx":l[0]=P*z*H-M*I*j,l[1]=M*I*H+P*z*j,l[2]=M*z*j-P*I*H,l[3]=M*z*H+P*I*j;break;default:throw new Error("Unknown angle order "+v)}return l}function it(){var l=new te(2);return te!=Float32Array&&(l[0]=0,l[1]=0),l}function Ge(l,n){var s=new te(2);return s[0]=l,s[1]=n,s}ye(),st=new te(4),te!=Float32Array&&(st[0]=0,st[1]=0,st[2]=0,st[3]=0),ye(),Ie(1,0,0),Ie(0,1,0),Rt(),Rt(),pe(),it();const bt=8192;function Ce(l,n,s){return n*(bt/(l.tileSize*Math.pow(2,s-l.tileID.overscaledZ)))}function ot(l,n){return(l%n+n)%n}function ke(l,n,s){return l*(1-s)+n*s}function et(l){if(l<=0)return 0;if(l>=1)return 1;const n=l*l,s=n*l;return 4*(l<.5?s:3*(l-n)+s-.75)}function pt(l,n,s,f){const v=new U(l,n,s,f);return S=>v.solve(S)}const vt=pt(.25,.1,.25,1);function Dt(l,n,s){return Math.min(s,Math.max(n,l))}function Ut(l,n,s){const f=s-n,v=((l-n)%f+f)%f+n;return v===n?s:v}function Ft(l,...n){for(const s of n)for(const f in s)l[f]=s[f];return l}let xt=1;function $t(l,n,s){const f={};for(const v in l)f[v]=n.call(this,l[v],v,l);return f}function Nt(l,n,s){const f={};for(const v in l)n.call(this,l[v],v,l)&&(f[v]=l[v]);return f}function $e(l){return Array.isArray(l)?l.map($e):typeof l=="object"&&l?$t(l,$e):l}const jt={};function Bt(l){jt[l]||(typeof console<"u"&&console.warn(l),jt[l]=!0)}function Sr(l,n,s){return(s.y-l.y)*(n.x-l.x)>(n.y-l.y)*(s.x-l.x)}function Rr(l){return typeof WorkerGlobalScope<"u"&&l!==void 0&&l instanceof WorkerGlobalScope}let Lr=null;function Bn(l){return typeof ImageBitmap<"u"&&l instanceof ImageBitmap}const Kn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Wa(l,n,s,f,v){return c(this,void 0,void 0,(function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const S=new VideoFrame(l,{timestamp:0});try{const P=S?.format;if(!P||!P.startsWith("BGR")&&!P.startsWith("RGB"))throw new Error(`Unrecognized format ${P}`);const M=P.startsWith("BGR"),I=new Uint8ClampedArray(f*v*4);if(yield S.copyTo(I,(function(z,j,H,Q,ee){const re=4*Math.max(-j,0),oe=(Math.max(0,H)-H)*Q*4+re,ue=4*Q,ge=Math.max(0,j),Fe=Math.max(0,H);return{rect:{x:ge,y:Fe,width:Math.min(z.width,j+Q)-ge,height:Math.min(z.height,H+ee)-Fe},layout:[{offset:oe,stride:ue}]}})(l,n,s,f,v)),M)for(let z=0;z<I.length;z+=4){const j=I[z];I[z]=I[z+2],I[z+2]=j}return I}finally{S.close()}}))}let xa,Gi;function Ti(l,n,s,f){return l.addEventListener(n,s,f),{unsubscribe:()=>{l.removeEventListener(n,s,f)}}}function To(l){return l*Math.PI/180}function no(l){return l/Math.PI*180}const di={touchstart:!0,touchmove:!0,touchmoveWindow:!0,touchend:!0,touchcancel:!0},Dn={dblclick:!0,click:!0,mouseover:!0,mouseout:!0,mousedown:!0,mousemove:!0,mousemoveWindow:!0,mouseup:!0,mouseupWindow:!0,contextmenu:!0,wheel:!0},Ga="AbortError";function Re(){return new Error(Ga)}const ne={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function ae(l){return ne.REGISTERED_PROTOCOLS[l.substring(0,l.indexOf("://"))]}const ce="global-dispatcher";class Se extends Error{constructor(n,s,f,v){super(`AJAXError: ${s} (${n}): ${f}`),this.status=n,this.statusText=s,this.url=f,this.body=v}}const De=()=>Rr(self)?self.worker&&self.worker.referrer:(window.location.protocol==="blob:"?window.parent:window).location.href,Oe=function(l,n){if(/:\/\//.test(l.url)&&!/^https?:|^file:/.test(l.url)){const f=ae(l.url);if(f)return f(l,n);if(Rr(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:l,targetMapId:ce},n)}if(!(/^file:/.test(s=l.url)||/^file:/.test(De())&&!/^\w+:/.test(s))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return(function(f,v){return c(this,void 0,void 0,(function*(){const S=new Request(f.url,{method:f.method||"GET",body:f.body,credentials:f.credentials,headers:f.headers,cache:f.cache,referrer:De(),signal:v.signal});let P,M;f.type!=="json"||S.headers.has("Accept")||S.headers.set("Accept","application/json");try{P=yield fetch(S)}catch(z){throw new Se(0,z.message,f.url,new Blob)}if(!P.ok){const z=yield P.blob();throw new Se(P.status,P.statusText,f.url,z)}M=f.type==="arrayBuffer"||f.type==="image"?P.arrayBuffer():f.type==="json"?P.json():P.text();const I=yield M;if(v.signal.aborted)throw Re();return{data:I,cacheControl:P.headers.get("Cache-Control"),expires:P.headers.get("Expires")}}))})(l,n);if(Rr(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:l,mustQueue:!0,targetMapId:ce},n)}var s;return(function(f,v){return new Promise(((S,P)=>{var M;const I=new XMLHttpRequest;I.open(f.method||"GET",f.url,!0),f.type!=="arrayBuffer"&&f.type!=="image"||(I.responseType="arraybuffer");for(const z in f.headers)I.setRequestHeader(z,f.headers[z]);f.type==="json"&&(I.responseType="text",!((M=f.headers)===null||M===void 0)&&M.Accept||I.setRequestHeader("Accept","application/json")),I.withCredentials=f.credentials==="include",I.onerror=()=>{P(new Error(I.statusText))},I.onload=()=>{if(!v.signal.aborted)if((I.status>=200&&I.status<300||I.status===0)&&I.response!==null){let z=I.response;if(f.type==="json")try{z=JSON.parse(I.response)}catch(j){return void P(j)}S({data:z,cacheControl:I.getResponseHeader("Cache-Control"),expires:I.getResponseHeader("Expires")})}else{const z=new Blob([I.response],{type:I.getResponseHeader("Content-Type")});P(new Se(I.status,I.statusText,f.url,z))}},v.signal.addEventListener("abort",(()=>{I.abort(),P(Re())})),I.send(f.body)}))})(l,n)};function We(l){if(!l||l.indexOf("://")<=0||l.indexOf("data:image/")===0||l.indexOf("blob:")===0)return!0;const n=new URL(l),s=window.location;return n.protocol===s.protocol&&n.host===s.host}function Le(l,n,s){s[l]&&s[l].indexOf(n)!==-1||(s[l]=s[l]||[],s[l].push(n))}function at(l,n,s){if(s&&s[l]){const f=s[l].indexOf(n);f!==-1&&s[l].splice(f,1)}}class St{constructor(n,s={}){Ft(this,s),this.type=n}}class ht extends St{constructor(n,s={}){super("error",Ft({error:n},s))}}class zt{on(n,s){return this._listeners=this._listeners||{},Le(n,s,this._listeners),{unsubscribe:()=>{this.off(n,s)}}}off(n,s){return at(n,s,this._listeners),at(n,s,this._oneTimeListeners),this}once(n,s){return s?(this._oneTimeListeners=this._oneTimeListeners||{},Le(n,s,this._oneTimeListeners),this):new Promise((f=>this.once(n,f)))}fire(n,s){typeof n=="string"&&(n=new St(n,s||{}));const f=n.type;if(this.listens(f)){n.target=this;const v=this._listeners&&this._listeners[f]?this._listeners[f].slice():[];for(const M of v)M.call(this,n);const S=this._oneTimeListeners&&this._oneTimeListeners[f]?this._oneTimeListeners[f].slice():[];for(const M of S)at(f,M,this._oneTimeListeners),M.call(this,n);const P=this._eventedParent;P&&(Ft(n,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),P.fire(n))}else n instanceof ht&&console.error(n.error);return this}listens(n){return this._listeners&&this._listeners[n]&&this._listeners[n].length>0||this._oneTimeListeners&&this._oneTimeListeners[n]&&this._oneTimeListeners[n].length>0||this._eventedParent&&this._eventedParent.listens(n)}setEventedParent(n,s){return this._eventedParent=n,this._eventedParentData=s,this}}var ze={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},centerAltitude:{type:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},roll:{type:"number",default:0,units:"degrees"},state:{type:"state",default:{}},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},"font-faces":{type:"array",value:"fontFaces"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},"color-relief":{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_color-relief","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_color-relief":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},projection:{type:{type:"projectionDefinition",default:"mercator","property-type":"data-constant",transition:!1,expression:{interpolated:!0,parameters:["zoom"]}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_color-relief","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"numberArray",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-altitude":{type:"numberArray",default:45,minimum:0,maximum:90,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"colorArray",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"colorArray",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-method":{type:"enum",values:{standard:{},basic:{},combined:{},igor:{},multidirectional:{}},default:"standard",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},"paint_color-relief":{"color-relief-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"color-relief-color":{type:"color",transition:!1,expression:{interpolated:!0,parameters:["elevation"]},"property-type":"color-ramp"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const ir=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function br(l,n){const s={};for(const f in l)f!=="ref"&&(s[f]=l[f]);return ir.forEach((f=>{f in n&&(s[f]=n[f])})),s}function Gt(l,n){if(Array.isArray(l)){if(!Array.isArray(n)||l.length!==n.length)return!1;for(let s=0;s<l.length;s++)if(!Gt(l[s],n[s]))return!1;return!0}if(typeof l=="object"&&l!==null&&n!==null){if(typeof n!="object"||Object.keys(l).length!==Object.keys(n).length)return!1;for(const s in l)if(!Gt(l[s],n[s]))return!1;return!0}return l===n}function or(l,n){l.push(n)}function Br(l,n,s){or(s,{command:"addSource",args:[l,n[l]]})}function Jn(l,n,s){or(n,{command:"removeSource",args:[l]}),s[l]=!0}function aa(l,n,s,f){Jn(l,s,f),Br(l,n,s)}function Qr(l,n,s){let f;for(f in l[s])if(Object.prototype.hasOwnProperty.call(l[s],f)&&f!=="data"&&!Gt(l[s][f],n[s][f]))return!1;for(f in n[s])if(Object.prototype.hasOwnProperty.call(n[s],f)&&f!=="data"&&!Gt(l[s][f],n[s][f]))return!1;return!0}function rr(l,n,s,f,v,S){l=l||{},n=n||{};for(const P in l)Object.prototype.hasOwnProperty.call(l,P)&&(Gt(l[P],n[P])||s.push({command:S,args:[f,P,n[P],v]}));for(const P in n)Object.prototype.hasOwnProperty.call(n,P)&&!Object.prototype.hasOwnProperty.call(l,P)&&(Gt(l[P],n[P])||s.push({command:S,args:[f,P,n[P],v]}))}function sr(l){return l.id}function pn(l,n){return l[n.id]=n,l}class Pt{constructor(n,s,f,v){this.message=(n?`${n}: `:"")+f,v&&(this.identifier=v),s!=null&&s.__line__&&(this.line=s.__line__)}}function ka(l,...n){for(const s of n)for(const f in s)l[f]=s[f];return l}class Mn extends Error{constructor(n,s){super(s),this.message=s,this.key=n}}class Jo{constructor(n,s=[]){this.parent=n,this.bindings={};for(const[f,v]of s)this.bindings[f]=v}concat(n){return new Jo(this,n)}get(n){if(this.bindings[n])return this.bindings[n];if(this.parent)return this.parent.get(n);throw new Error(`${n} not found in scope.`)}has(n){return!!this.bindings[n]||!!this.parent&&this.parent.has(n)}}const Eo={kind:"null"},Ot={kind:"number"},mr={kind:"string"},ur={kind:"boolean"},qn={kind:"color"},Zi={kind:"projectionDefinition"},mn={kind:"object"},yr={kind:"value"},pu={kind:"collator"},pi={kind:"formatted"},es={kind:"padding"},Ro={kind:"colorArray"},ml={kind:"numberArray"},Tn={kind:"resolvedImage"},Ch={kind:"variableAnchorOffsetCollection"};function Sa(l,n){return{kind:"array",itemType:l,N:n}}function qr(l){if(l.kind==="array"){const n=qr(l.itemType);return typeof l.N=="number"?`array<${n}, ${l.N}>`:l.itemType.kind==="value"?"array":`array<${n}>`}return l.kind}const Io=[Eo,Ot,mr,ur,qn,Zi,pi,mn,Sa(yr),es,ml,Ro,Tn,Ch];function yl(l,n){if(n.kind==="error")return null;if(l.kind==="array"){if(n.kind==="array"&&(n.N===0&&n.itemType.kind==="value"||!yl(l.itemType,n.itemType))&&(typeof l.N!="number"||l.N===n.N))return null}else{if(l.kind===n.kind)return null;if(l.kind==="value"){for(const s of Io)if(!yl(s,n))return null}}return`Expected ${qr(l)} but found ${qr(n)} instead.`}function Dh(l,n){return n.some((s=>s.kind===l.kind))}function Ei(l,n){return n.some((s=>s==="null"?l===null:s==="array"?Array.isArray(l):s==="object"?l&&!Array.isArray(l)&&typeof l=="object":s===typeof l))}function ko(l,n){return l.kind==="array"&&n.kind==="array"?l.itemType.kind===n.itemType.kind&&typeof l.N=="number":l.kind===n.kind}const mu=.96422,up=.82521,kf=4/29,wa=6/29,Of=3*wa*wa,jm=wa*wa*wa,Mh=Math.PI/180,hp=180/Math.PI;function gc(l){return(l%=360)<0&&(l+=360),l}function vc([l,n,s,f]){let v,S;const P=yu((.2225045*(l=mi(l))+.7168786*(n=mi(n))+.0606169*(s=mi(s)))/1);l===n&&n===s?v=S=P:(v=yu((.4360747*l+.3850649*n+.1430804*s)/mu),S=yu((.0139322*l+.0971045*n+.7141733*s)/up));const M=116*P-16;return[M<0?0:M,500*(v-P),200*(P-S),f]}function mi(l){return l<=.04045?l/12.92:Math.pow((l+.055)/1.055,2.4)}function yu(l){return l>jm?Math.pow(l,1/3):l/Of+kf}function gl([l,n,s,f]){let v=(l+16)/116,S=isNaN(n)?v:v+n/500,P=isNaN(s)?v:v-s/200;return v=1*Ls(v),S=mu*Ls(S),P=up*Ls(P),[gu(3.1338561*S-1.6168667*v-.4906146*P),gu(-.9787684*S+1.9161415*v+.033454*P),gu(.0719453*S-.2289914*v+1.4052427*P),f]}function gu(l){return(l=l<=.00304?12.92*l:1.055*Math.pow(l,1/2.4)-.055)<0?0:l>1?1:l}function Ls(l){return l>wa?l*l*l:Of*(l-kf)}const fp=Object.hasOwn||function(l,n){return Object.prototype.hasOwnProperty.call(l,n)};function vl(l,n){return fp(l,n)?l[n]:void 0}function Oo(l){return parseInt(l.padEnd(2,l),16)/255}function ao(l,n){return xr(n?l/100:l,0,1)}function xr(l,n,s){return Math.min(Math.max(n,l),s)}function zs(l){return!l.some(Number.isNaN)}const Uo={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};function ts(l,n,s){return l+s*(n-l)}function _l(l,n,s){return l.map(((f,v)=>ts(f,n[v],s)))}class _r{constructor(n,s,f,v=1,S=!0){this.r=n,this.g=s,this.b=f,this.a=v,S||(this.r*=v,this.g*=v,this.b*=v,v||this.overwriteGetter("rgb",[n,s,f,v]))}static parse(n){if(n instanceof _r)return n;if(typeof n!="string")return;const s=(function(f){if((f=f.toLowerCase().trim())==="transparent")return[0,0,0,0];const v=vl(Uo,f);if(v){const[P,M,I]=v;return[P/255,M/255,I/255,1]}if(f.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(f)){const P=f.length<6?1:2;let M=1;return[Oo(f.slice(M,M+=P)),Oo(f.slice(M,M+=P)),Oo(f.slice(M,M+=P)),Oo(f.slice(M,M+P)||"ff")]}if(f.startsWith("rgb")){const P=f.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(P){const[M,I,z,j,H,Q,ee,re,oe,ue,ge,Fe]=P,Pe=[j||" ",ee||" ",ue].join("");if(Pe==="  "||Pe==="  /"||Pe===",,"||Pe===",,,"){const Te=[z,Q,oe].join(""),Ze=Te==="%%%"?100:Te===""?255:0;if(Ze){const tt=[xr(+I/Ze,0,1),xr(+H/Ze,0,1),xr(+re/Ze,0,1),ge?ao(+ge,Fe):1];if(zs(tt))return tt}}return}}const S=f.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(S){const[P,M,I,z,j,H,Q,ee,re]=S,oe=[I||" ",j||" ",Q].join("");if(oe==="  "||oe==="  /"||oe===",,"||oe===",,,"){const ue=[+M,xr(+z,0,100),xr(+H,0,100),ee?ao(+ee,re):1];if(zs(ue))return(function([ge,Fe,Pe,Te]){function Ze(tt){const yt=(tt+ge/30)%12,It=Fe*Math.min(Pe,1-Pe);return Pe-It*Math.max(-1,Math.min(yt-3,9-yt,1))}return ge=gc(ge),Fe/=100,Pe/=100,[Ze(0),Ze(8),Ze(4),Te]})(ue)}}})(n);return s?new _r(...s,!1):void 0}get rgb(){const{r:n,g:s,b:f,a:v}=this,S=v||1/0;return this.overwriteGetter("rgb",[n/S,s/S,f/S,v])}get hcl(){return this.overwriteGetter("hcl",(function(n){const[s,f,v,S]=vc(n),P=Math.sqrt(f*f+v*v);return[Math.round(1e4*P)?gc(Math.atan2(v,f)*hp):NaN,P,s,S]})(this.rgb))}get lab(){return this.overwriteGetter("lab",vc(this.rgb))}overwriteGetter(n,s){return Object.defineProperty(this,n,{value:s}),s}toString(){const[n,s,f,v]=this.rgb;return`rgba(${[n,s,f].map((S=>Math.round(255*S))).join(",")},${v})`}static interpolate(n,s,f,v="rgb"){switch(v){case"rgb":{const[S,P,M,I]=_l(n.rgb,s.rgb,f);return new _r(S,P,M,I,!1)}case"hcl":{const[S,P,M,I]=n.hcl,[z,j,H,Q]=s.hcl;let ee,re;if(isNaN(S)||isNaN(z))isNaN(S)?isNaN(z)?ee=NaN:(ee=z,M!==1&&M!==0||(re=j)):(ee=S,H!==1&&H!==0||(re=P));else{let Pe=z-S;z>S&&Pe>180?Pe-=360:z<S&&S-z>180&&(Pe+=360),ee=S+f*Pe}const[oe,ue,ge,Fe]=(function([Pe,Te,Ze,tt]){return Pe=isNaN(Pe)?0:Pe*Mh,gl([Ze,Math.cos(Pe)*Te,Math.sin(Pe)*Te,tt])})([ee,re??ts(P,j,f),ts(M,H,f),ts(I,Q,f)]);return new _r(oe,ue,ge,Fe,!1)}case"lab":{const[S,P,M,I]=gl(_l(n.lab,s.lab,f));return new _r(S,P,M,I,!1)}}}}_r.black=new _r(0,0,0,1),_r.white=new _r(1,1,1,1),_r.transparent=new _r(0,0,0,0),_r.red=new _r(1,0,0,1);class rs{constructor(n,s,f){this.sensitivity=n?s?"variant":"case":s?"accent":"base",this.locale=f,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(n,s){return this.collator.compare(n,s)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}const _c=["bottom","center","top"];class ns{constructor(n,s,f,v,S,P){this.text=n,this.image=s,this.scale=f,this.fontStack=v,this.textColor=S,this.verticalAlign=P}}class ea{constructor(n){this.sections=n}static fromString(n){return new ea([new ns(n,null,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some((n=>n.text.length!==0||n.image&&n.image.name.length!==0))}static factory(n){return n instanceof ea?n:ea.fromString(n)}toString(){return this.sections.length===0?"":this.sections.map((n=>n.text)).join("")}}class ia{constructor(n){this.values=n.slice()}static parse(n){if(n instanceof ia)return n;if(typeof n=="number")return new ia([n,n,n,n]);if(Array.isArray(n)&&!(n.length<1||n.length>4)){for(const s of n)if(typeof s!="number")return;switch(n.length){case 1:n=[n[0],n[0],n[0],n[0]];break;case 2:n=[n[0],n[1],n[0],n[1]];break;case 3:n=[n[0],n[1],n[2],n[1]]}return new ia(n)}}toString(){return JSON.stringify(this.values)}static interpolate(n,s,f){return new ia(_l(n.values,s.values,f))}}class Pa{constructor(n){this.values=n.slice()}static parse(n){if(n instanceof Pa)return n;if(typeof n=="number")return new Pa([n]);if(Array.isArray(n)){for(const s of n)if(typeof s!="number")return;return new Pa(n)}}toString(){return JSON.stringify(this.values)}static interpolate(n,s,f){return new Pa(_l(n.values,s.values,f))}}class $n{constructor(n){this.values=n.slice()}static parse(n){if(n instanceof $n)return n;if(typeof n=="string"){const f=_r.parse(n);return f?new $n([f]):void 0}if(!Array.isArray(n))return;const s=[];for(const f of n){if(typeof f!="string")return;const v=_r.parse(f);if(!v)return;s.push(v)}return new $n(s)}toString(){return JSON.stringify(this.values)}static interpolate(n,s,f,v="rgb"){const S=[];if(n.values.length!=s.values.length)throw new Error(`colorArray: Arrays have mismatched length (${n.values.length} vs. ${s.values.length}), cannot interpolate.`);for(let P=0;P<n.values.length;P++)S.push(_r.interpolate(n.values[P],s.values[P],f,v));return new $n(S)}}class Nr extends Error{constructor(n){super(n),this.name="RuntimeError"}toJSON(){return this.message}}const Lo=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class Aa{constructor(n){this.values=n.slice()}static parse(n){if(n instanceof Aa)return n;if(Array.isArray(n)&&!(n.length<1)&&n.length%2==0){for(let s=0;s<n.length;s+=2){const f=n[s],v=n[s+1];if(typeof f!="string"||!Lo.has(f)||!Array.isArray(v)||v.length!==2||typeof v[0]!="number"||typeof v[1]!="number")return}return new Aa(n)}}toString(){return JSON.stringify(this.values)}static interpolate(n,s,f){const v=n.values,S=s.values;if(v.length!==S.length)throw new Nr(`Cannot interpolate values of different length. from: ${n.toString()}, to: ${s.toString()}`);const P=[];for(let M=0;M<v.length;M+=2){if(v[M]!==S[M])throw new Nr(`Cannot interpolate values containing mismatched anchors. from[${M}]: ${v[M]}, to[${M}]: ${S[M]}`);P.push(v[M]);const[I,z]=v[M+1],[j,H]=S[M+1];P.push([ts(I,j,f),ts(z,H,f)])}return new Aa(P)}}class Ca{constructor(n){this.name=n.name,this.available=n.available}toString(){return this.name}static fromString(n){return n?new Ca({name:n,available:!1}):null}}class En{constructor(n,s,f){this.from=n,this.to=s,this.transition=f}static interpolate(n,s,f){return new En(n,s,f)}static parse(n){return n instanceof En?n:Array.isArray(n)&&n.length===3&&typeof n[0]=="string"&&typeof n[1]=="string"&&typeof n[2]=="number"?new En(n[0],n[1],n[2]):typeof n=="object"&&typeof n.from=="string"&&typeof n.to=="string"&&typeof n.transition=="number"?new En(n.from,n.to,n.transition):typeof n=="string"?new En(n,n,1):void 0}}function Xr(l,n,s,f){return typeof l=="number"&&l>=0&&l<=255&&typeof n=="number"&&n>=0&&n<=255&&typeof s=="number"&&s>=0&&s<=255?f===void 0||typeof f=="number"&&f>=0&&f<=1?null:`Invalid rgba value [${[l,n,s,f].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof f=="number"?[l,n,s,f]:[l,n,s]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function zo(l){if(l===null||typeof l=="string"||typeof l=="boolean"||typeof l=="number"||l instanceof En||l instanceof _r||l instanceof rs||l instanceof ea||l instanceof ia||l instanceof Pa||l instanceof $n||l instanceof Aa||l instanceof Ca)return!0;if(Array.isArray(l)){for(const n of l)if(!zo(n))return!1;return!0}if(typeof l=="object"){for(const n in l)if(!zo(l[n]))return!1;return!0}return!1}function tr(l){if(l===null)return Eo;if(typeof l=="string")return mr;if(typeof l=="boolean")return ur;if(typeof l=="number")return Ot;if(l instanceof _r)return qn;if(l instanceof En)return Zi;if(l instanceof rs)return pu;if(l instanceof ea)return pi;if(l instanceof ia)return es;if(l instanceof Pa)return ml;if(l instanceof $n)return Ro;if(l instanceof Aa)return Ch;if(l instanceof Ca)return Tn;if(Array.isArray(l)){const n=l.length;let s;for(const f of l){const v=tr(f);if(s){if(s===v)continue;s=yr;break}s=v}return Sa(s||yr,n)}return mn}function lr(l){const n=typeof l;return l===null?"":n==="string"||n==="number"||n==="boolean"?String(l):l instanceof _r||l instanceof En||l instanceof ea||l instanceof ia||l instanceof Pa||l instanceof $n||l instanceof Aa||l instanceof Ca?l.toString():JSON.stringify(l)}class Yi{constructor(n,s){this.type=n,this.value=s}static parse(n,s){if(n.length!==2)return s.error(`'literal' expression requires exactly one argument, but found ${n.length-1} instead.`);if(!zo(n[1]))return s.error("invalid value");const f=n[1];let v=tr(f);const S=s.expectedType;return v.kind!=="array"||v.N!==0||!S||S.kind!=="array"||typeof S.N=="number"&&S.N!==0||(v=S),new Yi(v,f)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}const Dr={string:mr,number:Ot,boolean:ur,object:mn};class cn{constructor(n,s){this.type=n,this.args=s}static parse(n,s){if(n.length<2)return s.error("Expected at least one argument.");let f,v=1;const S=n[0];if(S==="array"){let M,I;if(n.length>2){const z=n[1];if(typeof z!="string"||!(z in Dr)||z==="object")return s.error('The item type argument of "array" must be one of string, number, boolean',1);M=Dr[z],v++}else M=yr;if(n.length>3){if(n[2]!==null&&(typeof n[2]!="number"||n[2]<0||n[2]!==Math.floor(n[2])))return s.error('The length argument to "array" must be a positive integer literal',2);I=n[2],v++}f=Sa(M,I)}else{if(!Dr[S])throw new Error(`Types doesn't contain name = ${S}`);f=Dr[S]}const P=[];for(;v<n.length;v++){const M=s.parse(n[v],v,yr);if(!M)return null;P.push(M)}return new cn(f,P)}evaluate(n){for(let s=0;s<this.args.length;s++){const f=this.args[s].evaluate(n);if(!yl(this.type,tr(f)))return f;if(s===this.args.length-1)throw new Nr(`Expected value to be of type ${qr(this.type)}, but found ${qr(tr(f))} instead.`)}throw new Error}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every((n=>n.outputDefined()))}}const Oa={"to-boolean":ur,"to-color":qn,"to-number":Ot,"to-string":mr};class Ri{constructor(n,s){this.type=n,this.args=s}static parse(n,s){if(n.length<2)return s.error("Expected at least one argument.");const f=n[0];if(!Oa[f])throw new Error(`Can't parse ${f} as it is not part of the known types`);if((f==="to-boolean"||f==="to-string")&&n.length!==2)return s.error("Expected one argument.");const v=Oa[f],S=[];for(let P=1;P<n.length;P++){const M=s.parse(n[P],P,yr);if(!M)return null;S.push(M)}return new Ri(v,S)}evaluate(n){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(n);case"color":{let s,f;for(const v of this.args){if(s=v.evaluate(n),f=null,s instanceof _r)return s;if(typeof s=="string"){const S=n.parseColor(s);if(S)return S}else if(Array.isArray(s)&&(f=s.length<3||s.length>4?`Invalid rgba value ${JSON.stringify(s)}: expected an array containing either three or four numeric values.`:Xr(s[0],s[1],s[2],s[3]),!f))return new _r(s[0]/255,s[1]/255,s[2]/255,s[3])}throw new Nr(f||`Could not parse color from value '${typeof s=="string"?s:JSON.stringify(s)}'`)}case"padding":{let s;for(const f of this.args){s=f.evaluate(n);const v=ia.parse(s);if(v)return v}throw new Nr(`Could not parse padding from value '${typeof s=="string"?s:JSON.stringify(s)}'`)}case"numberArray":{let s;for(const f of this.args){s=f.evaluate(n);const v=Pa.parse(s);if(v)return v}throw new Nr(`Could not parse numberArray from value '${typeof s=="string"?s:JSON.stringify(s)}'`)}case"colorArray":{let s;for(const f of this.args){s=f.evaluate(n);const v=$n.parse(s);if(v)return v}throw new Nr(`Could not parse colorArray from value '${typeof s=="string"?s:JSON.stringify(s)}'`)}case"variableAnchorOffsetCollection":{let s;for(const f of this.args){s=f.evaluate(n);const v=Aa.parse(s);if(v)return v}throw new Nr(`Could not parse variableAnchorOffsetCollection from value '${typeof s=="string"?s:JSON.stringify(s)}'`)}case"number":{let s=null;for(const f of this.args){if(s=f.evaluate(n),s===null)return 0;const v=Number(s);if(!isNaN(v))return v}throw new Nr(`Could not convert ${JSON.stringify(s)} to number.`)}case"formatted":return ea.fromString(lr(this.args[0].evaluate(n)));case"resolvedImage":return Ca.fromString(lr(this.args[0].evaluate(n)));case"projectionDefinition":return this.args[0].evaluate(n);default:return lr(this.args[0].evaluate(n))}}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every((n=>n.outputDefined()))}}const Fs=["Unknown","Point","LineString","Polygon"];class Uf{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache=new Map,this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Fs[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(n){let s=this._parseColorCache.get(n);return s||(s=_r.parse(n),this._parseColorCache.set(n,s)),s}}class Ns{constructor(n,s,f=[],v,S=new Jo,P=[]){this.registry=n,this.path=f,this.key=f.map((M=>`[${M}]`)).join(""),this.scope=S,this.errors=P,this.expectedType=v,this._isConstant=s}parse(n,s,f,v,S={}){return s?this.concat(s,f,v)._parse(n,S):this._parse(n,S)}_parse(n,s){function f(v,S,P){return P==="assert"?new cn(S,[v]):P==="coerce"?new Ri(S,[v]):v}if(n!==null&&typeof n!="string"&&typeof n!="boolean"&&typeof n!="number"||(n=["literal",n]),Array.isArray(n)){if(n.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const v=n[0];if(typeof v!="string")return this.error(`Expression name must be a string, but found ${typeof v} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const S=this.registry[v];if(S){let P=S.parse(n,this);if(!P)return null;if(this.expectedType){const M=this.expectedType,I=P.type;if(M.kind!=="string"&&M.kind!=="number"&&M.kind!=="boolean"&&M.kind!=="object"&&M.kind!=="array"||I.kind!=="value"){if(M.kind==="projectionDefinition"&&["string","array"].includes(I.kind)||["color","formatted","resolvedImage"].includes(M.kind)&&["value","string"].includes(I.kind)||["padding","numberArray"].includes(M.kind)&&["value","number","array"].includes(I.kind)||M.kind==="colorArray"&&["value","string","array"].includes(I.kind)||M.kind==="variableAnchorOffsetCollection"&&["value","array"].includes(I.kind))P=f(P,M,s.typeAnnotation||"coerce");else if(this.checkSubtype(M,I))return null}else P=f(P,M,s.typeAnnotation||"assert")}if(!(P instanceof Yi)&&P.type.kind!=="resolvedImage"&&this._isConstant(P)){const M=new Uf;try{P=new Yi(P.type,P.evaluate(M))}catch(I){return this.error(I.message),null}}return P}return this.error(`Unknown expression "${v}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(n===void 0?"'undefined' value invalid. Use null instead.":typeof n=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof n} instead.`)}concat(n,s,f){const v=typeof n=="number"?this.path.concat(n):this.path,S=f?this.scope.concat(f):this.scope;return new Ns(this.registry,this._isConstant,v,s||null,S,this.errors)}error(n,...s){const f=`${this.key}${s.map((v=>`[${v}]`)).join("")}`;this.errors.push(new Mn(f,n))}checkSubtype(n,s){const f=yl(n,s);return f&&this.error(f),f}}class bl{constructor(n,s){this.type=s.type,this.bindings=[].concat(n),this.result=s}evaluate(n){return this.result.evaluate(n)}eachChild(n){for(const s of this.bindings)n(s[1]);n(this.result)}static parse(n,s){if(n.length<4)return s.error(`Expected at least 3 arguments, but found ${n.length-1} instead.`);const f=[];for(let S=1;S<n.length-1;S+=2){const P=n[S];if(typeof P!="string")return s.error(`Expected string, but found ${typeof P} instead.`,S);if(/[^a-zA-Z0-9_]/.test(P))return s.error("Variable names must contain only alphanumeric characters or '_'.",S);const M=s.parse(n[S+1],S+1);if(!M)return null;f.push([P,M])}const v=s.parse(n[n.length-1],n.length-1,s.expectedType,f);return v?new bl(f,v):null}outputDefined(){return this.result.outputDefined()}}class js{constructor(n,s){this.type=s.type,this.name=n,this.boundExpression=s}static parse(n,s){if(n.length!==2||typeof n[1]!="string")return s.error("'var' expression requires exactly one string literal argument.");const f=n[1];return s.scope.has(f)?new js(f,s.scope.get(f)):s.error(`Unknown variable "${f}". Make sure "${f}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(n){return this.boundExpression.evaluate(n)}eachChild(){}outputDefined(){return!1}}class xl{constructor(n,s,f){this.type=n,this.index=s,this.input=f}static parse(n,s){if(n.length!==3)return s.error(`Expected 2 arguments, but found ${n.length-1} instead.`);const f=s.parse(n[1],1,Ot),v=s.parse(n[2],2,Sa(s.expectedType||yr));return f&&v?new xl(v.type.itemType,f,v):null}evaluate(n){const s=this.index.evaluate(n),f=this.input.evaluate(n);if(s<0)throw new Nr(`Array index out of bounds: ${s} < 0.`);if(s>=f.length)throw new Nr(`Array index out of bounds: ${s} > ${f.length-1}.`);if(s!==Math.floor(s))throw new Nr(`Array index must be an integer, but found ${s} instead.`);return f[s]}eachChild(n){n(this.index),n(this.input)}outputDefined(){return!1}}class vu{constructor(n,s){this.type=ur,this.needle=n,this.haystack=s}static parse(n,s){if(n.length!==3)return s.error(`Expected 2 arguments, but found ${n.length-1} instead.`);const f=s.parse(n[1],1,yr),v=s.parse(n[2],2,yr);return f&&v?Dh(f.type,[ur,mr,Ot,Eo,yr])?new vu(f,v):s.error(`Expected first argument to be of type boolean, string, number or null, but found ${qr(f.type)} instead`):null}evaluate(n){const s=this.needle.evaluate(n),f=this.haystack.evaluate(n);if(!f)return!1;if(!Ei(s,["boolean","string","number","null"]))throw new Nr(`Expected first argument to be of type boolean, string, number or null, but found ${qr(tr(s))} instead.`);if(!Ei(f,["string","array"]))throw new Nr(`Expected second argument to be of type array or string, but found ${qr(tr(f))} instead.`);return f.indexOf(s)>=0}eachChild(n){n(this.needle),n(this.haystack)}outputDefined(){return!0}}class io{constructor(n,s,f){this.type=Ot,this.needle=n,this.haystack=s,this.fromIndex=f}static parse(n,s){if(n.length<=2||n.length>=5)return s.error(`Expected 2 or 3 arguments, but found ${n.length-1} instead.`);const f=s.parse(n[1],1,yr),v=s.parse(n[2],2,yr);if(!f||!v)return null;if(!Dh(f.type,[ur,mr,Ot,Eo,yr]))return s.error(`Expected first argument to be of type boolean, string, number or null, but found ${qr(f.type)} instead`);if(n.length===4){const S=s.parse(n[3],3,Ot);return S?new io(f,v,S):null}return new io(f,v)}evaluate(n){const s=this.needle.evaluate(n),f=this.haystack.evaluate(n);if(!Ei(s,["boolean","string","number","null"]))throw new Nr(`Expected first argument to be of type boolean, string, number or null, but found ${qr(tr(s))} instead.`);let v;if(this.fromIndex&&(v=this.fromIndex.evaluate(n)),Ei(f,["string"])){const S=f.indexOf(s,v);return S===-1?-1:[...f.slice(0,S)].length}if(Ei(f,["array"]))return f.indexOf(s,v);throw new Nr(`Expected second argument to be of type array or string, but found ${qr(tr(f))} instead.`)}eachChild(n){n(this.needle),n(this.haystack),this.fromIndex&&n(this.fromIndex)}outputDefined(){return!1}}class da{constructor(n,s,f,v,S,P){this.inputType=n,this.type=s,this.input=f,this.cases=v,this.outputs=S,this.otherwise=P}static parse(n,s){if(n.length<5)return s.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if(n.length%2!=1)return s.error("Expected an even number of arguments.");let f,v;s.expectedType&&s.expectedType.kind!=="value"&&(v=s.expectedType);const S={},P=[];for(let z=2;z<n.length-1;z+=2){let j=n[z];const H=n[z+1];Array.isArray(j)||(j=[j]);const Q=s.concat(z);if(j.length===0)return Q.error("Expected at least one branch label.");for(const re of j){if(typeof re!="number"&&typeof re!="string")return Q.error("Branch labels must be numbers or strings.");if(typeof re=="number"&&Math.abs(re)>Number.MAX_SAFE_INTEGER)return Q.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof re=="number"&&Math.floor(re)!==re)return Q.error("Numeric branch labels must be integer values.");if(f){if(Q.checkSubtype(f,tr(re)))return null}else f=tr(re);if(S[String(re)]!==void 0)return Q.error("Branch labels must be unique.");S[String(re)]=P.length}const ee=s.parse(H,z,v);if(!ee)return null;v=v||ee.type,P.push(ee)}const M=s.parse(n[1],1,yr);if(!M)return null;const I=s.parse(n[n.length-1],n.length-1,v);return I?M.type.kind!=="value"&&s.concat(1).checkSubtype(f,M.type)?null:new da(f,v,M,S,P,I):null}evaluate(n){const s=this.input.evaluate(n);return(tr(s)===this.inputType&&this.outputs[this.cases[s]]||this.otherwise).evaluate(n)}eachChild(n){n(this.input),this.outputs.forEach(n),n(this.otherwise)}outputDefined(){return this.outputs.every((n=>n.outputDefined()))&&this.otherwise.outputDefined()}}class bc{constructor(n,s,f){this.type=n,this.branches=s,this.otherwise=f}static parse(n,s){if(n.length<4)return s.error(`Expected at least 3 arguments, but found only ${n.length-1}.`);if(n.length%2!=0)return s.error("Expected an odd number of arguments.");let f;s.expectedType&&s.expectedType.kind!=="value"&&(f=s.expectedType);const v=[];for(let P=1;P<n.length-1;P+=2){const M=s.parse(n[P],P,ur);if(!M)return null;const I=s.parse(n[P+1],P+1,f);if(!I)return null;v.push([M,I]),f=f||I.type}const S=s.parse(n[n.length-1],n.length-1,f);if(!S)return null;if(!f)throw new Error("Can't infer output type");return new bc(f,v,S)}evaluate(n){for(const[s,f]of this.branches)if(s.evaluate(n))return f.evaluate(n);return this.otherwise.evaluate(n)}eachChild(n){for(const[s,f]of this.branches)n(s),n(f);n(this.otherwise)}outputDefined(){return this.branches.every((([n,s])=>s.outputDefined()))&&this.otherwise.outputDefined()}}class Sl{constructor(n,s,f,v){this.type=n,this.input=s,this.beginIndex=f,this.endIndex=v}static parse(n,s){if(n.length<=2||n.length>=5)return s.error(`Expected 2 or 3 arguments, but found ${n.length-1} instead.`);const f=s.parse(n[1],1,yr),v=s.parse(n[2],2,Ot);if(!f||!v)return null;if(!Dh(f.type,[Sa(yr),mr,yr]))return s.error(`Expected first argument to be of type array or string, but found ${qr(f.type)} instead`);if(n.length===4){const S=s.parse(n[3],3,Ot);return S?new Sl(f.type,f,v,S):null}return new Sl(f.type,f,v)}evaluate(n){const s=this.input.evaluate(n),f=this.beginIndex.evaluate(n);let v;if(this.endIndex&&(v=this.endIndex.evaluate(n)),Ei(s,["string"]))return[...s].slice(f,v).join("");if(Ei(s,["array"]))return s.slice(f,v);throw new Nr(`Expected first argument to be of type array or string, but found ${qr(tr(s))} instead.`)}eachChild(n){n(this.input),n(this.beginIndex),this.endIndex&&n(this.endIndex)}outputDefined(){return!1}}function wl(l,n){const s=l.length-1;let f,v,S=0,P=s,M=0;for(;S<=P;)if(M=Math.floor((S+P)/2),f=l[M],v=l[M+1],f<=n){if(M===s||n<v)return M;S=M+1}else{if(!(f>n))throw new Nr("Input is not a number.");P=M-1}return 0}class Un{constructor(n,s,f){this.type=n,this.input=s,this.labels=[],this.outputs=[];for(const[v,S]of f)this.labels.push(v),this.outputs.push(S)}static parse(n,s){if(n.length-1<4)return s.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if((n.length-1)%2!=0)return s.error("Expected an even number of arguments.");const f=s.parse(n[1],1,Ot);if(!f)return null;const v=[];let S=null;s.expectedType&&s.expectedType.kind!=="value"&&(S=s.expectedType);for(let P=1;P<n.length;P+=2){const M=P===1?-1/0:n[P],I=n[P+1],z=P,j=P+1;if(typeof M!="number")return s.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',z);if(v.length&&v[v.length-1][0]>=M)return s.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',z);const H=s.parse(I,j,S);if(!H)return null;S=S||H.type,v.push([M,H])}return new Un(S,f,v)}evaluate(n){const s=this.labels,f=this.outputs;if(s.length===1)return f[0].evaluate(n);const v=this.input.evaluate(n);if(v<=s[0])return f[0].evaluate(n);const S=s.length;return v>=s[S-1]?f[S-1].evaluate(n):f[wl(s,v)].evaluate(n)}eachChild(n){n(this.input);for(const s of this.outputs)n(s)}outputDefined(){return this.outputs.every((n=>n.outputDefined()))}}function dp(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var _u,Lf,pp=(function(){if(Lf)return _u;function l(n,s,f,v){this.cx=3*n,this.bx=3*(f-n)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*s,this.by=3*(v-s)-this.cy,this.ay=1-this.cy-this.by,this.p1x=n,this.p1y=s,this.p2x=f,this.p2y=v}return Lf=1,_u=l,l.prototype={sampleCurveX:function(n){return((this.ax*n+this.bx)*n+this.cx)*n},sampleCurveY:function(n){return((this.ay*n+this.by)*n+this.cy)*n},sampleCurveDerivativeX:function(n){return(3*this.ax*n+2*this.bx)*n+this.cx},solveCurveX:function(n,s){if(s===void 0&&(s=1e-6),n<0)return 0;if(n>1)return 1;for(var f=n,v=0;v<8;v++){var S=this.sampleCurveX(f)-n;if(Math.abs(S)<s)return f;var P=this.sampleCurveDerivativeX(f);if(Math.abs(P)<1e-6)break;f-=S/P}var M=0,I=1;for(f=n,v=0;v<20&&(S=this.sampleCurveX(f),!(Math.abs(S-n)<s));v++)n>S?M=f:I=f,f=.5*(I-M)+M;return f},solve:function(n,s){return this.sampleCurveY(this.solveCurveX(n,s))}},_u})(),xc=dp(pp);class Da{constructor(n,s,f,v,S){this.type=n,this.operator=s,this.interpolation=f,this.input=v,this.labels=[],this.outputs=[];for(const[P,M]of S)this.labels.push(P),this.outputs.push(M)}static interpolationFactor(n,s,f,v){let S=0;if(n.name==="exponential")S=bu(s,n.base,f,v);else if(n.name==="linear")S=bu(s,1,f,v);else if(n.name==="cubic-bezier"){const P=n.controlPoints;S=new xc(P[0],P[1],P[2],P[3]).solve(bu(s,1,f,v))}return S}static parse(n,s){let[f,v,S,...P]=n;if(!Array.isArray(v)||v.length===0)return s.error("Expected an interpolation type expression.",1);if(v[0]==="linear")v={name:"linear"};else if(v[0]==="exponential"){const z=v[1];if(typeof z!="number")return s.error("Exponential interpolation requires a numeric base.",1,1);v={name:"exponential",base:z}}else{if(v[0]!=="cubic-bezier")return s.error(`Unknown interpolation type ${String(v[0])}`,1,0);{const z=v.slice(1);if(z.length!==4||z.some((j=>typeof j!="number"||j<0||j>1)))return s.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);v={name:"cubic-bezier",controlPoints:z}}}if(n.length-1<4)return s.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if((n.length-1)%2!=0)return s.error("Expected an even number of arguments.");if(S=s.parse(S,2,Ot),!S)return null;const M=[];let I=null;f!=="interpolate-hcl"&&f!=="interpolate-lab"||s.expectedType==Ro?s.expectedType&&s.expectedType.kind!=="value"&&(I=s.expectedType):I=qn;for(let z=0;z<P.length;z+=2){const j=P[z],H=P[z+1],Q=z+3,ee=z+4;if(typeof j!="number")return s.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Q);if(M.length&&M[M.length-1][0]>=j)return s.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Q);const re=s.parse(H,ee,I);if(!re)return null;I=I||re.type,M.push([j,re])}return ko(I,Ot)||ko(I,Zi)||ko(I,qn)||ko(I,es)||ko(I,ml)||ko(I,Ro)||ko(I,Ch)||ko(I,Sa(Ot))?new Da(I,f,v,S,M):s.error(`Type ${qr(I)} is not interpolatable.`)}evaluate(n){const s=this.labels,f=this.outputs;if(s.length===1)return f[0].evaluate(n);const v=this.input.evaluate(n);if(v<=s[0])return f[0].evaluate(n);const S=s.length;if(v>=s[S-1])return f[S-1].evaluate(n);const P=wl(s,v),M=Da.interpolationFactor(this.interpolation,v,s[P],s[P+1]),I=f[P].evaluate(n),z=f[P+1].evaluate(n);switch(this.operator){case"interpolate":switch(this.type.kind){case"number":return ts(I,z,M);case"color":return _r.interpolate(I,z,M);case"padding":return ia.interpolate(I,z,M);case"colorArray":return $n.interpolate(I,z,M);case"numberArray":return Pa.interpolate(I,z,M);case"variableAnchorOffsetCollection":return Aa.interpolate(I,z,M);case"array":return _l(I,z,M);case"projectionDefinition":return En.interpolate(I,z,M)}case"interpolate-hcl":switch(this.type.kind){case"color":return _r.interpolate(I,z,M,"hcl");case"colorArray":return $n.interpolate(I,z,M,"hcl")}case"interpolate-lab":switch(this.type.kind){case"color":return _r.interpolate(I,z,M,"lab");case"colorArray":return $n.interpolate(I,z,M,"lab")}}}eachChild(n){n(this.input);for(const s of this.outputs)n(s)}outputDefined(){return this.outputs.every((n=>n.outputDefined()))}}function bu(l,n,s,f){const v=f-s,S=l-s;return v===0?0:n===1?S/v:(Math.pow(n,S)-1)/(Math.pow(n,v)-1)}const Fo={color:_r.interpolate,number:ts,padding:ia.interpolate,numberArray:Pa.interpolate,colorArray:$n.interpolate,variableAnchorOffsetCollection:Aa.interpolate,array:_l};class Pl{constructor(n,s){this.type=n,this.args=s}static parse(n,s){if(n.length<2)return s.error("Expected at least one argument.");let f=null;const v=s.expectedType;v&&v.kind!=="value"&&(f=v);const S=[];for(const M of n.slice(1)){const I=s.parse(M,1+S.length,f,void 0,{typeAnnotation:"omit"});if(!I)return null;f=f||I.type,S.push(I)}if(!f)throw new Error("No output type");const P=v&&S.some((M=>yl(v,M.type)));return new Pl(P?yr:f,S)}evaluate(n){let s,f=null,v=0;for(const S of this.args)if(v++,f=S.evaluate(n),f&&f instanceof Ca&&!f.available&&(s||(s=f.name),f=null,v===this.args.length&&(f=s)),f!==null)break;return f}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every((n=>n.outputDefined()))}}function xu(l,n){return l==="=="||l==="!="?n.kind==="boolean"||n.kind==="string"||n.kind==="number"||n.kind==="null"||n.kind==="value":n.kind==="string"||n.kind==="number"||n.kind==="value"}function Su(l,n,s,f){return f.compare(n,s)===0}function Ua(l,n,s){const f=l!=="=="&&l!=="!=";return class $M{constructor(S,P,M){this.type=ur,this.lhs=S,this.rhs=P,this.collator=M,this.hasUntypedArgument=S.type.kind==="value"||P.type.kind==="value"}static parse(S,P){if(S.length!==3&&S.length!==4)return P.error("Expected two or three arguments.");const M=S[0];let I=P.parse(S[1],1,yr);if(!I)return null;if(!xu(M,I.type))return P.concat(1).error(`"${M}" comparisons are not supported for type '${qr(I.type)}'.`);let z=P.parse(S[2],2,yr);if(!z)return null;if(!xu(M,z.type))return P.concat(2).error(`"${M}" comparisons are not supported for type '${qr(z.type)}'.`);if(I.type.kind!==z.type.kind&&I.type.kind!=="value"&&z.type.kind!=="value")return P.error(`Cannot compare types '${qr(I.type)}' and '${qr(z.type)}'.`);f&&(I.type.kind==="value"&&z.type.kind!=="value"?I=new cn(z.type,[I]):I.type.kind!=="value"&&z.type.kind==="value"&&(z=new cn(I.type,[z])));let j=null;if(S.length===4){if(I.type.kind!=="string"&&z.type.kind!=="string"&&I.type.kind!=="value"&&z.type.kind!=="value")return P.error("Cannot use collator to compare non-string types.");if(j=P.parse(S[3],3,pu),!j)return null}return new $M(I,z,j)}evaluate(S){const P=this.lhs.evaluate(S),M=this.rhs.evaluate(S);if(f&&this.hasUntypedArgument){const I=tr(P),z=tr(M);if(I.kind!==z.kind||I.kind!=="string"&&I.kind!=="number")throw new Nr(`Expected arguments for "${l}" to be (string, string) or (number, number), but found (${I.kind}, ${z.kind}) instead.`)}if(this.collator&&!f&&this.hasUntypedArgument){const I=tr(P),z=tr(M);if(I.kind!=="string"||z.kind!=="string")return n(S,P,M)}return this.collator?s(S,P,M,this.collator.evaluate(S)):n(S,P,M)}eachChild(S){S(this.lhs),S(this.rhs),this.collator&&S(this.collator)}outputDefined(){return!0}}}const zf=Ua("==",(function(l,n,s){return n===s}),Su),Th=Ua("!=",(function(l,n,s){return n!==s}),(function(l,n,s,f){return!Su(0,n,s,f)})),Bm=Ua("<",(function(l,n,s){return n<s}),(function(l,n,s,f){return f.compare(n,s)<0})),Ff=Ua(">",(function(l,n,s){return n>s}),(function(l,n,s,f){return f.compare(n,s)>0})),qm=Ua("<=",(function(l,n,s){return n<=s}),(function(l,n,s,f){return f.compare(n,s)<=0})),$m=Ua(">=",(function(l,n,s){return n>=s}),(function(l,n,s,f){return f.compare(n,s)>=0}));class Eh{constructor(n,s,f){this.type=pu,this.locale=f,this.caseSensitive=n,this.diacriticSensitive=s}static parse(n,s){if(n.length!==2)return s.error("Expected one argument.");const f=n[1];if(typeof f!="object"||Array.isArray(f))return s.error("Collator options argument must be an object.");const v=s.parse(f["case-sensitive"]!==void 0&&f["case-sensitive"],1,ur);if(!v)return null;const S=s.parse(f["diacritic-sensitive"]!==void 0&&f["diacritic-sensitive"],1,ur);if(!S)return null;let P=null;return f.locale&&(P=s.parse(f.locale,1,mr),!P)?null:new Eh(v,S,P)}evaluate(n){return new rs(this.caseSensitive.evaluate(n),this.diacriticSensitive.evaluate(n),this.locale?this.locale.evaluate(n):null)}eachChild(n){n(this.caseSensitive),n(this.diacriticSensitive),this.locale&&n(this.locale)}outputDefined(){return!1}}class Nf{constructor(n,s,f,v,S){this.type=mr,this.number=n,this.locale=s,this.currency=f,this.minFractionDigits=v,this.maxFractionDigits=S}static parse(n,s){if(n.length!==3)return s.error("Expected two arguments.");const f=s.parse(n[1],1,Ot);if(!f)return null;const v=n[2];if(typeof v!="object"||Array.isArray(v))return s.error("NumberFormat options argument must be an object.");let S=null;if(v.locale&&(S=s.parse(v.locale,1,mr),!S))return null;let P=null;if(v.currency&&(P=s.parse(v.currency,1,mr),!P))return null;let M=null;if(v["min-fraction-digits"]&&(M=s.parse(v["min-fraction-digits"],1,Ot),!M))return null;let I=null;return v["max-fraction-digits"]&&(I=s.parse(v["max-fraction-digits"],1,Ot),!I)?null:new Nf(f,S,P,M,I)}evaluate(n){return new Intl.NumberFormat(this.locale?this.locale.evaluate(n):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(n):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(n):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(n):void 0}).format(this.number.evaluate(n))}eachChild(n){n(this.number),this.locale&&n(this.locale),this.currency&&n(this.currency),this.minFractionDigits&&n(this.minFractionDigits),this.maxFractionDigits&&n(this.maxFractionDigits)}outputDefined(){return!1}}class Al{constructor(n){this.type=pi,this.sections=n}static parse(n,s){if(n.length<2)return s.error("Expected at least one argument.");const f=n[1];if(!Array.isArray(f)&&typeof f=="object")return s.error("First argument must be an image or text section.");const v=[];let S=!1;for(let P=1;P<=n.length-1;++P){const M=n[P];if(S&&typeof M=="object"&&!Array.isArray(M)){S=!1;let I=null;if(M["font-scale"]&&(I=s.parse(M["font-scale"],1,Ot),!I))return null;let z=null;if(M["text-font"]&&(z=s.parse(M["text-font"],1,Sa(mr)),!z))return null;let j=null;if(M["text-color"]&&(j=s.parse(M["text-color"],1,qn),!j))return null;let H=null;if(M["vertical-align"]){if(typeof M["vertical-align"]=="string"&&!_c.includes(M["vertical-align"]))return s.error(`'vertical-align' must be one of: 'bottom', 'center', 'top' but found '${M["vertical-align"]}' instead.`);if(H=s.parse(M["vertical-align"],1,mr),!H)return null}const Q=v[v.length-1];Q.scale=I,Q.font=z,Q.textColor=j,Q.verticalAlign=H}else{const I=s.parse(n[P],1,yr);if(!I)return null;const z=I.type.kind;if(z!=="string"&&z!=="value"&&z!=="null"&&z!=="resolvedImage")return s.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");S=!0,v.push({content:I,scale:null,font:null,textColor:null,verticalAlign:null})}}return new Al(v)}evaluate(n){return new ea(this.sections.map((s=>{const f=s.content.evaluate(n);return tr(f)===Tn?new ns("",f,null,null,null,s.verticalAlign?s.verticalAlign.evaluate(n):null):new ns(lr(f),null,s.scale?s.scale.evaluate(n):null,s.font?s.font.evaluate(n).join(","):null,s.textColor?s.textColor.evaluate(n):null,s.verticalAlign?s.verticalAlign.evaluate(n):null)})))}eachChild(n){for(const s of this.sections)n(s.content),s.scale&&n(s.scale),s.font&&n(s.font),s.textColor&&n(s.textColor),s.verticalAlign&&n(s.verticalAlign)}outputDefined(){return!1}}class jf{constructor(n){this.type=Tn,this.input=n}static parse(n,s){if(n.length!==2)return s.error("Expected two arguments.");const f=s.parse(n[1],1,mr);return f?new jf(f):s.error("No image name provided.")}evaluate(n){const s=this.input.evaluate(n),f=Ca.fromString(s);return f&&n.availableImages&&(f.available=n.availableImages.indexOf(s)>-1),f}eachChild(n){n(this.input)}outputDefined(){return!1}}class Sc{constructor(n){this.type=Ot,this.input=n}static parse(n,s){if(n.length!==2)return s.error(`Expected 1 argument, but found ${n.length-1} instead.`);const f=s.parse(n[1],1);return f?f.type.kind!=="array"&&f.type.kind!=="string"&&f.type.kind!=="value"?s.error(`Expected argument of type string or array, but found ${qr(f.type)} instead.`):new Sc(f):null}evaluate(n){const s=this.input.evaluate(n);if(typeof s=="string")return[...s].length;if(Array.isArray(s))return s.length;throw new Nr(`Expected value to be of type string or array, but found ${qr(tr(s))} instead.`)}eachChild(n){n(this.input)}outputDefined(){return!1}}const Za=8192;function Hm(l,n){const s=(180+l[0])/360,f=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+l[1]*Math.PI/360)))/360,v=Math.pow(2,n.z);return[Math.round(s*v*Za),Math.round(f*v*Za)]}function wu(l,n){const s=Math.pow(2,n.z);return[(v=(l[0]/Za+n.x)/s,360*v-180),(f=(l[1]/Za+n.y)/s,360/Math.PI*Math.atan(Math.exp((180-360*f)*Math.PI/180))-90)];var f,v}function wc(l,n){l[0]=Math.min(l[0],n[0]),l[1]=Math.min(l[1],n[1]),l[2]=Math.max(l[2],n[0]),l[3]=Math.max(l[3],n[1])}function Pc(l,n){return!(l[0]<=n[0]||l[2]>=n[2]||l[1]<=n[1]||l[3]>=n[3])}function mp(l,n,s){const f=l[0]-n[0],v=l[1]-n[1],S=l[0]-s[0],P=l[1]-s[1];return f*P-S*v==0&&f*S<=0&&v*P<=0}function Pu(l,n,s,f){return(v=[f[0]-s[0],f[1]-s[1]])[0]*(S=[n[0]-l[0],n[1]-l[1]])[1]-v[1]*S[0]!=0&&!(!qf(l,n,s,f)||!qf(s,f,l,n));var v,S}function Ac(l,n,s){for(const f of s)for(let v=0;v<f.length-1;++v)if(Pu(l,n,f[v],f[v+1]))return!0;return!1}function Cl(l,n,s=!1){let f=!1;for(const M of n)for(let I=0;I<M.length-1;I++){if(mp(l,M[I],M[I+1]))return s;(S=M[I])[1]>(v=l)[1]!=(P=M[I+1])[1]>v[1]&&v[0]<(P[0]-S[0])*(v[1]-S[1])/(P[1]-S[1])+S[0]&&(f=!f)}var v,S,P;return f}function yp(l,n){for(const s of n)if(Cl(l,s))return!0;return!1}function Bf(l,n){for(const s of l)if(!Cl(s,n))return!1;for(let s=0;s<l.length-1;++s)if(Ac(l[s],l[s+1],n))return!1;return!0}function gp(l,n){for(const s of n)if(Bf(l,s))return!0;return!1}function qf(l,n,s,f){const v=f[0]-s[0],S=f[1]-s[1],P=(l[0]-s[0])*S-v*(l[1]-s[1]),M=(n[0]-s[0])*S-v*(n[1]-s[1]);return P>0&&M<0||P<0&&M>0}function Dl(l,n,s){const f=[];for(let v=0;v<l.length;v++){const S=[];for(let P=0;P<l[v].length;P++){const M=Hm(l[v][P],s);wc(n,M),S.push(M)}f.push(S)}return f}function Cc(l,n,s){const f=[];for(let v=0;v<l.length;v++){const S=Dl(l[v],n,s);f.push(S)}return f}function Rh(l,n,s,f){if(l[0]<s[0]||l[0]>s[2]){const v=.5*f;let S=l[0]-s[0]>v?-f:s[0]-l[0]>v?f:0;S===0&&(S=l[0]-s[2]>v?-f:s[2]-l[0]>v?f:0),l[0]+=S}wc(n,l)}function Au(l,n,s,f){const v=Math.pow(2,f.z)*Za,S=[f.x*Za,f.y*Za],P=[];for(const M of l)for(const I of M){const z=[I.x+S[0],I.y+S[1]];Rh(z,n,s,v),P.push(z)}return P}function $f(l,n,s,f){const v=Math.pow(2,f.z)*Za,S=[f.x*Za,f.y*Za],P=[];for(const I of l){const z=[];for(const j of I){const H=[j.x+S[0],j.y+S[1]];wc(n,H),z.push(H)}P.push(z)}if(n[2]-n[0]<=v/2){(M=n)[0]=M[1]=1/0,M[2]=M[3]=-1/0;for(const I of P)for(const z of I)Rh(z,n,s,v)}var M;return P}class Bs{constructor(n,s){this.type=ur,this.geojson=n,this.geometries=s}static parse(n,s){if(n.length!==2)return s.error(`'within' expression requires exactly one argument, but found ${n.length-1} instead.`);if(zo(n[1])){const f=n[1];if(f.type==="FeatureCollection"){const v=[];for(const S of f.features){const{type:P,coordinates:M}=S.geometry;P==="Polygon"&&v.push(M),P==="MultiPolygon"&&v.push(...M)}if(v.length)return new Bs(f,{type:"MultiPolygon",coordinates:v})}else if(f.type==="Feature"){const v=f.geometry.type;if(v==="Polygon"||v==="MultiPolygon")return new Bs(f,f.geometry)}else if(f.type==="Polygon"||f.type==="MultiPolygon")return new Bs(f,f)}return s.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(n){if(n.geometry()!=null&&n.canonicalID()!=null){if(n.geometryType()==="Point")return(function(s,f){const v=[1/0,1/0,-1/0,-1/0],S=[1/0,1/0,-1/0,-1/0],P=s.canonicalID();if(f.type==="Polygon"){const M=Dl(f.coordinates,S,P),I=Au(s.geometry(),v,S,P);if(!Pc(v,S))return!1;for(const z of I)if(!Cl(z,M))return!1}if(f.type==="MultiPolygon"){const M=Cc(f.coordinates,S,P),I=Au(s.geometry(),v,S,P);if(!Pc(v,S))return!1;for(const z of I)if(!yp(z,M))return!1}return!0})(n,this.geometries);if(n.geometryType()==="LineString")return(function(s,f){const v=[1/0,1/0,-1/0,-1/0],S=[1/0,1/0,-1/0,-1/0],P=s.canonicalID();if(f.type==="Polygon"){const M=Dl(f.coordinates,S,P),I=$f(s.geometry(),v,S,P);if(!Pc(v,S))return!1;for(const z of I)if(!Bf(z,M))return!1}if(f.type==="MultiPolygon"){const M=Cc(f.coordinates,S,P),I=$f(s.geometry(),v,S,P);if(!Pc(v,S))return!1;for(const z of I)if(!gp(z,M))return!1}return!0})(n,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}let Cu=class{constructor(l=[],n=(s,f)=>s<f?-1:s>f?1:0){if(this.data=l,this.length=this.data.length,this.compare=n,this.length>0)for(let s=(this.length>>1)-1;s>=0;s--)this._down(s)}push(l){this.data.push(l),this._up(this.length++)}pop(){if(this.length===0)return;const l=this.data[0],n=this.data.pop();return--this.length>0&&(this.data[0]=n,this._down(0)),l}peek(){return this.data[0]}_up(l){const{data:n,compare:s}=this,f=n[l];for(;l>0;){const v=l-1>>1,S=n[v];if(s(f,S)>=0)break;n[l]=S,l=v}n[l]=f}_down(l){const{data:n,compare:s}=this,f=this.length>>1,v=n[l];for(;l<f;){let S=1+(l<<1);const P=S+1;if(P<this.length&&s(n[P],n[S])<0&&(S=P),s(n[S],v)>=0)break;n[l]=n[S],l=S}n[l]=v}};function Du(l,n,s=0,f=l.length-1,v=vp){for(;f>s;){if(f-s>600){const I=f-s+1,z=n-s+1,j=Math.log(I),H=.5*Math.exp(2*j/3),Q=.5*Math.sqrt(j*H*(I-H)/I)*(z-I/2<0?-1:1);Du(l,n,Math.max(s,Math.floor(n-z*H/I+Q)),Math.min(f,Math.floor(n+(I-z)*H/I+Q)),v)}const S=l[n];let P=s,M=f;for(Dc(l,s,n),v(l[f],S)>0&&Dc(l,s,f);P<M;){for(Dc(l,P,M),P++,M--;v(l[P],S)<0;)P++;for(;v(l[M],S)>0;)M--}v(l[s],S)===0?Dc(l,s,M):(M++,Dc(l,M,f)),M<=n&&(s=M+1),n<=M&&(f=M-1)}}function Dc(l,n,s){const f=l[n];l[n]=l[s],l[s]=f}function vp(l,n){return l<n?-1:l>n?1:0}function Mc(l,n){if(l.length<=1)return[l];const s=[];let f,v;for(const S of l){const P=Vm(S);P!==0&&(S.area=Math.abs(P),v===void 0&&(v=P<0),v===P<0?(f&&s.push(f),f=[S]):f.push(S))}if(f&&s.push(f),n>1)for(let S=0;S<s.length;S++)s[S].length<=n||(Du(s[S],n,1,s[S].length-1,_p),s[S]=s[S].slice(0,n));return s}function _p(l,n){return n.area-l.area}function Vm(l){let n=0;for(let s,f,v=0,S=l.length,P=S-1;v<S;P=v++)s=l[v],f=l[P],n+=(f.x-s.x)*(s.y+f.y);return n}const bp=1/298.257223563,xp=bp*(2-bp),Hf=Math.PI/180;class Ya{constructor(n){const s=6378.137*Hf*1e3,f=Math.cos(n*Hf),v=1/(1-xp*(1-f*f)),S=Math.sqrt(v);this.kx=s*S*f,this.ky=s*S*v*(1-xp)}distance(n,s){const f=this.wrap(n[0]-s[0])*this.kx,v=(n[1]-s[1])*this.ky;return Math.sqrt(f*f+v*v)}pointOnLine(n,s){let f,v,S,P,M=1/0;for(let I=0;I<n.length-1;I++){let z=n[I][0],j=n[I][1],H=this.wrap(n[I+1][0]-z)*this.kx,Q=(n[I+1][1]-j)*this.ky,ee=0;H===0&&Q===0||(ee=(this.wrap(s[0]-z)*this.kx*H+(s[1]-j)*this.ky*Q)/(H*H+Q*Q),ee>1?(z=n[I+1][0],j=n[I+1][1]):ee>0&&(z+=H/this.kx*ee,j+=Q/this.ky*ee)),H=this.wrap(s[0]-z)*this.kx,Q=(s[1]-j)*this.ky;const re=H*H+Q*Q;re<M&&(M=re,f=z,v=j,S=I,P=ee)}return{point:[f,v],index:S,t:Math.max(0,Math.min(1,P))}}wrap(n){for(;n<-180;)n+=360;for(;n>180;)n-=360;return n}}function Tc(l,n){return n[0]-l[0]}function Mu(l){return l[1]-l[0]+1}function No(l,n){return l[1]>=l[0]&&l[1]<n}function Ir(l,n){if(l[0]>l[1])return[null,null];const s=Mu(l);if(n){if(s===2)return[l,null];const v=Math.floor(s/2);return[[l[0],l[0]+v],[l[0]+v,l[1]]]}if(s===1)return[l,null];const f=Math.floor(s/2)-1;return[[l[0],l[0]+f],[l[0]+f+1,l[1]]]}function Ih(l,n){if(!No(n,l.length))return[1/0,1/0,-1/0,-1/0];const s=[1/0,1/0,-1/0,-1/0];for(let f=n[0];f<=n[1];++f)wc(s,l[f]);return s}function Tu(l){const n=[1/0,1/0,-1/0,-1/0];for(const s of l)for(const f of s)wc(n,f);return n}function Sp(l){return l[0]!==-1/0&&l[1]!==-1/0&&l[2]!==1/0&&l[3]!==1/0}function qs(l,n,s){if(!Sp(l)||!Sp(n))return NaN;let f=0,v=0;return l[2]<n[0]&&(f=n[0]-l[2]),l[0]>n[2]&&(f=l[0]-n[2]),l[1]>n[3]&&(v=l[1]-n[3]),l[3]<n[1]&&(v=n[1]-l[3]),s.distance([0,0],[f,v])}function as(l,n,s){const f=s.pointOnLine(n,l);return s.distance(l,f.point)}function Ml(l,n,s,f,v){const S=Math.min(as(l,[s,f],v),as(n,[s,f],v)),P=Math.min(as(s,[l,n],v),as(f,[l,n],v));return Math.min(S,P)}function Vf(l,n,s,f,v){if(!No(n,l.length)||!No(f,s.length))return 1/0;let S=1/0;for(let P=n[0];P<n[1];++P){const M=l[P],I=l[P+1];for(let z=f[0];z<f[1];++z){const j=s[z],H=s[z+1];if(Pu(M,I,j,H))return 0;S=Math.min(S,Ml(M,I,j,H,v))}}return S}function wp(l,n,s,f,v){if(!No(n,l.length)||!No(f,s.length))return NaN;let S=1/0;for(let P=n[0];P<=n[1];++P)for(let M=f[0];M<=f[1];++M)if(S=Math.min(S,v.distance(l[P],s[M])),S===0)return S;return S}function Tl(l,n,s){if(Cl(l,n,!0))return 0;let f=1/0;for(const v of n){const S=v[0],P=v[v.length-1];if(S!==P&&(f=Math.min(f,as(l,[P,S],s)),f===0))return f;const M=s.pointOnLine(v,l);if(f=Math.min(f,s.distance(l,M.point)),f===0)return f}return f}function Ec(l,n,s,f){if(!No(n,l.length))return NaN;for(let S=n[0];S<=n[1];++S)if(Cl(l[S],s,!0))return 0;let v=1/0;for(let S=n[0];S<n[1];++S){const P=l[S],M=l[S+1];for(const I of s)for(let z=0,j=I.length,H=j-1;z<j;H=z++){const Q=I[H],ee=I[z];if(Pu(P,M,Q,ee))return 0;v=Math.min(v,Ml(P,M,Q,ee,f))}}return v}function kh(l,n){for(const s of l)for(const f of s)if(Cl(f,n,!0))return!0;return!1}function Pp(l,n,s,f=1/0){const v=Tu(l),S=Tu(n);if(f!==1/0&&qs(v,S,s)>=f)return f;if(Pc(v,S)){if(kh(l,n))return 0}else if(kh(n,l))return 0;let P=1/0;for(const M of l)for(let I=0,z=M.length,j=z-1;I<z;j=I++){const H=M[j],Q=M[I];for(const ee of n)for(let re=0,oe=ee.length,ue=oe-1;re<oe;ue=re++){const ge=ee[ue],Fe=ee[re];if(Pu(H,Q,ge,Fe))return 0;P=Math.min(P,Ml(H,Q,ge,Fe,s))}}return P}function $s(l,n,s,f,v,S){if(!S)return;const P=qs(Ih(f,S),v,s);P<n&&l.push([P,S,[0,0]])}function Eu(l,n,s,f,v,S,P){if(!S||!P)return;const M=qs(Ih(f,S),Ih(v,P),s);M<n&&l.push([M,S,P])}function Ru(l,n,s,f,v=1/0){let S=Math.min(f.distance(l[0],s[0][0]),v);if(S===0)return S;const P=new Cu([[0,[0,l.length-1],[0,0]]],Tc),M=Tu(s);for(;P.length>0;){const I=P.pop();if(I[0]>=S)continue;const z=I[1],j=n?50:100;if(Mu(z)<=j){if(!No(z,l.length))return NaN;if(n){const H=Ec(l,z,s,f);if(isNaN(H)||H===0)return H;S=Math.min(S,H)}else for(let H=z[0];H<=z[1];++H){const Q=Tl(l[H],s,f);if(S=Math.min(S,Q),S===0)return 0}}else{const H=Ir(z,n);$s(P,S,f,l,M,H[0]),$s(P,S,f,l,M,H[1])}}return S}function Iu(l,n,s,f,v,S=1/0){let P=Math.min(S,v.distance(l[0],s[0]));if(P===0)return P;const M=new Cu([[0,[0,l.length-1],[0,s.length-1]]],Tc);for(;M.length>0;){const I=M.pop();if(I[0]>=P)continue;const z=I[1],j=I[2],H=n?50:100,Q=f?50:100;if(Mu(z)<=H&&Mu(j)<=Q){if(!No(z,l.length)&&No(j,s.length))return NaN;let ee;if(n&&f)ee=Vf(l,z,s,j,v),P=Math.min(P,ee);else if(n&&!f){const re=l.slice(z[0],z[1]+1);for(let oe=j[0];oe<=j[1];++oe)if(ee=as(s[oe],re,v),P=Math.min(P,ee),P===0)return P}else if(!n&&f){const re=s.slice(j[0],j[1]+1);for(let oe=z[0];oe<=z[1];++oe)if(ee=as(l[oe],re,v),P=Math.min(P,ee),P===0)return P}else ee=wp(l,z,s,j,v),P=Math.min(P,ee)}else{const ee=Ir(z,n),re=Ir(j,f);Eu(M,P,v,l,s,ee[0],re[0]),Eu(M,P,v,l,s,ee[0],re[1]),Eu(M,P,v,l,s,ee[1],re[0]),Eu(M,P,v,l,s,ee[1],re[1])}}return P}function Wf(l){return l.type==="MultiPolygon"?l.coordinates.map((n=>({type:"Polygon",coordinates:n}))):l.type==="MultiLineString"?l.coordinates.map((n=>({type:"LineString",coordinates:n}))):l.type==="MultiPoint"?l.coordinates.map((n=>({type:"Point",coordinates:n}))):[l]}class El{constructor(n,s){this.type=Ot,this.geojson=n,this.geometries=s}static parse(n,s){if(n.length!==2)return s.error(`'distance' expression requires exactly one argument, but found ${n.length-1} instead.`);if(zo(n[1])){const f=n[1];if(f.type==="FeatureCollection")return new El(f,f.features.map((v=>Wf(v.geometry))).flat());if(f.type==="Feature")return new El(f,Wf(f.geometry));if("type"in f&&"coordinates"in f)return new El(f,Wf(f))}return s.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(n){if(n.geometry()!=null&&n.canonicalID()!=null){if(n.geometryType()==="Point")return(function(s,f){const v=s.geometry(),S=v.flat().map((I=>wu([I.x,I.y],s.canonical)));if(v.length===0)return NaN;const P=new Ya(S[0][1]);let M=1/0;for(const I of f){switch(I.type){case"Point":M=Math.min(M,Iu(S,!1,[I.coordinates],!1,P,M));break;case"LineString":M=Math.min(M,Iu(S,!1,I.coordinates,!0,P,M));break;case"Polygon":M=Math.min(M,Ru(S,!1,I.coordinates,P,M))}if(M===0)return M}return M})(n,this.geometries);if(n.geometryType()==="LineString")return(function(s,f){const v=s.geometry(),S=v.flat().map((I=>wu([I.x,I.y],s.canonical)));if(v.length===0)return NaN;const P=new Ya(S[0][1]);let M=1/0;for(const I of f){switch(I.type){case"Point":M=Math.min(M,Iu(S,!0,[I.coordinates],!1,P,M));break;case"LineString":M=Math.min(M,Iu(S,!0,I.coordinates,!0,P,M));break;case"Polygon":M=Math.min(M,Ru(S,!0,I.coordinates,P,M))}if(M===0)return M}return M})(n,this.geometries);if(n.geometryType()==="Polygon")return(function(s,f){const v=s.geometry();if(v.length===0||v[0].length===0)return NaN;const S=Mc(v,0).map((I=>I.map((z=>z.map((j=>wu([j.x,j.y],s.canonical))))))),P=new Ya(S[0][0][0][1]);let M=1/0;for(const I of f)for(const z of S){switch(I.type){case"Point":M=Math.min(M,Ru([I.coordinates],!1,z,P,M));break;case"LineString":M=Math.min(M,Ru(I.coordinates,!0,z,P,M));break;case"Polygon":M=Math.min(M,Pp(z,I.coordinates,P,M))}if(M===0)return M}return M})(n,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}class ku{constructor(n){this.type=yr,this.key=n}static parse(n,s){if(n.length!==2)return s.error(`Expected 1 argument, but found ${n.length-1} instead.`);const f=n[1];return f==null?s.error("Global state property must be defined."):typeof f!="string"?s.error(`Global state property must be string, but found ${typeof n[1]} instead.`):new ku(f)}evaluate(n){var s;const f=(s=n.globals)===null||s===void 0?void 0:s.globalState;return f&&Object.keys(f).length!==0?vl(f,this.key):null}eachChild(){}outputDefined(){return!1}}const Rl={"==":zf,"!=":Th,">":Ff,"<":Bm,">=":$m,"<=":qm,array:cn,at:xl,boolean:cn,case:bc,coalesce:Pl,collator:Eh,format:Al,image:jf,in:vu,"index-of":io,interpolate:Da,"interpolate-hcl":Da,"interpolate-lab":Da,length:Sc,let:bl,literal:Yi,match:da,number:cn,"number-format":Nf,object:cn,slice:Sl,step:Un,string:cn,"to-boolean":Ri,"to-color":Ri,"to-number":Ri,"to-string":Ri,var:js,within:Bs,distance:El,"global-state":ku};class Ii{constructor(n,s,f,v){this.name=n,this.type=s,this._evaluate=f,this.args=v}evaluate(n){return this._evaluate(n,this.args)}eachChild(n){this.args.forEach(n)}outputDefined(){return!1}static parse(n,s){const f=n[0],v=Ii.definitions[f];if(!v)return s.error(`Unknown expression "${f}". If you wanted a literal array, use ["literal", [...]].`,0);const S=Array.isArray(v)?v[0]:v.type,P=Array.isArray(v)?[[v[1],v[2]]]:v.overloads,M=P.filter((([z])=>!Array.isArray(z)||z.length===n.length-1));let I=null;for(const[z,j]of M){I=new Ns(s.registry,Qa,s.path,null,s.scope);const H=[];let Q=!1;for(let ee=1;ee<n.length;ee++){const re=n[ee],oe=Array.isArray(z)?z[ee-1]:z.type,ue=I.parse(re,1+H.length,oe);if(!ue){Q=!0;break}H.push(ue)}if(!Q)if(Array.isArray(z)&&z.length!==H.length)I.error(`Expected ${z.length} arguments, but found ${H.length} instead.`);else{for(let ee=0;ee<H.length;ee++){const re=Array.isArray(z)?z[ee]:z.type,oe=H[ee];I.concat(ee+1).checkSubtype(re,oe.type)}if(I.errors.length===0)return new Ii(f,S,j,H)}}if(M.length===1)s.errors.push(...I.errors);else{const z=(M.length?M:P).map((([H])=>{return Q=H,Array.isArray(Q)?`(${Q.map(qr).join(", ")})`:`(${qr(Q.type)}...)`;var Q})).join(" | "),j=[];for(let H=1;H<n.length;H++){const Q=s.parse(n[H],1+j.length);if(!Q)return null;j.push(qr(Q.type))}s.error(`Expected arguments of type ${z}, but found (${j.join(", ")}) instead.`)}return null}static register(n,s){Ii.definitions=s;for(const f in s)n[f]=Ii}}function Oh(l,[n,s,f,v]){n=n.evaluate(l),s=s.evaluate(l),f=f.evaluate(l);const S=v?v.evaluate(l):1,P=Xr(n,s,f,S);if(P)throw new Nr(P);return new _r(n/255,s/255,f/255,S,!1)}function Qi(l,n){return l in n}function Uh(l,n){const s=n[l];return s===void 0?null:s}function pa(l){return{type:l}}function Qa(l){if(l instanceof js)return Qa(l.boundExpression);if(l instanceof Ii&&l.name==="error"||l instanceof Eh||l instanceof Bs||l instanceof El||l instanceof ku)return!1;const n=l instanceof Ri||l instanceof cn;let s=!0;return l.eachChild((f=>{s=n?s&&Qa(f):s&&f instanceof Yi})),!!s&&is(l)&&kl(l,["zoom","heatmap-density","elevation","line-progress","accumulated","is-supported-script"])}function is(l){if(l instanceof Ii&&(l.name==="get"&&l.args.length===1||l.name==="feature-state"||l.name==="has"&&l.args.length===1||l.name==="properties"||l.name==="geometry-type"||l.name==="id"||/^filter-/.test(l.name))||l instanceof Bs||l instanceof El)return!1;let n=!0;return l.eachChild((s=>{n&&!is(s)&&(n=!1)})),n}function Il(l){if(l instanceof Ii&&l.name==="feature-state")return!1;let n=!0;return l.eachChild((s=>{n&&!Il(s)&&(n=!1)})),n}function kl(l,n){if(l instanceof Ii&&n.indexOf(l.name)>=0)return!1;let s=!0;return l.eachChild((f=>{s&&!kl(f,n)&&(s=!1)})),s}function Ou(l){return{result:"success",value:l}}function Hs(l){return{result:"error",value:l}}function ki(l){return l["property-type"]==="data-driven"||l["property-type"]==="cross-faded-data-driven"}function Gf(l){return!!l.expression&&l.expression.parameters.indexOf("zoom")>-1}function Rc(l){return!!l.expression&&l.expression.interpolated}function gr(l){return l instanceof Number?"number":l instanceof String?"string":l instanceof Boolean?"boolean":Array.isArray(l)?"array":l===null?"null":typeof l}function Uu(l){return typeof l=="object"&&l!==null&&!Array.isArray(l)&&tr(l)===mn}function Oi(l){return l}function Lh(l,n){const s=l.stops&&typeof l.stops[0][0]=="object",f=s||!(s||l.property!==void 0),v=l.type||(Rc(n)?"exponential":"interval"),S=(function(j){switch(j.type){case"color":return _r.parse;case"padding":return ia.parse;case"numberArray":return Pa.parse;case"colorArray":return $n.parse;default:return null}})(n);if(S&&((l=ka({},l)).stops&&(l.stops=l.stops.map((j=>[j[0],S(j[1])]))),l.default=S(l.default?l.default:n.default)),l.colorSpace&&(P=l.colorSpace)!=="rgb"&&P!=="hcl"&&P!=="lab")throw new Error(`Unknown color space: "${l.colorSpace}"`);var P;const M=(function(j){switch(j){case"exponential":return Vs;case"interval":return zh;case"categorical":return Zf;case"identity":return Yf;default:throw new Error(`Unknown function type "${j}"`)}})(v);let I,z;if(v==="categorical"){I=Object.create(null);for(const j of l.stops)I[j[0]]=j[1];z=typeof l.stops[0][0]}if(s){const j={},H=[];for(let re=0;re<l.stops.length;re++){const oe=l.stops[re],ue=oe[0].zoom;j[ue]===void 0&&(j[ue]={zoom:ue,type:l.type,property:l.property,default:l.default,stops:[]},H.push(ue)),j[ue].stops.push([oe[0].value,oe[1]])}const Q=[];for(const re of H)Q.push([j[re].zoom,Lh(j[re],n)]);const ee={name:"linear"};return{kind:"composite",interpolationType:ee,interpolationFactor:Da.interpolationFactor.bind(void 0,ee),zoomStops:Q.map((re=>re[0])),evaluate:({zoom:re},oe)=>Vs({stops:Q,base:l.base},n,re).evaluate(re,oe)}}if(f){const j=v==="exponential"?{name:"exponential",base:l.base!==void 0?l.base:1}:null;return{kind:"camera",interpolationType:j,interpolationFactor:Da.interpolationFactor.bind(void 0,j),zoomStops:l.stops.map((H=>H[0])),evaluate:({zoom:H})=>M(l,n,H,I,z)}}return{kind:"source",evaluate(j,H){const Q=H&&H.properties?H.properties[l.property]:void 0;return Q===void 0?La(l.default,n.default):M(l,n,Q,I,z)}}}function La(l,n,s){return l!==void 0?l:n!==void 0?n:s!==void 0?s:void 0}function Zf(l,n,s,f,v){return La(typeof s===v?f[s]:void 0,l.default,n.default)}function zh(l,n,s){if(gr(s)!=="number")return La(l.default,n.default);const f=l.stops.length;if(f===1||s<=l.stops[0][0])return l.stops[0][1];if(s>=l.stops[f-1][0])return l.stops[f-1][1];const v=wl(l.stops.map((S=>S[0])),s);return l.stops[v][1]}function Vs(l,n,s){const f=l.base!==void 0?l.base:1;if(gr(s)!=="number")return La(l.default,n.default);const v=l.stops.length;if(v===1||s<=l.stops[0][0])return l.stops[0][1];if(s>=l.stops[v-1][0])return l.stops[v-1][1];const S=wl(l.stops.map((j=>j[0])),s),P=(function(j,H,Q,ee){const re=ee-Q,oe=j-Q;return re===0?0:H===1?oe/re:(Math.pow(H,oe)-1)/(Math.pow(H,re)-1)})(s,f,l.stops[S][0],l.stops[S+1][0]),M=l.stops[S][1],I=l.stops[S+1][1],z=Fo[n.type]||Oi;return typeof M.evaluate=="function"?{evaluate(...j){const H=M.evaluate.apply(void 0,j),Q=I.evaluate.apply(void 0,j);if(H!==void 0&&Q!==void 0)return z(H,Q,P,l.colorSpace)}}:z(M,I,P,l.colorSpace)}function Yf(l,n,s){switch(n.type){case"color":s=_r.parse(s);break;case"formatted":s=ea.fromString(s.toString());break;case"resolvedImage":s=Ca.fromString(s.toString());break;case"padding":s=ia.parse(s);break;case"colorArray":s=$n.parse(s);break;case"numberArray":s=Pa.parse(s);break;default:gr(s)===n.type||n.type==="enum"&&n.values[s]||(s=void 0)}return La(s,l.default,n.default)}Ii.register(Rl,{error:[{kind:"error"},[mr],(l,[n])=>{throw new Nr(n.evaluate(l))}],typeof:[mr,[yr],(l,[n])=>qr(tr(n.evaluate(l)))],"to-rgba":[Sa(Ot,4),[qn],(l,[n])=>{const[s,f,v,S]=n.evaluate(l).rgb;return[255*s,255*f,255*v,S]}],rgb:[qn,[Ot,Ot,Ot],Oh],rgba:[qn,[Ot,Ot,Ot,Ot],Oh],has:{type:ur,overloads:[[[mr],(l,[n])=>Qi(n.evaluate(l),l.properties())],[[mr,mn],(l,[n,s])=>Qi(n.evaluate(l),s.evaluate(l))]]},get:{type:yr,overloads:[[[mr],(l,[n])=>Uh(n.evaluate(l),l.properties())],[[mr,mn],(l,[n,s])=>Uh(n.evaluate(l),s.evaluate(l))]]},"feature-state":[yr,[mr],(l,[n])=>Uh(n.evaluate(l),l.featureState||{})],properties:[mn,[],l=>l.properties()],"geometry-type":[mr,[],l=>l.geometryType()],id:[yr,[],l=>l.id()],zoom:[Ot,[],l=>l.globals.zoom],"heatmap-density":[Ot,[],l=>l.globals.heatmapDensity||0],elevation:[Ot,[],l=>l.globals.elevation||0],"line-progress":[Ot,[],l=>l.globals.lineProgress||0],accumulated:[yr,[],l=>l.globals.accumulated===void 0?null:l.globals.accumulated],"+":[Ot,pa(Ot),(l,n)=>{let s=0;for(const f of n)s+=f.evaluate(l);return s}],"*":[Ot,pa(Ot),(l,n)=>{let s=1;for(const f of n)s*=f.evaluate(l);return s}],"-":{type:Ot,overloads:[[[Ot,Ot],(l,[n,s])=>n.evaluate(l)-s.evaluate(l)],[[Ot],(l,[n])=>-n.evaluate(l)]]},"/":[Ot,[Ot,Ot],(l,[n,s])=>n.evaluate(l)/s.evaluate(l)],"%":[Ot,[Ot,Ot],(l,[n,s])=>n.evaluate(l)%s.evaluate(l)],ln2:[Ot,[],()=>Math.LN2],pi:[Ot,[],()=>Math.PI],e:[Ot,[],()=>Math.E],"^":[Ot,[Ot,Ot],(l,[n,s])=>Math.pow(n.evaluate(l),s.evaluate(l))],sqrt:[Ot,[Ot],(l,[n])=>Math.sqrt(n.evaluate(l))],log10:[Ot,[Ot],(l,[n])=>Math.log(n.evaluate(l))/Math.LN10],ln:[Ot,[Ot],(l,[n])=>Math.log(n.evaluate(l))],log2:[Ot,[Ot],(l,[n])=>Math.log(n.evaluate(l))/Math.LN2],sin:[Ot,[Ot],(l,[n])=>Math.sin(n.evaluate(l))],cos:[Ot,[Ot],(l,[n])=>Math.cos(n.evaluate(l))],tan:[Ot,[Ot],(l,[n])=>Math.tan(n.evaluate(l))],asin:[Ot,[Ot],(l,[n])=>Math.asin(n.evaluate(l))],acos:[Ot,[Ot],(l,[n])=>Math.acos(n.evaluate(l))],atan:[Ot,[Ot],(l,[n])=>Math.atan(n.evaluate(l))],min:[Ot,pa(Ot),(l,n)=>Math.min(...n.map((s=>s.evaluate(l))))],max:[Ot,pa(Ot),(l,n)=>Math.max(...n.map((s=>s.evaluate(l))))],abs:[Ot,[Ot],(l,[n])=>Math.abs(n.evaluate(l))],round:[Ot,[Ot],(l,[n])=>{const s=n.evaluate(l);return s<0?-Math.round(-s):Math.round(s)}],floor:[Ot,[Ot],(l,[n])=>Math.floor(n.evaluate(l))],ceil:[Ot,[Ot],(l,[n])=>Math.ceil(n.evaluate(l))],"filter-==":[ur,[mr,yr],(l,[n,s])=>l.properties()[n.value]===s.value],"filter-id-==":[ur,[yr],(l,[n])=>l.id()===n.value],"filter-type-==":[ur,[mr],(l,[n])=>l.geometryType()===n.value],"filter-<":[ur,[mr,yr],(l,[n,s])=>{const f=l.properties()[n.value],v=s.value;return typeof f==typeof v&&f<v}],"filter-id-<":[ur,[yr],(l,[n])=>{const s=l.id(),f=n.value;return typeof s==typeof f&&s<f}],"filter->":[ur,[mr,yr],(l,[n,s])=>{const f=l.properties()[n.value],v=s.value;return typeof f==typeof v&&f>v}],"filter-id->":[ur,[yr],(l,[n])=>{const s=l.id(),f=n.value;return typeof s==typeof f&&s>f}],"filter-<=":[ur,[mr,yr],(l,[n,s])=>{const f=l.properties()[n.value],v=s.value;return typeof f==typeof v&&f<=v}],"filter-id-<=":[ur,[yr],(l,[n])=>{const s=l.id(),f=n.value;return typeof s==typeof f&&s<=f}],"filter->=":[ur,[mr,yr],(l,[n,s])=>{const f=l.properties()[n.value],v=s.value;return typeof f==typeof v&&f>=v}],"filter-id->=":[ur,[yr],(l,[n])=>{const s=l.id(),f=n.value;return typeof s==typeof f&&s>=f}],"filter-has":[ur,[yr],(l,[n])=>n.value in l.properties()],"filter-has-id":[ur,[],l=>l.id()!==null&&l.id()!==void 0],"filter-type-in":[ur,[Sa(mr)],(l,[n])=>n.value.indexOf(l.geometryType())>=0],"filter-id-in":[ur,[Sa(yr)],(l,[n])=>n.value.indexOf(l.id())>=0],"filter-in-small":[ur,[mr,Sa(yr)],(l,[n,s])=>s.value.indexOf(l.properties()[n.value])>=0],"filter-in-large":[ur,[mr,Sa(yr)],(l,[n,s])=>(function(f,v,S,P){for(;S<=P;){const M=S+P>>1;if(v[M]===f)return!0;v[M]>f?P=M-1:S=M+1}return!1})(l.properties()[n.value],s.value,0,s.value.length-1)],all:{type:ur,overloads:[[[ur,ur],(l,[n,s])=>n.evaluate(l)&&s.evaluate(l)],[pa(ur),(l,n)=>{for(const s of n)if(!s.evaluate(l))return!1;return!0}]]},any:{type:ur,overloads:[[[ur,ur],(l,[n,s])=>n.evaluate(l)||s.evaluate(l)],[pa(ur),(l,n)=>{for(const s of n)if(s.evaluate(l))return!0;return!1}]]},"!":[ur,[ur],(l,[n])=>!n.evaluate(l)],"is-supported-script":[ur,[mr],(l,[n])=>{const s=l.globals&&l.globals.isSupportedScript;return!s||s(n.evaluate(l))}],upcase:[mr,[mr],(l,[n])=>n.evaluate(l).toUpperCase()],downcase:[mr,[mr],(l,[n])=>n.evaluate(l).toLowerCase()],concat:[mr,pa(yr),(l,n)=>n.map((s=>lr(s.evaluate(l)))).join("")],"resolved-locale":[mr,[pu],(l,[n])=>n.evaluate(l).resolvedLocale()]});class Lu{constructor(n,s,f){this.expression=n,this._warningHistory={},this._evaluator=new Uf,this._defaultValue=s?(function(v){if(v.type==="color"&&Uu(v.default))return new _r(0,0,0,0);switch(v.type){case"color":return _r.parse(v.default)||null;case"padding":return ia.parse(v.default)||null;case"numberArray":return Pa.parse(v.default)||null;case"colorArray":return $n.parse(v.default)||null;case"variableAnchorOffsetCollection":return Aa.parse(v.default)||null;case"projectionDefinition":return En.parse(v.default)||null;default:return v.default===void 0?null:v.default}})(s):null,this._enumValues=s&&s.type==="enum"?s.values:null,this._globalState=f}evaluateWithoutErrorHandling(n,s,f,v,S,P){return this._globalState&&(n=Xa(n,this._globalState)),this._evaluator.globals=n,this._evaluator.feature=s,this._evaluator.featureState=f,this._evaluator.canonical=v,this._evaluator.availableImages=S||null,this._evaluator.formattedSection=P,this.expression.evaluate(this._evaluator)}evaluate(n,s,f,v,S,P){this._globalState&&(n=Xa(n,this._globalState)),this._evaluator.globals=n,this._evaluator.feature=s||null,this._evaluator.featureState=f||null,this._evaluator.canonical=v,this._evaluator.availableImages=S||null,this._evaluator.formattedSection=P||null;try{const M=this.expression.evaluate(this._evaluator);if(M==null||typeof M=="number"&&M!=M)return this._defaultValue;if(this._enumValues&&!(M in this._enumValues))throw new Nr(`Expected value to be one of ${Object.keys(this._enumValues).map((I=>JSON.stringify(I))).join(", ")}, but found ${JSON.stringify(M)} instead.`);return M}catch(M){return this._warningHistory[M.message]||(this._warningHistory[M.message]=!0,typeof console<"u"&&console.warn(M.message)),this._defaultValue}}}function os(l){return Array.isArray(l)&&l.length>0&&typeof l[0]=="string"&&l[0]in Rl}function jo(l,n,s){const f=new Ns(Rl,Qa,[],n?(function(S){const P={color:qn,string:mr,number:Ot,enum:mr,boolean:ur,formatted:pi,padding:es,numberArray:ml,colorArray:Ro,projectionDefinition:Zi,resolvedImage:Tn,variableAnchorOffsetCollection:Ch};return S.type==="array"?Sa(P[S.value]||yr,S.length):P[S.type]})(n):void 0),v=f.parse(l,void 0,void 0,void 0,n&&n.type==="string"?{typeAnnotation:"coerce"}:void 0);return v?Ou(new Lu(v,n,s)):Hs(f.errors)}class Ws{constructor(n,s,f){this.kind=n,this._styleExpression=s,this.isStateDependent=n!=="constant"&&!Il(s.expression),this.globalStateRefs=Li(s.expression),this._globalState=f}evaluateWithoutErrorHandling(n,s,f,v,S,P){return this._globalState&&(n=Xa(n,this._globalState)),this._styleExpression.evaluateWithoutErrorHandling(n,s,f,v,S,P)}evaluate(n,s,f,v,S,P){return this._globalState&&(n=Xa(n,this._globalState)),this._styleExpression.evaluate(n,s,f,v,S,P)}}class Ic{constructor(n,s,f,v,S){this.kind=n,this.zoomStops=f,this._styleExpression=s,this.isStateDependent=n!=="camera"&&!Il(s.expression),this.globalStateRefs=Li(s.expression),this.interpolationType=v,this._globalState=S}evaluateWithoutErrorHandling(n,s,f,v,S,P){return this._globalState&&(n=Xa(n,this._globalState)),this._styleExpression.evaluateWithoutErrorHandling(n,s,f,v,S,P)}evaluate(n,s,f,v,S,P){return this._globalState&&(n=Xa(n,this._globalState)),this._styleExpression.evaluate(n,s,f,v,S,P)}interpolationFactor(n,s,f){return this.interpolationType?Da.interpolationFactor(this.interpolationType,n,s,f):0}}function Ui(l,n,s){const f=jo(l,n,s);if(f.result==="error")return f;const v=f.value.expression,S=is(v);if(!S&&!ki(n))return Hs([new Mn("","data expressions not supported")]);const P=kl(v,["zoom"]);if(!P&&!Gf(n))return Hs([new Mn("","zoom expressions not supported")]);const M=oo(v);return M||P?M instanceof Mn?Hs([M]):M instanceof Da&&!Rc(n)?Hs([new Mn("",'"interpolate" expressions cannot be used with this property')]):Ou(M?new Ic(S?"camera":"composite",f.value,M.labels,M instanceof Da?M.interpolation:void 0,s):new Ws(S?"constant":"source",f.value,s)):Hs([new Mn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class za{constructor(n,s){this._parameters=n,this._specification=s,ka(this,Lh(this._parameters,this._specification))}static deserialize(n){return new za(n._parameters,n._specification)}static serialize(n){return{_parameters:n._parameters,_specification:n._specification}}}function oo(l){let n=null;if(l instanceof bl)n=oo(l.result);else if(l instanceof Pl){for(const s of l.args)if(n=oo(s),n)break}else(l instanceof Un||l instanceof Da)&&l.input instanceof Ii&&l.input.name==="zoom"&&(n=l);return n instanceof Mn||l.eachChild((s=>{const f=oo(s);f instanceof Mn?n=f:!n&&f?n=new Mn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):n&&f&&n!==f&&(n=new Mn("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),n}function Li(l,n=new Set){return l instanceof ku&&n.add(l.key),l.eachChild((s=>{Li(s,n)})),n}function Xa(l,n){const{zoom:s,heatmapDensity:f,elevation:v,lineProgress:S,isSupportedScript:P,accumulated:M}=l??{};return{zoom:s,heatmapDensity:f,elevation:v,lineProgress:S,isSupportedScript:P,accumulated:M,globalState:n}}function so(l){if(l===!0||l===!1)return!0;if(!Array.isArray(l)||l.length===0)return!1;switch(l[0]){case"has":return l.length>=2&&l[1]!=="$id"&&l[1]!=="$type";case"in":return l.length>=3&&(typeof l[1]!="string"||Array.isArray(l[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return l.length!==3||Array.isArray(l[1])||Array.isArray(l[2]);case"any":case"all":for(const n of l.slice(1))if(!so(n)&&typeof n!="boolean")return!1;return!0;default:return!0}}const Fh={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function ss(l,n){if(l==null)return{filter:()=>!0,needGeometry:!1,getGlobalStateRefs:()=>new Set};so(l)||(l=yn(l));const s=jo(l,Fh,n);if(s.result==="error")throw new Error(s.value.map((f=>`${f.key}: ${f.message}`)).join(", "));return{filter:(f,v,S)=>s.value.evaluate(f,v,{},S),needGeometry:oa(l),getGlobalStateRefs:()=>Li(s.value.expression)}}function zu(l,n){return l<n?-1:l>n?1:0}function oa(l){if(!Array.isArray(l))return!1;if(l[0]==="within"||l[0]==="distance")return!0;for(let n=1;n<l.length;n++)if(oa(l[n]))return!0;return!1}function yn(l){if(!l)return!0;const n=l[0];return l.length<=1?n!=="any":n==="=="?Fr(l[1],l[2],"=="):n==="!="?kc(Fr(l[1],l[2],"==")):n==="<"||n===">"||n==="<="||n===">="?Fr(l[1],l[2],n):n==="any"?(s=l.slice(1),["any"].concat(s.map(yn))):n==="all"?["all"].concat(l.slice(1).map(yn)):n==="none"?["all"].concat(l.slice(1).map(yn).map(kc)):n==="in"?Gs(l[1],l.slice(2)):n==="!in"?kc(Gs(l[1],l.slice(2))):n==="has"?lo(l[1]):n!=="!has"||kc(lo(l[1]));var s}function Fr(l,n,s){switch(l){case"$type":return[`filter-type-${s}`,n];case"$id":return[`filter-id-${s}`,n];default:return[`filter-${s}`,l,n]}}function Gs(l,n){if(n.length===0)return!1;switch(l){case"$type":return["filter-type-in",["literal",n]];case"$id":return["filter-id-in",["literal",n]];default:return n.length>200&&!n.some((s=>typeof s!=typeof n[0]))?["filter-in-large",l,["literal",n.sort(zu)]]:["filter-in-small",l,["literal",n]]}}function lo(l){switch(l){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",l]}}function kc(l){return["!",l]}function ls(l){const n=typeof l;if(n==="number"||n==="boolean"||n==="string"||l==null)return JSON.stringify(l);if(Array.isArray(l)){let v="[";for(const S of l)v+=`${ls(S)},`;return`${v}]`}const s=Object.keys(l).sort();let f="{";for(let v=0;v<s.length;v++)f+=`${JSON.stringify(s[v])}:${ls(l[s[v]])},`;return`${f}}`}function Qf(l){let n="";for(const s of ir)n+=`/${ls(l[s])}`;return n}function Nh(l){const n=l.value;return n?[new Pt(l.key,n,"constants have been deprecated as of v8")]:[]}function Wr(l){return l instanceof Number||l instanceof String||l instanceof Boolean?l.valueOf():l}function co(l){if(Array.isArray(l))return l.map(co);if(l instanceof Object&&!(l instanceof Number||l instanceof String||l instanceof Boolean)){const n={};for(const s in l)n[s]=co(l[s]);return n}return Wr(l)}function yi(l){const n=l.key,s=l.value,f=l.valueSpec||{},v=l.objectElementValidators||{},S=l.style,P=l.styleSpec,M=l.validateSpec;let I=[];const z=gr(s);if(z!=="object")return[new Pt(n,s,`object expected, ${z} found`)];for(const j in s){const H=j.split(".")[0],Q=vl(f,H)||f["*"];let ee;if(vl(v,H))ee=v[H];else if(vl(f,H))ee=M;else if(v["*"])ee=v["*"];else{if(!f["*"]){I.push(new Pt(n,s[j],`unknown property "${j}"`));continue}ee=M}I=I.concat(ee({key:(n&&`${n}.`)+j,value:s[j],valueSpec:Q,style:S,styleSpec:P,object:s,objectKey:j,validateSpec:M},s))}for(const j in f)v[j]||f[j].required&&f[j].default===void 0&&s[j]===void 0&&I.push(new Pt(n,s,`missing required property "${j}"`));return I}function Zs(l){const n=l.value,s=l.valueSpec,f=l.style,v=l.styleSpec,S=l.key,P=l.arrayElementValidator||l.validateSpec;if(gr(n)!=="array")return[new Pt(S,n,`array expected, ${gr(n)} found`)];if(s.length&&n.length!==s.length)return[new Pt(S,n,`array length ${s.length} expected, length ${n.length} found`)];if(s["min-length"]&&n.length<s["min-length"])return[new Pt(S,n,`array length at least ${s["min-length"]} expected, length ${n.length} found`)];let M={type:s.value,values:s.values};v.$version<7&&(M.function=s.function),gr(s.value)==="object"&&(M=s.value);let I=[];for(let z=0;z<n.length;z++)I=I.concat(P({array:n,arrayIndex:z,value:n[z],valueSpec:M,validateSpec:l.validateSpec,style:f,styleSpec:v,key:`${S}[${z}]`}));return I}function Oc(l){const n=l.key,s=l.value,f=l.valueSpec;let v=gr(s);return v==="number"&&s!=s&&(v="NaN"),v!=="number"?[new Pt(n,s,`number expected, ${v} found`)]:"minimum"in f&&s<f.minimum?[new Pt(n,s,`${s} is less than the minimum value ${f.minimum}`)]:"maximum"in f&&s>f.maximum?[new Pt(n,s,`${s} is greater than the maximum value ${f.maximum}`)]:[]}function cs(l){const n=l.valueSpec,s=Wr(l.value.type);let f,v,S,P={};const M=s!=="categorical"&&l.value.property===void 0,I=!M,z=gr(l.value.stops)==="array"&&gr(l.value.stops[0])==="array"&&gr(l.value.stops[0][0])==="object",j=yi({key:l.key,value:l.value,valueSpec:l.styleSpec.function,validateSpec:l.validateSpec,style:l.style,styleSpec:l.styleSpec,objectElementValidators:{stops:function(ee){if(s==="identity")return[new Pt(ee.key,ee.value,'identity function may not have a "stops" property')];let re=[];const oe=ee.value;return re=re.concat(Zs({key:ee.key,value:oe,valueSpec:ee.valueSpec,validateSpec:ee.validateSpec,style:ee.style,styleSpec:ee.styleSpec,arrayElementValidator:H})),gr(oe)==="array"&&oe.length===0&&re.push(new Pt(ee.key,oe,"array must have at least one stop")),re},default:function(ee){return ee.validateSpec({key:ee.key,value:ee.value,valueSpec:n,validateSpec:ee.validateSpec,style:ee.style,styleSpec:ee.styleSpec})}}});return s==="identity"&&M&&j.push(new Pt(l.key,l.value,'missing required property "property"')),s==="identity"||l.value.stops||j.push(new Pt(l.key,l.value,'missing required property "stops"')),s==="exponential"&&l.valueSpec.expression&&!Rc(l.valueSpec)&&j.push(new Pt(l.key,l.value,"exponential functions not supported")),l.styleSpec.$version>=8&&(I&&!ki(l.valueSpec)?j.push(new Pt(l.key,l.value,"property functions not supported")):M&&!Gf(l.valueSpec)&&j.push(new Pt(l.key,l.value,"zoom functions not supported"))),s!=="categorical"&&!z||l.value.property!==void 0||j.push(new Pt(l.key,l.value,'"property" property is required')),j;function H(ee){let re=[];const oe=ee.value,ue=ee.key;if(gr(oe)!=="array")return[new Pt(ue,oe,`array expected, ${gr(oe)} found`)];if(oe.length!==2)return[new Pt(ue,oe,`array length 2 expected, length ${oe.length} found`)];if(z){if(gr(oe[0])!=="object")return[new Pt(ue,oe,`object expected, ${gr(oe[0])} found`)];if(oe[0].zoom===void 0)return[new Pt(ue,oe,"object stop key must have zoom")];if(oe[0].value===void 0)return[new Pt(ue,oe,"object stop key must have value")];if(S&&S>Wr(oe[0].zoom))return[new Pt(ue,oe[0].zoom,"stop zoom values must appear in ascending order")];Wr(oe[0].zoom)!==S&&(S=Wr(oe[0].zoom),v=void 0,P={}),re=re.concat(yi({key:`${ue}[0]`,value:oe[0],valueSpec:{zoom:{}},validateSpec:ee.validateSpec,style:ee.style,styleSpec:ee.styleSpec,objectElementValidators:{zoom:Oc,value:Q}}))}else re=re.concat(Q({key:`${ue}[0]`,value:oe[0],validateSpec:ee.validateSpec,style:ee.style,styleSpec:ee.styleSpec},oe));return os(co(oe[1]))?re.concat([new Pt(`${ue}[1]`,oe[1],"expressions are not allowed in function stops.")]):re.concat(ee.validateSpec({key:`${ue}[1]`,value:oe[1],valueSpec:n,validateSpec:ee.validateSpec,style:ee.style,styleSpec:ee.styleSpec}))}function Q(ee,re){const oe=gr(ee.value),ue=Wr(ee.value),ge=ee.value!==null?ee.value:re;if(f){if(oe!==f)return[new Pt(ee.key,ge,`${oe} stop domain type must match previous stop domain type ${f}`)]}else f=oe;if(oe!=="number"&&oe!=="string"&&oe!=="boolean")return[new Pt(ee.key,ge,"stop domain value must be a number, string, or boolean")];if(oe!=="number"&&s!=="categorical"){let Fe=`number expected, ${oe} found`;return ki(n)&&s===void 0&&(Fe+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Pt(ee.key,ge,Fe)]}return s!=="categorical"||oe!=="number"||isFinite(ue)&&Math.floor(ue)===ue?s!=="categorical"&&oe==="number"&&v!==void 0&&ue<v?[new Pt(ee.key,ge,"stop domain values must appear in ascending order")]:(v=ue,s==="categorical"&&ue in P?[new Pt(ee.key,ge,"stop domain values must be unique")]:(P[ue]=!0,[])):[new Pt(ee.key,ge,`integer expected, found ${ue}`)]}}function Ka(l){const n=(l.expressionContext==="property"?Ui:jo)(co(l.value),l.valueSpec);if(n.result==="error")return n.value.map((f=>new Pt(`${l.key}${f.key}`,l.value,f.message)));const s=n.value.expression||n.value._styleExpression.expression;if(l.expressionContext==="property"&&l.propertyKey==="text-font"&&!s.outputDefined())return[new Pt(l.key,l.value,`Invalid data expression for "${l.propertyKey}". Output values must be contained as literals within the expression.`)];if(l.expressionContext==="property"&&l.propertyType==="layout"&&!Il(s))return[new Pt(l.key,l.value,'"feature-state" data expressions are not supported with layout properties.')];if(l.expressionContext==="filter"&&!Il(s))return[new Pt(l.key,l.value,'"feature-state" data expressions are not supported with filters.')];if(l.expressionContext&&l.expressionContext.indexOf("cluster")===0){if(!kl(s,["zoom","feature-state"]))return[new Pt(l.key,l.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(l.expressionContext==="cluster-initial"&&!is(s))return[new Pt(l.key,l.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function gi(l){const n=l.key,s=l.value,f=gr(s);return f!=="string"?[new Pt(n,s,`color expected, ${f} found`)]:_r.parse(String(s))?[]:[new Pt(n,s,`color expected, "${s}" found`)]}function zi(l){const n=l.key,s=l.value,f=l.valueSpec,v=[];return Array.isArray(f.values)?f.values.indexOf(Wr(s))===-1&&v.push(new Pt(n,s,`expected one of [${f.values.join(", ")}], ${JSON.stringify(s)} found`)):Object.keys(f.values).indexOf(Wr(s))===-1&&v.push(new Pt(n,s,`expected one of [${Object.keys(f.values).join(", ")}], ${JSON.stringify(s)} found`)),v}function Fu(l){return so(co(l.value))?Ka(ka({},l,{expressionContext:"filter",valueSpec:{value:"boolean"}})):jh(l)}function jh(l){const n=l.value,s=l.key;if(gr(n)!=="array")return[new Pt(s,n,`array expected, ${gr(n)} found`)];const f=l.styleSpec;let v,S=[];if(n.length<1)return[new Pt(s,n,"filter array must have at least 1 element")];switch(S=S.concat(zi({key:`${s}[0]`,value:n[0],valueSpec:f.filter_operator,style:l.style,styleSpec:l.styleSpec})),Wr(n[0])){case"<":case"<=":case">":case">=":n.length>=2&&Wr(n[1])==="$type"&&S.push(new Pt(s,n,`"$type" cannot be use with operator "${n[0]}"`));case"==":case"!=":n.length!==3&&S.push(new Pt(s,n,`filter array for operator "${n[0]}" must have 3 elements`));case"in":case"!in":n.length>=2&&(v=gr(n[1]),v!=="string"&&S.push(new Pt(`${s}[1]`,n[1],`string expected, ${v} found`)));for(let P=2;P<n.length;P++)v=gr(n[P]),Wr(n[1])==="$type"?S=S.concat(zi({key:`${s}[${P}]`,value:n[P],valueSpec:f.geometry_type,style:l.style,styleSpec:l.styleSpec})):v!=="string"&&v!=="number"&&v!=="boolean"&&S.push(new Pt(`${s}[${P}]`,n[P],`string, number, or boolean expected, ${v} found`));break;case"any":case"all":case"none":for(let P=1;P<n.length;P++)S=S.concat(jh({key:`${s}[${P}]`,value:n[P],style:l.style,styleSpec:l.styleSpec}));break;case"has":case"!has":v=gr(n[1]),n.length!==2?S.push(new Pt(s,n,`filter array for "${n[0]}" operator must have 2 elements`)):v!=="string"&&S.push(new Pt(`${s}[1]`,n[1],`string expected, ${v} found`))}return S}function Uc(l,n){const s=l.key,f=l.validateSpec,v=l.style,S=l.styleSpec,P=l.value,M=l.objectKey,I=S[`${n}_${l.layerType}`];if(!I)return[];const z=M.match(/^(.*)-transition$/);if(n==="paint"&&z&&I[z[1]]&&I[z[1]].transition)return f({key:s,value:P,valueSpec:S.transition,style:v,styleSpec:S});const j=l.valueSpec||I[M];if(!j)return[new Pt(s,P,`unknown property "${M}"`)];let H;if(gr(P)==="string"&&ki(j)&&!j.tokens&&(H=/^{([^}]+)}$/.exec(P)))return[new Pt(s,P,`"${M}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(H[1])} }\`.`)];const Q=[];return l.layerType==="symbol"&&(M==="text-field"&&v&&!v.glyphs&&Q.push(new Pt(s,P,'use of "text-field" requires a style "glyphs" property')),M==="text-font"&&Uu(co(P))&&Wr(P.type)==="identity"&&Q.push(new Pt(s,P,'"text-font" does not support identity functions'))),Q.concat(f({key:l.key,value:P,valueSpec:j,style:v,styleSpec:S,expressionContext:"property",propertyType:n,propertyKey:M}))}function Nu(l){return Uc(l,"paint")}function Ys(l){return Uc(l,"layout")}function Hn(l){let n=[];const s=l.value,f=l.key,v=l.style,S=l.styleSpec;if(gr(s)!=="object")return[new Pt(f,s,`object expected, ${gr(s)} found`)];s.type||s.ref||n.push(new Pt(f,s,'either "type" or "ref" is required'));let P=Wr(s.type);const M=Wr(s.ref);if(s.id){const I=Wr(s.id);for(let z=0;z<l.arrayIndex;z++){const j=v.layers[z];Wr(j.id)===I&&n.push(new Pt(f,s.id,`duplicate layer id "${s.id}", previously used at line ${j.id.__line__}`))}}if("ref"in s){let I;["type","source","source-layer","filter","layout"].forEach((z=>{z in s&&n.push(new Pt(f,s[z],`"${z}" is prohibited for ref layers`))})),v.layers.forEach((z=>{Wr(z.id)===M&&(I=z)})),I?I.ref?n.push(new Pt(f,s.ref,"ref cannot reference another ref layer")):P=Wr(I.type):n.push(new Pt(f,s.ref,`ref layer "${M}" not found`))}else if(P!=="background")if(s.source){const I=v.sources&&v.sources[s.source],z=I&&Wr(I.type);I?z==="vector"&&P==="raster"?n.push(new Pt(f,s.source,`layer "${s.id}" requires a raster source`)):z!=="raster-dem"&&P==="hillshade"||z!=="raster-dem"&&P==="color-relief"?n.push(new Pt(f,s.source,`layer "${s.id}" requires a raster-dem source`)):z==="raster"&&P!=="raster"?n.push(new Pt(f,s.source,`layer "${s.id}" requires a vector source`)):z!=="vector"||s["source-layer"]?z==="raster-dem"&&P!=="hillshade"&&P!=="color-relief"?n.push(new Pt(f,s.source,"raster-dem source can only be used with layer type 'hillshade' or 'color-relief'.")):P!=="line"||!s.paint||!s.paint["line-gradient"]||z==="geojson"&&I.lineMetrics||n.push(new Pt(f,s,`layer "${s.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):n.push(new Pt(f,s,`layer "${s.id}" must specify a "source-layer"`)):n.push(new Pt(f,s.source,`source "${s.source}" not found`))}else n.push(new Pt(f,s,'missing required property "source"'));return n=n.concat(yi({key:f,value:s,valueSpec:S.layer,style:l.style,styleSpec:l.styleSpec,validateSpec:l.validateSpec,objectElementValidators:{"*":()=>[],type:()=>l.validateSpec({key:`${f}.type`,value:s.type,valueSpec:S.layer.type,style:l.style,styleSpec:l.styleSpec,validateSpec:l.validateSpec,object:s,objectKey:"type"}),filter:Fu,layout:I=>yi({layer:s,key:I.key,value:I.value,style:I.style,styleSpec:I.styleSpec,validateSpec:I.validateSpec,objectElementValidators:{"*":z=>Ys(ka({layerType:P},z))}}),paint:I=>yi({layer:s,key:I.key,value:I.value,style:I.style,styleSpec:I.styleSpec,validateSpec:I.validateSpec,objectElementValidators:{"*":z=>Nu(ka({layerType:P},z))}})}})),n}function vi(l){const n=l.value,s=l.key,f=gr(n);return f!=="string"?[new Pt(s,n,`string expected, ${f} found`)]:[]}const Ja={promoteId:function({key:l,value:n}){if(gr(n)==="string")return vi({key:l,value:n});{const s=[];for(const f in n)s.push(...vi({key:`${l}.${f}`,value:n[f]}));return s}}};function Lc(l){const n=l.value,s=l.key,f=l.styleSpec,v=l.style,S=l.validateSpec;if(!n.type)return[new Pt(s,n,'"type" is required')];const P=Wr(n.type);let M;switch(P){case"vector":case"raster":return M=yi({key:s,value:n,valueSpec:f[`source_${P.replace("-","_")}`],style:l.style,styleSpec:f,objectElementValidators:Ja,validateSpec:S}),M;case"raster-dem":return M=(function(I){var z;const j=(z=I.sourceName)!==null&&z!==void 0?z:"",H=I.value,Q=I.styleSpec,ee=Q.source_raster_dem,re=I.style;let oe=[];const ue=gr(H);if(H===void 0)return oe;if(ue!=="object")return oe.push(new Pt("source_raster_dem",H,`object expected, ${ue} found`)),oe;const ge=Wr(H.encoding)==="custom",Fe=["redFactor","greenFactor","blueFactor","baseShift"],Pe=I.value.encoding?`"${I.value.encoding}"`:"Default";for(const Te in H)!ge&&Fe.includes(Te)?oe.push(new Pt(Te,H[Te],`In "${j}": "${Te}" is only valid when "encoding" is set to "custom". ${Pe} encoding found`)):ee[Te]?oe=oe.concat(I.validateSpec({key:Te,value:H[Te],valueSpec:ee[Te],validateSpec:I.validateSpec,style:re,styleSpec:Q})):oe.push(new Pt(Te,H[Te],`unknown property "${Te}"`));return oe})({sourceName:s,value:n,style:l.style,styleSpec:f,validateSpec:S}),M;case"geojson":if(M=yi({key:s,value:n,valueSpec:f.source_geojson,style:v,styleSpec:f,validateSpec:S,objectElementValidators:Ja}),n.cluster)for(const I in n.clusterProperties){const[z,j]=n.clusterProperties[I],H=typeof z=="string"?[z,["accumulated"],["get",I]]:z;M.push(...Ka({key:`${s}.${I}.map`,value:j,expressionContext:"cluster-map"})),M.push(...Ka({key:`${s}.${I}.reduce`,value:H,expressionContext:"cluster-reduce"}))}return M;case"video":return yi({key:s,value:n,valueSpec:f.source_video,style:v,validateSpec:S,styleSpec:f});case"image":return yi({key:s,value:n,valueSpec:f.source_image,style:v,validateSpec:S,styleSpec:f});case"canvas":return[new Pt(s,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return zi({key:`${s}.type`,value:n.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]}})}}function Xf(l){const n=l.value,s=l.styleSpec,f=s.light,v=l.style;let S=[];const P=gr(n);if(n===void 0)return S;if(P!=="object")return S=S.concat([new Pt("light",n,`object expected, ${P} found`)]),S;for(const M in n){const I=M.match(/^(.*)-transition$/);S=S.concat(I&&f[I[1]]&&f[I[1]].transition?l.validateSpec({key:M,value:n[M],valueSpec:s.transition,validateSpec:l.validateSpec,style:v,styleSpec:s}):f[M]?l.validateSpec({key:M,value:n[M],valueSpec:f[M],validateSpec:l.validateSpec,style:v,styleSpec:s}):[new Pt(M,n[M],`unknown property "${M}"`)])}return S}function Ap(l){const n=l.value,s=l.styleSpec,f=s.sky,v=l.style,S=gr(n);if(n===void 0)return[];if(S!=="object")return[new Pt("sky",n,`object expected, ${S} found`)];let P=[];for(const M in n)P=P.concat(f[M]?l.validateSpec({key:M,value:n[M],valueSpec:f[M],style:v,styleSpec:s}):[new Pt(M,n[M],`unknown property "${M}"`)]);return P}function ta(l){const n=l.value,s=l.styleSpec,f=s.terrain,v=l.style;let S=[];const P=gr(n);if(n===void 0)return S;if(P!=="object")return S=S.concat([new Pt("terrain",n,`object expected, ${P} found`)]),S;for(const M in n)S=S.concat(f[M]?l.validateSpec({key:M,value:n[M],valueSpec:f[M],validateSpec:l.validateSpec,style:v,styleSpec:s}):[new Pt(M,n[M],`unknown property "${M}"`)]);return S}function Qs(l){let n=[];const s=l.value,f=l.key;if(Array.isArray(s)){const v=[],S=[];for(const P in s)s[P].id&&v.includes(s[P].id)&&n.push(new Pt(f,s,`all the sprites' ids must be unique, but ${s[P].id} is duplicated`)),v.push(s[P].id),s[P].url&&S.includes(s[P].url)&&n.push(new Pt(f,s,`all the sprites' URLs must be unique, but ${s[P].url} is duplicated`)),S.push(s[P].url),n=n.concat(yi({key:`${f}[${P}]`,value:s[P],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:l.validateSpec}));return n}return vi({key:f,value:s})}function Ol(l){return n=l.value,n&&n.constructor===Object?[]:[new Pt(l.key,l.value,`object expected, ${gr(l.value)} found`)];var n}const Xs={"*":()=>[],array:Zs,boolean:function(l){const n=l.value,s=l.key,f=gr(n);return f!=="boolean"?[new Pt(s,n,`boolean expected, ${f} found`)]:[]},number:Oc,color:gi,constants:Nh,enum:zi,filter:Fu,function:cs,layer:Hn,object:yi,source:Lc,light:Xf,sky:Ap,terrain:ta,projection:function(l){const n=l.value,s=l.styleSpec,f=s.projection,v=l.style,S=gr(n);if(n===void 0)return[];if(S!=="object")return[new Pt("projection",n,`object expected, ${S} found`)];let P=[];for(const M in n)P=P.concat(f[M]?l.validateSpec({key:M,value:n[M],valueSpec:f[M],style:v,styleSpec:s}):[new Pt(M,n[M],`unknown property "${M}"`)]);return P},projectionDefinition:function(l){const n=l.key;let s=l.value;s=s instanceof String?s.valueOf():s;const f=gr(s);return f!=="array"||(function(v){return Array.isArray(v)&&v.length===3&&typeof v[0]=="string"&&typeof v[1]=="string"&&typeof v[2]=="number"})(s)||(function(v){return!!["interpolate","step","literal"].includes(v[0])})(s)?["array","string"].includes(f)?[]:[new Pt(n,s,`projection expected, invalid type "${f}" found`)]:[new Pt(n,s,`projection expected, invalid array ${JSON.stringify(s)} found`)]},string:vi,formatted:function(l){return vi(l).length===0?[]:Ka(l)},resolvedImage:function(l){return vi(l).length===0?[]:Ka(l)},padding:function(l){const n=l.key,s=l.value;if(gr(s)==="array"){if(s.length<1||s.length>4)return[new Pt(n,s,`padding requires 1 to 4 values; ${s.length} values found`)];const f={type:"number"};let v=[];for(let S=0;S<s.length;S++)v=v.concat(l.validateSpec({key:`${n}[${S}]`,value:s[S],validateSpec:l.validateSpec,valueSpec:f}));return v}return Oc({key:n,value:s,valueSpec:{}})},numberArray:function(l){const n=l.key,s=l.value;if(gr(s)==="array"){const f={type:"number"};if(s.length<1)return[new Pt(n,s,"array length at least 1 expected, length 0 found")];let v=[];for(let S=0;S<s.length;S++)v=v.concat(l.validateSpec({key:`${n}[${S}]`,value:s[S],validateSpec:l.validateSpec,valueSpec:f}));return v}return Oc({key:n,value:s,valueSpec:{}})},colorArray:function(l){const n=l.key,s=l.value;if(gr(s)==="array"){if(s.length<1)return[new Pt(n,s,"array length at least 1 expected, length 0 found")];let f=[];for(let v=0;v<s.length;v++)f=f.concat(gi({key:`${n}[${v}]`,value:s[v]}));return f}return gi({key:n,value:s})},variableAnchorOffsetCollection:function(l){const n=l.key,s=l.value,f=gr(s),v=l.styleSpec;if(f!=="array"||s.length<1||s.length%2!=0)return[new Pt(n,s,"variableAnchorOffsetCollection requires a non-empty array of even length")];let S=[];for(let P=0;P<s.length;P+=2)S=S.concat(zi({key:`${n}[${P}]`,value:s[P],valueSpec:v.layout_symbol["text-anchor"]})),S=S.concat(Zs({key:`${n}[${P+1}]`,value:s[P+1],valueSpec:{length:2,value:"number"},validateSpec:l.validateSpec,style:l.style,styleSpec:v}));return S},sprite:Qs,state:Ol};function zc(l){const n=l.value,s=l.valueSpec,f=l.styleSpec;return l.validateSpec=zc,s.expression&&Uu(Wr(n))?cs(l):s.expression&&os(co(n))?Ka(l):s.type&&Xs[s.type]?Xs[s.type](l):yi(ka({},l,{valueSpec:s.type?f[s.type]:s}))}function us(l){const n=l.value,s=l.key,f=vi(l);return f.length||(n.indexOf("{fontstack}")===-1&&f.push(new Pt(s,n,'"glyphs" url must include a "{fontstack}" token')),n.indexOf("{range}")===-1&&f.push(new Pt(s,n,'"glyphs" url must include a "{range}" token'))),f}function Ma(l,n=ze){let s=[];return s=s.concat(zc({key:"",value:l,valueSpec:n.$root,styleSpec:n,style:l,validateSpec:zc,objectElementValidators:{glyphs:us,"*":()=>[]}})),l.constants&&(s=s.concat(Nh({key:"constants",value:l.constants}))),Kf(s)}function ei(l){return function(n){return l({...n,validateSpec:zc})}}function Kf(l){return[].concat(l).sort(((n,s)=>n.line-s.line))}function uo(l){return function(...n){return Kf(l.apply(this,n))}}Ma.source=uo(ei(Lc)),Ma.sprite=uo(ei(Qs)),Ma.glyphs=uo(ei(us)),Ma.light=uo(ei(Xf)),Ma.sky=uo(ei(Ap)),Ma.terrain=uo(ei(ta)),Ma.state=uo(ei(Ol)),Ma.layer=uo(ei(Hn)),Ma.filter=uo(ei(Fu)),Ma.paintProperty=uo(ei(Nu)),Ma.layoutProperty=uo(ei(Ys));const Ul=Ma,ho=Ul.light,Jf=Ul.sky,Bh=Ul.paintProperty,ju=Ul.layoutProperty;function Fc(l,n){let s=!1;if(n&&n.length)for(const f of n)l.fire(new ht(new Error(f.message))),s=!0;return s}class Ks{constructor(n,s,f){const v=this.cells=[];if(n instanceof ArrayBuffer){this.arrayBuffer=n;const P=new Int32Array(this.arrayBuffer);n=P[0],this.d=(s=P[1])+2*(f=P[2]);for(let I=0;I<this.d*this.d;I++){const z=P[3+I],j=P[3+I+1];v.push(z===j?null:P.subarray(z,j))}const M=P[3+v.length+1];this.keys=P.subarray(P[3+v.length],M),this.bboxes=P.subarray(M),this.insert=this._insertReadonly}else{this.d=s+2*f;for(let P=0;P<this.d*this.d;P++)v.push([]);this.keys=[],this.bboxes=[]}this.n=s,this.extent=n,this.padding=f,this.scale=s/n,this.uid=0;const S=f/s*n;this.min=-S,this.max=n+S}insert(n,s,f,v,S){this._forEachCell(s,f,v,S,this._insertCell,this.uid++,void 0,void 0),this.keys.push(n),this.bboxes.push(s),this.bboxes.push(f),this.bboxes.push(v),this.bboxes.push(S)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(n,s,f,v,S,P){this.cells[S].push(P)}query(n,s,f,v,S){const P=this.min,M=this.max;if(n<=P&&s<=P&&M<=f&&M<=v&&!S)return Array.prototype.slice.call(this.keys);{const I=[];return this._forEachCell(n,s,f,v,this._queryCell,I,{},S),I}}_queryCell(n,s,f,v,S,P,M,I){const z=this.cells[S];if(z!==null){const j=this.keys,H=this.bboxes;for(let Q=0;Q<z.length;Q++){const ee=z[Q];if(M[ee]===void 0){const re=4*ee;(I?I(H[re+0],H[re+1],H[re+2],H[re+3]):n<=H[re+2]&&s<=H[re+3]&&f>=H[re+0]&&v>=H[re+1])?(M[ee]=!0,P.push(j[ee])):M[ee]=!1}}}}_forEachCell(n,s,f,v,S,P,M,I){const z=this._convertToCellCoord(n),j=this._convertToCellCoord(s),H=this._convertToCellCoord(f),Q=this._convertToCellCoord(v);for(let ee=z;ee<=H;ee++)for(let re=j;re<=Q;re++){const oe=this.d*re+ee;if((!I||I(this._convertFromCellCoord(ee),this._convertFromCellCoord(re),this._convertFromCellCoord(ee+1),this._convertFromCellCoord(re+1)))&&S.call(this,n,s,f,v,oe,P,M,I))return}}_convertFromCellCoord(n){return(n-this.padding)/this.scale}_convertToCellCoord(n){return Math.max(0,Math.min(this.d-1,Math.floor(n*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const n=this.cells,s=3+this.cells.length+1+1;let f=0;for(let P=0;P<this.cells.length;P++)f+=this.cells[P].length;const v=new Int32Array(s+f+this.keys.length+this.bboxes.length);v[0]=this.extent,v[1]=this.n,v[2]=this.padding;let S=s;for(let P=0;P<n.length;P++){const M=n[P];v[3+P]=S,v.set(M,S),S+=M.length}return v[3+n.length]=S,v.set(this.keys,S),S+=this.keys.length,v[3+n.length+1]=S,v.set(this.bboxes,S),S+=this.bboxes.length,v.buffer}static serialize(n,s){const f=n.toArrayBuffer();return s&&s.push(f),{buffer:f}}static deserialize(n){return new Ks(n.buffer)}}const ti={};function Lt(l,n,s={}){if(ti[l])throw new Error(`${l} is already registered.`);Object.defineProperty(n,"_classRegistryKey",{value:l,writeable:!1}),ti[l]={klass:n,omit:s.omit||[],shallow:s.shallow||[]}}Lt("Object",Object),Lt("Set",Set),Lt("TransferableGridIndex",Ks),Lt("Color",_r),Lt("Error",Error),Lt("AJAXError",Se),Lt("ResolvedImage",Ca),Lt("StylePropertyFunction",za),Lt("StyleExpression",Lu,{omit:["_evaluator"]}),Lt("ZoomDependentExpression",Ic),Lt("ZoomConstantExpression",Ws),Lt("CompoundExpression",Ii,{omit:["_evaluate"]});for(const l in Rl)Rl[l]._classRegistryKey||Lt(`Expression_${l}`,Rl[l]);function qh(l){return l&&typeof ArrayBuffer<"u"&&(l instanceof ArrayBuffer||l.constructor&&l.constructor.name==="ArrayBuffer")}function Ll(l){return l.$name||l.constructor._classRegistryKey}function $h(l){return!(function(n){if(n===null||typeof n!="object")return!1;const s=Ll(n);return!(!s||s==="Object")})(l)&&(l==null||typeof l=="boolean"||typeof l=="number"||typeof l=="string"||l instanceof Boolean||l instanceof Number||l instanceof String||l instanceof Date||l instanceof RegExp||l instanceof Blob||l instanceof Error||qh(l)||Bn(l)||ArrayBuffer.isView(l)||l instanceof ImageData)}function fo(l,n){if($h(l))return(qh(l)||Bn(l))&&n&&n.push(l),ArrayBuffer.isView(l)&&n&&n.push(l.buffer),l instanceof ImageData&&n&&n.push(l.data.buffer),l;if(Array.isArray(l)){const S=[];for(const P of l)S.push(fo(P,n));return S}if(typeof l!="object")throw new Error("can't serialize object of type "+typeof l);const s=Ll(l);if(!s)throw new Error(`can't serialize object of unregistered class ${l.constructor.name}`);if(!ti[s])throw new Error(`${s} is not registered.`);const{klass:f}=ti[s],v=f.serialize?f.serialize(l,n):{};if(f.serialize){if(n&&v===n[n.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const S in l){if(!l.hasOwnProperty(S)||ti[s].omit.indexOf(S)>=0)continue;const P=l[S];v[S]=ti[s].shallow.indexOf(S)>=0?P:fo(P,n)}l instanceof Error&&(v.message=l.message)}if(v.$name)throw new Error("$name property is reserved for worker serialization logic.");return s!=="Object"&&(v.$name=s),v}function zl(l){if($h(l))return l;if(Array.isArray(l))return l.map(zl);if(typeof l!="object")throw new Error("can't deserialize object of type "+typeof l);const n=Ll(l)||"Object";if(!ti[n])throw new Error(`can't deserialize unregistered class ${n}`);const{klass:s}=ti[n];if(!s)throw new Error(`can't deserialize unregistered class ${n}`);if(s.deserialize)return s.deserialize(l);const f=Object.create(s.prototype);for(const v of Object.keys(l)){if(v==="$name")continue;const S=l[v];f[v]=ti[n].shallow.indexOf(v)>=0?S:zl(S)}return f}class Hh{constructor(){this.first=!0}update(n,s){const f=Math.floor(n);return this.first?(this.first=!1,this.lastIntegerZoom=f,this.lastIntegerZoomTime=0,this.lastZoom=n,this.lastFloorZoom=f,!0):(this.lastFloorZoom>f?(this.lastIntegerZoom=f+1,this.lastIntegerZoomTime=s):this.lastFloorZoom<f&&(this.lastIntegerZoom=f,this.lastIntegerZoomTime=s),n!==this.lastZoom&&(this.lastZoom=n,this.lastFloorZoom=f,!0))}}const fr={"Latin-1 Supplement":l=>l>=128&&l<=255,"Hangul Jamo":l=>l>=4352&&l<=4607,Khmer:l=>l>=6016&&l<=6143,"General Punctuation":l=>l>=8192&&l<=8303,"Letterlike Symbols":l=>l>=8448&&l<=8527,"Number Forms":l=>l>=8528&&l<=8591,"Miscellaneous Technical":l=>l>=8960&&l<=9215,"Control Pictures":l=>l>=9216&&l<=9279,"Optical Character Recognition":l=>l>=9280&&l<=9311,"Enclosed Alphanumerics":l=>l>=9312&&l<=9471,"Geometric Shapes":l=>l>=9632&&l<=9727,"Miscellaneous Symbols":l=>l>=9728&&l<=9983,"Miscellaneous Symbols and Arrows":l=>l>=11008&&l<=11263,"Ideographic Description Characters":l=>l>=12272&&l<=12287,"CJK Symbols and Punctuation":l=>l>=12288&&l<=12351,Hiragana:l=>l>=12352&&l<=12447,Katakana:l=>l>=12448&&l<=12543,Kanbun:l=>l>=12688&&l<=12703,"CJK Strokes":l=>l>=12736&&l<=12783,"Enclosed CJK Letters and Months":l=>l>=12800&&l<=13055,"CJK Compatibility":l=>l>=13056&&l<=13311,"Yijing Hexagram Symbols":l=>l>=19904&&l<=19967,"CJK Unified Ideographs":l=>l>=19968&&l<=40959,"Hangul Syllables":l=>l>=44032&&l<=55215,"Private Use Area":l=>l>=57344&&l<=63743,"Vertical Forms":l=>l>=65040&&l<=65055,"CJK Compatibility Forms":l=>l>=65072&&l<=65103,"Small Form Variants":l=>l>=65104&&l<=65135,"Halfwidth and Fullwidth Forms":l=>l>=65280&&l<=65519};function Bu(l){for(const n of l)if(qu(n.charCodeAt(0)))return!0;return!1}function Vh(l){for(const n of l)if(!Nc(n.charCodeAt(0)))return!1;return!0}function Bo(l){const n=l.map((s=>{try{return new RegExp(`\\p{sc=${s}}`,"u").source}catch{return null}})).filter((s=>s));return new RegExp(n.join("|"),"u")}const hs=Bo(["Arab","Dupl","Mong","Ougr","Syrc"]);function Nc(l){return!hs.test(String.fromCodePoint(l))}const Wh=Bo(["Bopo","Hani","Hira","Kana","Kits","Nshu","Tang","Yiii"]);function qu(l){return!(l!==746&&l!==747&&(l<4352||!(fr["CJK Compatibility Forms"](l)&&!(l>=65097&&l<=65103)||fr["CJK Compatibility"](l)||fr["CJK Strokes"](l)||!(!fr["CJK Symbols and Punctuation"](l)||l>=12296&&l<=12305||l>=12308&&l<=12319||l===12336)||fr["Enclosed CJK Letters and Months"](l)||fr["Ideographic Description Characters"](l)||fr.Kanbun(l)||fr.Katakana(l)&&l!==12540||!(!fr["Halfwidth and Fullwidth Forms"](l)||l===65288||l===65289||l===65293||l>=65306&&l<=65310||l===65339||l===65341||l===65343||l>=65371&&l<=65503||l===65507||l>=65512&&l<=65519)||!(!fr["Small Form Variants"](l)||l>=65112&&l<=65118||l>=65123&&l<=65126)||fr["Vertical Forms"](l)||fr["Yijing Hexagram Symbols"](l)||new RegExp("\\p{sc=Cans}","u").test(String.fromCodePoint(l))||new RegExp("\\p{sc=Hang}","u").test(String.fromCodePoint(l))||Wh.test(String.fromCodePoint(l)))))}function Fl(l){return!(qu(l)||(function(n){return!!(fr["Latin-1 Supplement"](n)&&(n===167||n===169||n===174||n===177||n===188||n===189||n===190||n===215||n===247)||fr["General Punctuation"](n)&&(n===8214||n===8224||n===8225||n===8240||n===8241||n===8251||n===8252||n===8258||n===8263||n===8264||n===8265||n===8273)||fr["Letterlike Symbols"](n)||fr["Number Forms"](n)||fr["Miscellaneous Technical"](n)&&(n>=8960&&n<=8967||n>=8972&&n<=8991||n>=8996&&n<=9e3||n===9003||n>=9085&&n<=9114||n>=9150&&n<=9165||n===9167||n>=9169&&n<=9179||n>=9186&&n<=9215)||fr["Control Pictures"](n)&&n!==9251||fr["Optical Character Recognition"](n)||fr["Enclosed Alphanumerics"](n)||fr["Geometric Shapes"](n)||fr["Miscellaneous Symbols"](n)&&!(n>=9754&&n<=9759)||fr["Miscellaneous Symbols and Arrows"](n)&&(n>=11026&&n<=11055||n>=11088&&n<=11097||n>=11192&&n<=11243)||fr["CJK Symbols and Punctuation"](n)||fr.Katakana(n)||fr["Private Use Area"](n)||fr["CJK Compatibility Forms"](n)||fr["Small Form Variants"](n)||fr["Halfwidth and Fullwidth Forms"](n)||n===8734||n===8756||n===8757||n>=9984&&n<=10087||n>=10102&&n<=10131||n===65532||n===65533)})(l))}const jc=Bo(["Adlm","Arab","Armi","Avst","Chrs","Cprt","Egyp","Elym","Gara","Hatr","Hebr","Hung","Khar","Lydi","Mand","Mani","Mend","Merc","Mero","Narb","Nbat","Nkoo","Orkh","Palm","Phli","Phlp","Phnx","Prti","Rohg","Samr","Sarb","Sogo","Syrc","Thaa","Todr","Yezi"]);function Gh(l){return jc.test(String.fromCodePoint(l))}function ed(l,n){return!(!n&&Gh(l)||l>=2304&&l<=3583||l>=3840&&l<=4255||fr.Khmer(l))}function fs(l){for(const n of l)if(Gh(n.charCodeAt(0)))return!0;return!1}const po=new class{constructor(){this.TIMEOUT=5e3,this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null,this.loadScriptResolve=()=>{}}setState(l){this.pluginStatus=l.pluginStatus,this.pluginURL=l.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(l){if(po.isParsed())throw new Error("RTL text plugin already registered.");this.applyArabicShaping=l.applyArabicShaping,this.processBidirectionalText=l.processBidirectionalText,this.processStyledBidirectionalText=l.processStyledBidirectionalText,this.loadScriptResolve()}isParsed(){return this.applyArabicShaping!=null&&this.processBidirectionalText!=null&&this.processStyledBidirectionalText!=null}getRTLTextPluginStatus(){return this.pluginStatus}syncState(l,n){return c(this,void 0,void 0,(function*(){if(this.isParsed())return this.getState();if(l.pluginStatus!=="loading")return this.setState(l),l;const s=l.pluginURL,f=new Promise((S=>{this.loadScriptResolve=S}));n(s);const v=new Promise((S=>setTimeout((()=>S()),this.TIMEOUT)));if(yield Promise.race([f,v]),this.isParsed()){const S={pluginStatus:"loaded",pluginURL:s};return this.setState(S),S}throw this.setState({pluginStatus:"error",pluginURL:""}),new Error(`RTL Text Plugin failed to import scripts from ${s}`)}))}};class $r{constructor(n,s){this.isSupportedScript=td,this.zoom=n,s?(this.now=s.now||0,this.fadeDuration=s.fadeDuration||0,this.zoomHistory=s.zoomHistory||new Hh,this.transition=s.transition||{}):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Hh,this.transition={})}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const n=this.zoom,s=n-Math.floor(n),f=this.crossFadingFactor();return n>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:s+(1-s)*f}:{fromScale:.5,toScale:1,t:1-(1-f)*s}}}function td(l){return(function(n,s){for(const f of n)if(!ed(f.charCodeAt(0),s))return!1;return!0})(l,po.getRTLTextPluginStatus()==="loaded")}class Bc{constructor(n,s,f){this.property=n,this.value=s,this.expression=(function(v,S,P){if(Uu(v))return new za(v,S);if(os(v)){const M=Ui(v,S,P);if(M.result==="error")throw new Error(M.value.map((I=>`${I.key}: ${I.message}`)).join(", "));return M.value}{let M=v;return S.type==="color"&&typeof v=="string"?M=_r.parse(v):S.type!=="padding"||typeof v!="number"&&!Array.isArray(v)?S.type!=="numberArray"||typeof v!="number"&&!Array.isArray(v)?S.type!=="colorArray"||typeof v!="string"&&!Array.isArray(v)?S.type==="variableAnchorOffsetCollection"&&Array.isArray(v)?M=Aa.parse(v):S.type==="projectionDefinition"&&typeof v=="string"&&(M=En.parse(v)):M=$n.parse(v):M=Pa.parse(v):M=ia.parse(v),{globalStateRefs:new Set,_globalState:null,kind:"constant",evaluate:()=>M}}})(s===void 0?n.specification.default:s,n.specification,f)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}getGlobalStateRefs(){return this.expression.globalStateRefs||new Set}possiblyEvaluate(n,s,f){return this.property.possiblyEvaluate(this,n,s,f)}}class mo{constructor(n,s){this.property=n,this.value=new Bc(n,void 0,s)}transitioned(n,s){return new Hr(this.property,this.value,s,Ft({},n.transition,this.transition),n.now)}untransitioned(){return new Hr(this.property,this.value,null,{},0)}}class wr{constructor(n,s){this._properties=n,this._values=Object.create(n.defaultTransitionablePropertyValues),this._globalState=s}getValue(n){return $e(this._values[n].value.value)}setValue(n,s){Object.prototype.hasOwnProperty.call(this._values,n)||(this._values[n]=new mo(this._values[n].property,this._globalState)),this._values[n].value=new Bc(this._values[n].property,s===null?void 0:$e(s),this._globalState)}getTransition(n){return $e(this._values[n].transition)}setTransition(n,s){Object.prototype.hasOwnProperty.call(this._values,n)||(this._values[n]=new mo(this._values[n].property,this._globalState)),this._values[n].transition=$e(s)||void 0}serialize(){const n={};for(const s of Object.keys(this._values)){const f=this.getValue(s);f!==void 0&&(n[s]=f);const v=this.getTransition(s);v!==void 0&&(n[`${s}-transition`]=v)}return n}transitioned(n,s){const f=new Vn(this._properties);for(const v of Object.keys(this._values))f._values[v]=this._values[v].transitioned(n,s._values[v]);return f}untransitioned(){const n=new Vn(this._properties);for(const s of Object.keys(this._values))n._values[s]=this._values[s].untransitioned();return n}}class Hr{constructor(n,s,f,v,S){this.property=n,this.value=s,this.begin=S+v.delay||0,this.end=this.begin+v.duration||0,n.specification.transition&&(v.delay||v.duration)&&(this.prior=f)}possiblyEvaluate(n,s,f){const v=n.now||0,S=this.value.possiblyEvaluate(n,s,f),P=this.prior;if(P){if(v>this.end)return this.prior=null,S;if(this.value.isDataDriven())return this.prior=null,S;if(v<this.begin)return P.possiblyEvaluate(n,s,f);{const M=(v-this.begin)/(this.end-this.begin);return this.property.interpolate(P.possiblyEvaluate(n,s,f),S,et(M))}}return S}}class Vn{constructor(n){this._properties=n,this._values=Object.create(n.defaultTransitioningPropertyValues)}possiblyEvaluate(n,s,f){const v=new qo(this._properties);for(const S of Object.keys(this._values))v._values[S]=this._values[S].possiblyEvaluate(n,s,f);return v}hasTransition(){for(const n of Object.keys(this._values))if(this._values[n].prior)return!0;return!1}}class Zh{constructor(n,s){this._properties=n,this._values=Object.create(n.defaultPropertyValues),this._globalState=s}hasValue(n){return this._values[n].value!==void 0}getValue(n){return $e(this._values[n].value)}setValue(n,s){this._values[n]=new Bc(this._values[n].property,s===null?void 0:$e(s),this._globalState)}serialize(){const n={};for(const s of Object.keys(this._values)){const f=this.getValue(s);f!==void 0&&(n[s]=f)}return n}possiblyEvaluate(n,s,f){const v=new qo(this._properties);for(const S of Object.keys(this._values))v._values[S]=this._values[S].possiblyEvaluate(n,s,f);return v}}class ri{constructor(n,s,f){this.property=n,this.value=s,this.parameters=f}isConstant(){return this.value.kind==="constant"}constantOr(n){return this.value.kind==="constant"?this.value.value:n}evaluate(n,s,f,v){return this.property.evaluate(this.value,this.parameters,n,s,f,v)}}class qo{constructor(n){this._properties=n,this._values=Object.create(n.defaultPossiblyEvaluatedValues)}get(n){return this._values[n]}}class qt{constructor(n){this.specification=n}possiblyEvaluate(n,s){if(n.isDataDriven())throw new Error("Value should not be data driven");return n.expression.evaluate(s)}interpolate(n,s,f){const v=Fo[this.specification.type];return v?v(n,s,f):n}}class Yt{constructor(n,s){this.specification=n,this.overrides=s}possiblyEvaluate(n,s,f,v){return new ri(this,n.expression.kind==="constant"||n.expression.kind==="camera"?{kind:"constant",value:n.expression.evaluate(s,null,{},f,v)}:n.expression,s)}interpolate(n,s,f){if(n.value.kind!=="constant"||s.value.kind!=="constant")return n;if(n.value.value===void 0||s.value.value===void 0)return new ri(this,{kind:"constant",value:void 0},n.parameters);const v=Fo[this.specification.type];if(v){const S=v(n.value.value,s.value.value,f);return new ri(this,{kind:"constant",value:S},n.parameters)}return n}evaluate(n,s,f,v,S,P){return n.kind==="constant"?n.value:n.evaluate(s,f,v,S,P)}}class ds extends Yt{possiblyEvaluate(n,s,f,v){if(n.value===void 0)return new ri(this,{kind:"constant",value:void 0},s);if(n.expression.kind==="constant"){const S=n.expression.evaluate(s,null,{},f,v),P=n.property.specification.type==="resolvedImage"&&typeof S!="string"?S.name:S,M=this._calculate(P,P,P,s);return new ri(this,{kind:"constant",value:M},s)}if(n.expression.kind==="camera"){const S=this._calculate(n.expression.evaluate({zoom:s.zoom-1}),n.expression.evaluate({zoom:s.zoom}),n.expression.evaluate({zoom:s.zoom+1}),s);return new ri(this,{kind:"constant",value:S},s)}return new ri(this,n.expression,s)}evaluate(n,s,f,v,S,P){if(n.kind==="source"){const M=n.evaluate(s,f,v,S,P);return this._calculate(M,M,M,s)}return n.kind==="composite"?this._calculate(n.evaluate({zoom:Math.floor(s.zoom)-1},f,v),n.evaluate({zoom:Math.floor(s.zoom)},f,v),n.evaluate({zoom:Math.floor(s.zoom)+1},f,v),s):n.value}_calculate(n,s,f,v){return v.zoom>v.zoomHistory.lastIntegerZoom?{from:n,to:s}:{from:f,to:s}}interpolate(n){return n}}class rd{constructor(n){this.specification=n}possiblyEvaluate(n,s,f,v){if(n.value!==void 0){if(n.expression.kind==="constant"){const S=n.expression.evaluate(s,null,{},f,v);return this._calculate(S,S,S,s)}return this._calculate(n.expression.evaluate(new $r(Math.floor(s.zoom-1),s)),n.expression.evaluate(new $r(Math.floor(s.zoom),s)),n.expression.evaluate(new $r(Math.floor(s.zoom+1),s)),s)}}_calculate(n,s,f,v){return v.zoom>v.zoomHistory.lastIntegerZoom?{from:n,to:s}:{from:f,to:s}}interpolate(n){return n}}class wn{constructor(n){this.specification=n}possiblyEvaluate(n,s,f,v){return!!n.expression.evaluate(s,null,{},f,v)}interpolate(){return!1}}class ma{constructor(n){this.properties=n,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const s in n){const f=n[s];f.specification.overridable&&this.overridableProperties.push(s);const v=this.defaultPropertyValues[s]=new Bc(f,void 0,void 0),S=this.defaultTransitionablePropertyValues[s]=new mo(f,void 0);this.defaultTransitioningPropertyValues[s]=S.untransitioned(),this.defaultPossiblyEvaluatedValues[s]=v.possiblyEvaluate({})}}}Lt("DataDrivenProperty",Yt),Lt("DataConstantProperty",qt),Lt("CrossFadedDataDrivenProperty",ds),Lt("CrossFadedProperty",rd),Lt("ColorRampProperty",wn);const Yh="-transition";class Xi extends zt{constructor(n,s,f){if(super(),this.id=n.id,this.type=n.type,this._globalState=f,this._featureFilter={filter:()=>!0,needGeometry:!1,getGlobalStateRefs:()=>new Set},n.type!=="custom"&&(this.metadata=n.metadata,this.minzoom=n.minzoom,this.maxzoom=n.maxzoom,n.type!=="background"&&(this.source=n.source,this.sourceLayer=n["source-layer"],this.filter=n.filter,this._featureFilter=ss(n.filter,f)),s.layout&&(this._unevaluatedLayout=new Zh(s.layout,f)),s.paint)){this._transitionablePaint=new wr(s.paint,f);for(const v in n.paint)this.setPaintProperty(v,n.paint[v],{validate:!1});for(const v in n.layout)this.setLayoutProperty(v,n.layout[v],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new qo(s.paint)}}setFilter(n){this.filter=n,this._featureFilter=ss(n,this._globalState)}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(n){return n==="visibility"?this.visibility:this._unevaluatedLayout.getValue(n)}getLayoutAffectingGlobalStateRefs(){const n=new Set;if(this._unevaluatedLayout)for(const s in this._unevaluatedLayout._values){const f=this._unevaluatedLayout._values[s];for(const v of f.getGlobalStateRefs())n.add(v)}for(const s of this._featureFilter.getGlobalStateRefs())n.add(s);return n}getPaintAffectingGlobalStateRefs(){var n;const s=new globalThis.Map;if(this._transitionablePaint)for(const f in this._transitionablePaint._values){const v=this._transitionablePaint._values[f].value;for(const S of v.getGlobalStateRefs()){const P=(n=s.get(S))!==null&&n!==void 0?n:[];P.push({name:f,value:v.value}),s.set(S,P)}}return s}setLayoutProperty(n,s,f={}){s!=null&&this._validate(ju,`layers.${this.id}.layout.${n}`,n,s,f)||(n!=="visibility"?this._unevaluatedLayout.setValue(n,s):this.visibility=s)}getPaintProperty(n){return n.endsWith(Yh)?this._transitionablePaint.getTransition(n.slice(0,-11)):this._transitionablePaint.getValue(n)}setPaintProperty(n,s,f={}){if(s!=null&&this._validate(Bh,`layers.${this.id}.paint.${n}`,n,s,f))return!1;if(n.endsWith(Yh))return this._transitionablePaint.setTransition(n.slice(0,-11),s||void 0),!1;{const v=this._transitionablePaint._values[n],S=v.property.specification["property-type"]==="cross-faded-data-driven",P=v.value.isDataDriven(),M=v.value;this._transitionablePaint.setValue(n,s),this._handleSpecialPaintPropertyUpdate(n);const I=this._transitionablePaint._values[n].value;return I.isDataDriven()||P||S||this._handleOverridablePaintPropertyUpdate(n,M,I)}}_handleSpecialPaintPropertyUpdate(n){}_handleOverridablePaintPropertyUpdate(n,s,f){return!1}isHidden(n){return!!(this.minzoom&&n<this.minzoom)||!!(this.maxzoom&&n>=this.maxzoom)||this.visibility==="none"}updateTransitions(n){this._transitioningPaint=this._transitionablePaint.transitioned(n,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(n,s){n.getCrossfadeParameters&&(this._crossfadeParameters=n.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(n,void 0,s)),this.paint=this._transitioningPaint.possiblyEvaluate(n,void 0,s)}serialize(){const n={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(n.layout=n.layout||{},n.layout.visibility=this.visibility),Nt(n,((s,f)=>!(s===void 0||f==="layout"&&!Object.keys(s).length||f==="paint"&&!Object.keys(s).length)))}_validate(n,s,f,v,S={}){return(!S||S.validate!==!1)&&Fc(this,n.call(Ul,{key:s,layerType:this.type,objectKey:f,value:v,styleSpec:ze,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const n in this.paint._values){const s=this.paint.get(n);if(s instanceof ri&&ki(s.property.specification)&&(s.value.kind==="source"||s.value.kind==="composite")&&s.value.isStateDependent)return!0}return!1}}const Js={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class qc{constructor(n,s){this._structArray=n,this._pos1=s*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class tn{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(n,s){return n._trim(),s&&(n.isTransferred=!0,s.push(n.arrayBuffer)),{length:n.length,arrayBuffer:n.arrayBuffer}}static deserialize(n){const s=Object.create(this.prototype);return s.arrayBuffer=n.arrayBuffer,s.length=n.length,s.capacity=n.arrayBuffer.byteLength/s.bytesPerElement,s._refreshViews(),s}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(n){this.reserve(n),this.length=n}reserve(n){if(n>this.capacity){this.capacity=Math.max(n,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const s=this.uint8;this._refreshViews(),s&&this.uint8.set(s)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Pn(l,n=1){let s=0,f=0;return{members:l.map((v=>{const S=Js[v.type].BYTES_PER_ELEMENT,P=s=$c(s,Math.max(n,S)),M=v.components||1;return f=Math.max(f,S),s+=S*M,{name:v.name,type:v.type,components:M,offset:P}})),size:$c(s,Math.max(f,n)),alignment:n}}function $c(l,n){return Math.ceil(l/n)*n}class ya extends tn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,s){const f=this.length;return this.resize(f+1),this.emplace(f,n,s)}emplace(n,s,f){const v=2*n;return this.int16[v+0]=s,this.int16[v+1]=f,n}}ya.prototype.bytesPerElement=4,Lt("StructArrayLayout2i4",ya);class un extends tn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,s,f){const v=this.length;return this.resize(v+1),this.emplace(v,n,s,f)}emplace(n,s,f,v){const S=3*n;return this.int16[S+0]=s,this.int16[S+1]=f,this.int16[S+2]=v,n}}un.prototype.bytesPerElement=6,Lt("StructArrayLayout3i6",un);class ps extends tn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,s,f,v){const S=this.length;return this.resize(S+1),this.emplace(S,n,s,f,v)}emplace(n,s,f,v,S){const P=4*n;return this.int16[P+0]=s,this.int16[P+1]=f,this.int16[P+2]=v,this.int16[P+3]=S,n}}ps.prototype.bytesPerElement=8,Lt("StructArrayLayout4i8",ps);class Nl extends tn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,s,f,v,S,P){const M=this.length;return this.resize(M+1),this.emplace(M,n,s,f,v,S,P)}emplace(n,s,f,v,S,P,M){const I=6*n;return this.int16[I+0]=s,this.int16[I+1]=f,this.int16[I+2]=v,this.int16[I+3]=S,this.int16[I+4]=P,this.int16[I+5]=M,n}}Nl.prototype.bytesPerElement=12,Lt("StructArrayLayout2i4i12",Nl);class jl extends tn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,s,f,v,S,P){const M=this.length;return this.resize(M+1),this.emplace(M,n,s,f,v,S,P)}emplace(n,s,f,v,S,P,M){const I=4*n,z=8*n;return this.int16[I+0]=s,this.int16[I+1]=f,this.uint8[z+4]=v,this.uint8[z+5]=S,this.uint8[z+6]=P,this.uint8[z+7]=M,n}}jl.prototype.bytesPerElement=8,Lt("StructArrayLayout2i4ub8",jl);class yo extends tn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,s){const f=this.length;return this.resize(f+1),this.emplace(f,n,s)}emplace(n,s,f){const v=2*n;return this.float32[v+0]=s,this.float32[v+1]=f,n}}yo.prototype.bytesPerElement=8,Lt("StructArrayLayout2f8",yo);class go extends tn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,s,f,v,S,P,M,I,z,j){const H=this.length;return this.resize(H+1),this.emplace(H,n,s,f,v,S,P,M,I,z,j)}emplace(n,s,f,v,S,P,M,I,z,j,H){const Q=10*n;return this.uint16[Q+0]=s,this.uint16[Q+1]=f,this.uint16[Q+2]=v,this.uint16[Q+3]=S,this.uint16[Q+4]=P,this.uint16[Q+5]=M,this.uint16[Q+6]=I,this.uint16[Q+7]=z,this.uint16[Q+8]=j,this.uint16[Q+9]=H,n}}go.prototype.bytesPerElement=20,Lt("StructArrayLayout10ui20",go);class Hc extends tn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,s,f,v,S,P,M,I,z,j,H,Q){const ee=this.length;return this.resize(ee+1),this.emplace(ee,n,s,f,v,S,P,M,I,z,j,H,Q)}emplace(n,s,f,v,S,P,M,I,z,j,H,Q,ee){const re=12*n;return this.int16[re+0]=s,this.int16[re+1]=f,this.int16[re+2]=v,this.int16[re+3]=S,this.uint16[re+4]=P,this.uint16[re+5]=M,this.uint16[re+6]=I,this.uint16[re+7]=z,this.int16[re+8]=j,this.int16[re+9]=H,this.int16[re+10]=Q,this.int16[re+11]=ee,n}}Hc.prototype.bytesPerElement=24,Lt("StructArrayLayout4i4ui4i24",Hc);class Vc extends tn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,s,f){const v=this.length;return this.resize(v+1),this.emplace(v,n,s,f)}emplace(n,s,f,v){const S=3*n;return this.float32[S+0]=s,this.float32[S+1]=f,this.float32[S+2]=v,n}}Vc.prototype.bytesPerElement=12,Lt("StructArrayLayout3f12",Vc);class $u extends tn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(n){const s=this.length;return this.resize(s+1),this.emplace(s,n)}emplace(n,s){return this.uint32[1*n+0]=s,n}}$u.prototype.bytesPerElement=4,Lt("StructArrayLayout1ul4",$u);class b extends tn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,s,f,v,S,P,M,I,z){const j=this.length;return this.resize(j+1),this.emplace(j,n,s,f,v,S,P,M,I,z)}emplace(n,s,f,v,S,P,M,I,z,j){const H=10*n,Q=5*n;return this.int16[H+0]=s,this.int16[H+1]=f,this.int16[H+2]=v,this.int16[H+3]=S,this.int16[H+4]=P,this.int16[H+5]=M,this.uint32[Q+3]=I,this.uint16[H+8]=z,this.uint16[H+9]=j,n}}b.prototype.bytesPerElement=20,Lt("StructArrayLayout6i1ul2ui20",b);class r extends tn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,s,f,v,S,P){const M=this.length;return this.resize(M+1),this.emplace(M,n,s,f,v,S,P)}emplace(n,s,f,v,S,P,M){const I=6*n;return this.int16[I+0]=s,this.int16[I+1]=f,this.int16[I+2]=v,this.int16[I+3]=S,this.int16[I+4]=P,this.int16[I+5]=M,n}}r.prototype.bytesPerElement=12,Lt("StructArrayLayout2i2i2i12",r);class u extends tn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,s,f,v,S){const P=this.length;return this.resize(P+1),this.emplace(P,n,s,f,v,S)}emplace(n,s,f,v,S,P){const M=4*n,I=8*n;return this.float32[M+0]=s,this.float32[M+1]=f,this.float32[M+2]=v,this.int16[I+6]=S,this.int16[I+7]=P,n}}u.prototype.bytesPerElement=16,Lt("StructArrayLayout2f1f2i16",u);class m extends tn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,s,f,v,S,P){const M=this.length;return this.resize(M+1),this.emplace(M,n,s,f,v,S,P)}emplace(n,s,f,v,S,P,M){const I=16*n,z=4*n,j=8*n;return this.uint8[I+0]=s,this.uint8[I+1]=f,this.float32[z+1]=v,this.float32[z+2]=S,this.int16[j+6]=P,this.int16[j+7]=M,n}}m.prototype.bytesPerElement=16,Lt("StructArrayLayout2ub2f2i16",m);class _ extends tn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,s,f){const v=this.length;return this.resize(v+1),this.emplace(v,n,s,f)}emplace(n,s,f,v){const S=3*n;return this.uint16[S+0]=s,this.uint16[S+1]=f,this.uint16[S+2]=v,n}}_.prototype.bytesPerElement=6,Lt("StructArrayLayout3ui6",_);class w extends tn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,s,f,v,S,P,M,I,z,j,H,Q,ee,re,oe,ue,ge){const Fe=this.length;return this.resize(Fe+1),this.emplace(Fe,n,s,f,v,S,P,M,I,z,j,H,Q,ee,re,oe,ue,ge)}emplace(n,s,f,v,S,P,M,I,z,j,H,Q,ee,re,oe,ue,ge,Fe){const Pe=24*n,Te=12*n,Ze=48*n;return this.int16[Pe+0]=s,this.int16[Pe+1]=f,this.uint16[Pe+2]=v,this.uint16[Pe+3]=S,this.uint32[Te+2]=P,this.uint32[Te+3]=M,this.uint32[Te+4]=I,this.uint16[Pe+10]=z,this.uint16[Pe+11]=j,this.uint16[Pe+12]=H,this.float32[Te+7]=Q,this.float32[Te+8]=ee,this.uint8[Ze+36]=re,this.uint8[Ze+37]=oe,this.uint8[Ze+38]=ue,this.uint32[Te+10]=ge,this.int16[Pe+22]=Fe,n}}w.prototype.bytesPerElement=48,Lt("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",w);class D extends tn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,s,f,v,S,P,M,I,z,j,H,Q,ee,re,oe,ue,ge,Fe,Pe,Te,Ze,tt,yt,It,At,kt,Zt,Ct){const Tt=this.length;return this.resize(Tt+1),this.emplace(Tt,n,s,f,v,S,P,M,I,z,j,H,Q,ee,re,oe,ue,ge,Fe,Pe,Te,Ze,tt,yt,It,At,kt,Zt,Ct)}emplace(n,s,f,v,S,P,M,I,z,j,H,Q,ee,re,oe,ue,ge,Fe,Pe,Te,Ze,tt,yt,It,At,kt,Zt,Ct,Tt){const ct=32*n,er=16*n;return this.int16[ct+0]=s,this.int16[ct+1]=f,this.int16[ct+2]=v,this.int16[ct+3]=S,this.int16[ct+4]=P,this.int16[ct+5]=M,this.int16[ct+6]=I,this.int16[ct+7]=z,this.uint16[ct+8]=j,this.uint16[ct+9]=H,this.uint16[ct+10]=Q,this.uint16[ct+11]=ee,this.uint16[ct+12]=re,this.uint16[ct+13]=oe,this.uint16[ct+14]=ue,this.uint16[ct+15]=ge,this.uint16[ct+16]=Fe,this.uint16[ct+17]=Pe,this.uint16[ct+18]=Te,this.uint16[ct+19]=Ze,this.uint16[ct+20]=tt,this.uint16[ct+21]=yt,this.uint16[ct+22]=It,this.uint32[er+12]=At,this.float32[er+13]=kt,this.float32[er+14]=Zt,this.uint16[ct+30]=Ct,this.uint16[ct+31]=Tt,n}}D.prototype.bytesPerElement=64,Lt("StructArrayLayout8i15ui1ul2f2ui64",D);class k extends tn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n){const s=this.length;return this.resize(s+1),this.emplace(s,n)}emplace(n,s){return this.float32[1*n+0]=s,n}}k.prototype.bytesPerElement=4,Lt("StructArrayLayout1f4",k);class O extends tn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,s,f){const v=this.length;return this.resize(v+1),this.emplace(v,n,s,f)}emplace(n,s,f,v){const S=3*n;return this.uint16[6*n+0]=s,this.float32[S+1]=f,this.float32[S+2]=v,n}}O.prototype.bytesPerElement=12,Lt("StructArrayLayout1ui2f12",O);class N extends tn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,s,f){const v=this.length;return this.resize(v+1),this.emplace(v,n,s,f)}emplace(n,s,f,v){const S=4*n;return this.uint32[2*n+0]=s,this.uint16[S+2]=f,this.uint16[S+3]=v,n}}N.prototype.bytesPerElement=8,Lt("StructArrayLayout1ul2ui8",N);class B extends tn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,s){const f=this.length;return this.resize(f+1),this.emplace(f,n,s)}emplace(n,s,f){const v=2*n;return this.uint16[v+0]=s,this.uint16[v+1]=f,n}}B.prototype.bytesPerElement=4,Lt("StructArrayLayout2ui4",B);class Z extends tn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n){const s=this.length;return this.resize(s+1),this.emplace(s,n)}emplace(n,s){return this.uint16[1*n+0]=s,n}}Z.prototype.bytesPerElement=2,Lt("StructArrayLayout1ui2",Z);class G extends tn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,s,f,v){const S=this.length;return this.resize(S+1),this.emplace(S,n,s,f,v)}emplace(n,s,f,v,S){const P=4*n;return this.float32[P+0]=s,this.float32[P+1]=f,this.float32[P+2]=v,this.float32[P+3]=S,n}}G.prototype.bytesPerElement=16,Lt("StructArrayLayout4f16",G);class J extends qc{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new A(this.anchorPointX,this.anchorPointY)}}J.prototype.size=20;class ie extends b{get(n){return new J(this,n)}}Lt("CollisionBoxArray",ie);class he extends qc{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(n){this._structArray.uint8[this._pos1+37]=n}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(n){this._structArray.uint8[this._pos1+38]=n}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(n){this._structArray.uint32[this._pos4+10]=n}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}he.prototype.size=48;class fe extends w{get(n){return new he(this,n)}}Lt("PlacedSymbolArray",fe);class me extends qc{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(n){this._structArray.uint32[this._pos4+12]=n}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}me.prototype.size=64;class ve extends D{get(n){return new me(this,n)}}Lt("SymbolInstanceArray",ve);class we extends k{getoffsetX(n){return this.float32[1*n+0]}}Lt("GlyphOffsetArray",we);class _e extends un{getx(n){return this.int16[3*n+0]}gety(n){return this.int16[3*n+1]}gettileUnitDistanceFromAnchor(n){return this.int16[3*n+2]}}Lt("SymbolLineVertexArray",_e);class Ae extends qc{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}Ae.prototype.size=12;class Ee extends O{get(n){return new Ae(this,n)}}Lt("TextAnchorOffsetArray",Ee);class be extends qc{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}be.prototype.size=8;class Ue extends N{get(n){return new be(this,n)}}Lt("FeatureIndexArray",Ue);class Qe extends ya{}class qe extends ya{}class Ve extends ya{}class Xe extends Nl{}class Et extends jl{}class Mt extends yo{}class ft extends go{}class Ht extends Hc{}class vr extends Vc{}class kr extends $u{}class hn extends r{}class Gr extends m{}class Zr extends _{}class rn extends B{}const Kr=Pn([{name:"a_pos",components:2,type:"Int16"}],4),{members:Yr}=Kr;class Mr{constructor(n=[]){this._forceNewSegmentOnNextPrepare=!1,this.segments=n}prepareSegment(n,s,f,v){const S=this.segments[this.segments.length-1];return n>Mr.MAX_VERTEX_ARRAY_LENGTH&&Bt(`Max vertices per segment is ${Mr.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${n}. Consider using the \`fillLargeMeshArrays\` function if you require meshes with more than ${Mr.MAX_VERTEX_ARRAY_LENGTH} vertices.`),this._forceNewSegmentOnNextPrepare||!S||S.vertexLength+n>Mr.MAX_VERTEX_ARRAY_LENGTH||S.sortKey!==v?this.createNewSegment(s,f,v):S}createNewSegment(n,s,f){const v={vertexOffset:n.length,primitiveOffset:s.length,vertexLength:0,primitiveLength:0,vaos:{}};return f!==void 0&&(v.sortKey=f),this._forceNewSegmentOnNextPrepare=!1,this.segments.push(v),v}getOrCreateLatestSegment(n,s,f){return this.prepareSegment(0,n,s,f)}forceNewSegmentOnNextPrepare(){this._forceNewSegmentOnNextPrepare=!0}get(){return this.segments}destroy(){for(const n of this.segments)for(const s in n.vaos)n.vaos[s].destroy()}static simpleSegment(n,s,f,v){return new Mr([{vertexOffset:n,primitiveOffset:s,vertexLength:f,primitiveLength:v,vaos:{},sortKey:0}])}}function ra(l,n){return 256*(l=Dt(Math.floor(l),0,255))+Dt(Math.floor(n),0,255)}Mr.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Lt("SegmentVector",Mr);const Wn=Pn([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var ni,el,ms,ai={exports:{}},ys={exports:{}},tl={exports:{}},Hu=(function(){if(ms)return ai.exports;ms=1;var l=(ni||(ni=1,ys.exports=function(s,f){var v,S,P,M,I,z,j,H;for(S=s.length-(v=3&s.length),P=f,I=3432918353,z=461845907,H=0;H<S;)j=255&s.charCodeAt(H)|(255&s.charCodeAt(++H))<<8|(255&s.charCodeAt(++H))<<16|(255&s.charCodeAt(++H))<<24,++H,P=27492+(65535&(M=5*(65535&(P=(P^=j=(65535&(j=(j=(65535&j)*I+(((j>>>16)*I&65535)<<16)&4294967295)<<15|j>>>17))*z+(((j>>>16)*z&65535)<<16)&4294967295)<<13|P>>>19))+((5*(P>>>16)&65535)<<16)&4294967295))+((58964+(M>>>16)&65535)<<16);switch(j=0,v){case 3:j^=(255&s.charCodeAt(H+2))<<16;case 2:j^=(255&s.charCodeAt(H+1))<<8;case 1:P^=j=(65535&(j=(j=(65535&(j^=255&s.charCodeAt(H)))*I+(((j>>>16)*I&65535)<<16)&4294967295)<<15|j>>>17))*z+(((j>>>16)*z&65535)<<16)&4294967295}return P^=s.length,P=2246822507*(65535&(P^=P>>>16))+((2246822507*(P>>>16)&65535)<<16)&4294967295,P=3266489909*(65535&(P^=P>>>13))+((3266489909*(P>>>16)&65535)<<16)&4294967295,(P^=P>>>16)>>>0}),ys.exports),n=(el||(el=1,tl.exports=function(s,f){for(var v,S=s.length,P=f^S,M=0;S>=4;)v=1540483477*(65535&(v=255&s.charCodeAt(M)|(255&s.charCodeAt(++M))<<8|(255&s.charCodeAt(++M))<<16|(255&s.charCodeAt(++M))<<24))+((1540483477*(v>>>16)&65535)<<16),P=1540483477*(65535&P)+((1540483477*(P>>>16)&65535)<<16)^(v=1540483477*(65535&(v^=v>>>24))+((1540483477*(v>>>16)&65535)<<16)),S-=4,++M;switch(S){case 3:P^=(255&s.charCodeAt(M+2))<<16;case 2:P^=(255&s.charCodeAt(M+1))<<8;case 1:P=1540483477*(65535&(P^=255&s.charCodeAt(M)))+((1540483477*(P>>>16)&65535)<<16)}return P=1540483477*(65535&(P^=P>>>13))+((1540483477*(P>>>16)&65535)<<16),(P^=P>>>15)>>>0}),tl.exports);return ai.exports=l,ai.exports.murmur3=l,ai.exports.murmur2=n,ai.exports})(),gs=C(Hu);class ga{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(n,s,f,v){this.ids.push($o(n)),this.positions.push(s,f,v)}getPositions(n){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const s=$o(n);let f=0,v=this.ids.length-1;for(;f<v;){const P=f+v>>1;this.ids[P]>=s?v=P:f=P+1}const S=[];for(;this.ids[f]===s;)S.push({index:this.positions[3*f],start:this.positions[3*f+1],end:this.positions[3*f+2]}),f++;return S}static serialize(n,s){const f=new Float64Array(n.ids),v=new Uint32Array(n.positions);return Ho(f,v,0,f.length-1),s&&s.push(f.buffer,v.buffer),{ids:f,positions:v}}static deserialize(n){const s=new ga;return s.ids=n.ids,s.positions=n.positions,s.indexed=!0,s}}function $o(l){const n=+l;return!isNaN(n)&&n<=Number.MAX_SAFE_INTEGER?n:gs(String(l))}function Ho(l,n,s,f){for(;s<f;){const v=l[s+f>>1];let S=s-1,P=f+1;for(;;){do S++;while(l[S]<v);do P--;while(l[P]>v);if(S>=P)break;rl(l,S,P),rl(n,3*S,3*P),rl(n,3*S+1,3*P+1),rl(n,3*S+2,3*P+2)}P-s<f-P?(Ho(l,n,s,P),s=P+1):(Ho(l,n,P+1,f),f=P)}}function rl(l,n,s){const f=l[n];l[n]=l[s],l[s]=f}Lt("FeaturePositionMap",ga);class jr{constructor(n,s){this.gl=n.gl,this.location=s}}class gn extends jr{constructor(n,s){super(n,s),this.current=0}set(n){this.current!==n&&(this.current=n,this.gl.uniform1f(this.location,n))}}class Fa extends jr{constructor(n,s){super(n,s),this.current=[0,0,0,0]}set(n){n[0]===this.current[0]&&n[1]===this.current[1]&&n[2]===this.current[2]&&n[3]===this.current[3]||(this.current=n,this.gl.uniform4f(this.location,n[0],n[1],n[2],n[3]))}}class Rn extends jr{constructor(n,s){super(n,s),this.current=_r.transparent}set(n){n.r===this.current.r&&n.g===this.current.g&&n.b===this.current.b&&n.a===this.current.a||(this.current=n,this.gl.uniform4f(this.location,n.r,n.g,n.b,n.a))}}const Qh=new Float32Array(16);function Xh(l){return[ra(255*l.r,255*l.g),ra(255*l.b,255*l.a)]}class Wc{constructor(n,s,f){this.value=n,this.uniformNames=s.map((v=>`u_${v}`)),this.type=f}setUniform(n,s,f){n.set(f.constantOr(this.value))}getBinding(n,s,f){return this.type==="color"?new Rn(n,s):new gn(n,s)}}class vo{constructor(n,s){this.uniformNames=s.map((f=>`u_${f}`)),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(n,s){this.pixelRatioFrom=s.pixelRatio,this.pixelRatioTo=n.pixelRatio,this.patternFrom=s.tlbr,this.patternTo=n.tlbr}setUniform(n,s,f,v){const S=v==="u_pattern_to"?this.patternTo:v==="u_pattern_from"?this.patternFrom:v==="u_pixel_ratio_to"?this.pixelRatioTo:v==="u_pixel_ratio_from"?this.pixelRatioFrom:null;S&&n.set(S)}getBinding(n,s,f){return f.substr(0,9)==="u_pattern"?new Fa(n,s):new gn(n,s)}}class Vo{constructor(n,s,f,v){this.expression=n,this.type=f,this.maxValue=0,this.paintVertexAttributes=s.map((S=>({name:`a_${S}`,type:"Float32",components:f==="color"?2:1,offset:0}))),this.paintVertexArray=new v}populatePaintArray(n,s,f){const v=this.paintVertexArray.length,S=this.expression.evaluate(new $r(0,f),s,{},f.canonical,[],f.formattedSection);this.paintVertexArray.resize(n),this._setPaintValue(v,n,S)}updatePaintArray(n,s,f,v,S){const P=this.expression.evaluate(new $r(0,S),f,v);this._setPaintValue(n,s,P)}_setPaintValue(n,s,f){if(this.type==="color"){const v=Xh(f);for(let S=n;S<s;S++)this.paintVertexArray.emplace(S,v[0],v[1])}else{for(let v=n;v<s;v++)this.paintVertexArray.emplace(v,f);this.maxValue=Math.max(this.maxValue,Math.abs(f))}}upload(n){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=n.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Ln{constructor(n,s,f,v,S,P){this.expression=n,this.uniformNames=s.map((M=>`u_${M}_t`)),this.type=f,this.useIntegerZoom=v,this.zoom=S,this.maxValue=0,this.paintVertexAttributes=s.map((M=>({name:`a_${M}`,type:"Float32",components:f==="color"?4:2,offset:0}))),this.paintVertexArray=new P}populatePaintArray(n,s,f){const v=this.expression.evaluate(new $r(this.zoom,f),s,{},f.canonical,[],f.formattedSection),S=this.expression.evaluate(new $r(this.zoom+1,f),s,{},f.canonical,[],f.formattedSection),P=this.paintVertexArray.length;this.paintVertexArray.resize(n),this._setPaintValue(P,n,v,S)}updatePaintArray(n,s,f,v,S){const P=this.expression.evaluate(new $r(this.zoom,S),f,v),M=this.expression.evaluate(new $r(this.zoom+1,S),f,v);this._setPaintValue(n,s,P,M)}_setPaintValue(n,s,f,v){if(this.type==="color"){const S=Xh(f),P=Xh(v);for(let M=n;M<s;M++)this.paintVertexArray.emplace(M,S[0],S[1],P[0],P[1])}else{for(let S=n;S<s;S++)this.paintVertexArray.emplace(S,f,v);this.maxValue=Math.max(this.maxValue,Math.abs(f),Math.abs(v))}}upload(n){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=n.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(n,s){const f=this.useIntegerZoom?Math.floor(s.zoom):s.zoom,v=Dt(this.expression.interpolationFactor(f,this.zoom,this.zoom+1),0,1);n.set(v)}getBinding(n,s,f){return new gn(n,s)}}class In{constructor(n,s,f,v,S,P){this.expression=n,this.type=s,this.useIntegerZoom=f,this.zoom=v,this.layerId=P,this.zoomInPaintVertexArray=new S,this.zoomOutPaintVertexArray=new S}populatePaintArray(n,s,f){const v=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(n),this.zoomOutPaintVertexArray.resize(n),this._setPaintValues(v,n,s.patterns&&s.patterns[this.layerId],f.imagePositions)}updatePaintArray(n,s,f,v,S){this._setPaintValues(n,s,f.patterns&&f.patterns[this.layerId],S.imagePositions)}_setPaintValues(n,s,f,v){if(!v||!f)return;const{min:S,mid:P,max:M}=f,I=v[S],z=v[P],j=v[M];if(I&&z&&j)for(let H=n;H<s;H++)this.zoomInPaintVertexArray.emplace(H,z.tl[0],z.tl[1],z.br[0],z.br[1],I.tl[0],I.tl[1],I.br[0],I.br[1],z.pixelRatio,I.pixelRatio),this.zoomOutPaintVertexArray.emplace(H,z.tl[0],z.tl[1],z.br[0],z.br[1],j.tl[0],j.tl[1],j.br[0],j.br[1],z.pixelRatio,j.pixelRatio)}upload(n){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=n.createVertexBuffer(this.zoomInPaintVertexArray,Wn.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=n.createVertexBuffer(this.zoomOutPaintVertexArray,Wn.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class Wo{constructor(n,s,f){this.binders={},this._buffers=[];const v=[];for(const S in n.paint._values){if(!f(S))continue;const P=n.paint.get(S);if(!(P instanceof ri&&ki(P.property.specification)))continue;const M=_s(S,n.type),I=P.value,z=P.property.specification.type,j=P.property.useIntegerZoom,H=P.property.specification["property-type"],Q=H==="cross-faded"||H==="cross-faded-data-driven";if(I.kind==="constant")this.binders[S]=Q?new vo(I.value,M):new Wc(I.value,M,z),v.push(`/u_${S}`);else if(I.kind==="source"||Q){const ee=Ki(S,z,"source");this.binders[S]=Q?new In(I,z,j,s,ee,n.id):new Vo(I,M,z,ee),v.push(`/a_${S}`)}else{const ee=Ki(S,z,"composite");this.binders[S]=new Ln(I,M,z,j,s,ee),v.push(`/z_${S}`)}}this.cacheKey=v.sort().join("")}getMaxValue(n){const s=this.binders[n];return s instanceof Vo||s instanceof Ln?s.maxValue:0}populatePaintArrays(n,s,f){for(const v in this.binders){const S=this.binders[v];(S instanceof Vo||S instanceof Ln||S instanceof In)&&S.populatePaintArray(n,s,f)}}setConstantPatternPositions(n,s){for(const f in this.binders){const v=this.binders[f];v instanceof vo&&v.setConstantPatternPositions(n,s)}}updatePaintArrays(n,s,f,v,S){let P=!1;for(const M in n){const I=s.getPositions(M);for(const z of I){const j=f.feature(z.index);for(const H in this.binders){const Q=this.binders[H];if((Q instanceof Vo||Q instanceof Ln||Q instanceof In)&&Q.expression.isStateDependent===!0){const ee=v.paint.get(H);Q.expression=ee.value,Q.updatePaintArray(z.start,z.end,j,n[M],S),P=!0}}}}return P}defines(){const n=[];for(const s in this.binders){const f=this.binders[s];(f instanceof Wc||f instanceof vo)&&n.push(...f.uniformNames.map((v=>`#define HAS_UNIFORM_${v}`)))}return n}getBinderAttributes(){const n=[];for(const s in this.binders){const f=this.binders[s];if(f instanceof Vo||f instanceof Ln)for(let v=0;v<f.paintVertexAttributes.length;v++)n.push(f.paintVertexAttributes[v].name);else if(f instanceof In)for(let v=0;v<Wn.members.length;v++)n.push(Wn.members[v].name)}return n}getBinderUniforms(){const n=[];for(const s in this.binders){const f=this.binders[s];if(f instanceof Wc||f instanceof vo||f instanceof Ln)for(const v of f.uniformNames)n.push(v)}return n}getPaintVertexBuffers(){return this._buffers}getUniforms(n,s){const f=[];for(const v in this.binders){const S=this.binders[v];if(S instanceof Wc||S instanceof vo||S instanceof Ln){for(const P of S.uniformNames)if(s[P]){const M=S.getBinding(n,s[P],P);f.push({name:P,property:v,binding:M})}}}return f}setUniforms(n,s,f,v){for(const{name:S,property:P,binding:M}of s)this.binders[P].setUniform(M,v,f.get(P),S)}updatePaintBuffers(n){this._buffers=[];for(const s in this.binders){const f=this.binders[s];if(n&&f instanceof In){const v=n.fromScale===2?f.zoomInPaintVertexBuffer:f.zoomOutPaintVertexBuffer;v&&this._buffers.push(v)}else(f instanceof Vo||f instanceof Ln)&&f.paintVertexBuffer&&this._buffers.push(f.paintVertexBuffer)}}upload(n){for(const s in this.binders){const f=this.binders[s];(f instanceof Vo||f instanceof Ln||f instanceof In)&&f.upload(n)}this.updatePaintBuffers()}destroy(){for(const n in this.binders){const s=this.binders[n];(s instanceof Vo||s instanceof Ln||s instanceof In)&&s.destroy()}}}class vs{constructor(n,s,f=()=>!0){this.programConfigurations={};for(const v of n)this.programConfigurations[v.id]=new Wo(v,s,f);this.needsUpload=!1,this._featureMap=new ga,this._bufferOffset=0}populatePaintArrays(n,s,f,v){for(const S in this.programConfigurations)this.programConfigurations[S].populatePaintArrays(n,s,v);s.id!==void 0&&this._featureMap.add(s.id,f,this._bufferOffset,n),this._bufferOffset=n,this.needsUpload=!0}updatePaintArrays(n,s,f,v){for(const S of f)this.needsUpload=this.programConfigurations[S.id].updatePaintArrays(n,this._featureMap,s,S,v)||this.needsUpload}get(n){return this.programConfigurations[n]}upload(n){if(this.needsUpload){for(const s in this.programConfigurations)this.programConfigurations[s].upload(n);this.needsUpload=!1}}destroy(){for(const n in this.programConfigurations)this.programConfigurations[n].destroy()}}function _s(l,n){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[l]||[l.replace(`${n}-`,"").replace(/-/g,"_")]}function Ki(l,n,s){const f={color:{source:yo,composite:G},number:{source:k,composite:yo}},v=(function(S){return{"line-pattern":{source:ft,composite:ft},"fill-pattern":{source:ft,composite:ft},"fill-extrusion-pattern":{source:ft,composite:ft}}[S]})(l);return v&&v[s]||f[n][s]}Lt("ConstantBinder",Wc),Lt("CrossFadedConstantBinder",vo),Lt("SourceExpressionBinder",Vo),Lt("CrossFadedCompositeBinder",In),Lt("CompositeExpressionBinder",Ln),Lt("ProgramConfiguration",Wo,{omit:["_buffers"]}),Lt("ProgramConfigurationSet",vs);const zn=Math.pow(2,14)-1,Bl=-zn-1;function ql(l){const n=bt/l.extent,s=l.loadGeometry();for(let f=0;f<s.length;f++){const v=s[f];for(let S=0;S<v.length;S++){const P=v[S],M=Math.round(P.x*n),I=Math.round(P.y*n);P.x=Dt(M,Bl,zn),P.y=Dt(I,Bl,zn),(M<P.x||M>P.x+1||I<P.y||I>P.y+1)&&Bt("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return s}function $l(l,n){return{type:l.type,id:l.id,properties:l.properties,geometry:n?ql(l):[]}}const Wm=-32768;function Zg(l,n,s,f,v){l.emplaceBack(Wm+8*n+f,Wm+8*s+v)}class Hl{constructor(n){this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map((s=>s.id)),this.index=n.index,this.hasPattern=!1,this.layoutVertexArray=new qe,this.indexArray=new Zr,this.segments=new Mr,this.programConfigurations=new vs(n.layers,n.zoom),this.stateDependentLayerIds=this.layers.filter((s=>s.isStateDependent())).map((s=>s.id))}populate(n,s,f){const v=this.layers[0],S=[];let P=null,M=!1,I=v.type==="heatmap";if(v.type==="circle"){const j=v;P=j.layout.get("circle-sort-key"),M=!P.isConstant(),I=I||j.paint.get("circle-pitch-alignment")==="map"}const z=I?s.subdivisionGranularity.circle:1;for(const{feature:j,id:H,index:Q,sourceLayerIndex:ee}of n){const re=this.layers[0]._featureFilter.needGeometry,oe=$l(j,re);if(!this.layers[0]._featureFilter.filter(new $r(this.zoom),oe,f))continue;const ue=M?P.evaluate(oe,{},f):void 0,ge={id:H,properties:j.properties,type:j.type,sourceLayerIndex:ee,index:Q,geometry:re?oe.geometry:ql(j),patterns:{},sortKey:ue};S.push(ge)}M&&S.sort(((j,H)=>j.sortKey-H.sortKey));for(const j of S){const{geometry:H,index:Q,sourceLayerIndex:ee}=j,re=n[Q].feature;this.addFeature(j,H,Q,f,z),s.featureIndex.insert(re,H,Q,ee,this.index)}}update(n,s,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(n,s,this.stateDependentLayers,{imagePositions:f})}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,Yr),this.indexBuffer=n.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(n),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(n,s,f,v,S=1){let P;switch(S){case 1:P=[0,7];break;case 3:P=[0,2,5,7];break;case 5:P=[0,1,3,4,6,7];break;case 7:P=[0,1,2,3,4,5,6,7];break;default:throw new Error(`Invalid circle bucket granularity: ${S}; valid values are 1, 3, 5, 7.`)}const M=P.length;for(const I of s)for(const z of I){const j=z.x,H=z.y;if(j<0||j>=bt||H<0||H>=bt)continue;const Q=this.segments.prepareSegment(M*M,this.layoutVertexArray,this.indexArray,n.sortKey),ee=Q.vertexLength;for(let re=0;re<M;re++)for(let oe=0;oe<M;oe++)Zg(this.layoutVertexArray,j,H,P[oe],P[re]);for(let re=0;re<M-1;re++)for(let oe=0;oe<M-1;oe++){const ue=ee+re*M+oe,ge=ee+(re+1)*M+oe;this.indexArray.emplaceBack(ue,ge+1,ue+1),this.indexArray.emplaceBack(ue,ge,ge+1)}Q.vertexLength+=M*M,Q.primitiveLength+=(M-1)*(M-1)*2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,f,{imagePositions:{},canonical:v})}}function nd(l,n){for(let s=0;s<l.length;s++)if(Jh(n,l[s]))return!0;for(let s=0;s<n.length;s++)if(Jh(l,n[s]))return!0;return!!Kh(l,n)}function ad(l,n,s){return!!Jh(l,n)||!!id(n,l,s)}function Gm(l,n){if(l.length===1)return Ym(n,l[0]);for(let s=0;s<n.length;s++){const f=n[s];for(let v=0;v<f.length;v++)if(Jh(l,f[v]))return!0}for(let s=0;s<l.length;s++)if(Ym(n,l[s]))return!0;for(let s=0;s<n.length;s++)if(Kh(l,n[s]))return!0;return!1}function Yg(l,n,s){if(l.length>1){if(Kh(l,n))return!0;for(let f=0;f<n.length;f++)if(id(n[f],l,s))return!0}for(let f=0;f<l.length;f++)if(id(l[f],n,s))return!0;return!1}function Kh(l,n){if(l.length===0||n.length===0)return!1;for(let s=0;s<l.length-1;s++){const f=l[s],v=l[s+1];for(let S=0;S<n.length-1;S++)if(Qg(f,v,n[S],n[S+1]))return!0}return!1}function Qg(l,n,s,f){return Sr(l,s,f)!==Sr(n,s,f)&&Sr(l,n,s)!==Sr(l,n,f)}function id(l,n,s){const f=s*s;if(n.length===1)return l.distSqr(n[0])<f;for(let v=1;v<n.length;v++)if(Zm(l,n[v-1],n[v])<f)return!0;return!1}function Zm(l,n,s){const f=n.distSqr(s);if(f===0)return l.distSqr(n);const v=((l.x-n.x)*(s.x-n.x)+(l.y-n.y)*(s.y-n.y))/f;return l.distSqr(v<0?n:v>1?s:s.sub(n)._mult(v)._add(n))}function Ym(l,n){let s,f,v,S=!1;for(let P=0;P<l.length;P++){s=l[P];for(let M=0,I=s.length-1;M<s.length;I=M++)f=s[M],v=s[I],f.y>n.y!=v.y>n.y&&n.x<(v.x-f.x)*(n.y-f.y)/(v.y-f.y)+f.x&&(S=!S)}return S}function Jh(l,n){let s=!1;for(let f=0,v=l.length-1;f<l.length;v=f++){const S=l[f],P=l[v];S.y>n.y!=P.y>n.y&&n.x<(P.x-S.x)*(n.y-S.y)/(P.y-S.y)+S.x&&(s=!s)}return s}function Xg(l,n,s){const f=s[0],v=s[2];if(l.x<f.x&&n.x<f.x||l.x>v.x&&n.x>v.x||l.y<f.y&&n.y<f.y||l.y>v.y&&n.y>v.y)return!1;const S=Sr(l,n,s[0]);return S!==Sr(l,n,s[1])||S!==Sr(l,n,s[2])||S!==Sr(l,n,s[3])}function Gn(l,n,s){const f=n.paint.get(l).value;return f.kind==="constant"?f.value:s.programConfigurations.get(n.id).getMaxValue(l)}function va(l){return Math.sqrt(l[0]*l[0]+l[1]*l[1])}function od(l,n,s,f,v){if(!n[0]&&!n[1])return l;const S=A.convert(n)._mult(v);s==="viewport"&&S._rotate(-f);const P=[];for(let M=0;M<l.length;M++)P.push(l[M].sub(S));return P}function Kg({queryGeometry:l,size:n},s){return ad(l,s,n)}function Jg({queryGeometry:l,size:n,transform:s,unwrappedTileID:f,getElevation:v},S){return ad(l,S,n*(s.projectTileCoordinates(S.x,S.y,f,v).signedDistanceFromCamera/s.cameraToCenterDistance))}function e0({queryGeometry:l,size:n,transform:s,unwrappedTileID:f,getElevation:v},S){const P=s.projectTileCoordinates(S.x,S.y,f,v).signedDistanceFromCamera,M=n*(s.cameraToCenterDistance/P);return ad(l,ld(S,s,f,v),M)}function t0({queryGeometry:l,size:n,transform:s,unwrappedTileID:f,getElevation:v},S){return ad(l,ld(S,s,f,v),n)}function sd({queryGeometry:l,size:n,transform:s,unwrappedTileID:f,getElevation:v,pitchAlignment:S="map",pitchScale:P="map"},M){const I=S==="map"?P==="map"?Kg:Jg:P==="map"?e0:t0,z={queryGeometry:l,size:n,transform:s,unwrappedTileID:f,getElevation:v};for(const j of M)for(const H of j)if(I(z,H))return!0;return!1}function ld(l,n,s,f){const v=n.projectTileCoordinates(l.x,l.y,s,f).point;return new A((.5*v.x+.5)*n.width,(.5*-v.y+.5)*n.height)}let Qm,Xm;Lt("CircleBucket",Hl,{omit:["layers"]});var r0={get paint(){return Xm=Xm||new ma({"circle-radius":new Yt(ze.paint_circle["circle-radius"]),"circle-color":new Yt(ze.paint_circle["circle-color"]),"circle-blur":new Yt(ze.paint_circle["circle-blur"]),"circle-opacity":new Yt(ze.paint_circle["circle-opacity"]),"circle-translate":new qt(ze.paint_circle["circle-translate"]),"circle-translate-anchor":new qt(ze.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new qt(ze.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new qt(ze.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Yt(ze.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Yt(ze.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Yt(ze.paint_circle["circle-stroke-opacity"])})},get layout(){return Qm=Qm||new ma({"circle-sort-key":new Yt(ze.layout_circle["circle-sort-key"])})}};class Km extends Xi{constructor(n,s){super(n,r0,s)}createBucket(n){return new Hl(n)}queryRadius(n){const s=n;return Gn("circle-radius",this,s)+Gn("circle-stroke-width",this,s)+va(this.paint.get("circle-translate"))}queryIntersectsFeature({queryGeometry:n,feature:s,featureState:f,geometry:v,transform:S,pixelsToTileUnits:P,unwrappedTileID:M,getElevation:I}){const z=od(n,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),-S.bearingInRadians,P),j=this.paint.get("circle-radius").evaluate(s,f)+this.paint.get("circle-stroke-width").evaluate(s,f),H=this.paint.get("circle-pitch-scale"),Q=this.paint.get("circle-pitch-alignment");let ee,re;return Q==="map"?(ee=z,re=j*P):(ee=(function(oe,ue,ge,Fe){return oe.map((Pe=>ld(Pe,ue,ge,Fe)))})(z,S,M,I),re=j),sd({queryGeometry:ee,size:re,transform:S,unwrappedTileID:M,getElevation:I,pitchAlignment:Q,pitchScale:H},v)}}class Cp extends Hl{}let Dp;Lt("HeatmapBucket",Cp,{omit:["layers"]});var n0={get paint(){return Dp=Dp||new ma({"heatmap-radius":new Yt(ze.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Yt(ze.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new qt(ze.paint_heatmap["heatmap-intensity"]),"heatmap-color":new wn(ze.paint_heatmap["heatmap-color"]),"heatmap-opacity":new qt(ze.paint_heatmap["heatmap-opacity"])})}};function cd(l,{width:n,height:s},f,v){if(v){if(v instanceof Uint8ClampedArray)v=new Uint8Array(v.buffer);else if(v.length!==n*s*f)throw new RangeError(`mismatched image size. expected: ${v.length} but got: ${n*s*f}`)}else v=new Uint8Array(n*s*f);return l.width=n,l.height=s,l.data=v,l}function ud(l,{width:n,height:s},f){if(n===l.width&&s===l.height)return;const v=cd({},{width:n,height:s},f);hd(l,v,{x:0,y:0},{x:0,y:0},{width:Math.min(l.width,n),height:Math.min(l.height,s)},f),l.width=n,l.height=s,l.data=v.data}function hd(l,n,s,f,v,S){if(v.width===0||v.height===0)return n;if(v.width>l.width||v.height>l.height||s.x>l.width-v.width||s.y>l.height-v.height)throw new RangeError("out of range source coordinates for image copy");if(v.width>n.width||v.height>n.height||f.x>n.width-v.width||f.y>n.height-v.height)throw new RangeError("out of range destination coordinates for image copy");const P=l.data,M=n.data;if(P===M)throw new Error("srcData equals dstData, so image is already copied");for(let I=0;I<v.height;I++){const z=((s.y+I)*l.width+s.x)*S,j=((f.y+I)*n.width+f.x)*S;for(let H=0;H<v.width*S;H++)M[j+H]=P[z+H]}return n}class ef{constructor(n,s){cd(this,n,1,s)}resize(n){ud(this,n,1)}clone(){return new ef({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(n,s,f,v,S){hd(n,s,f,v,S,1)}}class ii{constructor(n,s){cd(this,n,4,s)}resize(n){ud(this,n,4)}replace(n,s){s?this.data.set(n):this.data=n instanceof Uint8ClampedArray?new Uint8Array(n.buffer):n}clone(){return new ii({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(n,s,f,v,S){hd(n,s,f,v,S,4)}setPixel(n,s,f){const v=4*(n*this.width+s);this.data[v+0]=Math.round(255*f.r/f.a),this.data[v+1]=Math.round(255*f.g/f.a),this.data[v+2]=Math.round(255*f.b/f.a),this.data[v+3]=Math.round(255*f.a)}}function Jm(l){const n={},s=l.resolution||256,f=l.clips?l.clips.length:1,v=l.image||new ii({width:s,height:f});if(Math.log(s)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${s}`);const S=(P,M,I)=>{n[l.evaluationKey]=I;const z=l.expression.evaluate(n);v.setPixel(P/4/s,M/4,z)};if(l.clips)for(let P=0,M=0;P<f;++P,M+=4*s)for(let I=0,z=0;I<s;I++,z+=4){const j=I/(s-1),{start:H,end:Q}=l.clips[P];S(M,z,H*(1-j)+Q*j)}else for(let P=0,M=0;P<s;P++,M+=4)S(0,M,P/(s-1));return v}Lt("AlphaImage",ef),Lt("RGBAImage",ii);const bs="big-fb";class ey extends Xi{createBucket(n){return new Cp(n)}constructor(n,s){super(n,n0,s),this.heatmapFbos=new Map,this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(n){n==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=Jm({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbos.has(bs)&&this.heatmapFbos.delete(bs)}queryRadius(n){return Gn("heatmap-radius",this,n)}queryIntersectsFeature({queryGeometry:n,feature:s,featureState:f,geometry:v,transform:S,pixelsToTileUnits:P,unwrappedTileID:M,getElevation:I}){return sd({queryGeometry:n,size:this.paint.get("heatmap-radius").evaluate(s,f)*P,transform:S,unwrappedTileID:M,getElevation:I},v)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let a0;var i0={get paint(){return a0=a0||new ma({"hillshade-illumination-direction":new qt(ze.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-altitude":new qt(ze.paint_hillshade["hillshade-illumination-altitude"]),"hillshade-illumination-anchor":new qt(ze.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new qt(ze.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new qt(ze.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new qt(ze.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new qt(ze.paint_hillshade["hillshade-accent-color"]),"hillshade-method":new qt(ze.paint_hillshade["hillshade-method"])})}};class Vl extends Xi{constructor(n,s){super(n,i0,s),this.recalculate({zoom:0,zoomHistory:{}},void 0)}getIlluminationProperties(){let n=this.paint.get("hillshade-illumination-direction").values,s=this.paint.get("hillshade-illumination-altitude").values,f=this.paint.get("hillshade-highlight-color").values,v=this.paint.get("hillshade-shadow-color").values;const S=Math.max(n.length,s.length,f.length,v.length);n=n.concat(Array(S-n.length).fill(n.at(-1))),s=s.concat(Array(S-s.length).fill(s.at(-1))),f=f.concat(Array(S-f.length).fill(f.at(-1))),v=v.concat(Array(S-v.length).fill(v.at(-1)));const P=s.map(To);return{directionRadians:n.map(To),altitudeRadians:P,shadowColor:v,highlightColor:f}}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}let ty;var Mp={get paint(){return ty=ty||new ma({"color-relief-opacity":new qt(ze["paint_color-relief"]["color-relief-opacity"]),"color-relief-color":new wn(ze["paint_color-relief"]["color-relief-color"])})}};class Vu{constructor(n,s,f,v){this.context=n,this.format=f,this.texture=n.gl.createTexture(),this.update(s,v)}update(n,s,f){const{width:v,height:S}=n,P=!(this.size&&this.size[0]===v&&this.size[1]===S||f),{context:M}=this,{gl:I}=M;if(this.useMipmap=!!(s&&s.useMipmap),I.bindTexture(I.TEXTURE_2D,this.texture),M.pixelStoreUnpackFlipY.set(!1),M.pixelStoreUnpack.set(1),M.pixelStoreUnpackPremultiplyAlpha.set(this.format===I.RGBA&&(!s||s.premultiply!==!1)),P)this.size=[v,S],n instanceof HTMLImageElement||n instanceof HTMLCanvasElement||n instanceof HTMLVideoElement||n instanceof ImageData||Bn(n)?I.texImage2D(I.TEXTURE_2D,0,this.format,this.format,I.UNSIGNED_BYTE,n):I.texImage2D(I.TEXTURE_2D,0,this.format,v,S,0,this.format,I.UNSIGNED_BYTE,n.data);else{const{x:z,y:j}=f||{x:0,y:0};n instanceof HTMLImageElement||n instanceof HTMLCanvasElement||n instanceof HTMLVideoElement||n instanceof ImageData||Bn(n)?I.texSubImage2D(I.TEXTURE_2D,0,z,j,I.RGBA,I.UNSIGNED_BYTE,n):I.texSubImage2D(I.TEXTURE_2D,0,z,j,v,S,I.RGBA,I.UNSIGNED_BYTE,n.data)}this.useMipmap&&this.isSizePowerOfTwo()&&I.generateMipmap(I.TEXTURE_2D),M.pixelStoreUnpackFlipY.setDefault(),M.pixelStoreUnpack.setDefault(),M.pixelStoreUnpackPremultiplyAlpha.setDefault()}bind(n,s,f){const{context:v}=this,{gl:S}=v;S.bindTexture(S.TEXTURE_2D,this.texture),f!==S.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(f=S.LINEAR),n!==this.filter&&(S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MAG_FILTER,n),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MIN_FILTER,f||n),this.filter=n),s!==this.wrap&&(S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_S,s),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_T,s),this.wrap=s)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:n}=this.context;n.deleteTexture(this.texture),this.texture=null}}class Fn{constructor(n,s,f,v=1,S=1,P=1,M=0){if(this.uid=n,s.height!==s.width)throw new RangeError("DEM tiles must be square");if(f&&!["mapbox","terrarium","custom"].includes(f))return void Bt(`"${f}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=s.height;const I=this.dim=s.height-2;switch(this.data=new Uint32Array(s.data.buffer),f){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=v,this.greenFactor=S,this.blueFactor=P,this.baseShift=M;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let z=0;z<I;z++)this.data[this._idx(-1,z)]=this.data[this._idx(0,z)],this.data[this._idx(I,z)]=this.data[this._idx(I-1,z)],this.data[this._idx(z,-1)]=this.data[this._idx(z,0)],this.data[this._idx(z,I)]=this.data[this._idx(z,I-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(I,-1)]=this.data[this._idx(I-1,0)],this.data[this._idx(-1,I)]=this.data[this._idx(0,I-1)],this.data[this._idx(I,I)]=this.data[this._idx(I-1,I-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let z=0;z<I;z++)for(let j=0;j<I;j++){const H=this.get(z,j);H>this.max&&(this.max=H),H<this.min&&(this.min=H)}}get(n,s){const f=new Uint8Array(this.data.buffer),v=4*this._idx(n,s);return this.unpack(f[v],f[v+1],f[v+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(n,s){if(n<-1||n>=this.dim+1||s<-1||s>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(s+1)*this.stride+(n+1)}unpack(n,s,f){return n*this.redFactor+s*this.greenFactor+f*this.blueFactor-this.baseShift}pack(n){return o0(n,this.getUnpackVector())}getPixels(){return new ii({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(n,s,f){if(this.dim!==n.dim)throw new Error("dem dimension mismatch");let v=s*this.dim,S=s*this.dim+this.dim,P=f*this.dim,M=f*this.dim+this.dim;switch(s){case-1:v=S-1;break;case 1:S=v+1}switch(f){case-1:P=M-1;break;case 1:M=P+1}const I=-s*this.dim,z=-f*this.dim;for(let j=P;j<M;j++)for(let H=v;H<S;H++)this.data[this._idx(H,j)]=n.data[this._idx(H+I,j+z)]}}function o0(l,n){const s=n[0],f=n[1],v=n[2],S=n[3],P=Math.min(s,f,v),M=Math.round((l+S)/P);return{r:Math.floor(M*P/s)%256,g:Math.floor(M*P/f)%256,b:Math.floor(M*P/v)%256}}Lt("DEMData",Fn);class i_ extends Xi{constructor(n,s){super(n,Mp,s)}_createColorRamp(n){const s={elevationStops:[],colorStops:[]},f=this._transitionablePaint._values["color-relief-color"].value.expression;if(f instanceof Ws&&f._styleExpression.expression instanceof Da){this.colorRampExpression=f;const P=f._styleExpression.expression;s.elevationStops=P.labels,s.colorStops=[];for(const M of s.elevationStops)s.colorStops.push(P.evaluate({globals:{elevation:M}}))}if(s.elevationStops.length<1&&(s.elevationStops=[0],s.colorStops=[_r.transparent]),s.elevationStops.length<2&&(s.elevationStops.push(s.elevationStops[0]+1),s.colorStops.push(s.colorStops[0])),s.elevationStops.length<=n)return s;const v={elevationStops:[],colorStops:[]},S=(s.elevationStops.length-1)/(n-1);for(let P=0;P<s.elevationStops.length-.5;P+=S)v.elevationStops.push(s.elevationStops[Math.round(P)]),v.colorStops.push(s.colorStops[Math.round(P)]);return Bt(`Too many colors in specification of ${this.id} color-relief layer, may not render properly.`),v}_colorRampChanged(){return this.colorRampExpression!=this._transitionablePaint._values["color-relief-color"].value.expression}getColorRampTextures(n,s,f){if(this.colorRampTextures&&!this._colorRampChanged())return this.colorRampTextures;const v=this._createColorRamp(s),S=new ii({width:v.colorStops.length,height:1}),P=new ii({width:v.colorStops.length,height:1});for(let M=0;M<v.elevationStops.length;M++){const I=o0(v.elevationStops[M],f);P.setPixel(0,M,new _r(I.r/255,I.g/255,I.b/255,1)),S.setPixel(0,M,v.colorStops[M])}return this.colorRampTextures={elevationTexture:new Vu(n,P,n.gl.RGBA),colorTexture:new Vu(n,S,n.gl.RGBA)},this.colorRampTextures}hasOffscreenPass(){return this.visibility!=="none"&&!!this.colorRampTextures}}const s0=Pn([{name:"a_pos",components:2,type:"Int16"}],4),{members:fd}=s0;function nl(l,n,s){const f=s.patternDependencies;let v=!1;for(const S of n){const P=S.paint.get(`${l}-pattern`);P.isConstant()||(v=!0);const M=P.constantOr(null);M&&(v=!0,f[M.to]=!0,f[M.from]=!0)}return v}function Tp(l,n,s,f,v){const{zoom:S}=f,P=v.patternDependencies;for(const M of n){const I=M.paint.get(`${l}-pattern`).value;if(I.kind!=="constant"){let z=I.evaluate({zoom:S-1},s,{},v.availableImages),j=I.evaluate({zoom:S},s,{},v.availableImages),H=I.evaluate({zoom:S+1},s,{},v.availableImages);z=z&&z.name?z.name:z,j=j&&j.name?j.name:j,H=H&&H.name?H.name:H,P[z]=!0,P[j]=!0,P[H]=!0,s.patterns[M.id]={min:z,mid:j,max:H}}}return s}function ry(l,n,s,f,v){let S;if(v===(function(P,M,I,z){let j=0;for(let H=M,Q=I-z;H<I;H+=z)j+=(P[Q]-P[H])*(P[H+1]+P[Q+1]),Q=H;return j})(l,n,s,f)>0)for(let P=n;P<s;P+=f)S=ly(P/f|0,l[P],l[P+1],S);else for(let P=s-f;P>=n;P-=f)S=ly(P/f|0,l[P],l[P+1],S);return S&&Wu(S,S.next)&&(dd(S),S=S.next),S}function xs(l,n){if(!l)return l;n||(n=l);let s,f=l;do if(s=!1,f.steiner||!Wu(f,f.next)&&Zn(f.prev,f,f.next)!==0)f=f.next;else{if(dd(f),f=n=f.prev,f===f.next)break;s=!0}while(s||f!==n);return n}function Ji(l,n,s,f,v,S,P){if(!l)return;!P&&S&&(function(I,z,j,H){let Q=I;do Q.z===0&&(Q.z=Ss(Q.x,Q.y,z,j,H)),Q.prevZ=Q.prev,Q.nextZ=Q.next,Q=Q.next;while(Q!==I);Q.prevZ.nextZ=null,Q.prevZ=null,(function(ee){let re,oe=1;do{let ue,ge=ee;ee=null;let Fe=null;for(re=0;ge;){re++;let Pe=ge,Te=0;for(let tt=0;tt<oe&&(Te++,Pe=Pe.nextZ,Pe);tt++);let Ze=oe;for(;Te>0||Ze>0&&Pe;)Te!==0&&(Ze===0||!Pe||ge.z<=Pe.z)?(ue=ge,ge=ge.nextZ,Te--):(ue=Pe,Pe=Pe.nextZ,Ze--),Fe?Fe.nextZ=ue:ee=ue,ue.prevZ=Fe,Fe=ue;ge=Pe}Fe.nextZ=null,oe*=2}while(re>1)})(Q)})(l,f,v,S);let M=l;for(;l.prev!==l.next;){const I=l.prev,z=l.next;if(S?ny(l,f,v,S):l0(l))n.push(I.i,l.i,z.i),dd(l),l=z.next,M=z.next;else if((l=z)===M){P?P===1?Ji(l=c0(xs(l),n),n,s,f,v,S,2):P===2&&ay(l,n,s,f,v,S):Ji(xs(l),n,s,f,v,S,1);break}}}function l0(l){const n=l.prev,s=l,f=l.next;if(Zn(n,s,f)>=0)return!1;const v=n.x,S=s.x,P=f.x,M=n.y,I=s.y,z=f.y,j=Math.min(v,S,P),H=Math.min(M,I,z),Q=Math.max(v,S,P),ee=Math.max(M,I,z);let re=f.next;for(;re!==n;){if(re.x>=j&&re.x<=Q&&re.y>=H&&re.y<=ee&&tf(v,M,S,I,P,z,re.x,re.y)&&Zn(re.prev,re,re.next)>=0)return!1;re=re.next}return!0}function ny(l,n,s,f){const v=l.prev,S=l,P=l.next;if(Zn(v,S,P)>=0)return!1;const M=v.x,I=S.x,z=P.x,j=v.y,H=S.y,Q=P.y,ee=Math.min(M,I,z),re=Math.min(j,H,Q),oe=Math.max(M,I,z),ue=Math.max(j,H,Q),ge=Ss(ee,re,n,s,f),Fe=Ss(oe,ue,n,s,f);let Pe=l.prevZ,Te=l.nextZ;for(;Pe&&Pe.z>=ge&&Te&&Te.z<=Fe;){if(Pe.x>=ee&&Pe.x<=oe&&Pe.y>=re&&Pe.y<=ue&&Pe!==v&&Pe!==P&&tf(M,j,I,H,z,Q,Pe.x,Pe.y)&&Zn(Pe.prev,Pe,Pe.next)>=0||(Pe=Pe.prevZ,Te.x>=ee&&Te.x<=oe&&Te.y>=re&&Te.y<=ue&&Te!==v&&Te!==P&&tf(M,j,I,H,z,Q,Te.x,Te.y)&&Zn(Te.prev,Te,Te.next)>=0))return!1;Te=Te.nextZ}for(;Pe&&Pe.z>=ge;){if(Pe.x>=ee&&Pe.x<=oe&&Pe.y>=re&&Pe.y<=ue&&Pe!==v&&Pe!==P&&tf(M,j,I,H,z,Q,Pe.x,Pe.y)&&Zn(Pe.prev,Pe,Pe.next)>=0)return!1;Pe=Pe.prevZ}for(;Te&&Te.z<=Fe;){if(Te.x>=ee&&Te.x<=oe&&Te.y>=re&&Te.y<=ue&&Te!==v&&Te!==P&&tf(M,j,I,H,z,Q,Te.x,Te.y)&&Zn(Te.prev,Te,Te.next)>=0)return!1;Te=Te.nextZ}return!0}function c0(l,n){let s=l;do{const f=s.prev,v=s.next.next;!Wu(f,v)&&oy(f,s,s.next,v)&&_o(f,v)&&_o(v,f)&&(n.push(f.i,s.i,v.i),dd(s),dd(s.next),s=l=v),s=s.next}while(s!==l);return xs(s)}function ay(l,n,s,f,v,S){let P=l;do{let M=P.next.next;for(;M!==P.prev;){if(P.i!==M.i&&Na(P,M)){let I=sy(P,M);return P=xs(P,P.next),I=xs(I,I.next),Ji(P,n,s,f,v,S,0),void Ji(I,n,s,f,v,S,0)}M=M.next}P=P.next}while(P!==l)}function iy(l,n){let s=l.x-n.x;return s===0&&(s=l.y-n.y,s===0)&&(s=(l.next.y-l.y)/(l.next.x-l.x)-(n.next.y-n.y)/(n.next.x-n.x)),s}function Ep(l,n){const s=(function(v,S){let P=S;const M=v.x,I=v.y;let z,j=-1/0;if(Wu(v,P))return P;do{if(Wu(v,P.next))return P.next;if(I<=P.y&&I>=P.next.y&&P.next.y!==P.y){const oe=P.x+(I-P.y)*(P.next.x-P.x)/(P.next.y-P.y);if(oe<=M&&oe>j&&(j=oe,z=P.x<P.next.x?P:P.next,oe===M))return z}P=P.next}while(P!==S);if(!z)return null;const H=z,Q=z.x,ee=z.y;let re=1/0;P=z;do{if(M>=P.x&&P.x>=Q&&M!==P.x&&Rp(I<ee?M:j,I,Q,ee,I<ee?j:M,I,P.x,P.y)){const oe=Math.abs(I-P.y)/(M-P.x);_o(P,v)&&(oe<re||oe===re&&(P.x>z.x||P.x===z.x&&u0(z,P)))&&(z=P,re=oe)}P=P.next}while(P!==H);return z})(l,n);if(!s)return n;const f=sy(s,l);return xs(f,f.next),xs(s,s.next)}function u0(l,n){return Zn(l.prev,l,n.prev)<0&&Zn(n.next,l,l.next)<0}function Ss(l,n,s,f,v){return(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l=(l-s)*v|0)|l<<8))|l<<4))|l<<2))|l<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=(n-f)*v|0)|n<<8))|n<<4))|n<<2))|n<<1))<<1}function sa(l){let n=l,s=l;do(n.x<s.x||n.x===s.x&&n.y<s.y)&&(s=n),n=n.next;while(n!==l);return s}function Rp(l,n,s,f,v,S,P,M){return(v-P)*(n-M)>=(l-P)*(S-M)&&(l-P)*(f-M)>=(s-P)*(n-M)&&(s-P)*(S-M)>=(v-P)*(f-M)}function tf(l,n,s,f,v,S,P,M){return!(l===P&&n===M)&&Rp(l,n,s,f,v,S,P,M)}function Na(l,n){return l.next.i!==n.i&&l.prev.i!==n.i&&!(function(s,f){let v=s;do{if(v.i!==s.i&&v.next.i!==s.i&&v.i!==f.i&&v.next.i!==f.i&&oy(v,v.next,s,f))return!0;v=v.next}while(v!==s);return!1})(l,n)&&(_o(l,n)&&_o(n,l)&&(function(s,f){let v=s,S=!1;const P=(s.x+f.x)/2,M=(s.y+f.y)/2;do v.y>M!=v.next.y>M&&v.next.y!==v.y&&P<(v.next.x-v.x)*(M-v.y)/(v.next.y-v.y)+v.x&&(S=!S),v=v.next;while(v!==s);return S})(l,n)&&(Zn(l.prev,l,n.prev)||Zn(l,n.prev,n))||Wu(l,n)&&Zn(l.prev,l,l.next)>0&&Zn(n.prev,n,n.next)>0)}function Zn(l,n,s){return(n.y-l.y)*(s.x-n.x)-(n.x-l.x)*(s.y-n.y)}function Wu(l,n){return l.x===n.x&&l.y===n.y}function oy(l,n,s,f){const v=oi(Zn(l,n,s)),S=oi(Zn(l,n,f)),P=oi(Zn(s,f,l)),M=oi(Zn(s,f,n));return v!==S&&P!==M||!(v!==0||!vn(l,s,n))||!(S!==0||!vn(l,f,n))||!(P!==0||!vn(s,l,f))||!(M!==0||!vn(s,n,f))}function vn(l,n,s){return n.x<=Math.max(l.x,s.x)&&n.x>=Math.min(l.x,s.x)&&n.y<=Math.max(l.y,s.y)&&n.y>=Math.min(l.y,s.y)}function oi(l){return l>0?1:l<0?-1:0}function _o(l,n){return Zn(l.prev,l,l.next)<0?Zn(l,n,l.next)>=0&&Zn(l,l.prev,n)>=0:Zn(l,n,l.prev)<0||Zn(l,l.next,n)<0}function sy(l,n){const s=pd(l.i,l.x,l.y),f=pd(n.i,n.x,n.y),v=l.next,S=n.prev;return l.next=n,n.prev=l,s.next=v,v.prev=s,f.next=s,s.prev=f,S.next=f,f.prev=S,f}function ly(l,n,s,f){const v=pd(l,n,s);return f?(v.next=f.next,v.prev=f,f.next.prev=v,f.next=v):(v.prev=v,v.next=v),v}function dd(l){l.next.prev=l.prev,l.prev.next=l.next,l.prevZ&&(l.prevZ.nextZ=l.nextZ),l.nextZ&&(l.nextZ.prevZ=l.prevZ)}function pd(l,n,s){return{i:l,x:n,y:s,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}class ja{constructor(n,s){if(s>n)throw new Error("Min granularity must not be greater than base granularity.");this._baseZoomGranularity=n,this._minGranularity=s}getGranularityForZoomLevel(n){return Math.max(Math.floor(this._baseZoomGranularity/(1<<n)),this._minGranularity,1)}}class eo{constructor(n){this.fill=n.fill,this.line=n.line,this.tile=n.tile,this.stencil=n.stencil,this.circle=n.circle}}eo.noSubdivision=new eo({fill:new ja(0,0),line:new ja(0,0),tile:new ja(0,0),stencil:new ja(0,0),circle:1}),Lt("SubdivisionGranularityExpression",ja),Lt("SubdivisionGranularitySetting",eo);const Gu=-32768,si=32767;class h0{constructor(n,s){this._vertexBuffer=[],this._vertexDictionary=new Map,this._used=!1,this._granularity=n,this._granularityCellSize=bt/n,this._canonical=s}_getKey(n,s){return(n+=32768)<<16|s+32768}_vertexToIndex(n,s){if(n<-32768||s<-32768||n>32767||s>32767)throw new Error("Vertex coordinates are out of signed 16 bit integer range.");const f=0|Math.round(n),v=0|Math.round(s),S=this._getKey(f,v);if(this._vertexDictionary.has(S))return this._vertexDictionary.get(S);const P=this._vertexBuffer.length/2;return this._vertexDictionary.set(S,P),this._vertexBuffer.push(f,v),P}_subdivideTrianglesScanline(n){if(this._granularity<2)return(function(v,S){const P=[];for(let M=0;M<S.length;M+=3){const I=S[M],z=S[M+1],j=S[M+2],H=v[2*I],Q=v[2*I+1];(v[2*z]-H)*(v[2*j+1]-Q)-(v[2*z+1]-Q)*(v[2*j]-H)>0?(P.push(I),P.push(j),P.push(z)):(P.push(I),P.push(z),P.push(j))}return P})(this._vertexBuffer,n);const s=[],f=n.length;for(let v=0;v<f;v+=3){const S=[n[v+0],n[v+1],n[v+2]],P=[this._vertexBuffer[2*n[v+0]+0],this._vertexBuffer[2*n[v+0]+1],this._vertexBuffer[2*n[v+1]+0],this._vertexBuffer[2*n[v+1]+1],this._vertexBuffer[2*n[v+2]+0],this._vertexBuffer[2*n[v+2]+1]];let M=1/0,I=1/0,z=-1/0,j=-1/0;for(let oe=0;oe<3;oe++){const ue=P[2*oe],ge=P[2*oe+1];M=Math.min(M,ue),z=Math.max(z,ue),I=Math.min(I,ge),j=Math.max(j,ge)}if(M===z||I===j)continue;const H=Math.floor(M/this._granularityCellSize),Q=Math.ceil(z/this._granularityCellSize),ee=Math.floor(I/this._granularityCellSize),re=Math.ceil(j/this._granularityCellSize);if(H!==Q||ee!==re)for(let oe=ee;oe<re;oe++){const ue=this._scanlineGenerateVertexRingForCellRow(oe,P,S);Gc(this._vertexBuffer,ue,s)}else s.push(...S)}return s}_scanlineGenerateVertexRingForCellRow(n,s,f){const v=n*this._granularityCellSize,S=v+this._granularityCellSize,P=[];for(let M=0;M<3;M++){const I=s[2*M],z=s[2*M+1],j=s[2*(M+1)%6],H=s[(2*(M+1)+1)%6],Q=s[2*(M+2)%6],ee=s[(2*(M+2)+1)%6],re=j-I,oe=H-z,ue=re===0,ge=oe===0,Fe=(v-z)/oe,Pe=(S-z)/oe,Te=Math.min(Fe,Pe),Ze=Math.max(Fe,Pe);if(!ge&&(Te>=1||Ze<=0)||ge&&(z<v||z>S)){H>=v&&H<=S&&P.push(f[(M+1)%3]);continue}!ge&&Te>0&&P.push(this._vertexToIndex(I+re*Te,z+oe*Te));const tt=I+re*Math.max(Te,0),yt=I+re*Math.min(Ze,1);ue||this._generateIntraEdgeVertices(P,I,z,j,H,tt,yt),!ge&&Ze<1&&P.push(this._vertexToIndex(I+re*Ze,z+oe*Ze)),(ge||H>=v&&H<=S)&&P.push(f[(M+1)%3]),!ge&&(H<=v||H>=S)&&this._generateInterEdgeVertices(P,I,z,j,H,Q,ee,yt,v,S)}return P}_generateIntraEdgeVertices(n,s,f,v,S,P,M){const I=v-s,z=S-f,j=z===0,H=j?Math.min(s,v):Math.min(P,M),Q=j?Math.max(s,v):Math.max(P,M),ee=Math.floor(H/this._granularityCellSize)+1,re=Math.ceil(Q/this._granularityCellSize)-1;if(j?s<v:P<M)for(let oe=ee;oe<=re;oe++){const ue=oe*this._granularityCellSize;n.push(this._vertexToIndex(ue,f+z*(ue-s)/I))}else for(let oe=re;oe>=ee;oe--){const ue=oe*this._granularityCellSize;n.push(this._vertexToIndex(ue,f+z*(ue-s)/I))}}_generateInterEdgeVertices(n,s,f,v,S,P,M,I,z,j){const H=S-f,Q=P-v,ee=M-S,re=(z-S)/ee,oe=(j-S)/ee,ue=Math.min(re,oe),ge=Math.max(re,oe),Fe=v+Q*ue;let Pe=Math.floor(Math.min(Fe,I)/this._granularityCellSize)+1,Te=Math.ceil(Math.max(Fe,I)/this._granularityCellSize)-1,Ze=I<Fe;const tt=ee===0;if(tt&&(M===z||M===j))return;if(tt||ue>=1||ge<=0){const It=f-M,At=P+(s-P)*Math.min((z-M)/It,(j-M)/It);Pe=Math.floor(Math.min(At,I)/this._granularityCellSize)+1,Te=Math.ceil(Math.max(At,I)/this._granularityCellSize)-1,Ze=I<At}const yt=H>0?j:z;if(Ze)for(let It=Pe;It<=Te;It++)n.push(this._vertexToIndex(It*this._granularityCellSize,yt));else for(let It=Te;It>=Pe;It--)n.push(this._vertexToIndex(It*this._granularityCellSize,yt))}_generateOutline(n){const s=[];for(const f of n){const v=bo(f,this._granularity,!0),S=this._pointArrayToIndices(v),P=[];for(let M=1;M<S.length;M++)P.push(S[M-1]),P.push(S[M]);s.push(P)}return s}_handlePoles(n){let s=!1,f=!1;this._canonical&&(this._canonical.y===0&&(s=!0),this._canonical.y===(1<<this._canonical.z)-1&&(f=!0)),(s||f)&&this._fillPoles(n,s,f)}_ensureNoPoleVertices(){const n=this._vertexBuffer;for(let s=0;s<n.length;s+=2){const f=n[s+1];f===Gu&&(n[s+1]=-32767),f===si&&(n[s+1]=32766)}}_generatePoleQuad(n,s,f,v,S,P){v>S!=(P===Gu)?(n.push(s),n.push(f),n.push(this._vertexToIndex(v,P)),n.push(f),n.push(this._vertexToIndex(S,P)),n.push(this._vertexToIndex(v,P))):(n.push(f),n.push(s),n.push(this._vertexToIndex(v,P)),n.push(this._vertexToIndex(S,P)),n.push(f),n.push(this._vertexToIndex(v,P)))}_fillPoles(n,s,f){const v=this._vertexBuffer,S=bt,P=n.length;for(let M=2;M<P;M+=3){const I=n[M-2],z=n[M-1],j=n[M],H=v[2*I],Q=v[2*I+1],ee=v[2*z],re=v[2*z+1],oe=v[2*j],ue=v[2*j+1];s&&(Q===0&&re===0&&this._generatePoleQuad(n,I,z,H,ee,Gu),re===0&&ue===0&&this._generatePoleQuad(n,z,j,ee,oe,Gu),ue===0&&Q===0&&this._generatePoleQuad(n,j,I,oe,H,Gu)),f&&(Q===S&&re===S&&this._generatePoleQuad(n,I,z,H,ee,si),re===S&&ue===S&&this._generatePoleQuad(n,z,j,ee,oe,si),ue===S&&Q===S&&this._generatePoleQuad(n,j,I,oe,H,si))}}_initializeVertices(n){for(let s=0;s<n.length;s+=2)this._vertexToIndex(n[s],n[s+1])}subdividePolygonInternal(n,s){if(this._used)throw new Error("Subdivision: multiple use not allowed.");this._used=!0;const{flattened:f,holeIndices:v}=(function(M){const I=[],z=[];for(const j of M)if(j.length!==0){j!==M[0]&&I.push(z.length/2);for(let H=0;H<j.length;H++)z.push(j[H].x),z.push(j[H].y)}return{flattened:z,holeIndices:I}})(n);let S;this._initializeVertices(f);try{const M=(function(z,j,H=2){const Q=j&&j.length,ee=Q?j[0]*H:z.length;let re=ry(z,0,ee,H,!0);const oe=[];if(!re||re.next===re.prev)return oe;let ue,ge,Fe;if(Q&&(re=(function(Pe,Te,Ze,tt){const yt=[];for(let It=0,At=Te.length;It<At;It++){const kt=ry(Pe,Te[It]*tt,It<At-1?Te[It+1]*tt:Pe.length,tt,!1);kt===kt.next&&(kt.steiner=!0),yt.push(sa(kt))}yt.sort(iy);for(let It=0;It<yt.length;It++)Ze=Ep(yt[It],Ze);return Ze})(z,j,re,H)),z.length>80*H){ue=z[0],ge=z[1];let Pe=ue,Te=ge;for(let Ze=H;Ze<ee;Ze+=H){const tt=z[Ze],yt=z[Ze+1];tt<ue&&(ue=tt),yt<ge&&(ge=yt),tt>Pe&&(Pe=tt),yt>Te&&(Te=yt)}Fe=Math.max(Pe-ue,Te-ge),Fe=Fe!==0?32767/Fe:0}return Ji(re,oe,H,ue,ge,Fe,0),oe})(f,v),I=this._convertIndices(f,M);S=this._subdivideTrianglesScanline(I)}catch(M){console.error(M)}let P=[];return s&&(P=this._generateOutline(n)),this._ensureNoPoleVertices(),this._handlePoles(S),{verticesFlattened:this._vertexBuffer,indicesTriangles:S,indicesLineList:P}}_convertIndices(n,s){const f=[];for(let v=0;v<s.length;v++)f.push(this._vertexToIndex(n[2*s[v]],n[2*s[v]+1]));return f}_pointArrayToIndices(n){const s=[];for(let f=0;f<n.length;f++){const v=n[f];s.push(this._vertexToIndex(v.x,v.y))}return s}}function Wl(l,n,s,f=!0){return new h0(s,n).subdividePolygonInternal(l,f)}function bo(l,n,s=!1){if(!l||l.length<1)return[];if(l.length<2)return[];const f=l[0],v=l[l.length-1],S=s&&(f.x!==v.x||f.y!==v.y);if(n<2)return S?[...l,l[0]]:[...l];const P=Math.floor(bt/n),M=[];M.push(new A(l[0].x,l[0].y));const I=l.length,z=S?I:I-1;for(let j=0;j<z;j++){const H=l[j],Q=j<I-1?l[j+1]:l[0],ee=H.x,re=H.y,oe=Q.x,ue=Q.y,ge=ee!==oe,Fe=re!==ue;if(!ge&&!Fe)continue;const Pe=oe-ee,Te=ue-re,Ze=Math.abs(Pe),tt=Math.abs(Te);let yt=ee,It=re;for(;;){const kt=Pe>0?(Math.floor(yt/P)+1)*P:(Math.ceil(yt/P)-1)*P,Zt=Te>0?(Math.floor(It/P)+1)*P:(Math.ceil(It/P)-1)*P,Ct=Math.abs(yt-kt),Tt=Math.abs(It-Zt),ct=Math.abs(yt-oe),er=Math.abs(It-ue),nr=ge?Ct/Ze:Number.POSITIVE_INFINITY,Wt=Fe?Tt/tt:Number.POSITIVE_INFINITY;if((ct<=Ct||!ge)&&(er<=Tt||!Fe))break;if(nr<Wt&&ge||!Fe){yt=kt,It+=Te*nr;const Vt=new A(yt,Math.round(It));M[M.length-1].x===Vt.x&&M[M.length-1].y===Vt.y||M.push(Vt)}else{yt+=Pe*Wt,It=Zt;const Vt=new A(Math.round(yt),It);M[M.length-1].x===Vt.x&&M[M.length-1].y===Vt.y||M.push(Vt)}}const At=new A(oe,ue);M[M.length-1].x===At.x&&M[M.length-1].y===At.y||M.push(At)}return M}function Gc(l,n,s){if(n.length===0)throw new Error("Subdivision vertex ring is empty.");let f=0,v=l[2*n[0]];for(let I=1;I<n.length;I++){const z=l[2*n[I]];z<v&&(v=z,f=I)}const S=n.length;let P=f,M=(P+1)%S;for(;;){const I=P-1>=0?P-1:S-1,z=(M+1)%S,j=l[2*n[I]],H=l[2*n[z]],Q=l[2*n[P]],ee=l[2*n[P]+1],re=l[2*n[M]+1];let oe=!1;if(j<H)oe=!0;else if(j>H)oe=!1;else{const ue=re-ee,ge=-(l[2*n[M]]-Q),Fe=ee<re?1:-1;((j-Q)*ue+(l[2*n[I]+1]-ee)*ge)*Fe>((H-Q)*ue+(l[2*n[z]+1]-ee)*ge)*Fe&&(oe=!0)}if(oe){const ue=n[I],ge=n[P],Fe=n[M];ue!==ge&&ue!==Fe&&ge!==Fe&&s.push(Fe,ge,ue),P--,P<0&&(P=S-1)}else{const ue=n[z],ge=n[P],Fe=n[M];ue!==ge&&ue!==Fe&&ge!==Fe&&s.push(Fe,ge,ue),M++,M>=S&&(M=0)}if(I===z)break}}function Ip(l,n,s,f,v,S,P,M,I){const z=v.length/2,j=P&&M&&I;if(z<Mr.MAX_VERTEX_ARRAY_LENGTH){const H=n.prepareSegment(z,s,f),Q=H.vertexLength;for(let oe=0;oe<S.length;oe+=3)f.emplaceBack(Q+S[oe],Q+S[oe+1],Q+S[oe+2]);let ee,re;H.vertexLength+=z,H.primitiveLength+=S.length/3,j&&(re=P.prepareSegment(z,s,M),ee=re.vertexLength,re.vertexLength+=z);for(let oe=0;oe<v.length;oe+=2)l(v[oe],v[oe+1]);if(j)for(let oe=0;oe<I.length;oe++){const ue=I[oe];for(let ge=1;ge<ue.length;ge+=2)M.emplaceBack(ee+ue[ge-1],ee+ue[ge]);re.primitiveLength+=ue.length/2}}else(function(H,Q,ee,re,oe,ue){const ge=[];for(let tt=0;tt<re.length/2;tt++)ge.push(-1);const Fe={count:0};let Pe=0,Te=H.getOrCreateLatestSegment(Q,ee),Ze=Te.vertexLength;for(let tt=2;tt<oe.length;tt+=3){const yt=oe[tt-2],It=oe[tt-1],At=oe[tt];let kt=ge[yt]<Pe,Zt=ge[It]<Pe,Ct=ge[At]<Pe;Te.vertexLength+((kt?1:0)+(Zt?1:0)+(Ct?1:0))>Mr.MAX_VERTEX_ARRAY_LENGTH&&(Te=H.createNewSegment(Q,ee),Pe=Fe.count,kt=!0,Zt=!0,Ct=!0,Ze=0);const Tt=Zu(ge,re,ue,Fe,yt,kt,Te),ct=Zu(ge,re,ue,Fe,It,Zt,Te),er=Zu(ge,re,ue,Fe,At,Ct,Te);ee.emplaceBack(Ze+Tt-Pe,Ze+ct-Pe,Ze+er-Pe),Te.primitiveLength++}})(n,s,f,v,S,l),j&&(function(H,Q,ee,re,oe,ue){const ge=[];for(let tt=0;tt<re.length/2;tt++)ge.push(-1);const Fe={count:0};let Pe=0,Te=H.getOrCreateLatestSegment(Q,ee),Ze=Te.vertexLength;for(let tt=0;tt<oe.length;tt++){const yt=oe[tt];for(let It=1;It<oe[tt].length;It+=2){const At=yt[It-1],kt=yt[It];let Zt=ge[At]<Pe,Ct=ge[kt]<Pe;Te.vertexLength+((Zt?1:0)+(Ct?1:0))>Mr.MAX_VERTEX_ARRAY_LENGTH&&(Te=H.createNewSegment(Q,ee),Pe=Fe.count,Zt=!0,Ct=!0,Ze=0);const Tt=Zu(ge,re,ue,Fe,At,Zt,Te),ct=Zu(ge,re,ue,Fe,kt,Ct,Te);ee.emplaceBack(Ze+Tt-Pe,Ze+ct-Pe),Te.primitiveLength++}}})(P,s,M,v,I,l),n.forceNewSegmentOnNextPrepare(),P?.forceNewSegmentOnNextPrepare()}function Zu(l,n,s,f,v,S,P){if(S){const M=f.count;return s(n[2*v],n[2*v+1]),l[v]=f.count,f.count++,P.vertexLength++,M}return l[v]}class Go{constructor(n){this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map((s=>s.id)),this.index=n.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Ve,this.indexArray=new Zr,this.indexArray2=new rn,this.programConfigurations=new vs(n.layers,n.zoom),this.segments=new Mr,this.segments2=new Mr,this.stateDependentLayerIds=this.layers.filter((s=>s.isStateDependent())).map((s=>s.id))}populate(n,s,f){this.hasPattern=nl("fill",this.layers,s);const v=this.layers[0].layout.get("fill-sort-key"),S=!v.isConstant(),P=[];for(const{feature:M,id:I,index:z,sourceLayerIndex:j}of n){const H=this.layers[0]._featureFilter.needGeometry,Q=$l(M,H);if(!this.layers[0]._featureFilter.filter(new $r(this.zoom),Q,f))continue;const ee=S?v.evaluate(Q,{},f,s.availableImages):void 0,re={id:I,properties:M.properties,type:M.type,sourceLayerIndex:j,index:z,geometry:H?Q.geometry:ql(M),patterns:{},sortKey:ee};P.push(re)}S&&P.sort(((M,I)=>M.sortKey-I.sortKey));for(const M of P){const{geometry:I,index:z,sourceLayerIndex:j}=M;if(this.hasPattern){const H=Tp("fill",this.layers,M,{zoom:this.zoom},s);this.patternFeatures.push(H)}else this.addFeature(M,I,z,f,{},s.subdivisionGranularity);s.featureIndex.insert(n[z].feature,I,z,j,this.index)}}update(n,s,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(n,s,this.stateDependentLayers,{imagePositions:f})}addFeatures(n,s,f){for(const v of this.patternFeatures)this.addFeature(v,v.geometry,v.index,s,f,n.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,fd),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.indexBuffer2=n.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(n),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(n,s,f,v,S,P){for(const M of Mc(s,500)){const I=Wl(M,v,P.fill.getGranularityForZoomLevel(v.z)),z=this.layoutVertexArray;Ip(((j,H)=>{z.emplaceBack(j,H)}),this.segments,this.layoutVertexArray,this.indexArray,I.verticesFlattened,I.indicesTriangles,this.segments2,this.indexArray2,I.indicesLineList)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,f,{imagePositions:S,canonical:v})}}let cy,Yu;Lt("FillBucket",Go,{omit:["layers","patternFeatures"]});var md={get paint(){return Yu=Yu||new ma({"fill-antialias":new qt(ze.paint_fill["fill-antialias"]),"fill-opacity":new Yt(ze.paint_fill["fill-opacity"]),"fill-color":new Yt(ze.paint_fill["fill-color"]),"fill-outline-color":new Yt(ze.paint_fill["fill-outline-color"]),"fill-translate":new qt(ze.paint_fill["fill-translate"]),"fill-translate-anchor":new qt(ze.paint_fill["fill-translate-anchor"]),"fill-pattern":new ds(ze.paint_fill["fill-pattern"])})},get layout(){return cy=cy||new ma({"fill-sort-key":new Yt(ze.layout_fill["fill-sort-key"])})}};class yd extends Xi{constructor(n,s){super(n,md,s)}recalculate(n,s){super.recalculate(n,s);const f=this.paint._values["fill-outline-color"];f.value.kind==="constant"&&f.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(n){return new Go(n)}queryRadius(){return va(this.paint.get("fill-translate"))}queryIntersectsFeature({queryGeometry:n,geometry:s,transform:f,pixelsToTileUnits:v}){return Gm(od(n,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),-f.bearingInRadians,v),s)}isTileClipped(){return!0}}const rf=Pn([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),f0=Pn([{name:"a_centroid",components:2,type:"Int16"}],4),{members:d0}=rf;class al{constructor(n,s,f,v,S){this.properties={},this.extent=f,this.type=0,this.id=void 0,this._pbf=n,this._geometry=-1,this._keys=v,this._values=S,n.readFields(p0,this,s)}loadGeometry(){const n=this._pbf;n.pos=this._geometry;const s=n.readVarint()+n.pos,f=[];let v,S=1,P=0,M=0,I=0;for(;n.pos<s;){if(P<=0){const z=n.readVarint();S=7&z,P=z>>3}if(P--,S===1||S===2)M+=n.readSVarint(),I+=n.readSVarint(),S===1&&(v&&f.push(v),v=[]),v&&v.push(new A(M,I));else{if(S!==7)throw new Error(`unknown command ${S}`);v&&v.push(v[0].clone())}}return v&&f.push(v),f}bbox(){const n=this._pbf;n.pos=this._geometry;const s=n.readVarint()+n.pos;let f=1,v=0,S=0,P=0,M=1/0,I=-1/0,z=1/0,j=-1/0;for(;n.pos<s;){if(v<=0){const H=n.readVarint();f=7&H,v=H>>3}if(v--,f===1||f===2)S+=n.readSVarint(),P+=n.readSVarint(),S<M&&(M=S),S>I&&(I=S),P<z&&(z=P),P>j&&(j=P);else if(f!==7)throw new Error(`unknown command ${f}`)}return[M,z,I,j]}toGeoJSON(n,s,f){const v=this.extent*Math.pow(2,f),S=this.extent*n,P=this.extent*s,M=this.loadGeometry();function I(Q){return[360*(Q.x+S)/v-180,360/Math.PI*Math.atan(Math.exp((1-2*(Q.y+P)/v)*Math.PI))-90]}function z(Q){return Q.map(I)}let j;if(this.type===1){const Q=[];for(const re of M)Q.push(re[0]);const ee=z(Q);j=Q.length===1?{type:"Point",coordinates:ee[0]}:{type:"MultiPoint",coordinates:ee}}else if(this.type===2){const Q=M.map(z);j=Q.length===1?{type:"LineString",coordinates:Q[0]}:{type:"MultiLineString",coordinates:Q}}else{if(this.type!==3)throw new Error("unknown feature type");{const Q=(function(re){const oe=re.length;if(oe<=1)return[re];const ue=[];let ge,Fe;for(let Pe=0;Pe<oe;Pe++){const Te=kp(re[Pe]);Te!==0&&(Fe===void 0&&(Fe=Te<0),Fe===Te<0?(ge&&ue.push(ge),ge=[re[Pe]]):ge&&ge.push(re[Pe]))}return ge&&ue.push(ge),ue})(M),ee=[];for(const re of Q)ee.push(re.map(z));j=ee.length===1?{type:"Polygon",coordinates:ee[0]}:{type:"MultiPolygon",coordinates:ee}}}const H={type:"Feature",geometry:j,properties:this.properties};return this.id!=null&&(H.id=this.id),H}}function p0(l,n,s){l===1?n.id=s.readVarint():l===2?(function(f,v){const S=f.readVarint()+f.pos;for(;f.pos<S;){const P=v._keys[f.readVarint()],M=v._values[f.readVarint()];v.properties[P]=M}})(s,n):l===3?n.type=s.readVarint():l===4&&(n._geometry=s.pos)}function kp(l){let n=0;for(let s,f,v=0,S=l.length,P=S-1;v<S;P=v++)s=l[v],f=l[P],n+=(f.x-s.x)*(s.y+f.y);return n}al.types=["Unknown","Point","LineString","Polygon"];class uy{constructor(n,s){this.version=1,this.name="",this.extent=4096,this.length=0,this._pbf=n,this._keys=[],this._values=[],this._features=[],n.readFields(o_,this,s),this.length=this._features.length}feature(n){if(n<0||n>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[n];const s=this._pbf.readVarint()+this._pbf.pos;return new al(this._pbf,s,this.extent,this._keys,this._values)}}function o_(l,n,s){l===15?n.version=s.readVarint():l===1?n.name=s.readString():l===5?n.extent=s.readVarint():l===2?n._features.push(s.pos):l===3?n._keys.push(s.readString()):l===4&&n._values.push((function(f){let v=null;const S=f.readVarint()+f.pos;for(;f.pos<S;){const P=f.readVarint()>>3;v=P===1?f.readString():P===2?f.readFloat():P===3?f.readDouble():P===4?f.readVarint64():P===5?f.readVarint():P===6?f.readSVarint():P===7?f.readBoolean():null}if(v==null)throw new Error("unknown feature value");return v})(s))}class m0{constructor(n,s){this.layers=n.readFields(nn,{},s)}}function nn(l,n,s){if(l===3){const f=new uy(s,s.readVarint()+s.pos);f.length&&(n[f.name]=f)}}const fn=Math.pow(2,13);function Cr(l,n,s,f,v,S,P,M){l.emplaceBack(n,s,2*Math.floor(f*fn)+P,v*fn*2,S*fn*2,Math.round(M))}class zr{constructor(n){this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map((s=>s.id)),this.index=n.index,this.hasPattern=!1,this.layoutVertexArray=new Xe,this.centroidVertexArray=new Qe,this.indexArray=new Zr,this.programConfigurations=new vs(n.layers,n.zoom),this.segments=new Mr,this.stateDependentLayerIds=this.layers.filter((s=>s.isStateDependent())).map((s=>s.id))}populate(n,s,f){this.features=[],this.hasPattern=nl("fill-extrusion",this.layers,s);for(const{feature:v,id:S,index:P,sourceLayerIndex:M}of n){const I=this.layers[0]._featureFilter.needGeometry,z=$l(v,I);if(!this.layers[0]._featureFilter.filter(new $r(this.zoom),z,f))continue;const j={id:S,sourceLayerIndex:M,index:P,geometry:I?z.geometry:ql(v),properties:v.properties,type:v.type,patterns:{}};this.hasPattern?this.features.push(Tp("fill-extrusion",this.layers,j,{zoom:this.zoom},s)):this.addFeature(j,j.geometry,P,f,{},s.subdivisionGranularity),s.featureIndex.insert(v,j.geometry,P,M,this.index,!0)}}addFeatures(n,s,f){for(const v of this.features){const{geometry:S}=v;this.addFeature(v,S,v.index,s,f,n.subdivisionGranularity)}}update(n,s,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(n,s,this.stateDependentLayers,{imagePositions:f})}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,d0),this.centroidVertexBuffer=n.createVertexBuffer(this.centroidVertexArray,f0.members,!0),this.indexBuffer=n.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(n),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(n,s,f,v,S,P){for(const M of Mc(s,500)){const I={x:0,y:0,sampleCount:0},z=this.layoutVertexArray.length;this.processPolygon(I,v,n,M,P);const j=this.layoutVertexArray.length-z,H=Math.floor(I.x/I.sampleCount),Q=Math.floor(I.y/I.sampleCount);for(let ee=0;ee<j;ee++)this.centroidVertexArray.emplaceBack(H,Q)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,f,{imagePositions:S,canonical:v})}processPolygon(n,s,f,v,S){if(v.length<1||Gl(v[0]))return;for(const H of v)H.length!==0&&an(n,H);const P={segment:this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray)},M=S.fill.getGranularityForZoomLevel(s.z),I=al.types[f.type]==="Polygon";for(const H of v){if(H.length===0||Gl(H))continue;const Q=bo(H,M,I);this._generateSideFaces(Q,P)}if(!I)return;const z=Wl(v,s,M,!1),j=this.layoutVertexArray;Ip(((H,Q)=>{Cr(j,H,Q,0,0,1,1,0)}),this.segments,this.layoutVertexArray,this.indexArray,z.verticesFlattened,z.indicesTriangles)}_generateSideFaces(n,s){let f=0;for(let v=1;v<n.length;v++){const S=n[v],P=n[v-1];if(xo(S,P))continue;s.segment.vertexLength+4>Mr.MAX_VERTEX_ARRAY_LENGTH&&(s.segment=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const M=S.sub(P)._perp()._unit(),I=P.dist(S);f+I>32768&&(f=0),Cr(this.layoutVertexArray,S.x,S.y,M.x,M.y,0,0,f),Cr(this.layoutVertexArray,S.x,S.y,M.x,M.y,0,1,f),f+=I,Cr(this.layoutVertexArray,P.x,P.y,M.x,M.y,0,0,f),Cr(this.layoutVertexArray,P.x,P.y,M.x,M.y,0,1,f);const z=s.segment.vertexLength;this.indexArray.emplaceBack(z,z+2,z+1),this.indexArray.emplaceBack(z+1,z+2,z+3),s.segment.vertexLength+=4,s.segment.primitiveLength+=2}}}function an(l,n){for(let s=0;s<n.length;s++){const f=n[s];s===n.length-1&&n[0].x===f.x&&n[0].y===f.y||(l.x+=f.x,l.y+=f.y,l.sampleCount++)}}function xo(l,n){return l.x===n.x&&(l.x<0||l.x>bt)||l.y===n.y&&(l.y<0||l.y>bt)}function Gl(l){return l.every((n=>n.x<0))||l.every((n=>n.x>bt))||l.every((n=>n.y<0))||l.every((n=>n.y>bt))}let Qu;Lt("FillExtrusionBucket",zr,{omit:["layers","features"]});var hy={get paint(){return Qu=Qu||new ma({"fill-extrusion-opacity":new qt(ze["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Yt(ze["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new qt(ze["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new qt(ze["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new ds(ze["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Yt(ze["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Yt(ze["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new qt(ze["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class Zl extends Xi{constructor(n,s){super(n,hy,s)}createBucket(n){return new zr(n)}queryRadius(){return va(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature({queryGeometry:n,feature:s,featureState:f,geometry:v,transform:S,pixelsToTileUnits:P,pixelPosMatrix:M}){const I=od(n,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),-S.bearingInRadians,P),z=this.paint.get("fill-extrusion-height").evaluate(s,f),j=this.paint.get("fill-extrusion-base").evaluate(s,f),H=(function(ee,re){const oe=[];for(const ue of ee){const ge=[ue.x,ue.y,0,1];wt(ge,ge,re),oe.push(new A(ge[0]/ge[3],ge[1]/ge[3]))}return oe})(I,M),Q=(function(ee,re,oe,ue){const ge=[],Fe=[],Pe=ue[8]*re,Te=ue[9]*re,Ze=ue[10]*re,tt=ue[11]*re,yt=ue[8]*oe,It=ue[9]*oe,At=ue[10]*oe,kt=ue[11]*oe;for(const Zt of ee){const Ct=[],Tt=[];for(const ct of Zt){const er=ct.x,nr=ct.y,Wt=ue[0]*er+ue[4]*nr+ue[12],Vt=ue[1]*er+ue[5]*nr+ue[13],Ar=ue[2]*er+ue[6]*nr+ue[14],on=ue[3]*er+ue[7]*nr+ue[15],ua=Ar+Ze,Ta=on+tt,bi=Wt+yt,xi=Vt+It,Ea=Ar+At,sn=on+kt,Yn=new A((Wt+Pe)/Ta,(Vt+Te)/Ta);Yn.z=ua/Ta,Ct.push(Yn);const ba=new A(bi/sn,xi/sn);ba.z=Ea/sn,Tt.push(ba)}ge.push(Ct),Fe.push(Tt)}return[ge,Fe]})(v,j,z,M);return(function(ee,re,oe){let ue=1/0;Gm(oe,re)&&(ue=Yl(oe,re[0]));for(let ge=0;ge<re.length;ge++){const Fe=re[ge],Pe=ee[ge];for(let Te=0;Te<Fe.length-1;Te++){const Ze=Fe[Te],tt=[Ze,Fe[Te+1],Pe[Te+1],Pe[Te],Ze];nd(oe,tt)&&(ue=Math.min(ue,Yl(oe,tt)))}}return ue!==1/0&&ue})(Q[0],Q[1],H)}}function An(l,n){return l.x*n.x+l.y*n.y}function Yl(l,n){if(l.length===1){let s=0;const f=n[s++];let v;for(;!v||f.equals(v);)if(v=n[s++],!v)return 1/0;for(;s<n.length;s++){const S=n[s],P=l[0],M=v.sub(f),I=S.sub(f),z=P.sub(f),j=An(M,M),H=An(M,I),Q=An(I,I),ee=An(z,M),re=An(z,I),oe=j*Q-H*H,ue=(Q*ee-H*re)/oe,ge=(j*re-H*ee)/oe,Fe=f.z*(1-ue-ge)+v.z*ue+S.z*ge;if(isFinite(Fe))return Fe}return 1/0}{let s=1/0;for(const f of n)s=Math.min(s,f.z);return s}}const Xu=Pn([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:fy}=Xu,Zo=Pn([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:nf}=Zo,gd=Math.cos(Math.PI/180*37.5),Fi=Math.pow(2,14)/.5;class vd{constructor(n){this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map((s=>s.id)),this.index=n.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((s=>{this.gradients[s.id]={}})),this.layoutVertexArray=new Et,this.layoutVertexArray2=new Mt,this.indexArray=new Zr,this.programConfigurations=new vs(n.layers,n.zoom),this.segments=new Mr,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((s=>s.isStateDependent())).map((s=>s.id))}populate(n,s,f){this.hasPattern=nl("line",this.layers,s);const v=this.layers[0].layout.get("line-sort-key"),S=!v.isConstant(),P=[];for(const{feature:M,id:I,index:z,sourceLayerIndex:j}of n){const H=this.layers[0]._featureFilter.needGeometry,Q=$l(M,H);if(!this.layers[0]._featureFilter.filter(new $r(this.zoom),Q,f))continue;const ee=S?v.evaluate(Q,{},f):void 0,re={id:I,properties:M.properties,type:M.type,sourceLayerIndex:j,index:z,geometry:H?Q.geometry:ql(M),patterns:{},sortKey:ee};P.push(re)}S&&P.sort(((M,I)=>M.sortKey-I.sortKey));for(const M of P){const{geometry:I,index:z,sourceLayerIndex:j}=M;if(this.hasPattern){const H=Tp("line",this.layers,M,{zoom:this.zoom},s);this.patternFeatures.push(H)}else this.addFeature(M,I,z,f,{},s.subdivisionGranularity);s.featureIndex.insert(n[z].feature,I,z,j,this.index)}}update(n,s,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(n,s,this.stateDependentLayers,{imagePositions:f})}addFeatures(n,s,f){for(const v of this.patternFeatures)this.addFeature(v,v.geometry,v.index,s,f,n.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=n.createVertexBuffer(this.layoutVertexArray2,nf)),this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,fy),this.indexBuffer=n.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(n),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(n){if(n.properties&&Object.prototype.hasOwnProperty.call(n.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(n.properties,"mapbox_clip_end"))return{start:+n.properties.mapbox_clip_start,end:+n.properties.mapbox_clip_end}}addFeature(n,s,f,v,S,P){const M=this.layers[0].layout,I=M.get("line-join").evaluate(n,{}),z=M.get("line-cap"),j=M.get("line-miter-limit"),H=M.get("line-round-limit");this.lineClips=this.lineFeatureClips(n);for(const Q of s)this.addLine(Q,n,I,z,j,H,v,P);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,f,{imagePositions:S,canonical:v})}addLine(n,s,f,v,S,P,M,I){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,n=bo(n,M?I.line.getGranularityForZoomLevel(M.z):1),this.lineClips){this.lineClipsArray.push(this.lineClips);for(let Pe=0;Pe<n.length-1;Pe++)this.totalDistance+=n[Pe].dist(n[Pe+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const z=al.types[s.type]==="Polygon";let j=n.length;for(;j>=2&&n[j-1].equals(n[j-2]);)j--;let H=0;for(;H<j-1&&n[H].equals(n[H+1]);)H++;if(j<(z?3:2))return;f==="bevel"&&(S=1.05);const Q=this.overscaling<=16?122880/(512*this.overscaling):0,ee=this.segments.prepareSegment(10*j,this.layoutVertexArray,this.indexArray);let re,oe,ue,ge,Fe;this.e1=this.e2=-1,z&&(re=n[j-2],Fe=n[H].sub(re)._unit()._perp());for(let Pe=H;Pe<j;Pe++){if(ue=Pe===j-1?z?n[H+1]:void 0:n[Pe+1],ue&&n[Pe].equals(ue))continue;Fe&&(ge=Fe),re&&(oe=re),re=n[Pe],Fe=ue?ue.sub(re)._unit()._perp():ge,ge=ge||Fe;let Te=ge.add(Fe);Te.x===0&&Te.y===0||Te._unit();const Ze=ge.x*Fe.x+ge.y*Fe.y,tt=Te.x*Fe.x+Te.y*Fe.y,yt=tt!==0?1/tt:1/0,It=2*Math.sqrt(2-2*tt),At=tt<gd&&oe&&ue,kt=ge.x*Fe.y-ge.y*Fe.x>0;if(At&&Pe>H){const Tt=re.dist(oe);if(Tt>2*Q){const ct=re.sub(re.sub(oe)._mult(Q/Tt)._round());this.updateDistance(oe,ct),this.addCurrentVertex(ct,ge,0,0,ee),oe=ct}}const Zt=oe&&ue;let Ct=Zt?f:z?"butt":v;if(Zt&&Ct==="round"&&(yt<P?Ct="miter":yt<=2&&(Ct="fakeround")),Ct==="miter"&&yt>S&&(Ct="bevel"),Ct==="bevel"&&(yt>2&&(Ct="flipbevel"),yt<S&&(Ct="miter")),oe&&this.updateDistance(oe,re),Ct==="miter")Te._mult(yt),this.addCurrentVertex(re,Te,0,0,ee);else if(Ct==="flipbevel"){if(yt>100)Te=Fe.mult(-1);else{const Tt=yt*ge.add(Fe).mag()/ge.sub(Fe).mag();Te._perp()._mult(Tt*(kt?-1:1))}this.addCurrentVertex(re,Te,0,0,ee),this.addCurrentVertex(re,Te.mult(-1),0,0,ee)}else if(Ct==="bevel"||Ct==="fakeround"){const Tt=-Math.sqrt(yt*yt-1),ct=kt?Tt:0,er=kt?0:Tt;if(oe&&this.addCurrentVertex(re,ge,ct,er,ee),Ct==="fakeround"){const nr=Math.round(180*It/Math.PI/20);for(let Wt=1;Wt<nr;Wt++){let Vt=Wt/nr;if(Vt!==.5){const on=Vt-.5;Vt+=Vt*on*(Vt-1)*((1.0904+Ze*(Ze*(3.55645-1.43519*Ze)-3.2452))*on*on+(.848013+Ze*(.215638*Ze-1.06021)))}const Ar=Fe.sub(ge)._mult(Vt)._add(ge)._unit()._mult(kt?-1:1);this.addHalfVertex(re,Ar.x,Ar.y,!1,kt,0,ee)}}ue&&this.addCurrentVertex(re,Fe,-ct,-er,ee)}else if(Ct==="butt")this.addCurrentVertex(re,Te,0,0,ee);else if(Ct==="square"){const Tt=oe?1:-1;this.addCurrentVertex(re,Te,Tt,Tt,ee)}else Ct==="round"&&(oe&&(this.addCurrentVertex(re,ge,0,0,ee),this.addCurrentVertex(re,ge,1,1,ee,!0)),ue&&(this.addCurrentVertex(re,Fe,-1,-1,ee,!0),this.addCurrentVertex(re,Fe,0,0,ee)));if(At&&Pe<j-1){const Tt=re.dist(ue);if(Tt>2*Q){const ct=re.add(ue.sub(re)._mult(Q/Tt)._round());this.updateDistance(re,ct),this.addCurrentVertex(ct,Fe,0,0,ee),re=ct}}}}addCurrentVertex(n,s,f,v,S,P=!1){const M=s.y*v-s.x,I=-s.y-s.x*v;this.addHalfVertex(n,s.x+s.y*f,s.y-s.x*f,P,!1,f,S),this.addHalfVertex(n,M,I,P,!0,-v,S),this.distance>Fi/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(n,s,f,v,S,P))}addHalfVertex({x:n,y:s},f,v,S,P,M,I){const z=.5*(this.lineClips?this.scaledDistance*(Fi-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((n<<1)+(S?1:0),(s<<1)+(P?1:0),Math.round(63*f)+128,Math.round(63*v)+128,1+(M===0?0:M<0?-1:1)|(63&z)<<2,z>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const j=I.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,j,this.e2),I.primitiveLength++),P?this.e2=j:this.e1=j}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(n,s){this.distance+=n.dist(s),this.updateScaledDistance()}}let Op,_d;Lt("LineBucket",vd,{omit:["layers","patternFeatures"]});var bd={get paint(){return _d=_d||new ma({"line-opacity":new Yt(ze.paint_line["line-opacity"]),"line-color":new Yt(ze.paint_line["line-color"]),"line-translate":new qt(ze.paint_line["line-translate"]),"line-translate-anchor":new qt(ze.paint_line["line-translate-anchor"]),"line-width":new Yt(ze.paint_line["line-width"]),"line-gap-width":new Yt(ze.paint_line["line-gap-width"]),"line-offset":new Yt(ze.paint_line["line-offset"]),"line-blur":new Yt(ze.paint_line["line-blur"]),"line-dasharray":new rd(ze.paint_line["line-dasharray"]),"line-pattern":new ds(ze.paint_line["line-pattern"]),"line-gradient":new wn(ze.paint_line["line-gradient"])})},get layout(){return Op=Op||new ma({"line-cap":new qt(ze.layout_line["line-cap"]),"line-join":new Yt(ze.layout_line["line-join"]),"line-miter-limit":new qt(ze.layout_line["line-miter-limit"]),"line-round-limit":new qt(ze.layout_line["line-round-limit"]),"line-sort-key":new Yt(ze.layout_line["line-sort-key"])})}};class Zc extends Yt{possiblyEvaluate(n,s){return s=new $r(Math.floor(s.zoom),{now:s.now,fadeDuration:s.fadeDuration,zoomHistory:s.zoomHistory,transition:s.transition}),super.possiblyEvaluate(n,s)}evaluate(n,s,f,v){return s=Ft({},s,{zoom:Math.floor(s.zoom)}),super.evaluate(n,s,f,v)}}let _a;class Yc extends Xi{constructor(n,s){super(n,bd,s),this.gradientVersion=0,_a||(_a=new Zc(bd.paint.properties["line-width"].specification),_a.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(n){if(n==="line-gradient"){const s=this.gradientExpression();this.stepInterpolant=!!(function(f){return f._styleExpression!==void 0})(s)&&s._styleExpression.expression instanceof Un,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(n,s){super.recalculate(n,s),this.paint._values["line-floorwidth"]=_a.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,n)}createBucket(n){return new vd(n)}queryRadius(n){const s=n,f=Ku(Gn("line-width",this,s),Gn("line-gap-width",this,s)),v=Gn("line-offset",this,s);return f/2+Math.abs(v)+va(this.paint.get("line-translate"))}queryIntersectsFeature({queryGeometry:n,feature:s,featureState:f,geometry:v,transform:S,pixelsToTileUnits:P}){const M=od(n,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),-S.bearingInRadians,P),I=P/2*Ku(this.paint.get("line-width").evaluate(s,f),this.paint.get("line-gap-width").evaluate(s,f)),z=this.paint.get("line-offset").evaluate(s,f);return z&&(v=(function(j,H){const Q=[];for(let ee=0;ee<j.length;ee++){const re=j[ee],oe=[];for(let ue=0;ue<re.length;ue++){const ge=re[ue-1],Fe=re[ue],Pe=re[ue+1],Te=ue===0?new A(0,0):Fe.sub(ge)._unit()._perp(),Ze=ue===re.length-1?new A(0,0):Pe.sub(Fe)._unit()._perp(),tt=Te._add(Ze)._unit(),yt=tt.x*Ze.x+tt.y*Ze.y;yt!==0&&tt._mult(1/yt),oe.push(tt._mult(H)._add(Fe))}Q.push(oe)}return Q})(v,z*P)),(function(j,H,Q){for(let ee=0;ee<H.length;ee++){const re=H[ee];if(j.length>=3){for(let oe=0;oe<re.length;oe++)if(Jh(j,re[oe]))return!0}if(Yg(j,re,Q))return!0}return!1})(M,v,I)}isTileClipped(){return!0}}function Ku(l,n){return n>0?n+2*l:l}const af=Pn([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),dy=Pn([{name:"a_projected_pos",components:3,type:"Float32"}],4);Pn([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const py=Pn([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_box_real",components:2,type:"Int16"}]);Pn([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const my=Pn([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),xd=Pn([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function yy(l,n,s){return l.sections.forEach((f=>{f.text=(function(v,S,P){const M=S.layout.get("text-transform").evaluate(P,{});return M==="uppercase"?v=v.toLocaleUpperCase():M==="lowercase"&&(v=v.toLocaleLowerCase()),po.applyArabicShaping&&(v=po.applyArabicShaping(v)),v})(f.text,n,s)})),l}Pn([{name:"triangle",components:3,type:"Uint16"}]),Pn([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Pn([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),Pn([{type:"Float32",name:"offsetX"}]),Pn([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),Pn([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const li={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};var la=24;const Ni=4294967296,gy=1/Ni,vy=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");class _y{constructor(n=new Uint8Array(16)){this.buf=ArrayBuffer.isView(n)?n:new Uint8Array(n),this.dataView=new DataView(this.buf.buffer),this.pos=0,this.type=0,this.length=this.buf.length}readFields(n,s,f=this.length){for(;this.pos<f;){const v=this.readVarint(),S=v>>3,P=this.pos;this.type=7&v,n(S,s,this),this.pos===P&&this.skip(v)}return s}readMessage(n,s){return this.readFields(n,s,this.readVarint()+this.pos)}readFixed32(){const n=this.dataView.getUint32(this.pos,!0);return this.pos+=4,n}readSFixed32(){const n=this.dataView.getInt32(this.pos,!0);return this.pos+=4,n}readFixed64(){const n=this.dataView.getUint32(this.pos,!0)+this.dataView.getUint32(this.pos+4,!0)*Ni;return this.pos+=8,n}readSFixed64(){const n=this.dataView.getUint32(this.pos,!0)+this.dataView.getInt32(this.pos+4,!0)*Ni;return this.pos+=8,n}readFloat(){const n=this.dataView.getFloat32(this.pos,!0);return this.pos+=4,n}readDouble(){const n=this.dataView.getFloat64(this.pos,!0);return this.pos+=8,n}readVarint(n){const s=this.buf;let f,v;return v=s[this.pos++],f=127&v,v<128?f:(v=s[this.pos++],f|=(127&v)<<7,v<128?f:(v=s[this.pos++],f|=(127&v)<<14,v<128?f:(v=s[this.pos++],f|=(127&v)<<21,v<128?f:(v=s[this.pos],f|=(15&v)<<28,(function(S,P,M){const I=M.buf;let z,j;if(j=I[M.pos++],z=(112&j)>>4,j<128||(j=I[M.pos++],z|=(127&j)<<3,j<128)||(j=I[M.pos++],z|=(127&j)<<10,j<128)||(j=I[M.pos++],z|=(127&j)<<17,j<128)||(j=I[M.pos++],z|=(127&j)<<24,j<128)||(j=I[M.pos++],z|=(1&j)<<31,j<128))return So(S,z,P);throw new Error("Expected varint not more than 10 bytes")})(f,n,this)))))}readVarint64(){return this.readVarint(!0)}readSVarint(){const n=this.readVarint();return n%2==1?(n+1)/-2:n/2}readBoolean(){return!!this.readVarint()}readString(){const n=this.readVarint()+this.pos,s=this.pos;return this.pos=n,n-s>=12&&vy?vy.decode(this.buf.subarray(s,n)):(function(f,v,S){let P="",M=v;for(;M<S;){const I=f[M];let z,j,H,Q=null,ee=I>239?4:I>223?3:I>191?2:1;if(M+ee>S)break;ee===1?I<128&&(Q=I):ee===2?(z=f[M+1],(192&z)==128&&(Q=(31&I)<<6|63&z,Q<=127&&(Q=null))):ee===3?(z=f[M+1],j=f[M+2],(192&z)==128&&(192&j)==128&&(Q=(15&I)<<12|(63&z)<<6|63&j,(Q<=2047||Q>=55296&&Q<=57343)&&(Q=null))):ee===4&&(z=f[M+1],j=f[M+2],H=f[M+3],(192&z)==128&&(192&j)==128&&(192&H)==128&&(Q=(15&I)<<18|(63&z)<<12|(63&j)<<6|63&H,(Q<=65535||Q>=1114112)&&(Q=null))),Q===null?(Q=65533,ee=1):Q>65535&&(Q-=65536,P+=String.fromCharCode(Q>>>10&1023|55296),Q=56320|1023&Q),P+=String.fromCharCode(Q),M+=ee}return P})(this.buf,s,n)}readBytes(){const n=this.readVarint()+this.pos,s=this.buf.subarray(this.pos,n);return this.pos=n,s}readPackedVarint(n=[],s){const f=this.readPackedEnd();for(;this.pos<f;)n.push(this.readVarint(s));return n}readPackedSVarint(n=[]){const s=this.readPackedEnd();for(;this.pos<s;)n.push(this.readSVarint());return n}readPackedBoolean(n=[]){const s=this.readPackedEnd();for(;this.pos<s;)n.push(this.readBoolean());return n}readPackedFloat(n=[]){const s=this.readPackedEnd();for(;this.pos<s;)n.push(this.readFloat());return n}readPackedDouble(n=[]){const s=this.readPackedEnd();for(;this.pos<s;)n.push(this.readDouble());return n}readPackedFixed32(n=[]){const s=this.readPackedEnd();for(;this.pos<s;)n.push(this.readFixed32());return n}readPackedSFixed32(n=[]){const s=this.readPackedEnd();for(;this.pos<s;)n.push(this.readSFixed32());return n}readPackedFixed64(n=[]){const s=this.readPackedEnd();for(;this.pos<s;)n.push(this.readFixed64());return n}readPackedSFixed64(n=[]){const s=this.readPackedEnd();for(;this.pos<s;)n.push(this.readSFixed64());return n}readPackedEnd(){return this.type===2?this.readVarint()+this.pos:this.pos+1}skip(n){const s=7&n;if(s===0)for(;this.buf[this.pos++]>127;);else if(s===2)this.pos=this.readVarint()+this.pos;else if(s===5)this.pos+=4;else{if(s!==1)throw new Error(`Unimplemented type: ${s}`);this.pos+=8}}writeTag(n,s){this.writeVarint(n<<3|s)}realloc(n){let s=this.length||16;for(;s<this.pos+n;)s*=2;if(s!==this.length){const f=new Uint8Array(s);f.set(this.buf),this.buf=f,this.dataView=new DataView(f.buffer),this.length=s}}finish(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)}writeFixed32(n){this.realloc(4),this.dataView.setInt32(this.pos,n,!0),this.pos+=4}writeSFixed32(n){this.realloc(4),this.dataView.setInt32(this.pos,n,!0),this.pos+=4}writeFixed64(n){this.realloc(8),this.dataView.setInt32(this.pos,-1&n,!0),this.dataView.setInt32(this.pos+4,Math.floor(n*gy),!0),this.pos+=8}writeSFixed64(n){this.realloc(8),this.dataView.setInt32(this.pos,-1&n,!0),this.dataView.setInt32(this.pos+4,Math.floor(n*gy),!0),this.pos+=8}writeVarint(n){(n=+n||0)>268435455||n<0?(function(s,f){let v,S;if(s>=0?(v=s%4294967296|0,S=s/4294967296|0):(v=~(-s%4294967296),S=~(-s/4294967296),4294967295^v?v=v+1|0:(v=0,S=S+1|0)),s>=18446744073709552e3||s<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");f.realloc(10),(function(P,M,I){I.buf[I.pos++]=127&P|128,P>>>=7,I.buf[I.pos++]=127&P|128,P>>>=7,I.buf[I.pos++]=127&P|128,P>>>=7,I.buf[I.pos++]=127&P|128,I.buf[I.pos]=127&(P>>>=7)})(v,0,f),(function(P,M){const I=(7&P)<<4;M.buf[M.pos++]|=I|((P>>>=3)?128:0),P&&(M.buf[M.pos++]=127&P|((P>>>=7)?128:0),P&&(M.buf[M.pos++]=127&P|((P>>>=7)?128:0),P&&(M.buf[M.pos++]=127&P|((P>>>=7)?128:0),P&&(M.buf[M.pos++]=127&P|((P>>>=7)?128:0),P&&(M.buf[M.pos++]=127&P)))))})(S,f)})(n,this):(this.realloc(4),this.buf[this.pos++]=127&n|(n>127?128:0),n<=127||(this.buf[this.pos++]=127&(n>>>=7)|(n>127?128:0),n<=127||(this.buf[this.pos++]=127&(n>>>=7)|(n>127?128:0),n<=127||(this.buf[this.pos++]=n>>>7&127))))}writeSVarint(n){this.writeVarint(n<0?2*-n-1:2*n)}writeBoolean(n){this.writeVarint(+n)}writeString(n){n=String(n),this.realloc(4*n.length),this.pos++;const s=this.pos;this.pos=(function(v,S,P){for(let M,I,z=0;z<S.length;z++){if(M=S.charCodeAt(z),M>55295&&M<57344){if(!I){M>56319||z+1===S.length?(v[P++]=239,v[P++]=191,v[P++]=189):I=M;continue}if(M<56320){v[P++]=239,v[P++]=191,v[P++]=189,I=M;continue}M=I-55296<<10|M-56320|65536,I=null}else I&&(v[P++]=239,v[P++]=191,v[P++]=189,I=null);M<128?v[P++]=M:(M<2048?v[P++]=M>>6|192:(M<65536?v[P++]=M>>12|224:(v[P++]=M>>18|240,v[P++]=M>>12&63|128),v[P++]=M>>6&63|128),v[P++]=63&M|128)}return P})(this.buf,n,this.pos);const f=this.pos-s;f>=128&&Sd(s,f,this),this.pos=s-1,this.writeVarint(f),this.pos+=f}writeFloat(n){this.realloc(4),this.dataView.setFloat32(this.pos,n,!0),this.pos+=4}writeDouble(n){this.realloc(8),this.dataView.setFloat64(this.pos,n,!0),this.pos+=8}writeBytes(n){const s=n.length;this.writeVarint(s),this.realloc(s);for(let f=0;f<s;f++)this.buf[this.pos++]=n[f]}writeRawMessage(n,s){this.pos++;const f=this.pos;n(s,this);const v=this.pos-f;v>=128&&Sd(f,v,this),this.pos=f-1,this.writeVarint(v),this.pos+=v}writeMessage(n,s,f){this.writeTag(n,2),this.writeRawMessage(s,f)}writePackedVarint(n,s){s.length&&this.writeMessage(n,by,s)}writePackedSVarint(n,s){s.length&&this.writeMessage(n,of,s)}writePackedBoolean(n,s){s.length&&this.writeMessage(n,v0,s)}writePackedFloat(n,s){s.length&&this.writeMessage(n,y0,s)}writePackedDouble(n,s){s.length&&this.writeMessage(n,g0,s)}writePackedFixed32(n,s){s.length&&this.writeMessage(n,xy,s)}writePackedSFixed32(n,s){s.length&&this.writeMessage(n,Sy,s)}writePackedFixed64(n,s){s.length&&this.writeMessage(n,s_,s)}writePackedSFixed64(n,s){s.length&&this.writeMessage(n,l_,s)}writeBytesField(n,s){this.writeTag(n,2),this.writeBytes(s)}writeFixed32Field(n,s){this.writeTag(n,5),this.writeFixed32(s)}writeSFixed32Field(n,s){this.writeTag(n,5),this.writeSFixed32(s)}writeFixed64Field(n,s){this.writeTag(n,1),this.writeFixed64(s)}writeSFixed64Field(n,s){this.writeTag(n,1),this.writeSFixed64(s)}writeVarintField(n,s){this.writeTag(n,0),this.writeVarint(s)}writeSVarintField(n,s){this.writeTag(n,0),this.writeSVarint(s)}writeStringField(n,s){this.writeTag(n,2),this.writeString(s)}writeFloatField(n,s){this.writeTag(n,5),this.writeFloat(s)}writeDoubleField(n,s){this.writeTag(n,1),this.writeDouble(s)}writeBooleanField(n,s){this.writeVarintField(n,+s)}}function So(l,n,s){return s?4294967296*n+(l>>>0):4294967296*(n>>>0)+(l>>>0)}function Sd(l,n,s){const f=n<=16383?1:n<=2097151?2:n<=268435455?3:Math.floor(Math.log(n)/(7*Math.LN2));s.realloc(f);for(let v=s.pos-1;v>=l;v--)s.buf[v+f]=s.buf[v]}function by(l,n){for(let s=0;s<l.length;s++)n.writeVarint(l[s])}function of(l,n){for(let s=0;s<l.length;s++)n.writeSVarint(l[s])}function y0(l,n){for(let s=0;s<l.length;s++)n.writeFloat(l[s])}function g0(l,n){for(let s=0;s<l.length;s++)n.writeDouble(l[s])}function v0(l,n){for(let s=0;s<l.length;s++)n.writeBoolean(l[s])}function xy(l,n){for(let s=0;s<l.length;s++)n.writeFixed32(l[s])}function Sy(l,n){for(let s=0;s<l.length;s++)n.writeSFixed32(l[s])}function s_(l,n){for(let s=0;s<l.length;s++)n.writeFixed64(l[s])}function l_(l,n){for(let s=0;s<l.length;s++)n.writeSFixed64(l[s])}function c_(l,n,s){l===1&&s.readMessage(_0,n)}function _0(l,n,s){if(l===3){const{id:f,bitmap:v,width:S,height:P,left:M,top:I,advance:z}=s.readMessage(b0,{});n.push({id:f,bitmap:new ef({width:S+6,height:P+6},v),metrics:{width:S,height:P,left:M,top:I,advance:z}})}}function b0(l,n,s){l===1?n.id=s.readVarint():l===2?n.bitmap=s.readBytes():l===3?n.width=s.readVarint():l===4?n.height=s.readVarint():l===5?n.left=s.readSVarint():l===6?n.top=s.readSVarint():l===7&&(n.advance=s.readVarint())}function Ju(l){let n=0,s=0;for(const P of l)n+=P.w*P.h,s=Math.max(s,P.w);l.sort(((P,M)=>M.h-P.h));const f=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(n/.95)),s),h:1/0}];let v=0,S=0;for(const P of l)for(let M=f.length-1;M>=0;M--){const I=f[M];if(!(P.w>I.w||P.h>I.h)){if(P.x=I.x,P.y=I.y,S=Math.max(S,P.y+P.h),v=Math.max(v,P.x+P.w),P.w===I.w&&P.h===I.h){const z=f.pop();z&&M<f.length&&(f[M]=z)}else P.h===I.h?(I.x+=P.w,I.w-=P.w):P.w===I.w?(I.y+=P.h,I.h-=P.h):(f.push({x:I.x+P.w,y:I.y,w:I.w-P.w,h:P.h}),I.y+=P.h,I.h-=P.h);break}}return{w:v,h:S,fill:n/(v*S)||0}}class sf{constructor(n,{pixelRatio:s,version:f,stretchX:v,stretchY:S,content:P,textFitWidth:M,textFitHeight:I}){this.paddedRect=n,this.pixelRatio=s,this.stretchX=v,this.stretchY=S,this.content=P,this.version=f,this.textFitWidth=M,this.textFitHeight=I}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class wy{constructor(n,s){const f={},v={};this.haveRenderCallbacks=[];const S=[];this.addImages(n,f,S),this.addImages(s,v,S);const{w:P,h:M}=Ju(S),I=new ii({width:P||1,height:M||1});for(const z in n){const j=n[z],H=f[z].paddedRect;ii.copy(j.data,I,{x:0,y:0},{x:H.x+1,y:H.y+1},j.data)}for(const z in s){const j=s[z],H=v[z].paddedRect,Q=H.x+1,ee=H.y+1,re=j.data.width,oe=j.data.height;ii.copy(j.data,I,{x:0,y:0},{x:Q,y:ee},j.data),ii.copy(j.data,I,{x:0,y:oe-1},{x:Q,y:ee-1},{width:re,height:1}),ii.copy(j.data,I,{x:0,y:0},{x:Q,y:ee+oe},{width:re,height:1}),ii.copy(j.data,I,{x:re-1,y:0},{x:Q-1,y:ee},{width:1,height:oe}),ii.copy(j.data,I,{x:0,y:0},{x:Q+re,y:ee},{width:1,height:oe})}this.image=I,this.iconPositions=f,this.patternPositions=v}addImages(n,s,f){for(const v in n){const S=n[v],P={x:0,y:0,w:S.data.width+2,h:S.data.height+2};f.push(P),s[v]=new sf(P,S),S.hasRenderCallback&&this.haveRenderCallbacks.push(v)}}patchUpdatedImages(n,s){n.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const f in n.updatedImages)this.patchUpdatedImage(this.iconPositions[f],n.getImage(f),s),this.patchUpdatedImage(this.patternPositions[f],n.getImage(f),s)}patchUpdatedImage(n,s,f){if(!n||!s||n.version===s.version)return;n.version=s.version;const[v,S]=n.tl;f.update(s.data,void 0,{x:v,y:S})}}var Ql;Lt("ImagePosition",sf),Lt("ImageAtlas",wy),y.ao=void 0,(Ql=y.ao||(y.ao={}))[Ql.none=0]="none",Ql[Ql.horizontal=1]="horizontal",Ql[Ql.vertical=2]="vertical",Ql[Ql.horizontalOnly=3]="horizontalOnly";class lf{constructor(){this.scale=1,this.fontStack="",this.imageName=null,this.verticalAlign="bottom"}static forText(n,s,f){const v=new lf;return v.scale=n||1,v.fontStack=s,v.verticalAlign=f||"bottom",v}static forImage(n,s){const f=new lf;return f.imageName=n,f.verticalAlign=s||"bottom",f}}class eh{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(n,s){const f=new eh;for(let v=0;v<n.sections.length;v++){const S=n.sections[v];S.image?f.addImageSection(S):f.addTextSection(S,s)}return f}length(){return this.text.length}getSection(n){return this.sections[this.sectionIndex[n]]}getSectionIndex(n){return this.sectionIndex[n]}getCharCode(n){return this.text.charCodeAt(n)}verticalizePunctuation(){this.text=(function(n){let s="";for(let f=0;f<n.length;f++){const v=n.charCodeAt(f+1)||null,S=n.charCodeAt(f-1)||null;s+=v&&Fl(v)&&!li[n[f+1]]||S&&Fl(S)&&!li[n[f-1]]||!li[n[f]]?n[f]:li[n[f]]}return s})(this.text)}trim(){let n=0;for(let f=0;f<this.text.length&&Pd[this.text.charCodeAt(f)];f++)n++;let s=this.text.length;for(let f=this.text.length-1;f>=0&&f>=n&&Pd[this.text.charCodeAt(f)];f--)s--;this.text=this.text.substring(n,s),this.sectionIndex=this.sectionIndex.slice(n,s)}substring(n,s){const f=new eh;return f.text=this.text.substring(n,s),f.sectionIndex=this.sectionIndex.slice(n,s),f.sections=this.sections,f}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce(((n,s)=>Math.max(n,this.sections[s].scale)),0)}getMaxImageSize(n){let s=0,f=0;for(let v=0;v<this.length();v++){const S=this.getSection(v);if(S.imageName){const P=n[S.imageName];if(!P)continue;const M=P.displaySize;s=Math.max(s,M[0]),f=Math.max(f,M[1])}}return{maxImageWidth:s,maxImageHeight:f}}addTextSection(n,s){this.text+=n.text,this.sections.push(lf.forText(n.scale,n.fontStack||s,n.verticalAlign));const f=this.sections.length-1;for(let v=0;v<n.text.length;++v)this.sectionIndex.push(f)}addImageSection(n){const s=n.image?n.image.name:"";if(s.length===0)return void Bt("Can't add FormattedSection with an empty image.");const f=this.getNextImageSectionCharCode();f?(this.text+=String.fromCharCode(f),this.sections.push(lf.forImage(s,n.verticalAlign)),this.sectionIndex.push(this.sections.length-1)):Bt("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function wd(l,n,s,f,v,S,P,M,I,z,j,H,Q,ee,re){const oe=eh.fromFeature(l,v);let ue;H===y.ao.vertical&&oe.verticalizePunctuation();const{processBidirectionalText:ge,processStyledBidirectionalText:Fe}=po;if(ge&&oe.sections.length===1){ue=[];const Ze=ge(oe.toString(),Dy(oe,z,S,n,f,ee));for(const tt of Ze){const yt=new eh;yt.text=tt,yt.sections=oe.sections;for(let It=0;It<tt.length;It++)yt.sectionIndex.push(0);ue.push(yt)}}else if(Fe){ue=[];const Ze=Fe(oe.text,oe.sectionIndex,Dy(oe,z,S,n,f,ee));for(const tt of Ze){const yt=new eh;yt.text=tt[0],yt.sectionIndex=tt[1],yt.sections=oe.sections,ue.push(yt)}}else ue=(function(Ze,tt){const yt=[],It=Ze.text;let At=0;for(const kt of tt)yt.push(Ze.substring(At,kt)),At=kt;return At<It.length&&yt.push(Ze.substring(At,It.length)),yt})(oe,Dy(oe,z,S,n,f,ee));const Pe=[],Te={positionedLines:Pe,text:oe.toString(),top:j[1],bottom:j[1],left:j[0],right:j[0],writingMode:H,iconsInText:!1,verticalizable:!1};return(function(Ze,tt,yt,It,At,kt,Zt,Ct,Tt,ct,er,nr){let Wt=0,Vt=0,Ar=0,on=0;const ua=Ct==="right"?1:Ct==="left"?0:.5,Ta=la/nr;let bi=0;for(const sn of At){sn.trim();const Yn=sn.getMaxScale(),ba={positionedGlyphs:[],lineOffset:0};Ze.positionedLines[bi]=ba;const Qn=ba.positionedGlyphs;let qa=0;if(!sn.length()){Vt+=kt,++bi;continue}const Si=u_(It,sn,Ta);for(let Bi=0;Bi<sn.length();Bi++){const Nn=sn.getSection(Bi),o=sn.getSectionIndex(Bi),h=sn.getCharCode(Bi),g=cf(Tt,er,h);let x;if(Nn.imageName){if(Ze.iconsInText=!0,Nn.scale=Nn.scale*Ta,x=Lp(Nn,g,Yn,Si,It),!x)continue;qa=Math.max(qa,x.imageOffset)}else if(x=Ty(Nn,h,g,Si,tt,yt),!x)continue;const{rect:E,metrics:F,baselineOffset:K}=x;Qn.push({glyph:h,imageName:Nn.imageName,x:Wt,y:Vt+K+-17,vertical:g,scale:Nn.scale,fontStack:Nn.fontStack,sectionIndex:o,metrics:F,rect:E}),g?(Ze.verticalizable=!0,Wt+=(Nn.imageName?F.advance:la)*Nn.scale+ct):Wt+=F.advance*Nn.scale+ct}Qn.length!==0&&(Ar=Math.max(Wt-ct,Ar),Ey(Qn,0,Qn.length-1,ua)),Wt=0,ba.lineOffset=Math.max(qa,(Yn-1)*la);const ha=kt*Yn+qa;Vt+=ha,on=Math.max(ha,on),++bi}const{horizontalAlign:xi,verticalAlign:Ea}=My(Zt);(function(sn,Yn,ba,Qn,qa,Si,ha,Bi,Nn){const o=(Yn-ba)*qa;let h=0;h=Si!==ha?-Bi*Qn- -17:-Qn*Nn*ha+.5*ha;for(const g of sn)for(const x of g.positionedGlyphs)x.x+=o,x.y+=h})(Ze.positionedLines,ua,xi,Ea,Ar,on,kt,Vt,At.length),Ze.top+=-Ea*Vt,Ze.bottom=Ze.top+Vt,Ze.left+=-xi*Ar,Ze.right=Ze.left+Ar})(Te,n,s,f,ue,P,M,I,H,z,Q,re),!(function(Ze){for(const tt of Ze)if(tt.positionedGlyphs.length!==0)return!1;return!0})(Pe)&&Te}const Pd={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Up={10:!0,32:!0,38:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0},x0={40:!0};function Py(l,n,s,f,v,S){if(n.imageName){const P=f[n.imageName];return P?P.displaySize[0]*n.scale*la/S+v:0}{const P=s[n.fontStack],M=P&&P[l];return M?M.metrics.advance*n.scale+v:0}}function dn(l,n,s,f){const v=Math.pow(l-n,2);return f?l<n?v/2:2*v:v+Math.abs(s)*s}function Ay(l,n,s){let f=0;return l===10&&(f-=1e4),s&&(f+=150),l!==40&&l!==65288||(f+=50),n!==41&&n!==65289||(f+=50),f}function S0(l,n,s,f,v,S){let P=null,M=dn(n,s,v,S);for(const I of f){const z=dn(n-I.x,s,v,S)+I.badness;z<=M&&(P=I,M=z)}return{index:l,x:n,priorBreak:P,badness:M}}function Cy(l){return l?Cy(l.priorBreak).concat(l.index):[]}function Dy(l,n,s,f,v,S){if(!l)return[];const P=[],M=(function(H,Q,ee,re,oe,ue){let ge=0;for(let Fe=0;Fe<H.length();Fe++){const Pe=H.getSection(Fe);ge+=Py(H.getCharCode(Fe),Pe,re,oe,Q,ue)}return ge/Math.max(1,Math.ceil(ge/ee))})(l,n,s,f,v,S),I=l.text.indexOf("​")>=0;let z=0;for(let H=0;H<l.length();H++){const Q=l.getSection(H),ee=l.getCharCode(H);if(Pd[ee]||(z+=Py(ee,Q,f,v,n,S)),H<l.length()-1){const re=!((j=ee)<11904)&&(!!fr["CJK Compatibility Forms"](j)||!!fr["CJK Compatibility"](j)||!!fr["CJK Strokes"](j)||!!fr["CJK Symbols and Punctuation"](j)||!!fr["Enclosed CJK Letters and Months"](j)||!!fr["Halfwidth and Fullwidth Forms"](j)||!!fr["Ideographic Description Characters"](j)||!!fr["Vertical Forms"](j)||Wh.test(String.fromCodePoint(j)));(Up[ee]||re||Q.imageName||H!==l.length()-2&&x0[l.getCharCode(H+1)])&&P.push(S0(H+1,z,M,P,Ay(ee,l.getCharCode(H+1),re&&I),!1))}}var j;return Cy(S0(l.length(),z,M,P,0,!0))}function My(l){let n=.5,s=.5;switch(l){case"right":case"top-right":case"bottom-right":n=1;break;case"left":case"top-left":case"bottom-left":n=0}switch(l){case"bottom":case"bottom-right":case"bottom-left":s=1;break;case"top":case"top-right":case"top-left":s=0}return{horizontalAlign:n,verticalAlign:s}}function u_(l,n,s){const f=n.getMaxScale()*la,{maxImageWidth:v,maxImageHeight:S}=n.getMaxImageSize(l),P=Math.max(f,S*s);return{verticalLineContentWidth:Math.max(f,v*s),horizontalLineContentHeight:P}}function Ad(l){switch(l){case"top":return 0;case"center":return .5;default:return 1}}function cf(l,n,s){return!(l===y.ao.horizontal||!n&&!qu(s)||n&&(Pd[s]||(f=s,new RegExp("\\p{sc=Arab}","u").test(String.fromCodePoint(f)))));var f}function Ty(l,n,s,f,v,S){const P=S[l.fontStack],M=(function(z,j,H,Q){if(z&&z.rect)return z;const ee=j[H.fontStack],re=ee&&ee[Q];return re?{rect:null,metrics:re.metrics}:null})(P&&P[n],v,l,n);if(M===null)return null;let I;if(s)I=f.verticalLineContentWidth-l.scale*la;else{const z=Ad(l.verticalAlign);I=(f.horizontalLineContentHeight-l.scale*la)*z}return{rect:M.rect,metrics:M.metrics,baselineOffset:I}}function Lp(l,n,s,f,v){const S=v[l.imageName];if(!S)return null;const P=S.paddedRect,M=S.displaySize,I={width:M[0],height:M[1],left:1,top:-3,advance:n?M[1]:M[0]};let z;if(n)z=f.verticalLineContentWidth-M[1]*l.scale;else{const j=Ad(l.verticalAlign);z=(f.horizontalLineContentHeight-M[1]*l.scale)*j}return{rect:P,metrics:I,baselineOffset:z,imageOffset:(n?M[0]:M[1])*l.scale-la*s}}function Ey(l,n,s,f){if(f===0)return;const v=l[s],S=(l[s].x+v.metrics.advance*v.scale)*f;for(let P=n;P<=s;P++)l[P].x-=S}function th(l,n,s){const{horizontalAlign:f,verticalAlign:v}=My(s),S=n[0]-l.displaySize[0]*f,P=n[1]-l.displaySize[1]*v;return{image:l,top:P,bottom:P+l.displaySize[1],left:S,right:S+l.displaySize[0]}}function ws(l){var n,s;let f=l.left,v=l.top,S=l.right-f,P=l.bottom-v;const M=(n=l.image.textFitWidth)!==null&&n!==void 0?n:"stretchOrShrink",I=(s=l.image.textFitHeight)!==null&&s!==void 0?s:"stretchOrShrink",z=(l.image.content[2]-l.image.content[0])/(l.image.content[3]-l.image.content[1]);if(I==="proportional"){if(M==="stretchOnly"&&S/P<z||M==="proportional"){const j=Math.ceil(P*z);f*=j/S,S=j}}else if(M==="proportional"&&I==="stretchOnly"&&z!==0&&S/P>z){const j=Math.ceil(S/z);v*=j/P,P=j}return{x1:f,y1:v,x2:f+S,y2:v+P}}function uf(l,n,s,f,v,S){const P=l.image;let M;if(P.content){const ue=P.content,ge=P.pixelRatio||1;M=[ue[0]/ge,ue[1]/ge,P.displaySize[0]-ue[2]/ge,P.displaySize[1]-ue[3]/ge]}const I=n.left*S,z=n.right*S;let j,H,Q,ee;s==="width"||s==="both"?(ee=v[0]+I-f[3],H=v[0]+z+f[1]):(ee=v[0]+(I+z-P.displaySize[0])/2,H=ee+P.displaySize[0]);const re=n.top*S,oe=n.bottom*S;return s==="height"||s==="both"?(j=v[1]+re-f[0],Q=v[1]+oe+f[2]):(j=v[1]+(re+oe-P.displaySize[1])/2,Q=j+P.displaySize[1]),{image:P,top:j,right:H,bottom:Q,left:ee,collisionPadding:M}}const Xl=128,Kl=32640;function Ry(l,n){const{expression:s}=n;if(s.kind==="constant")return{kind:"constant",layoutSize:s.evaluate(new $r(l+1))};if(s.kind==="source")return{kind:"source"};{const{zoomStops:f,interpolationType:v}=s;let S=0;for(;S<f.length&&f[S]<=l;)S++;S=Math.max(0,S-1);let P=S;for(;P<f.length&&f[P]<l+1;)P++;P=Math.min(f.length-1,P);const M=f[S],I=f[P];return s.kind==="composite"?{kind:"composite",minZoom:M,maxZoom:I,interpolationType:v}:{kind:"camera",minZoom:M,maxZoom:I,minSize:s.evaluate(new $r(M)),maxSize:s.evaluate(new $r(I)),interpolationType:v}}}function zp(l,n,s){let f="never";const v=l.get(n);return v?f=v:l.get(s)&&(f="always"),f}const w0=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Fp(l,n,s,f,v,S,P,M,I,z,j,H,Q){const ee=M?Math.min(Kl,Math.round(M[0])):0,re=M?Math.min(Kl,Math.round(M[1])):0;l.emplaceBack(n,s,Math.round(32*f),Math.round(32*v),S,P,(ee<<1)+(I?1:0),re,16*z,16*j,256*H,256*Q)}function Cd(l,n,s){l.emplaceBack(n.x,n.y,s),l.emplaceBack(n.x,n.y,s),l.emplaceBack(n.x,n.y,s),l.emplaceBack(n.x,n.y,s)}function P0(l){for(const n of l.sections)if(fs(n.text))return!0;return!1}class Np{constructor(n){this.layoutVertexArray=new Ht,this.indexArray=new Zr,this.programConfigurations=n,this.segments=new Mr,this.dynamicLayoutVertexArray=new vr,this.opacityVertexArray=new kr,this.hasVisibleVertices=!1,this.placedSymbolArray=new fe}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(n,s,f,v){this.isEmpty()||(f&&(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,af.members),this.indexBuffer=n.createIndexBuffer(this.indexArray,s),this.dynamicLayoutVertexBuffer=n.createVertexBuffer(this.dynamicLayoutVertexArray,dy.members,!0),this.opacityVertexBuffer=n.createVertexBuffer(this.opacityVertexArray,w0,!0),this.opacityVertexBuffer.itemSize=1),(f||v)&&this.programConfigurations.upload(n))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Lt("SymbolBuffers",Np);class Iy{constructor(n,s,f){this.layoutVertexArray=new n,this.layoutAttributes=s,this.indexArray=new f,this.segments=new Mr,this.collisionVertexArray=new Gr}upload(n){this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=n.createVertexBuffer(this.collisionVertexArray,py.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}Lt("CollisionBuffers",Iy);class Qc{constructor(n){this.collisionBoxArray=n.collisionBoxArray,this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map((P=>P.id)),this.index=n.index,this.pixelRatio=n.pixelRatio,this.sourceLayerIndex=n.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[];const s=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Ry(this.zoom,s["text-size"]),this.iconSizeData=Ry(this.zoom,s["icon-size"]);const f=this.layers[0].layout,v=f.get("symbol-sort-key"),S=f.get("symbol-z-order");this.canOverlap=zp(f,"text-overlap","text-allow-overlap")!=="never"||zp(f,"icon-overlap","icon-allow-overlap")!=="never"||f.get("text-ignore-placement")||f.get("icon-ignore-placement"),this.sortFeaturesByKey=S!=="viewport-y"&&!v.isConstant(),this.sortFeaturesByY=(S==="viewport-y"||S==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,f.get("symbol-placement")==="point"&&(this.writingModes=f.get("text-writing-mode").map((P=>y.ao[P]))),this.stateDependentLayerIds=this.layers.filter((P=>P.isStateDependent())).map((P=>P.id)),this.sourceID=n.sourceID}createArrays(){this.text=new Np(new vs(this.layers,this.zoom,(n=>/^text/.test(n)))),this.icon=new Np(new vs(this.layers,this.zoom,(n=>/^icon/.test(n)))),this.glyphOffsetArray=new we,this.lineVertexArray=new _e,this.symbolInstances=new ve,this.textAnchorOffsets=new Ee}calculateGlyphDependencies(n,s,f,v,S){for(let P=0;P<n.length;P++)if(s[n.charCodeAt(P)]=!0,(f||v)&&S){const M=li[n.charAt(P)];M&&(s[M.charCodeAt(0)]=!0)}}populate(n,s,f){const v=this.layers[0],S=v.layout,P=S.get("text-font"),M=S.get("text-field"),I=S.get("icon-image"),z=(M.value.kind!=="constant"||M.value.value instanceof ea&&!M.value.value.isEmpty()||M.value.value.toString().length>0)&&(P.value.kind!=="constant"||P.value.value.length>0),j=I.value.kind!=="constant"||!!I.value.value||Object.keys(I.parameters).length>0,H=S.get("symbol-sort-key");if(this.features=[],!z&&!j)return;const Q=s.iconDependencies,ee=s.glyphDependencies,re=s.availableImages,oe=new $r(this.zoom);for(const{feature:ue,id:ge,index:Fe,sourceLayerIndex:Pe}of n){const Te=v._featureFilter.needGeometry,Ze=$l(ue,Te);if(!v._featureFilter.filter(oe,Ze,f))continue;let tt,yt;if(Te||(Ze.geometry=ql(ue)),z){const At=v.getValueAndResolveTokens("text-field",Ze,f,re),kt=ea.factory(At),Zt=this.hasRTLText=this.hasRTLText||P0(kt);(!Zt||po.getRTLTextPluginStatus()==="unavailable"||Zt&&po.isParsed())&&(tt=yy(kt,v,Ze))}if(j){const At=v.getValueAndResolveTokens("icon-image",Ze,f,re);yt=At instanceof Ca?At:Ca.fromString(At)}if(!tt&&!yt)continue;const It=this.sortFeaturesByKey?H.evaluate(Ze,{},f):void 0;if(this.features.push({id:ge,text:tt,icon:yt,index:Fe,sourceLayerIndex:Pe,geometry:Ze.geometry,properties:ue.properties,type:al.types[ue.type],sortKey:It}),yt&&(Q[yt.name]=!0),tt){const At=P.evaluate(Ze,{},f).join(","),kt=S.get("text-rotation-alignment")!=="viewport"&&S.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(y.ao.vertical)>=0;for(const Zt of tt.sections)if(Zt.image)Q[Zt.image.name]=!0;else{const Ct=Bu(tt.toString()),Tt=Zt.fontStack||At,ct=ee[Tt]=ee[Tt]||{};this.calculateGlyphDependencies(Zt.text,ct,kt,this.allowVerticalPlacement,Ct)}}}S.get("symbol-placement")==="line"&&(this.features=(function(ue){const ge={},Fe={},Pe=[];let Te=0;function Ze(At){Pe.push(ue[At]),Te++}function tt(At,kt,Zt){const Ct=Fe[At];return delete Fe[At],Fe[kt]=Ct,Pe[Ct].geometry[0].pop(),Pe[Ct].geometry[0]=Pe[Ct].geometry[0].concat(Zt[0]),Ct}function yt(At,kt,Zt){const Ct=ge[kt];return delete ge[kt],ge[At]=Ct,Pe[Ct].geometry[0].shift(),Pe[Ct].geometry[0]=Zt[0].concat(Pe[Ct].geometry[0]),Ct}function It(At,kt,Zt){const Ct=Zt?kt[0][kt[0].length-1]:kt[0][0];return`${At}:${Ct.x}:${Ct.y}`}for(let At=0;At<ue.length;At++){const kt=ue[At],Zt=kt.geometry,Ct=kt.text?kt.text.toString():null;if(!Ct){Ze(At);continue}const Tt=It(Ct,Zt),ct=It(Ct,Zt,!0);if(Tt in Fe&&ct in ge&&Fe[Tt]!==ge[ct]){const er=yt(Tt,ct,Zt),nr=tt(Tt,ct,Pe[er].geometry);delete ge[Tt],delete Fe[ct],Fe[It(Ct,Pe[nr].geometry,!0)]=nr,Pe[er].geometry=null}else Tt in Fe?tt(Tt,ct,Zt):ct in ge?yt(Tt,ct,Zt):(Ze(At),ge[Tt]=Te-1,Fe[ct]=Te-1)}return Pe.filter((At=>At.geometry))})(this.features)),this.sortFeaturesByKey&&this.features.sort(((ue,ge)=>ue.sortKey-ge.sortKey))}update(n,s,f){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(n,s,this.layers,{imagePositions:f}),this.icon.programConfigurations.updatePaintArrays(n,s,this.layers,{imagePositions:f}))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(n){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(n),this.iconCollisionBox.upload(n)),this.text.upload(n,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(n,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(n,s){const f=this.lineVertexArray.length;if(n.segment!==void 0){let v=n.dist(s[n.segment+1]),S=n.dist(s[n.segment]);const P={};for(let M=n.segment+1;M<s.length;M++)P[M]={x:s[M].x,y:s[M].y,tileUnitDistanceFromAnchor:v},M<s.length-1&&(v+=s[M+1].dist(s[M]));for(let M=n.segment||0;M>=0;M--)P[M]={x:s[M].x,y:s[M].y,tileUnitDistanceFromAnchor:S},M>0&&(S+=s[M-1].dist(s[M]));for(let M=0;M<s.length;M++){const I=P[M];this.lineVertexArray.emplaceBack(I.x,I.y,I.tileUnitDistanceFromAnchor)}}return{lineStartIndex:f,lineLength:this.lineVertexArray.length-f}}addSymbols(n,s,f,v,S,P,M,I,z,j,H,Q){const ee=n.indexArray,re=n.layoutVertexArray,oe=n.segments.prepareSegment(4*s.length,re,ee,this.canOverlap?P.sortKey:void 0),ue=this.glyphOffsetArray.length,ge=oe.vertexLength,Fe=this.allowVerticalPlacement&&M===y.ao.vertical?Math.PI/2:0,Pe=P.text&&P.text.sections;for(let Te=0;Te<s.length;Te++){const{tl:Ze,tr:tt,bl:yt,br:It,tex:At,pixelOffsetTL:kt,pixelOffsetBR:Zt,minFontScaleX:Ct,minFontScaleY:Tt,glyphOffset:ct,isSDF:er,sectionIndex:nr}=s[Te],Wt=oe.vertexLength,Vt=ct[1];Fp(re,I.x,I.y,Ze.x,Vt+Ze.y,At.x,At.y,f,er,kt.x,kt.y,Ct,Tt),Fp(re,I.x,I.y,tt.x,Vt+tt.y,At.x+At.w,At.y,f,er,Zt.x,kt.y,Ct,Tt),Fp(re,I.x,I.y,yt.x,Vt+yt.y,At.x,At.y+At.h,f,er,kt.x,Zt.y,Ct,Tt),Fp(re,I.x,I.y,It.x,Vt+It.y,At.x+At.w,At.y+At.h,f,er,Zt.x,Zt.y,Ct,Tt),Cd(n.dynamicLayoutVertexArray,I,Fe),ee.emplaceBack(Wt,Wt+2,Wt+1),ee.emplaceBack(Wt+1,Wt+2,Wt+3),oe.vertexLength+=4,oe.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(ct[0]),Te!==s.length-1&&nr===s[Te+1].sectionIndex||n.programConfigurations.populatePaintArrays(re.length,P,P.index,{imagePositions:{},canonical:Q,formattedSection:Pe&&Pe[nr]})}n.placedSymbolArray.emplaceBack(I.x,I.y,ue,this.glyphOffsetArray.length-ue,ge,z,j,I.segment,f?f[0]:0,f?f[1]:0,v[0],v[1],M,0,!1,0,H)}_addCollisionDebugVertex(n,s,f,v,S,P){return s.emplaceBack(0,0),n.emplaceBack(f.x,f.y,v,S,Math.round(P.x),Math.round(P.y))}addCollisionDebugVertices(n,s,f,v,S,P,M){const I=S.segments.prepareSegment(4,S.layoutVertexArray,S.indexArray),z=I.vertexLength,j=S.layoutVertexArray,H=S.collisionVertexArray,Q=M.anchorX,ee=M.anchorY;this._addCollisionDebugVertex(j,H,P,Q,ee,new A(n,s)),this._addCollisionDebugVertex(j,H,P,Q,ee,new A(f,s)),this._addCollisionDebugVertex(j,H,P,Q,ee,new A(f,v)),this._addCollisionDebugVertex(j,H,P,Q,ee,new A(n,v)),I.vertexLength+=4;const re=S.indexArray;re.emplaceBack(z,z+1),re.emplaceBack(z+1,z+2),re.emplaceBack(z+2,z+3),re.emplaceBack(z+3,z),I.primitiveLength+=4}addDebugCollisionBoxes(n,s,f,v){for(let S=n;S<s;S++){const P=this.collisionBoxArray.get(S);this.addCollisionDebugVertices(P.x1,P.y1,P.x2,P.y2,v?this.textCollisionBox:this.iconCollisionBox,P.anchorPoint,f)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Iy(hn,my.members,rn),this.iconCollisionBox=new Iy(hn,my.members,rn);for(let n=0;n<this.symbolInstances.length;n++){const s=this.symbolInstances.get(n);this.addDebugCollisionBoxes(s.textBoxStartIndex,s.textBoxEndIndex,s,!0),this.addDebugCollisionBoxes(s.verticalTextBoxStartIndex,s.verticalTextBoxEndIndex,s,!0),this.addDebugCollisionBoxes(s.iconBoxStartIndex,s.iconBoxEndIndex,s,!1),this.addDebugCollisionBoxes(s.verticalIconBoxStartIndex,s.verticalIconBoxEndIndex,s,!1)}}_deserializeCollisionBoxesForSymbol(n,s,f,v,S,P,M,I,z){const j={};for(let H=s;H<f;H++){const Q=n.get(H);j.textBox={x1:Q.x1,y1:Q.y1,x2:Q.x2,y2:Q.y2,anchorPointX:Q.anchorPointX,anchorPointY:Q.anchorPointY},j.textFeatureIndex=Q.featureIndex;break}for(let H=v;H<S;H++){const Q=n.get(H);j.verticalTextBox={x1:Q.x1,y1:Q.y1,x2:Q.x2,y2:Q.y2,anchorPointX:Q.anchorPointX,anchorPointY:Q.anchorPointY},j.verticalTextFeatureIndex=Q.featureIndex;break}for(let H=P;H<M;H++){const Q=n.get(H);j.iconBox={x1:Q.x1,y1:Q.y1,x2:Q.x2,y2:Q.y2,anchorPointX:Q.anchorPointX,anchorPointY:Q.anchorPointY},j.iconFeatureIndex=Q.featureIndex;break}for(let H=I;H<z;H++){const Q=n.get(H);j.verticalIconBox={x1:Q.x1,y1:Q.y1,x2:Q.x2,y2:Q.y2,anchorPointX:Q.anchorPointX,anchorPointY:Q.anchorPointY},j.verticalIconFeatureIndex=Q.featureIndex;break}return j}deserializeCollisionBoxes(n){this.collisionArrays=[];for(let s=0;s<this.symbolInstances.length;s++){const f=this.symbolInstances.get(s);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(n,f.textBoxStartIndex,f.textBoxEndIndex,f.verticalTextBoxStartIndex,f.verticalTextBoxEndIndex,f.iconBoxStartIndex,f.iconBoxEndIndex,f.verticalIconBoxStartIndex,f.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(n,s){const f=n.placedSymbolArray.get(s),v=f.vertexStartIndex+4*f.numGlyphs;for(let S=f.vertexStartIndex;S<v;S+=4)n.indexArray.emplaceBack(S,S+2,S+1),n.indexArray.emplaceBack(S+1,S+2,S+3)}getSortedSymbolIndexes(n){if(this.sortedAngle===n&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const s=Math.sin(n),f=Math.cos(n),v=[],S=[],P=[];for(let M=0;M<this.symbolInstances.length;++M){P.push(M);const I=this.symbolInstances.get(M);v.push(0|Math.round(s*I.anchorX+f*I.anchorY)),S.push(I.featureIndex)}return P.sort(((M,I)=>v[M]-v[I]||S[I]-S[M])),P}addToSortKeyRanges(n,s){const f=this.sortKeyRanges[this.sortKeyRanges.length-1];f&&f.sortKey===s?f.symbolInstanceEnd=n+1:this.sortKeyRanges.push({sortKey:s,symbolInstanceStart:n,symbolInstanceEnd:n+1})}sortFeatures(n){if(this.sortFeaturesByY&&this.sortedAngle!==n&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(n),this.sortedAngle=n,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const s of this.symbolInstanceIndexes){const f=this.symbolInstances.get(s);this.featureSortOrder.push(f.featureIndex),[f.rightJustifiedTextSymbolIndex,f.centerJustifiedTextSymbolIndex,f.leftJustifiedTextSymbolIndex].forEach(((v,S,P)=>{v>=0&&P.indexOf(v)===S&&this.addIndicesForPlacedSymbol(this.text,v)})),f.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,f.verticalPlacedTextSymbolIndex),f.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,f.placedIconSymbolIndex),f.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,f.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let jp,A0;Lt("SymbolBucket",Qc,{omit:["layers","collisionBoxArray","features","compareText"]}),Qc.MAX_GLYPHS=65535,Qc.addDynamicAttributes=Cd;var ky={get paint(){return A0=A0||new ma({"icon-opacity":new Yt(ze.paint_symbol["icon-opacity"]),"icon-color":new Yt(ze.paint_symbol["icon-color"]),"icon-halo-color":new Yt(ze.paint_symbol["icon-halo-color"]),"icon-halo-width":new Yt(ze.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Yt(ze.paint_symbol["icon-halo-blur"]),"icon-translate":new qt(ze.paint_symbol["icon-translate"]),"icon-translate-anchor":new qt(ze.paint_symbol["icon-translate-anchor"]),"text-opacity":new Yt(ze.paint_symbol["text-opacity"]),"text-color":new Yt(ze.paint_symbol["text-color"],{runtimeType:qn,getOverride:l=>l.textColor,hasOverride:l=>!!l.textColor}),"text-halo-color":new Yt(ze.paint_symbol["text-halo-color"]),"text-halo-width":new Yt(ze.paint_symbol["text-halo-width"]),"text-halo-blur":new Yt(ze.paint_symbol["text-halo-blur"]),"text-translate":new qt(ze.paint_symbol["text-translate"]),"text-translate-anchor":new qt(ze.paint_symbol["text-translate-anchor"])})},get layout(){return jp=jp||new ma({"symbol-placement":new qt(ze.layout_symbol["symbol-placement"]),"symbol-spacing":new qt(ze.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new qt(ze.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Yt(ze.layout_symbol["symbol-sort-key"]),"symbol-z-order":new qt(ze.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new qt(ze.layout_symbol["icon-allow-overlap"]),"icon-overlap":new qt(ze.layout_symbol["icon-overlap"]),"icon-ignore-placement":new qt(ze.layout_symbol["icon-ignore-placement"]),"icon-optional":new qt(ze.layout_symbol["icon-optional"]),"icon-rotation-alignment":new qt(ze.layout_symbol["icon-rotation-alignment"]),"icon-size":new Yt(ze.layout_symbol["icon-size"]),"icon-text-fit":new qt(ze.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new qt(ze.layout_symbol["icon-text-fit-padding"]),"icon-image":new Yt(ze.layout_symbol["icon-image"]),"icon-rotate":new Yt(ze.layout_symbol["icon-rotate"]),"icon-padding":new Yt(ze.layout_symbol["icon-padding"]),"icon-keep-upright":new qt(ze.layout_symbol["icon-keep-upright"]),"icon-offset":new Yt(ze.layout_symbol["icon-offset"]),"icon-anchor":new Yt(ze.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new qt(ze.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new qt(ze.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new qt(ze.layout_symbol["text-rotation-alignment"]),"text-field":new Yt(ze.layout_symbol["text-field"]),"text-font":new Yt(ze.layout_symbol["text-font"]),"text-size":new Yt(ze.layout_symbol["text-size"]),"text-max-width":new Yt(ze.layout_symbol["text-max-width"]),"text-line-height":new qt(ze.layout_symbol["text-line-height"]),"text-letter-spacing":new Yt(ze.layout_symbol["text-letter-spacing"]),"text-justify":new Yt(ze.layout_symbol["text-justify"]),"text-radial-offset":new Yt(ze.layout_symbol["text-radial-offset"]),"text-variable-anchor":new qt(ze.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new Yt(ze.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new Yt(ze.layout_symbol["text-anchor"]),"text-max-angle":new qt(ze.layout_symbol["text-max-angle"]),"text-writing-mode":new qt(ze.layout_symbol["text-writing-mode"]),"text-rotate":new Yt(ze.layout_symbol["text-rotate"]),"text-padding":new qt(ze.layout_symbol["text-padding"]),"text-keep-upright":new qt(ze.layout_symbol["text-keep-upright"]),"text-transform":new Yt(ze.layout_symbol["text-transform"]),"text-offset":new Yt(ze.layout_symbol["text-offset"]),"text-allow-overlap":new qt(ze.layout_symbol["text-allow-overlap"]),"text-overlap":new qt(ze.layout_symbol["text-overlap"]),"text-ignore-placement":new qt(ze.layout_symbol["text-ignore-placement"]),"text-optional":new qt(ze.layout_symbol["text-optional"])})}};class hf{constructor(n){if(n.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=n.property.overrides?n.property.overrides.runtimeType:Eo,this.defaultValue=n}evaluate(n){if(n.formattedSection){const s=this.defaultValue.property.overrides;if(s&&s.hasOverride(n.formattedSection))return s.getOverride(n.formattedSection)}return n.feature&&n.featureState?this.defaultValue.evaluate(n.feature,n.featureState):this.defaultValue.property.specification.default}eachChild(n){this.defaultValue.isConstant()||n(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Lt("FormatSectionOverride",hf,{omit:["defaultValue"]});class Bp extends Xi{constructor(n,s){super(n,ky,s)}recalculate(n,s){if(super.recalculate(n,s),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const f=this.layout.get("text-writing-mode");if(f){const v=[];for(const S of f)v.indexOf(S)<0&&v.push(S);this.layout._values["text-writing-mode"]=v}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(n,s,f,v){const S=this.layout.get(n).evaluate(s,{},f,v),P=this._unevaluatedLayout._values[n];return P.isDataDriven()||os(P.value)||!S?S:(function(M,I){return I.replace(/{([^{}]+)}/g,((z,j)=>M&&j in M?String(M[j]):""))})(s.properties,S)}createBucket(n){return new Qc(n)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const n of ky.paint.overridableProperties){if(!Bp.hasPaintOverride(this.layout,n))continue;const s=this.paint.get(n),f=new hf(s),v=new Lu(f,s.property.specification);let S=null;S=s.value.kind==="constant"||s.value.kind==="source"?new Ws("source",v):new Ic("composite",v,s.value.zoomStops),this.paint._values[n]=new ri(s.property,S,s.parameters)}}_handleOverridablePaintPropertyUpdate(n,s,f){return!(!this.layout||s.isDataDriven()||f.isDataDriven())&&Bp.hasPaintOverride(this.layout,n)}static hasPaintOverride(n,s){const f=n.get("text-field"),v=ky.paint.properties[s];let S=!1;const P=M=>{for(const I of M)if(v.overrides&&v.overrides.hasOverride(I))return void(S=!0)};if(f.value.kind==="constant"&&f.value.value instanceof ea)P(f.value.value.sections);else if(f.value.kind==="source"||f.value.kind==="composite"){const M=z=>{S||(z instanceof Yi&&tr(z.value)===pi?P(z.value.sections):z instanceof Al?P(z.sections):z.eachChild(M))},I=f.value;I._styleExpression&&M(I._styleExpression.expression)}return S}}let Oy;var Or={get paint(){return Oy=Oy||new ma({"background-color":new qt(ze.paint_background["background-color"]),"background-pattern":new rd(ze.paint_background["background-pattern"]),"background-opacity":new qt(ze.paint_background["background-opacity"])})}};class Uy extends Xi{constructor(n,s){super(n,Or,s)}}let Dd;var Ly={get paint(){return Dd=Dd||new ma({"raster-opacity":new qt(ze.paint_raster["raster-opacity"]),"raster-hue-rotate":new qt(ze.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new qt(ze.paint_raster["raster-brightness-min"]),"raster-brightness-max":new qt(ze.paint_raster["raster-brightness-max"]),"raster-saturation":new qt(ze.paint_raster["raster-saturation"]),"raster-contrast":new qt(ze.paint_raster["raster-contrast"]),"raster-resampling":new qt(ze.paint_raster["raster-resampling"]),"raster-fade-duration":new qt(ze.paint_raster["raster-fade-duration"])})}};class C0 extends Xi{constructor(n,s){super(n,Ly,s)}}class zy extends Xi{constructor(n,s){super(n,{},s),this.onAdd=f=>{this.implementation.onAdd&&this.implementation.onAdd(f,f.painter.context.gl)},this.onRemove=f=>{this.implementation.onRemove&&this.implementation.onRemove(f,f.painter.context.gl)},this.implementation=n}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class Md{constructor(n){this._methodToThrottle=n,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((()=>{this._triggered=!1,this._methodToThrottle()}),0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}const qp={once:!0},Xc=63710088e-1;class Jl{constructor(n,s){if(isNaN(n)||isNaN(s))throw new Error(`Invalid LngLat object: (${n}, ${s})`);if(this.lng=+n,this.lat=+s,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Jl(Ut(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(n){const s=Math.PI/180,f=this.lat*s,v=n.lat*s,S=Math.sin(f)*Math.sin(v)+Math.cos(f)*Math.cos(v)*Math.cos((n.lng-this.lng)*s);return Xc*Math.acos(Math.min(S,1))}static convert(n){if(n instanceof Jl)return n;if(Array.isArray(n)&&(n.length===2||n.length===3))return new Jl(Number(n[0]),Number(n[1]));if(!Array.isArray(n)&&typeof n=="object"&&n!==null)return new Jl(Number("lng"in n?n.lng:n.lon),Number(n.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const D0=2*Math.PI*Xc;function M0(l){return D0*Math.cos(l*Math.PI/180)}function Fy(l){return(180+l)/360}function Ny(l){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+l*Math.PI/360)))/360}function Td(l,n){return l/M0(n)}function Jr(l){return 360/Math.PI*Math.atan(Math.exp((180-360*l)*Math.PI/180))-90}function $p(l,n){return l*M0(Jr(n))}class ca{constructor(n,s,f=0){this.x=+n,this.y=+s,this.z=+f}static fromLngLat(n,s=0){const f=Jl.convert(n);return new ca(Fy(f.lng),Ny(f.lat),Td(s,f.lat))}toLngLat(){return new Jl(360*this.x-180,Jr(this.y))}toAltitude(){return $p(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/D0*(n=Jr(this.y),1/Math.cos(n*Math.PI/180));var n}}function T0(l,n,s){var f=2*Math.PI*6378137/256/Math.pow(2,s);return[l*f-2*Math.PI*6378137/2,n*f-2*Math.PI*6378137/2]}class Ed{constructor(n,s,f){if(!(function(v,S,P){return!(v<0||v>25||P<0||P>=Math.pow(2,v)||S<0||S>=Math.pow(2,v))})(n,s,f))throw new Error(`x=${s}, y=${f}, z=${n} outside of bounds. 0<=x<${Math.pow(2,n)}, 0<=y<${Math.pow(2,n)} 0<=z<=25 `);this.z=n,this.x=s,this.y=f,this.key=rh(0,n,n,s,f)}equals(n){return this.z===n.z&&this.x===n.x&&this.y===n.y}url(n,s,f){const v=(P=this.y,M=this.z,I=T0(256*(S=this.x),256*(P=Math.pow(2,M)-P-1),M),z=T0(256*(S+1),256*(P+1),M),I[0]+","+I[1]+","+z[0]+","+z[1]);var S,P,M,I,z;const j=(function(H,Q,ee){let re,oe="";for(let ue=H;ue>0;ue--)re=1<<ue-1,oe+=(Q&re?1:0)+(ee&re?2:0);return oe})(this.z,this.x,this.y);return n[(this.x+this.y)%n.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(f==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,s>1?"@2x":"").replace(/{quadkey}/g,j).replace(/{bbox-epsg-3857}/g,v)}isChildOf(n){const s=this.z-n.z;return s>0&&n.x===this.x>>s&&n.y===this.y>>s}getTilePoint(n){const s=Math.pow(2,this.z);return new A((n.x*s-this.x)*bt,(n.y*s-this.y)*bt)}toString(){return`${this.z}/${this.x}/${this.y}`}}class Hp{constructor(n,s){this.wrap=n,this.canonical=s,this.key=rh(n,s.z,s.z,s.x,s.y)}}class _i{constructor(n,s,f,v,S){if(this.terrainRttPosMatrix32f=null,n<f)throw new Error(`overscaledZ should be >= z; overscaledZ = ${n}; z = ${f}`);this.overscaledZ=n,this.wrap=s,this.canonical=new Ed(f,+v,+S),this.key=rh(s,n,f,v,S)}clone(){return new _i(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(n){return this.overscaledZ===n.overscaledZ&&this.wrap===n.wrap&&this.canonical.equals(n.canonical)}scaledTo(n){if(n>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${n}; overscaledZ = ${this.overscaledZ}`);const s=this.canonical.z-n;return n>this.canonical.z?new _i(n,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new _i(n,this.wrap,n,this.canonical.x>>s,this.canonical.y>>s)}calculateScaledKey(n,s){if(n>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${n}; overscaledZ = ${this.overscaledZ}`);const f=this.canonical.z-n;return n>this.canonical.z?rh(this.wrap*+s,n,this.canonical.z,this.canonical.x,this.canonical.y):rh(this.wrap*+s,n,n,this.canonical.x>>f,this.canonical.y>>f)}isChildOf(n){if(n.wrap!==this.wrap||this.overscaledZ-n.overscaledZ<=0)return!1;if(n.overscaledZ===0)return this.overscaledZ>0;const s=this.canonical.z-n.canonical.z;return!(s<0)&&n.canonical.x===this.canonical.x>>s&&n.canonical.y===this.canonical.y>>s}children(n){if(this.overscaledZ>=n)return[new _i(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const s=this.canonical.z+1,f=2*this.canonical.x,v=2*this.canonical.y;return[new _i(s,this.wrap,s,f,v),new _i(s,this.wrap,s,f+1,v),new _i(s,this.wrap,s,f,v+1),new _i(s,this.wrap,s,f+1,v+1)]}isLessThan(n){return this.wrap<n.wrap||!(this.wrap>n.wrap)&&(this.overscaledZ<n.overscaledZ||!(this.overscaledZ>n.overscaledZ)&&(this.canonical.x<n.canonical.x||!(this.canonical.x>n.canonical.x)&&this.canonical.y<n.canonical.y))}wrapped(){return new _i(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(n){return new _i(this.overscaledZ,n,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Hp(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(n){return this.canonical.getTilePoint(new ca(n.x-this.wrap,n.y))}}function rh(l,n,s,f,v){(l*=2)<0&&(l=-1*l-1);const S=1<<s;return(S*S*l+S*v+f).toString(36)+s.toString(36)+n.toString(36)}function ff(l,n){return n?l.properties[n]:l.id}Lt("CanonicalTileID",Ed),Lt("OverscaledTileID",_i,{omit:["terrainRttPosMatrix32f"]});class ec{constructor(){this.minX=1/0,this.maxX=-1/0,this.minY=1/0,this.maxY=-1/0}extend(n){return this.minX=Math.min(this.minX,n.x),this.minY=Math.min(this.minY,n.y),this.maxX=Math.max(this.maxX,n.x),this.maxY=Math.max(this.maxY,n.y),this}expandBy(n){return this.minX-=n,this.minY-=n,this.maxX+=n,this.maxY+=n,(this.minX>this.maxX||this.minY>this.maxY)&&(this.minX=1/0,this.maxX=-1/0,this.minY=1/0,this.maxY=-1/0),this}shrinkBy(n){return this.expandBy(-n)}map(n){const s=new ec;return s.extend(n(new A(this.minX,this.minY))),s.extend(n(new A(this.maxX,this.minY))),s.extend(n(new A(this.minX,this.maxY))),s.extend(n(new A(this.maxX,this.maxY))),s}static fromPoints(n){const s=new ec;for(const f of n)s.extend(f);return s}contains(n){return n.x>=this.minX&&n.x<=this.maxX&&n.y>=this.minY&&n.y<=this.maxY}empty(){return this.minX>this.maxX}width(){return this.maxX-this.minX}height(){return this.maxY-this.minY}covers(n){return!this.empty()&&!n.empty()&&n.minX>=this.minX&&n.maxX<=this.maxX&&n.minY>=this.minY&&n.maxY<=this.maxY}intersects(n){return!this.empty()&&!n.empty()&&n.minX<=this.maxX&&n.maxX>=this.minX&&n.minY<=this.maxY&&n.maxY>=this.minY}}class Vp{constructor(n){this._stringToNumber={},this._numberToString=[];for(let s=0;s<n.length;s++){const f=n[s];this._stringToNumber[f]=s,this._numberToString[s]=f}}encode(n){return this._stringToNumber[n]}decode(n){if(n>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${n} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[n]}}class E0{constructor(n,s,f,v,S){this.type="Feature",this._vectorTileFeature=n,n._z=s,n._x=f,n._y=v,this.properties=n.properties,this.id=S}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(n){this._geometry=n}toJSON(){const n={geometry:this.geometry};for(const s in this)s!=="_geometry"&&s!=="_vectorTileFeature"&&(n[s]=this[s]);return n}}class jy{constructor(n,s){this.tileID=n,this.x=n.canonical.x,this.y=n.canonical.y,this.z=n.canonical.z,this.grid=new Ks(bt,16,0),this.grid3D=new Ks(bt,16,0),this.featureIndexArray=new Ue,this.promoteId=s}insert(n,s,f,v,S,P){const M=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(f,v,S);const I=P?this.grid3D:this.grid;for(let z=0;z<s.length;z++){const j=s[z],H=[1/0,1/0,-1/0,-1/0];for(let Q=0;Q<j.length;Q++){const ee=j[Q];H[0]=Math.min(H[0],ee.x),H[1]=Math.min(H[1],ee.y),H[2]=Math.max(H[2],ee.x),H[3]=Math.max(H[3],ee.y)}H[0]<bt&&H[1]<bt&&H[2]>=0&&H[3]>=0&&I.insert(M,H[0],H[1],H[2],H[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new m0(new _y(this.rawTileData)).layers,this.sourceLayerCoder=new Vp(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(n,s,f,v){this.loadVTLayers();const S=n.params,P=bt/n.tileSize/n.scale,M=ss(S.filter,S.globalState),I=n.queryGeometry,z=n.queryPadding*P,j=ec.fromPoints(I),H=this.grid.query(j.minX-z,j.minY-z,j.maxX+z,j.maxY+z),Q=ec.fromPoints(n.cameraQueryGeometry).expandBy(z),ee=this.grid3D.query(Q.minX,Q.minY,Q.maxX,Q.maxY,((ue,ge,Fe,Pe)=>(function(Te,Ze,tt,yt,It){for(const kt of Te)if(Ze<=kt.x&&tt<=kt.y&&yt>=kt.x&&It>=kt.y)return!0;const At=[new A(Ze,tt),new A(Ze,It),new A(yt,It),new A(yt,tt)];if(Te.length>2){for(const kt of At)if(Jh(Te,kt))return!0}for(let kt=0;kt<Te.length-1;kt++)if(Xg(Te[kt],Te[kt+1],At))return!0;return!1})(n.cameraQueryGeometry,ue-z,ge-z,Fe+z,Pe+z)));for(const ue of ee)H.push(ue);H.sort(I0);const re={};let oe;for(let ue=0;ue<H.length;ue++){const ge=H[ue];if(ge===oe)continue;oe=ge;const Fe=this.featureIndexArray.get(ge);let Pe=null;this.loadMatchingFeature(re,Fe.bucketIndex,Fe.sourceLayerIndex,Fe.featureIndex,M,S.layers,S.availableImages,s,f,v,((Te,Ze,tt)=>(Pe||(Pe=ql(Te)),Ze.queryIntersectsFeature({queryGeometry:I,feature:Te,featureState:tt,geometry:Pe,zoom:this.z,transform:n.transform,pixelsToTileUnits:P,pixelPosMatrix:n.pixelPosMatrix,unwrappedTileID:this.tileID.toUnwrapped(),getElevation:n.getElevation}))))}return re}loadMatchingFeature(n,s,f,v,S,P,M,I,z,j,H){const Q=this.bucketLayerIDs[s];if(P&&!Q.some((ue=>P.has(ue))))return;const ee=this.sourceLayerCoder.decode(f),re=this.vtLayers[ee].feature(v);if(S.needGeometry){const ue=$l(re,!0);if(!S.filter(new $r(this.tileID.overscaledZ),ue,this.tileID.canonical))return}else if(!S.filter(new $r(this.tileID.overscaledZ),re))return;const oe=this.getId(re,ee);for(let ue=0;ue<Q.length;ue++){const ge=Q[ue];if(P&&!P.has(ge))continue;const Fe=I[ge];if(!Fe)continue;let Pe={};oe&&j&&(Pe=j.getState(Fe.sourceLayer||"_geojsonTileLayer",oe));const Te=Ft({},z[ge]);Te.paint=R0(Te.paint,Fe.paint,re,Pe,M),Te.layout=R0(Te.layout,Fe.layout,re,Pe,M);const Ze=!H||H(re,Fe,Pe);if(!Ze)continue;const tt=new E0(re,this.z,this.x,this.y,oe);tt.layer=Te;let yt=n[ge];yt===void 0&&(yt=n[ge]=[]),yt.push({featureIndex:v,feature:tt,intersectionZ:Ze})}}lookupSymbolFeatures(n,s,f,v,S,P,M,I){const z={};this.loadVTLayers();const j=ss(S.filterSpec,S.globalState);for(const H of n)this.loadMatchingFeature(z,f,v,H,j,P,M,I,s);return z}hasLayer(n){for(const s of this.bucketLayerIDs)for(const f of s)if(n===f)return!0;return!1}getId(n,s){var f;let v=n.id;return this.promoteId&&(v=n.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[s]],typeof v=="boolean"&&(v=Number(v)),v===void 0&&(!((f=n.properties)===null||f===void 0)&&f.cluster)&&this.promoteId&&(v=Number(n.properties.cluster_id))),v}}function R0(l,n,s,f,v){return $t(l,((S,P)=>{const M=n instanceof qo?n.get(P):null;return M&&M.evaluate?M.evaluate(s,f,v):M}))}function I0(l,n){return n-l}function k0(l,n,s,f,v){const S=[];for(let P=0;P<l.length;P++){const M=l[P];let I;for(let z=0;z<M.length-1;z++){let j=M[z],H=M[z+1];j.x<n&&H.x<n||(j.x<n?j=new A(n,j.y+(n-j.x)/(H.x-j.x)*(H.y-j.y))._round():H.x<n&&(H=new A(n,j.y+(n-j.x)/(H.x-j.x)*(H.y-j.y))._round()),j.y<s&&H.y<s||(j.y<s?j=new A(j.x+(s-j.y)/(H.y-j.y)*(H.x-j.x),s)._round():H.y<s&&(H=new A(j.x+(s-j.y)/(H.y-j.y)*(H.x-j.x),s)._round()),j.x>=f&&H.x>=f||(j.x>=f?j=new A(f,j.y+(f-j.x)/(H.x-j.x)*(H.y-j.y))._round():H.x>=f&&(H=new A(f,j.y+(f-j.x)/(H.x-j.x)*(H.y-j.y))._round()),j.y>=v&&H.y>=v||(j.y>=v?j=new A(j.x+(v-j.y)/(H.y-j.y)*(H.x-j.x),v)._round():H.y>=v&&(H=new A(j.x+(v-j.y)/(H.y-j.y)*(H.x-j.x),v)._round()),I&&j.equals(I[I.length-1])||(I=[j],S.push(I)),I.push(H)))))}}return S}Lt("FeatureIndex",jy,{omit:["rawTileData","sourceLayerCoder"]});class Kc extends A{constructor(n,s,f,v){super(n,s),this.angle=f,v!==void 0&&(this.segment=v)}clone(){return new Kc(this.x,this.y,this.angle,this.segment)}}function tc(l,n,s,f,v){if(n.segment===void 0||s===0)return!0;let S=n,P=n.segment+1,M=0;for(;M>-s/2;){if(P--,P<0)return!1;M-=l[P].dist(S),S=l[P]}M+=l[P].dist(l[P+1]),P++;const I=[];let z=0;for(;M<s/2;){const j=l[P],H=l[P+1];if(!H)return!1;let Q=l[P-1].angleTo(j)-j.angleTo(H);for(Q=Math.abs((Q+3*Math.PI)%(2*Math.PI)-Math.PI),I.push({distance:M,angleDelta:Q}),z+=Q;M-I[0].distance>f;)z-=I.shift().angleDelta;if(z>v)return!1;P++,M+=j.dist(H)}return!0}function By(l){let n=0;for(let s=0;s<l.length-1;s++)n+=l[s].dist(l[s+1]);return n}function Wp(l,n,s){return l?.6*n*s:0}function O0(l,n){return Math.max(l?l.right-l.left:0,n?n.right-n.left:0)}function h_(l,n,s,f,v,S){const P=Wp(s,v,S),M=O0(s,f)*S;let I=0;const z=By(l)/2;for(let j=0;j<l.length-1;j++){const H=l[j],Q=l[j+1],ee=H.dist(Q);if(I+ee>z){const re=(z-I)/ee,oe=Fo.number(H.x,Q.x,re),ue=Fo.number(H.y,Q.y,re),ge=new Kc(oe,ue,Q.angleTo(H),j);return ge._round(),!P||tc(l,ge,M,P,n)?ge:void 0}I+=ee}}function qy(l,n,s,f,v,S,P,M,I){const z=Wp(f,S,P),j=O0(f,v),H=j*P,Q=l[0].x===0||l[0].x===I||l[0].y===0||l[0].y===I;return n-H<n/4&&(n=H+n/4),U0(l,Q?n/2*M%n:(j/2+2*S)*P*M%n,n,z,s,H,Q,!1,I)}function U0(l,n,s,f,v,S,P,M,I){const z=S/2,j=By(l);let H=0,Q=n-s,ee=[];for(let re=0;re<l.length-1;re++){const oe=l[re],ue=l[re+1],ge=oe.dist(ue),Fe=ue.angleTo(oe);for(;Q+s<H+ge;){Q+=s;const Pe=(Q-H)/ge,Te=Fo.number(oe.x,ue.x,Pe),Ze=Fo.number(oe.y,ue.y,Pe);if(Te>=0&&Te<I&&Ze>=0&&Ze<I&&Q-z>=0&&Q+z<=j){const tt=new Kc(Te,Ze,Fe,re);tt._round(),f&&!tc(l,tt,S,f,v)||ee.push(tt)}}H+=ge}return M||ee.length||P||(ee=U0(l,H/2,s,f,v,S,P,!0,I)),ee}function Yo(l,n,s,f){const v=[],S=l.image,P=S.pixelRatio,M=S.paddedRect.w-2,I=S.paddedRect.h-2;let z={x1:l.left,y1:l.top,x2:l.right,y2:l.bottom};const j=S.stretchX||[[0,M]],H=S.stretchY||[[0,I]],Q=(ct,er)=>ct+er[1]-er[0],ee=j.reduce(Q,0),re=H.reduce(Q,0),oe=M-ee,ue=I-re;let ge=0,Fe=ee,Pe=0,Te=re,Ze=0,tt=oe,yt=0,It=ue;if(S.content&&f){const ct=S.content,er=ct[2]-ct[0],nr=ct[3]-ct[1];(S.textFitWidth||S.textFitHeight)&&(z=ws(l)),ge=df(j,0,ct[0]),Pe=df(H,0,ct[1]),Fe=df(j,ct[0],ct[2]),Te=df(H,ct[1],ct[3]),Ze=ct[0]-ge,yt=ct[1]-Pe,tt=er-Fe,It=nr-Te}const At=z.x1,kt=z.y1,Zt=z.x2-At,Ct=z.y2-kt,Tt=(ct,er,nr,Wt)=>{const Vt=Rd(ct.stretch-ge,Fe,Zt,At),Ar=Jc(ct.fixed-Ze,tt,ct.stretch,ee),on=Rd(er.stretch-Pe,Te,Ct,kt),ua=Jc(er.fixed-yt,It,er.stretch,re),Ta=Rd(nr.stretch-ge,Fe,Zt,At),bi=Jc(nr.fixed-Ze,tt,nr.stretch,ee),xi=Rd(Wt.stretch-Pe,Te,Ct,kt),Ea=Jc(Wt.fixed-yt,It,Wt.stretch,re),sn=new A(Vt,on),Yn=new A(Ta,on),ba=new A(Ta,xi),Qn=new A(Vt,xi),qa=new A(Ar/P,ua/P),Si=new A(bi/P,Ea/P),ha=n*Math.PI/180;if(ha){const o=Math.sin(ha),h=Math.cos(ha),g=[h,-o,o,h];sn._matMult(g),Yn._matMult(g),Qn._matMult(g),ba._matMult(g)}const Bi=ct.stretch+ct.fixed,Nn=er.stretch+er.fixed;return{tl:sn,tr:Yn,bl:Qn,br:ba,tex:{x:S.paddedRect.x+1+Bi,y:S.paddedRect.y+1+Nn,w:nr.stretch+nr.fixed-Bi,h:Wt.stretch+Wt.fixed-Nn},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:qa,pixelOffsetBR:Si,minFontScaleX:tt/P/Zt,minFontScaleY:It/P/Ct,isSDF:s}};if(f&&(S.stretchX||S.stretchY)){const ct=$y(j,oe,ee),er=$y(H,ue,re);for(let nr=0;nr<ct.length-1;nr++){const Wt=ct[nr],Vt=ct[nr+1];for(let Ar=0;Ar<er.length-1;Ar++)v.push(Tt(Wt,er[Ar],Vt,er[Ar+1]))}}else v.push(Tt({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:M+1},{fixed:0,stretch:I+1}));return v}function df(l,n,s){let f=0;for(const v of l)f+=Math.max(n,Math.min(s,v[1]))-Math.max(n,Math.min(s,v[0]));return f}function $y(l,n,s){const f=[{fixed:-1,stretch:0}];for(const[v,S]of l){const P=f[f.length-1];f.push({fixed:v-P.stretch,stretch:P.stretch}),f.push({fixed:v-P.stretch,stretch:P.stretch+(S-v)})}return f.push({fixed:n+1,stretch:s}),f}function Rd(l,n,s,f){return l/n*s+f}function Jc(l,n,s,f){return l-n*s/f}Lt("Anchor",Kc);class ji{constructor(n,s,f,v,S,P,M,I,z,j){var H;if(this.boxStartIndex=n.length,z){let Q=P.top,ee=P.bottom;const re=P.collisionPadding;re&&(Q-=re[1],ee+=re[3]);let oe=ee-Q;oe>0&&(oe=Math.max(10,oe),this.circleDiameter=oe)}else{const Q=!((H=P.image)===null||H===void 0)&&H.content&&(P.image.textFitWidth||P.image.textFitHeight)?ws(P):{x1:P.left,y1:P.top,x2:P.right,y2:P.bottom};Q.y1=Q.y1*M-I[0],Q.y2=Q.y2*M+I[2],Q.x1=Q.x1*M-I[3],Q.x2=Q.x2*M+I[1];const ee=P.collisionPadding;if(ee&&(Q.x1-=ee[0]*M,Q.y1-=ee[1]*M,Q.x2+=ee[2]*M,Q.y2+=ee[3]*M),j){const re=new A(Q.x1,Q.y1),oe=new A(Q.x2,Q.y1),ue=new A(Q.x1,Q.y2),ge=new A(Q.x2,Q.y2),Fe=j*Math.PI/180;re._rotate(Fe),oe._rotate(Fe),ue._rotate(Fe),ge._rotate(Fe),Q.x1=Math.min(re.x,oe.x,ue.x,ge.x),Q.x2=Math.max(re.x,oe.x,ue.x,ge.x),Q.y1=Math.min(re.y,oe.y,ue.y,ge.y),Q.y2=Math.max(re.y,oe.y,ue.y,ge.y)}n.emplaceBack(s.x,s.y,Q.x1,Q.y1,Q.x2,Q.y2,f,v,S)}this.boxEndIndex=n.length}}class L0{constructor(n=[],s=(f,v)=>f<v?-1:f>v?1:0){if(this.data=n,this.length=this.data.length,this.compare=s,this.length>0)for(let f=(this.length>>1)-1;f>=0;f--)this._down(f)}push(n){this.data.push(n),this._up(this.length++)}pop(){if(this.length===0)return;const n=this.data[0],s=this.data.pop();return--this.length>0&&(this.data[0]=s,this._down(0)),n}peek(){return this.data[0]}_up(n){const{data:s,compare:f}=this,v=s[n];for(;n>0;){const S=n-1>>1,P=s[S];if(f(v,P)>=0)break;s[n]=P,n=S}s[n]=v}_down(n){const{data:s,compare:f}=this,v=this.length>>1,S=s[n];for(;n<v;){let P=1+(n<<1);const M=P+1;if(M<this.length&&f(s[M],s[P])<0&&(P=M),f(s[P],S)>=0)break;s[n]=s[P],n=P}s[n]=S}}function Gp(l,n=1,s=!1){const f=ec.fromPoints(l[0]),v=Math.min(f.width(),f.height());let S=v/2;const P=new L0([],rc),{minX:M,minY:I,maxX:z,maxY:j}=f;if(v===0)return new A(M,I);for(let ee=M;ee<z;ee+=v)for(let re=I;re<j;re+=v)P.push(new pf(ee+S,re+S,S,l));let H=(function(ee){let re=0,oe=0,ue=0;const ge=ee[0];for(let Fe=0,Pe=ge.length,Te=Pe-1;Fe<Pe;Te=Fe++){const Ze=ge[Fe],tt=ge[Te],yt=Ze.x*tt.y-tt.x*Ze.y;oe+=(Ze.x+tt.x)*yt,ue+=(Ze.y+tt.y)*yt,re+=3*yt}return new pf(oe/re,ue/re,0,ee)})(l),Q=P.length;for(;P.length;){const ee=P.pop();(ee.d>H.d||!H.d)&&(H=ee,s&&console.log("found best %d after %d probes",Math.round(1e4*ee.d)/1e4,Q)),ee.max-H.d<=n||(S=ee.h/2,P.push(new pf(ee.p.x-S,ee.p.y-S,S,l)),P.push(new pf(ee.p.x+S,ee.p.y-S,S,l)),P.push(new pf(ee.p.x-S,ee.p.y+S,S,l)),P.push(new pf(ee.p.x+S,ee.p.y+S,S,l)),Q+=4)}return s&&(console.log(`num probes: ${Q}`),console.log(`best distance: ${H.d}`)),H.p}function rc(l,n){return n.max-l.max}function pf(l,n,s,f){this.p=new A(l,n),this.h=s,this.d=(function(v,S){let P=!1,M=1/0;for(let I=0;I<S.length;I++){const z=S[I];for(let j=0,H=z.length,Q=H-1;j<H;Q=j++){const ee=z[j],re=z[Q];ee.y>v.y!=re.y>v.y&&v.x<(re.x-ee.x)*(v.y-ee.y)/(re.y-ee.y)+ee.x&&(P=!P),M=Math.min(M,Zm(v,ee,re))}}return(P?1:-1)*Math.sqrt(M)})(this.p,f),this.max=this.d+this.h*Math.SQRT2}var Ba;y.aE=void 0,(Ba=y.aE||(y.aE={}))[Ba.center=1]="center",Ba[Ba.left=2]="left",Ba[Ba.right=3]="right",Ba[Ba.top=4]="top",Ba[Ba.bottom=5]="bottom",Ba[Ba["top-left"]=6]="top-left",Ba[Ba["top-right"]=7]="top-right",Ba[Ba["bottom-left"]=8]="bottom-left",Ba[Ba["bottom-right"]=9]="bottom-right";const eu=Number.POSITIVE_INFINITY;function Hy(l,n){return n[1]!==eu?(function(s,f,v){let S=0,P=0;switch(f=Math.abs(f),v=Math.abs(v),s){case"top-right":case"top-left":case"top":P=v-7;break;case"bottom-right":case"bottom-left":case"bottom":P=7-v}switch(s){case"top-right":case"bottom-right":case"right":S=-f;break;case"top-left":case"bottom-left":case"left":S=f}return[S,P]})(l,n[0],n[1]):(function(s,f){let v=0,S=0;f<0&&(f=0);const P=f/Math.SQRT2;switch(s){case"top-right":case"top-left":S=P-7;break;case"bottom-right":case"bottom-left":S=7-P;break;case"bottom":S=7-f;break;case"top":S=f-7}switch(s){case"top-right":case"bottom-right":v=-P;break;case"top-left":case"bottom-left":v=P;break;case"left":v=f;break;case"right":v=-f}return[v,S]})(l,n[0])}function z0(l,n,s){var f;const v=l.layout,S=(f=v.get("text-variable-anchor-offset"))===null||f===void 0?void 0:f.evaluate(n,{},s);if(S){const M=S.values,I=[];for(let z=0;z<M.length;z+=2){const j=I[z]=M[z],H=M[z+1].map((Q=>Q*la));j.startsWith("top")?H[1]-=7:j.startsWith("bottom")&&(H[1]+=7),I[z+1]=H}return new Aa(I)}const P=v.get("text-variable-anchor");if(P){let M;M=l._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[v.get("text-radial-offset").evaluate(n,{},s)*la,eu]:v.get("text-offset").evaluate(n,{},s).map((z=>z*la));const I=[];for(const z of P)I.push(z,Hy(z,M));return new Aa(I)}return null}function Vy(l){switch(l){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function f_(l,n,s,f,v,S,P,M,I,z,j,H){let Q=S.textMaxSize.evaluate(n,{});Q===void 0&&(Q=P);const ee=l.layers[0].layout,re=ee.get("icon-offset").evaluate(n,{},j),oe=N0(s.horizontal),ue=P/24,ge=l.tilePixelRatio*ue,Fe=l.tilePixelRatio*Q/24,Pe=l.tilePixelRatio*M,Te=l.tilePixelRatio*ee.get("symbol-spacing"),Ze=ee.get("text-padding")*l.tilePixelRatio,tt=(function(nr,Wt,Vt,Ar=1){const on=nr.get("icon-padding").evaluate(Wt,{},Vt),ua=on&&on.values;return[ua[0]*Ar,ua[1]*Ar,ua[2]*Ar,ua[3]*Ar]})(ee,n,j,l.tilePixelRatio),yt=ee.get("text-max-angle")/180*Math.PI,It=ee.get("text-rotation-alignment")!=="viewport"&&ee.get("symbol-placement")!=="point",At=ee.get("icon-rotation-alignment")==="map"&&ee.get("symbol-placement")!=="point",kt=ee.get("symbol-placement"),Zt=Te/2,Ct=ee.get("icon-text-fit");let Tt;f&&Ct!=="none"&&(l.allowVerticalPlacement&&s.vertical&&(Tt=uf(f,s.vertical,Ct,ee.get("icon-text-fit-padding"),re,ue)),oe&&(f=uf(f,oe,Ct,ee.get("icon-text-fit-padding"),re,ue)));const ct=j?H.line.getGranularityForZoomLevel(j.z):1,er=(nr,Wt)=>{Wt.x<0||Wt.x>=bt||Wt.y<0||Wt.y>=bt||(function(Vt,Ar,on,ua,Ta,bi,xi,Ea,sn,Yn,ba,Qn,qa,Si,ha,Bi,Nn,o,h,g,x,E,F,K,le){const Me=Vt.addToLineVertexArray(Ar,on);let Ye,dt,_t,Ke,rt=0,dr=0,cr=0,ln=0,Be=-1,Ne=-1;const He={};let gt=gs("");if(Vt.allowVerticalPlacement&&ua.vertical){const qi=Ea.layout.get("text-rotate").evaluate(x,{},K)+90;_t=new ji(sn,Ar,Yn,ba,Qn,ua.vertical,qa,Si,ha,qi),xi&&(Ke=new ji(sn,Ar,Yn,ba,Qn,xi,Nn,o,ha,qi))}if(Ta){const qi=Ea.layout.get("icon-rotate").evaluate(x,{}),Ps=Ea.layout.get("icon-text-fit")!=="none",Ud=Yo(Ta,qi,F,Ps),ac=xi?Yo(xi,qi,F,Ps):void 0;dt=new ji(sn,Ar,Yn,ba,Qn,Ta,Nn,o,!1,qi),rt=4*Ud.length;const Ld=Vt.iconSizeData;let au=null;Ld.kind==="source"?(au=[Xl*Ea.layout.get("icon-size").evaluate(x,{})],au[0]>Kl&&Bt(`${Vt.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):Ld.kind==="composite"&&(au=[Xl*E.compositeIconSizes[0].evaluate(x,{},K),Xl*E.compositeIconSizes[1].evaluate(x,{},K)],(au[0]>Kl||au[1]>Kl)&&Bt(`${Vt.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),Vt.addSymbols(Vt.icon,Ud,au,g,h,x,y.ao.none,Ar,Me.lineStartIndex,Me.lineLength,-1,K),Be=Vt.icon.placedSymbolArray.length-1,ac&&(dr=4*ac.length,Vt.addSymbols(Vt.icon,ac,au,g,h,x,y.ao.vertical,Ar,Me.lineStartIndex,Me.lineLength,-1,K),Ne=Vt.icon.placedSymbolArray.length-1)}const Qt=Object.keys(ua.horizontal);for(const qi of Qt){const Ps=ua.horizontal[qi];if(!Ye){gt=gs(Ps.text);const ac=Ea.layout.get("text-rotate").evaluate(x,{},K);Ye=new ji(sn,Ar,Yn,ba,Qn,Ps,qa,Si,ha,ac)}const Ud=Ps.positionedLines.length===1;if(cr+=F0(Vt,Ar,Ps,bi,Ea,ha,x,Bi,Me,ua.vertical?y.ao.horizontal:y.ao.horizontalOnly,Ud?Qt:[qi],He,Be,E,K),Ud)break}ua.vertical&&(ln+=F0(Vt,Ar,ua.vertical,bi,Ea,ha,x,Bi,Me,y.ao.vertical,["vertical"],He,Ne,E,K));const Er=Ye?Ye.boxStartIndex:Vt.collisionBoxArray.length,ar=Ye?Ye.boxEndIndex:Vt.collisionBoxArray.length,hr=_t?_t.boxStartIndex:Vt.collisionBoxArray.length,$a=_t?_t.boxEndIndex:Vt.collisionBoxArray.length,Vr=dt?dt.boxStartIndex:Vt.collisionBoxArray.length,nu=dt?dt.boxEndIndex:Vt.collisionBoxArray.length,p_=Ke?Ke.boxStartIndex:Vt.collisionBoxArray.length,ME=Ke?Ke.boxEndIndex:Vt.collisionBoxArray.length;let nc=-1;const q0=(qi,Ps)=>qi&&qi.circleDiameter?Math.max(qi.circleDiameter,Ps):Ps;nc=q0(Ye,nc),nc=q0(_t,nc),nc=q0(dt,nc),nc=q0(Ke,nc);const Sw=nc>-1?1:0;Sw&&(nc*=le/la),Vt.glyphOffsetArray.length>=Qc.MAX_GLYPHS&&Bt("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),x.sortKey!==void 0&&Vt.addToSortKeyRanges(Vt.symbolInstances.length,x.sortKey);const TE=z0(Ea,x,K),[EE,RE]=(function(qi,Ps){const Ud=qi.length,ac=Ps?.values;if(ac?.length>0)for(let Ld=0;Ld<ac.length;Ld+=2){const au=ac[Ld+1];qi.emplaceBack(y.aE[ac[Ld]],au[0],au[1])}return[Ud,qi.length]})(Vt.textAnchorOffsets,TE);Vt.symbolInstances.emplaceBack(Ar.x,Ar.y,He.right>=0?He.right:-1,He.center>=0?He.center:-1,He.left>=0?He.left:-1,He.vertical||-1,Be,Ne,gt,Er,ar,hr,$a,Vr,nu,p_,ME,Yn,cr,ln,rt,dr,Sw,0,qa,nc,EE,RE)})(l,Wt,nr,s,f,v,Tt,l.layers[0],l.collisionBoxArray,n.index,n.sourceLayerIndex,l.index,ge,[Ze,Ze,Ze,Ze],It,I,Pe,tt,At,re,n,S,z,j,P)};if(kt==="line")for(const nr of k0(n.geometry,0,0,bt,bt)){const Wt=bo(nr,ct),Vt=qy(Wt,Te,yt,s.vertical||oe,f,24,Fe,l.overscaling,bt);for(const Ar of Vt)oe&&d_(l,oe.text,Zt,Ar)||er(Wt,Ar)}else if(kt==="line-center"){for(const nr of n.geometry)if(nr.length>1){const Wt=bo(nr,ct),Vt=h_(Wt,yt,s.vertical||oe,f,24,Fe);Vt&&er(Wt,Vt)}}else if(n.type==="Polygon")for(const nr of Mc(n.geometry,0)){const Wt=Gp(nr,16);er(bo(nr[0],ct,!0),new Kc(Wt.x,Wt.y,0))}else if(n.type==="LineString")for(const nr of n.geometry){const Wt=bo(nr,ct);er(Wt,new Kc(Wt[0].x,Wt[0].y,0))}else if(n.type==="Point")for(const nr of n.geometry)for(const Wt of nr)er([Wt],new Kc(Wt.x,Wt.y,0))}function F0(l,n,s,f,v,S,P,M,I,z,j,H,Q,ee,re){const oe=(function(Fe,Pe,Te,Ze,tt,yt,It,At){const kt=Ze.layout.get("text-rotate").evaluate(yt,{})*Math.PI/180,Zt=[];for(const Ct of Pe.positionedLines)for(const Tt of Ct.positionedGlyphs){if(!Tt.rect)continue;const ct=Tt.rect||{};let er=4,nr=!0,Wt=1,Vt=0;const Ar=(tt||At)&&Tt.vertical,on=Tt.metrics.advance*Tt.scale/2;if(At&&Pe.verticalizable&&(Vt=Ct.lineOffset/2-(Tt.imageName?-(la-Tt.metrics.width*Tt.scale)/2:(Tt.scale-1)*la)),Tt.imageName){const o=It[Tt.imageName];nr=o.sdf,Wt=o.pixelRatio,er=1/Wt}const ua=tt?[Tt.x+on,Tt.y]:[0,0];let Ta=tt?[0,0]:[Tt.x+on+Te[0],Tt.y+Te[1]-Vt],bi=[0,0];Ar&&(bi=Ta,Ta=[0,0]);const xi=Tt.metrics.isDoubleResolution?2:1,Ea=(Tt.metrics.left-er)*Tt.scale-on+Ta[0],sn=(-Tt.metrics.top-er)*Tt.scale+Ta[1],Yn=Ea+ct.w/xi*Tt.scale/Wt,ba=sn+ct.h/xi*Tt.scale/Wt,Qn=new A(Ea,sn),qa=new A(Yn,sn),Si=new A(Ea,ba),ha=new A(Yn,ba);if(Ar){const o=new A(-on,on- -17),h=-Math.PI/2,g=12-on,x=new A(22-g,-(Tt.imageName?g:0)),E=new A(...bi);Qn._rotateAround(h,o)._add(x)._add(E),qa._rotateAround(h,o)._add(x)._add(E),Si._rotateAround(h,o)._add(x)._add(E),ha._rotateAround(h,o)._add(x)._add(E)}if(kt){const o=Math.sin(kt),h=Math.cos(kt),g=[h,-o,o,h];Qn._matMult(g),qa._matMult(g),Si._matMult(g),ha._matMult(g)}const Bi=new A(0,0),Nn=new A(0,0);Zt.push({tl:Qn,tr:qa,bl:Si,br:ha,tex:ct,writingMode:Pe.writingMode,glyphOffset:ua,sectionIndex:Tt.sectionIndex,isSDF:nr,pixelOffsetTL:Bi,pixelOffsetBR:Nn,minFontScaleX:0,minFontScaleY:0})}return Zt})(0,s,M,v,S,P,f,l.allowVerticalPlacement),ue=l.textSizeData;let ge=null;ue.kind==="source"?(ge=[Xl*v.layout.get("text-size").evaluate(P,{})],ge[0]>Kl&&Bt(`${l.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):ue.kind==="composite"&&(ge=[Xl*ee.compositeTextSizes[0].evaluate(P,{},re),Xl*ee.compositeTextSizes[1].evaluate(P,{},re)],(ge[0]>Kl||ge[1]>Kl)&&Bt(`${l.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),l.addSymbols(l.text,oe,ge,M,S,P,z,n,I.lineStartIndex,I.lineLength,Q,re);for(const Fe of j)H[Fe]=l.text.placedSymbolArray.length-1;return 4*oe.length}function N0(l){for(const n in l)return l[n];return null}function d_(l,n,s,f){const v=l.compareText;if(n in v){const S=v[n];for(let P=S.length-1;P>=0;P--)if(f.dist(S[P])<s)return!0}else v[n]=[];return v[n].push(f),!1}const j0=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class Zp{static from(n){if(!(n instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[s,f]=new Uint8Array(n,0,2);if(s!==219)throw new Error("Data does not appear to be in a KDBush format.");const v=f>>4;if(v!==1)throw new Error(`Got v${v} data when expected v1.`);const S=j0[15&f];if(!S)throw new Error("Unrecognized array type.");const[P]=new Uint16Array(n,2,1),[M]=new Uint32Array(n,4,1);return new Zp(M,P,S,n)}constructor(n,s=64,f=Float64Array,v){if(isNaN(n)||n<0)throw new Error(`Unpexpected numItems value: ${n}.`);this.numItems=+n,this.nodeSize=Math.min(Math.max(+s,2),65535),this.ArrayType=f,this.IndexArrayType=n<65536?Uint16Array:Uint32Array;const S=j0.indexOf(this.ArrayType),P=2*n*this.ArrayType.BYTES_PER_ELEMENT,M=n*this.IndexArrayType.BYTES_PER_ELEMENT,I=(8-M%8)%8;if(S<0)throw new Error(`Unexpected typed array class: ${f}.`);v&&v instanceof ArrayBuffer?(this.data=v,this.ids=new this.IndexArrayType(this.data,8,n),this.coords=new this.ArrayType(this.data,8+M+I,2*n),this._pos=2*n,this._finished=!0):(this.data=new ArrayBuffer(8+P+M+I),this.ids=new this.IndexArrayType(this.data,8,n),this.coords=new this.ArrayType(this.data,8+M+I,2*n),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+S]),new Uint16Array(this.data,2,1)[0]=s,new Uint32Array(this.data,4,1)[0]=n)}add(n,s){const f=this._pos>>1;return this.ids[f]=f,this.coords[this._pos++]=n,this.coords[this._pos++]=s,f}finish(){const n=this._pos>>1;if(n!==this.numItems)throw new Error(`Added ${n} items when expected ${this.numItems}.`);return tu(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(n,s,f,v){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:S,coords:P,nodeSize:M}=this,I=[0,S.length-1,0],z=[];for(;I.length;){const j=I.pop()||0,H=I.pop()||0,Q=I.pop()||0;if(H-Q<=M){for(let ue=Q;ue<=H;ue++){const ge=P[2*ue],Fe=P[2*ue+1];ge>=n&&ge<=f&&Fe>=s&&Fe<=v&&z.push(S[ue])}continue}const ee=Q+H>>1,re=P[2*ee],oe=P[2*ee+1];re>=n&&re<=f&&oe>=s&&oe<=v&&z.push(S[ee]),(j===0?n<=re:s<=oe)&&(I.push(Q),I.push(ee-1),I.push(1-j)),(j===0?f>=re:v>=oe)&&(I.push(ee+1),I.push(H),I.push(1-j))}return z}within(n,s,f){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:v,coords:S,nodeSize:P}=this,M=[0,v.length-1,0],I=[],z=f*f;for(;M.length;){const j=M.pop()||0,H=M.pop()||0,Q=M.pop()||0;if(H-Q<=P){for(let ue=Q;ue<=H;ue++)nh(S[2*ue],S[2*ue+1],n,s)<=z&&I.push(v[ue]);continue}const ee=Q+H>>1,re=S[2*ee],oe=S[2*ee+1];nh(re,oe,n,s)<=z&&I.push(v[ee]),(j===0?n-f<=re:s-f<=oe)&&(M.push(Q),M.push(ee-1),M.push(1-j)),(j===0?n+f>=re:s+f>=oe)&&(M.push(ee+1),M.push(H),M.push(1-j))}return I}}function tu(l,n,s,f,v,S){if(v-f<=s)return;const P=f+v>>1;mf(l,n,P,f,v,S),tu(l,n,s,f,P-1,1-S),tu(l,n,s,P+1,v,1-S)}function mf(l,n,s,f,v,S){for(;v>f;){if(v-f>600){const z=v-f+1,j=s-f+1,H=Math.log(z),Q=.5*Math.exp(2*H/3),ee=.5*Math.sqrt(H*Q*(z-Q)/z)*(j-z/2<0?-1:1);mf(l,n,s,Math.max(f,Math.floor(s-j*Q/z+ee)),Math.min(v,Math.floor(s+(z-j)*Q/z+ee)),S)}const P=n[2*s+S];let M=f,I=v;for(yf(l,n,f,s),n[2*v+S]>P&&yf(l,n,f,v);M<I;){for(yf(l,n,M,I),M++,I--;n[2*M+S]<P;)M++;for(;n[2*I+S]>P;)I--}n[2*f+S]===P?yf(l,n,f,I):(I++,yf(l,n,I,v)),I<=s&&(f=I+1),s<=I&&(v=I-1)}}function yf(l,n,s,f){Wy(l,s,f),Wy(n,2*s,2*f),Wy(n,2*s+1,2*f+1)}function Wy(l,n,s){const f=l[n];l[n]=l[s],l[s]=f}function nh(l,n,s,f){const v=l-s,S=n-f;return v*v+S*S}var ah;y.cx=void 0,(ah=y.cx||(y.cx={})).create="create",ah.load="load",ah.fullLoad="fullLoad";let Id=null,ru=[];const kd=1e3/60,Od="loadTime",gf="fullLoadTime",B0={mark(l){performance.mark(l)},frame(l){const n=l;Id!=null&&ru.push(n-Id),Id=n},clearMetrics(){Id=null,ru=[],performance.clearMeasures(Od),performance.clearMeasures(gf);for(const l in y.cx)performance.clearMarks(y.cx[l])},getPerformanceMetrics(){performance.measure(Od,y.cx.create,y.cx.load),performance.measure(gf,y.cx.create,y.cx.fullLoad);const l=performance.getEntriesByName(Od)[0].duration,n=performance.getEntriesByName(gf)[0].duration,s=ru.length,f=1/(ru.reduce(((S,P)=>S+P),0)/s/1e3),v=ru.filter((S=>S>kd)).reduce(((S,P)=>S+(P-kd)/kd),0);return{loadTime:l,fullLoadTime:n,fps:f,percentDroppedFrames:v/(s+v)*100,totalFrames:s}}};y.$=bt,y.A=te,y.B=function([l,n,s]){return n+=90,n*=Math.PI/180,s*=Math.PI/180,{x:l*Math.cos(n)*Math.sin(s),y:l*Math.sin(n)*Math.sin(s),z:l*Math.cos(s)}},y.C=Fo,y.D=qt,y.E=zt,y.F=$r,y.G=Jf,y.H=function(l){if(Lr==null){const n=l.navigator?l.navigator.userAgent:null;Lr=!!l.safari||!(!n||!(/\b(iPad|iPhone|iPod)\b/.test(n)||n.match("Safari")&&!n.match("Chrome")))}return Lr},y.I=sf,y.J=class{constructor(l,n){this.target=l,this.mapId=n,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new Md((()=>this.process())),this.subscription=Ti(this.target,"message",(s=>this.receive(s)),!1),this.globalScope=Rr(self)?l:window}registerMessageHandler(l,n){this.messageHandlers[l]=n}sendAsync(l,n){return new Promise(((s,f)=>{const v=Math.round(1e18*Math.random()).toString(36).substring(0,10),S=n?Ti(n.signal,"abort",(()=>{S?.unsubscribe(),delete this.resolveRejects[v];const I={id:v,type:"<cancel>",origin:location.origin,targetMapId:l.targetMapId,sourceMapId:this.mapId};this.target.postMessage(I)}),qp):null;this.resolveRejects[v]={resolve:I=>{S?.unsubscribe(),s(I)},reject:I=>{S?.unsubscribe(),f(I)}};const P=[],M=Object.assign(Object.assign({},l),{id:v,sourceMapId:this.mapId,origin:location.origin,data:fo(l.data,P)});this.target.postMessage(M,{transfer:P})}))}receive(l){const n=l.data,s=n.id;if(!(n.origin!=="file://"&&location.origin!=="file://"&&n.origin!=="resource://android"&&location.origin!=="resource://android"&&n.origin!==location.origin||n.targetMapId&&this.mapId!==n.targetMapId)){if(n.type==="<cancel>"){delete this.tasks[s];const f=this.abortControllers[s];return delete this.abortControllers[s],void(f&&f.abort())}if(Rr(self)||n.mustQueue)return this.tasks[s]=n,this.taskQueue.push(s),void this.invoker.trigger();this.processTask(s,n)}}process(){if(this.taskQueue.length===0)return;const l=this.taskQueue.shift(),n=this.tasks[l];delete this.tasks[l],this.taskQueue.length>0&&this.invoker.trigger(),n&&this.processTask(l,n)}processTask(l,n){return c(this,void 0,void 0,(function*(){if(n.type==="<response>"){const v=this.resolveRejects[l];return delete this.resolveRejects[l],v?void(n.error?v.reject(zl(n.error)):v.resolve(zl(n.data))):void 0}if(!this.messageHandlers[n.type])return void this.completeTask(l,new Error(`Could not find a registered handler for ${n.type}, map ID: ${this.mapId}, available handlers: ${Object.keys(this.messageHandlers).join(", ")}`));const s=zl(n.data),f=new AbortController;this.abortControllers[l]=f;try{const v=yield this.messageHandlers[n.type](n.sourceMapId,s,f);this.completeTask(l,null,v)}catch(v){this.completeTask(l,v)}}))}completeTask(l,n,s){const f=[];delete this.abortControllers[l];const v={id:l,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:n?fo(n):null,data:fo(s,f)};this.target.postMessage(v,{transfer:f})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},y.K=ce,y.L=function(){var l=new te(16);return te!=Float32Array&&(l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[11]=0,l[12]=0,l[13]=0,l[14]=0),l[0]=1,l[5]=1,l[10]=1,l[15]=1,l},y.M=function(l,n,s){var f,v,S,P,M,I,z,j,H,Q,ee,re,oe=s[0],ue=s[1],ge=s[2];return n===l?(l[12]=n[0]*oe+n[4]*ue+n[8]*ge+n[12],l[13]=n[1]*oe+n[5]*ue+n[9]*ge+n[13],l[14]=n[2]*oe+n[6]*ue+n[10]*ge+n[14],l[15]=n[3]*oe+n[7]*ue+n[11]*ge+n[15]):(v=n[1],S=n[2],P=n[3],M=n[4],I=n[5],z=n[6],j=n[7],H=n[8],Q=n[9],ee=n[10],re=n[11],l[0]=f=n[0],l[1]=v,l[2]=S,l[3]=P,l[4]=M,l[5]=I,l[6]=z,l[7]=j,l[8]=H,l[9]=Q,l[10]=ee,l[11]=re,l[12]=f*oe+M*ue+H*ge+n[12],l[13]=v*oe+I*ue+Q*ge+n[13],l[14]=S*oe+z*ue+ee*ge+n[14],l[15]=P*oe+j*ue+re*ge+n[15]),l},y.N=function(l,n,s){var f=s[0],v=s[1],S=s[2];return l[0]=n[0]*f,l[1]=n[1]*f,l[2]=n[2]*f,l[3]=n[3]*f,l[4]=n[4]*v,l[5]=n[5]*v,l[6]=n[6]*v,l[7]=n[7]*v,l[8]=n[8]*S,l[9]=n[9]*S,l[10]=n[10]*S,l[11]=n[11]*S,l[12]=n[12],l[13]=n[13],l[14]=n[14],l[15]=n[15],l},y.O=function(l,n,s){var f=n[0],v=n[1],S=n[2],P=n[3],M=n[4],I=n[5],z=n[6],j=n[7],H=n[8],Q=n[9],ee=n[10],re=n[11],oe=n[12],ue=n[13],ge=n[14],Fe=n[15],Pe=s[0],Te=s[1],Ze=s[2],tt=s[3];return l[0]=Pe*f+Te*M+Ze*H+tt*oe,l[1]=Pe*v+Te*I+Ze*Q+tt*ue,l[2]=Pe*S+Te*z+Ze*ee+tt*ge,l[3]=Pe*P+Te*j+Ze*re+tt*Fe,l[4]=(Pe=s[4])*f+(Te=s[5])*M+(Ze=s[6])*H+(tt=s[7])*oe,l[5]=Pe*v+Te*I+Ze*Q+tt*ue,l[6]=Pe*S+Te*z+Ze*ee+tt*ge,l[7]=Pe*P+Te*j+Ze*re+tt*Fe,l[8]=(Pe=s[8])*f+(Te=s[9])*M+(Ze=s[10])*H+(tt=s[11])*oe,l[9]=Pe*v+Te*I+Ze*Q+tt*ue,l[10]=Pe*S+Te*z+Ze*ee+tt*ge,l[11]=Pe*P+Te*j+Ze*re+tt*Fe,l[12]=(Pe=s[12])*f+(Te=s[13])*M+(Ze=s[14])*H+(tt=s[15])*oe,l[13]=Pe*v+Te*I+Ze*Q+tt*ue,l[14]=Pe*S+Te*z+Ze*ee+tt*ge,l[15]=Pe*P+Te*j+Ze*re+tt*Fe,l},y.P=A,y.Q=function(l,n){const s={};for(let f=0;f<n.length;f++){const v=n[f];v in l&&(s[v]=l[v])}return s},y.R=ii,y.S=Jl,y.T=Vu,y.U=Ny,y.V=Fy,y.W=W,y.X=Y,y.Y=Wa,y.Z=_i,y._=c,y.a=ne,y.a$=Je,y.a0=function(l,n){var s,f,v,S,P;if(!l)return n??{};if(!n)return l;let M=Object.assign({},l);if(n.removeAll&&(M={removeAll:!0}),n.remove){const I=new Set(n.remove);M.add&&(M.add=M.add.filter((j=>!I.has(j.id)))),M.update&&(M.update=M.update.filter((j=>!I.has(j.id))));const z=new Set(((s=l.add)!==null&&s!==void 0?s:[]).map((j=>j.id)));n.remove=n.remove.filter((j=>!z.has(j)))}if(n.remove){const I=new Set(M.remove?M.remove.concat(n.remove):n.remove);M.remove=Array.from(I.values())}if(n.add){const I=M.add?M.add.concat(n.add):n.add,z=new Map(I.map((j=>[j.id,j])));M.add=Array.from(z.values())}if(n.update){const I=new Map((f=M.update)===null||f===void 0?void 0:f.map((z=>[z.id,z])));for(const z of n.update){const j=(v=I.get(z.id))!==null&&v!==void 0?v:{id:z.id};z.newGeometry&&(j.newGeometry=z.newGeometry),z.addOrUpdateProperties&&(j.addOrUpdateProperties=((S=j.addOrUpdateProperties)!==null&&S!==void 0?S:[]).concat(z.addOrUpdateProperties)),z.removeProperties&&(j.removeProperties=((P=j.removeProperties)!==null&&P!==void 0?P:[]).concat(z.removeProperties)),z.removeAllProperties&&(j.removeAllProperties=!0),I.set(z.id,j)}M.update=Array.from(I.values())}return M.remove&&M.add&&(M.remove=M.remove.filter((I=>M.add.findIndex((z=>z.id===I))===-1))),M},y.a1=ca,y.a2=ec,y.a3=25,y.a4=Ed,y.a5=l=>{const n=window.document.createElement("video");return n.muted=!0,new Promise((s=>{n.onloadstart=()=>{s(n)};for(const f of l){const v=window.document.createElement("source");We(f)||(n.crossOrigin="Anonymous"),v.src=f,n.appendChild(v)}}))},y.a6=Pt,y.a7=function(){return xt++},y.a8=ie,y.a9=Qc,y.aA=function(l){let n=1/0,s=1/0,f=-1/0,v=-1/0;for(const S of l)n=Math.min(n,S.x),s=Math.min(s,S.y),f=Math.max(f,S.x),v=Math.max(v,S.y);return[n,s,f,v]},y.aB=la,y.aC=Ce,y.aD=function(l,n,s,f,v=!1){if(!s[0]&&!s[1])return[0,0];const S=v?f==="map"?-l.bearingInRadians:0:f==="viewport"?l.bearingInRadians:0;if(S){const P=Math.sin(S),M=Math.cos(S);s=[s[0]*M-s[1]*P,s[0]*P+s[1]*M]}return[v?s[0]:Ce(n,s[0],l.zoom),v?s[1]:Ce(n,s[1],l.zoom)]},y.aF=zp,y.aG=Vy,y.aH=My,y.aI=Zp,y.aJ=Pn,y.aK=eo,y.aL=Qe,y.aM=Mr,y.aN=Zr,y.aO=Ut,y.aP=no,y.aQ=$p,y.aR=mt,y.aS=lt,y.aT=function(l){var n=new te(3);return n[0]=l[0],n[1]=l[1],n[2]=l[2],n},y.aU=function(l,n,s){return l[0]=n[0]-s[0],l[1]=n[1]-s[1],l[2]=n[2]-s[2],l},y.aV=function(l,n){var s=n[0],f=n[1],v=n[2],S=s*s+f*f+v*v;return S>0&&(S=1/Math.sqrt(S)),l[0]=n[0]*S,l[1]=n[1]*S,l[2]=n[2]*S,l},y.aW=nt,y.aX=function(l,n){return l[0]*n[0]+l[1]*n[1]+l[2]*n[2]},y.aY=function(l,n,s){return l[0]=n[0]*s[0],l[1]=n[1]*s[1],l[2]=n[2]*s[2],l[3]=n[3]*s[3],l},y.aZ=xe,y.a_=function(l,n,s){const f=n[0]*s[0]+n[1]*s[1]+n[2]*s[2];return f===0?null:(-(l[0]*s[0]+l[1]*s[1]+l[2]*s[2])-s[3])/f},y.aa=ss,y.ab=$l,y.ac=E0,y.ad=function(l){const n={};if(l.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,((s,f,v,S)=>{const P=v||S;return n[f]=!P||P.toLowerCase(),""})),n["max-age"]){const s=parseInt(n["max-age"],10);isNaN(s)?delete n["max-age"]:n["max-age"]=s}return n},y.ae=To,y.af=function(l){return Math.pow(2,l)},y.ag=de,y.ah=Dt,y.ai=85.051129,y.aj=Td,y.ak=function(l){return Math.log(l)/Math.LN2},y.al=function(l){var n=l[0],s=l[1];return n*n+s*s},y.am=function(l,n){const s=[];for(const f in l)f in n||s.push(f);return s},y.an=function(l,n){let s=0,f=0;if(l.kind==="constant")f=l.layoutSize;else if(l.kind!=="source"){const{interpolationType:v,minZoom:S,maxZoom:P}=l,M=v?Dt(Da.interpolationFactor(v,n,S,P),0,1):0;l.kind==="camera"?f=Fo.number(l.minSize,l.maxSize,M):s=M}return{uSizeT:s,uSize:f}},y.ap=function(l,{uSize:n,uSizeT:s},{lowerSize:f,upperSize:v}){return l.kind==="source"?f/Xl:l.kind==="composite"?Fo.number(f/Xl,v/Xl,s):n},y.aq=function(l,n){var s=n[0],f=n[1],v=n[2],S=n[3],P=n[4],M=n[5],I=n[6],z=n[7],j=n[8],H=n[9],Q=n[10],ee=n[11],re=n[12],oe=n[13],ue=n[14],ge=n[15],Fe=s*M-f*P,Pe=s*I-v*P,Te=s*z-S*P,Ze=f*I-v*M,tt=f*z-S*M,yt=v*z-S*I,It=j*oe-H*re,At=j*ue-Q*re,kt=j*ge-ee*re,Zt=H*ue-Q*oe,Ct=H*ge-ee*oe,Tt=Q*ge-ee*ue,ct=Fe*Tt-Pe*Ct+Te*Zt+Ze*kt-tt*At+yt*It;return ct?(l[0]=(M*Tt-I*Ct+z*Zt)*(ct=1/ct),l[1]=(v*Ct-f*Tt-S*Zt)*ct,l[2]=(oe*yt-ue*tt+ge*Ze)*ct,l[3]=(Q*tt-H*yt-ee*Ze)*ct,l[4]=(I*kt-P*Tt-z*At)*ct,l[5]=(s*Tt-v*kt+S*At)*ct,l[6]=(ue*Te-re*yt-ge*Pe)*ct,l[7]=(j*yt-Q*Te+ee*Pe)*ct,l[8]=(P*Ct-M*kt+z*It)*ct,l[9]=(f*kt-s*Ct-S*It)*ct,l[10]=(re*tt-oe*Te+ge*Fe)*ct,l[11]=(H*Te-j*tt-ee*Fe)*ct,l[12]=(M*At-P*Zt-I*It)*ct,l[13]=(s*Zt-f*At+v*It)*ct,l[14]=(oe*Pe-re*Ze-ue*Fe)*ct,l[15]=(j*Ze-H*Pe+Q*Fe)*ct,l):null},y.ar=it,y.as=function(l){var n=l[0],s=l[1];return Math.sqrt(n*n+s*s)},y.at=function(l){return l[0]=0,l[1]=0,l},y.au=function(l,n,s){return l[0]=n[0]*s,l[1]=n[1]*s,l},y.av=Cd,y.aw=wt,y.ax=function(l,n,s,f){const v=n.y-l.y,S=n.x-l.x,P=f.y-s.y,M=f.x-s.x,I=P*S-M*v;if(I===0)return null;const z=(M*(l.y-s.y)-P*(l.x-s.x))/I;return new A(l.x+z*S,l.y+z*v)},y.ay=k0,y.az=nd,y.b=Bn,y.b$=class extends u{},y.b0=function(l,n,s){return l[0]=n[0]*s,l[1]=n[1]*s,l[2]=n[2]*s,l[3]=n[3]*s,l},y.b1=function(l,n){return l[0]*n[0]+l[1]*n[1]+l[2]*n[2]+l[3]},y.b2=Hp,y.b3=rh,y.b4=function(l,n,s,f,v){var S=1/Math.tan(n/2);if(l[0]=S/s,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=S,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[11]=-1,l[12]=0,l[13]=0,l[15]=0,v!=null&&v!==1/0){var P=1/(f-v);l[10]=(v+f)*P,l[14]=2*v*f*P}else l[10]=-1,l[14]=-2*f;return l},y.b5=function(l){var n=new te(16);return n[0]=l[0],n[1]=l[1],n[2]=l[2],n[3]=l[3],n[4]=l[4],n[5]=l[5],n[6]=l[6],n[7]=l[7],n[8]=l[8],n[9]=l[9],n[10]=l[10],n[11]=l[11],n[12]=l[12],n[13]=l[13],n[14]=l[14],n[15]=l[15],n},y.b6=function(l,n,s){var f=Math.sin(s),v=Math.cos(s),S=n[0],P=n[1],M=n[2],I=n[3],z=n[4],j=n[5],H=n[6],Q=n[7];return n!==l&&(l[8]=n[8],l[9]=n[9],l[10]=n[10],l[11]=n[11],l[12]=n[12],l[13]=n[13],l[14]=n[14],l[15]=n[15]),l[0]=S*v+z*f,l[1]=P*v+j*f,l[2]=M*v+H*f,l[3]=I*v+Q*f,l[4]=z*v-S*f,l[5]=j*v-P*f,l[6]=H*v-M*f,l[7]=Q*v-I*f,l},y.b7=function(l,n,s){var f=Math.sin(s),v=Math.cos(s),S=n[4],P=n[5],M=n[6],I=n[7],z=n[8],j=n[9],H=n[10],Q=n[11];return n!==l&&(l[0]=n[0],l[1]=n[1],l[2]=n[2],l[3]=n[3],l[12]=n[12],l[13]=n[13],l[14]=n[14],l[15]=n[15]),l[4]=S*v+z*f,l[5]=P*v+j*f,l[6]=M*v+H*f,l[7]=I*v+Q*f,l[8]=z*v-S*f,l[9]=j*v-P*f,l[10]=H*v-M*f,l[11]=Q*v-I*f,l},y.b8=function(){const l=new Float32Array(16);return de(l),l},y.b9=function(){const l=new Float64Array(16);return de(l),l},y.bA=function(l,n){const s=ot(l,360),f=ot(n,360),v=f-s,S=f>s?v-360:v+360;return Math.abs(v)<Math.abs(S)?v:S},y.bB=function(l){return l[0]=0,l[1]=0,l[2]=0,l},y.bC=function(l,n,s,f){const v=Math.sqrt(l*l+n*n),S=Math.sqrt(s*s+f*f);l/=v,n/=v,s/=S,f/=S;const P=Math.acos(l*s+n*f);return-n*s+l*f>0?P:-P},y.bD=function(l,n){const s=ot(l,2*Math.PI),f=ot(n,2*Math.PI);return Math.min(Math.abs(s-f),Math.abs(s-f+2*Math.PI),Math.abs(s-f-2*Math.PI))},y.bE=function(){const l={},n=ze.$version;for(const s in ze.$root){const f=ze.$root[s];if(f.required){let v=null;v=s==="version"?n:f.type==="array"?[]:{},v!=null&&(l[s]=v)}}return l},y.bF=Hh,y.bG=De,y.bH=function l(n,s){if(Array.isArray(n)){if(!Array.isArray(s)||n.length!==s.length)return!1;for(let f=0;f<n.length;f++)if(!l(n[f],s[f]))return!1;return!0}if(typeof n=="object"&&n!==null&&s!==null){if(typeof s!="object"||Object.keys(n).length!==Object.keys(s).length)return!1;for(const f in n)if(!l(n[f],s[f]))return!1;return!0}return n===s},y.bI=function(l){l=l.slice();const n=Object.create(null);for(let s=0;s<l.length;s++)n[l[s].id]=l[s];for(let s=0;s<l.length;s++)"ref"in l[s]&&(l[s]=br(l[s],n[l[s].ref]));return l},y.bJ=function(l,n){if(l.type==="custom")return new zy(l,n);switch(l.type){case"background":return new Uy(l,n);case"circle":return new Km(l,n);case"color-relief":return new i_(l,n);case"fill":return new yd(l,n);case"fill-extrusion":return new Zl(l,n);case"heatmap":return new ey(l,n);case"hillshade":return new Vl(l,n);case"line":return new Yc(l,n);case"raster":return new C0(l,n);case"symbol":return new Bp(l,n)}},y.bK=$e,y.bL=function(l,n){if(!l)return[{command:"setStyle",args:[n]}];let s=[];try{if(!Gt(l.version,n.version))return[{command:"setStyle",args:[n]}];Gt(l.center,n.center)||s.push({command:"setCenter",args:[n.center]}),Gt(l.state,n.state)||s.push({command:"setGlobalState",args:[n.state]}),Gt(l.centerAltitude,n.centerAltitude)||s.push({command:"setCenterAltitude",args:[n.centerAltitude]}),Gt(l.zoom,n.zoom)||s.push({command:"setZoom",args:[n.zoom]}),Gt(l.bearing,n.bearing)||s.push({command:"setBearing",args:[n.bearing]}),Gt(l.pitch,n.pitch)||s.push({command:"setPitch",args:[n.pitch]}),Gt(l.roll,n.roll)||s.push({command:"setRoll",args:[n.roll]}),Gt(l.sprite,n.sprite)||s.push({command:"setSprite",args:[n.sprite]}),Gt(l.glyphs,n.glyphs)||s.push({command:"setGlyphs",args:[n.glyphs]}),Gt(l.transition,n.transition)||s.push({command:"setTransition",args:[n.transition]}),Gt(l.light,n.light)||s.push({command:"setLight",args:[n.light]}),Gt(l.terrain,n.terrain)||s.push({command:"setTerrain",args:[n.terrain]}),Gt(l.sky,n.sky)||s.push({command:"setSky",args:[n.sky]}),Gt(l.projection,n.projection)||s.push({command:"setProjection",args:[n.projection]});const f={},v=[];(function(P,M,I,z){let j;for(j in M=M||{},P=P||{})Object.prototype.hasOwnProperty.call(P,j)&&(Object.prototype.hasOwnProperty.call(M,j)||Jn(j,I,z));for(j in M)Object.prototype.hasOwnProperty.call(M,j)&&(Object.prototype.hasOwnProperty.call(P,j)?Gt(P[j],M[j])||(P[j].type==="geojson"&&M[j].type==="geojson"&&Qr(P,M,j)?or(I,{command:"setGeoJSONSourceData",args:[j,M[j].data]}):aa(j,M,I,z)):Br(j,M,I))})(l.sources,n.sources,v,f);const S=[];l.layers&&l.layers.forEach((P=>{"source"in P&&f[P.source]?s.push({command:"removeLayer",args:[P.id]}):S.push(P)})),s=s.concat(v),(function(P,M,I){M=M||[];const z=(P=P||[]).map(sr),j=M.map(sr),H=P.reduce(pn,{}),Q=M.reduce(pn,{}),ee=z.slice(),re=Object.create(null);let oe,ue,ge,Fe,Pe;for(let Te=0,Ze=0;Te<z.length;Te++)oe=z[Te],Object.prototype.hasOwnProperty.call(Q,oe)?Ze++:(or(I,{command:"removeLayer",args:[oe]}),ee.splice(ee.indexOf(oe,Ze),1));for(let Te=0,Ze=0;Te<j.length;Te++)oe=j[j.length-1-Te],ee[ee.length-1-Te]!==oe&&(Object.prototype.hasOwnProperty.call(H,oe)?(or(I,{command:"removeLayer",args:[oe]}),ee.splice(ee.lastIndexOf(oe,ee.length-Ze),1)):Ze++,Fe=ee[ee.length-Te],or(I,{command:"addLayer",args:[Q[oe],Fe]}),ee.splice(ee.length-Te,0,oe),re[oe]=!0);for(let Te=0;Te<j.length;Te++)if(oe=j[Te],ue=H[oe],ge=Q[oe],!re[oe]&&!Gt(ue,ge))if(Gt(ue.source,ge.source)&&Gt(ue["source-layer"],ge["source-layer"])&&Gt(ue.type,ge.type)){for(Pe in rr(ue.layout,ge.layout,I,oe,null,"setLayoutProperty"),rr(ue.paint,ge.paint,I,oe,null,"setPaintProperty"),Gt(ue.filter,ge.filter)||or(I,{command:"setFilter",args:[oe,ge.filter]}),Gt(ue.minzoom,ge.minzoom)&&Gt(ue.maxzoom,ge.maxzoom)||or(I,{command:"setLayerZoomRange",args:[oe,ge.minzoom,ge.maxzoom]}),ue)Object.prototype.hasOwnProperty.call(ue,Pe)&&Pe!=="layout"&&Pe!=="paint"&&Pe!=="filter"&&Pe!=="metadata"&&Pe!=="minzoom"&&Pe!=="maxzoom"&&(Pe.indexOf("paint.")===0?rr(ue[Pe],ge[Pe],I,oe,Pe.slice(6),"setPaintProperty"):Gt(ue[Pe],ge[Pe])||or(I,{command:"setLayerProperty",args:[oe,Pe,ge[Pe]]}));for(Pe in ge)Object.prototype.hasOwnProperty.call(ge,Pe)&&!Object.prototype.hasOwnProperty.call(ue,Pe)&&Pe!=="layout"&&Pe!=="paint"&&Pe!=="filter"&&Pe!=="metadata"&&Pe!=="minzoom"&&Pe!=="maxzoom"&&(Pe.indexOf("paint.")===0?rr(ue[Pe],ge[Pe],I,oe,Pe.slice(6),"setPaintProperty"):Gt(ue[Pe],ge[Pe])||or(I,{command:"setLayerProperty",args:[oe,Pe,ge[Pe]]}))}else or(I,{command:"removeLayer",args:[oe]}),Fe=ee[ee.lastIndexOf(oe)+1],or(I,{command:"addLayer",args:[ge,Fe]})})(S,n.layers,s)}catch(f){console.warn("Unable to compute style diff:",f),s=[{command:"setStyle",args:[n]}]}return s},y.bM=function(l){const n=[],s=l.id;return s===void 0&&n.push({message:`layers.${s}: missing required property "id"`}),l.render===void 0&&n.push({message:`layers.${s}: missing required method "render"`}),l.renderingMode&&l.renderingMode!=="2d"&&l.renderingMode!=="3d"&&n.push({message:`layers.${s}: property "renderingMode" must be either "2d" or "3d"`}),n},y.bN=$t,y.bO=Nt,y.bP=class extends jr{constructor(l,n){super(l,n),this.current=0}set(l){this.current!==l&&(this.current=l,this.gl.uniform1i(this.location,l))}},y.bQ=Rn,y.bR=class extends jr{constructor(l,n){super(l,n),this.current=Qh}set(l){if(l[12]!==this.current[12]||l[0]!==this.current[0])return this.current=l,void this.gl.uniformMatrix4fv(this.location,!1,l);for(let n=1;n<16;n++)if(l[n]!==this.current[n]){this.current=l,this.gl.uniformMatrix4fv(this.location,!1,l);break}}},y.bS=Fa,y.bT=class extends jr{constructor(l,n){super(l,n),this.current=[0,0,0]}set(l){l[0]===this.current[0]&&l[1]===this.current[1]&&l[2]===this.current[2]||(this.current=l,this.gl.uniform3f(this.location,l[0],l[1],l[2]))}},y.bU=class extends jr{constructor(l,n){super(l,n),this.current=[0,0]}set(l){l[0]===this.current[0]&&l[1]===this.current[1]||(this.current=l,this.gl.uniform2f(this.location,l[0],l[1]))}},y.bV=pe,y.bW=function(l,n){var s=Math.sin(n),f=Math.cos(n);return l[0]=f,l[1]=s,l[2]=0,l[3]=-s,l[4]=f,l[5]=0,l[6]=0,l[7]=0,l[8]=1,l},y.bX=function(l,n,s){var f=n[0],v=n[1],S=n[2];return l[0]=f*s[0]+v*s[3]+S*s[6],l[1]=f*s[1]+v*s[4]+S*s[7],l[2]=f*s[2]+v*s[5]+S*s[8],l},y.bY=function(l,n,s,f,v,S,P){var M=1/(n-s),I=1/(f-v),z=1/(S-P);return l[0]=-2*M,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=-2*I,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=2*z,l[11]=0,l[12]=(n+s)*M,l[13]=(v+f)*I,l[14]=(P+S)*z,l[15]=1,l},y.bZ=class extends jr{constructor(l,n){super(l,n),this.current=new Array}set(l){if(l!=this.current){this.current=l;const n=new Float32Array(4*l.length);for(let s=0;s<l.length;s++)n[4*s]=l[s].r,n[4*s+1]=l[s].g,n[4*s+2]=l[s].b,n[4*s+3]=l[s].a;this.gl.uniform4fv(this.location,n)}}},y.b_=class extends jr{constructor(l,n){super(l,n),this.current=new Array}set(l){if(l!=this.current){this.current=l;const n=new Float32Array(l);this.gl.uniform1fv(this.location,n)}}},y.ba=function(){return new Float64Array(16)},y.bb=function(l,n,s){const f=new Float64Array(4);return je(f,l,n-90,s),f},y.bc=function(l,n,s,f){var v,S,P,M,I,z=n[0],j=n[1],H=n[2],Q=n[3],ee=s[0],re=s[1],oe=s[2],ue=s[3];return(S=z*ee+j*re+H*oe+Q*ue)<0&&(S=-S,ee=-ee,re=-re,oe=-oe,ue=-ue),1-S>X?(v=Math.acos(S),P=Math.sin(v),M=Math.sin((1-f)*v)/P,I=Math.sin(f*v)/P):(M=1-f,I=f),l[0]=M*z+I*ee,l[1]=M*j+I*re,l[2]=M*H+I*oe,l[3]=M*Q+I*ue,l},y.bd=function(l){const n=new Float64Array(9);var s,f,v,S,P,M,I,z,j,H,Q,ee,re,oe,ue,ge,Fe,Pe;H=(v=(f=l)[0])*(I=v+v),Q=(S=f[1])*I,re=(P=f[2])*I,oe=P*(z=S+S),ge=(M=f[3])*I,Fe=M*z,Pe=M*(j=P+P),(s=n)[0]=1-(ee=S*z)-(ue=P*j),s[3]=Q-Pe,s[6]=re+Fe,s[1]=Q+Pe,s[4]=1-H-ue,s[7]=oe-ge,s[2]=re-Fe,s[5]=oe+ge,s[8]=1-H-ee;const Te=no(-Math.asin(Dt(n[2],-1,1)));let Ze,tt;return Math.hypot(n[5],n[8])<.001?(Ze=0,tt=-no(Math.atan2(n[3],n[4]))):(Ze=no(n[5]===0&&n[8]===0?0:Math.atan2(n[5],n[8])),tt=no(n[1]===0&&n[0]===0?0:Math.atan2(n[1],n[0]))),{roll:Ze,pitch:Te+90,bearing:tt}},y.be=function(l,n){return l.roll==n.roll&&l.pitch==n.pitch&&l.bearing==n.bearing},y.bf=_r,y.bg=gn,y.bh=Gu,y.bi=si,y.bj=ja,y.bk=ke,y.bl=et,y.bm=En,y.bn=function(l,n,s,f,v){return ke(f,v,Dt((l-n)/(s-n),0,1))},y.bo=ot,y.bp=function(){return new Float64Array(3)},y.bq=function(l,n,s,f){return l[0]=n[0]+s[0]*f,l[1]=n[1]+s[1]*f,l[2]=n[2]+s[2]*f,l},y.br=je,y.bs=function(l,n,s){var f=s[0],v=s[1],S=s[2],P=s[3],M=n[0],I=n[1],z=n[2],j=v*z-S*I,H=S*M-f*z,Q=f*I-v*M;return l[0]=M+P*(j+=j)+v*(Q+=Q)-S*(H+=H),l[1]=I+P*H+S*j-f*Q,l[2]=z+P*Q+f*H-v*j,l},y.bt=function(l,n,s){const f=(v=[l[0],l[1],l[2],n[0],n[1],n[2],s[0],s[1],s[2]])[0]*((j=v[8])*(P=v[4])-(M=v[5])*(z=v[7]))+v[1]*(-j*(S=v[3])+M*(I=v[6]))+v[2]*(z*S-P*I);var v,S,P,M,I,z,j;if(f===0)return null;const H=nt([],[n[0],n[1],n[2]],[s[0],s[1],s[2]]),Q=nt([],[s[0],s[1],s[2]],[l[0],l[1],l[2]]),ee=nt([],[l[0],l[1],l[2]],[n[0],n[1],n[2]]),re=mt([],H,-l[3]);return lt(re,re,mt([],Q,-n[3])),lt(re,re,mt([],ee,-s[3])),mt(re,re,1/f),re},y.bu=Xc,y.bv=function(){return new Float64Array(4)},y.bw=function(l,n,s,f){var v=[],S=[];return v[0]=n[0]-s[0],v[1]=n[1]-s[1],v[2]=n[2]-s[2],S[0]=v[0]*Math.cos(f)-v[1]*Math.sin(f),S[1]=v[0]*Math.sin(f)+v[1]*Math.cos(f),S[2]=v[2],l[0]=S[0]+s[0],l[1]=S[1]+s[1],l[2]=S[2]+s[2],l},y.bx=function(l,n,s,f){var v=[],S=[];return v[0]=n[0]-s[0],v[1]=n[1]-s[1],v[2]=n[2]-s[2],S[0]=v[0],S[1]=v[1]*Math.cos(f)-v[2]*Math.sin(f),S[2]=v[1]*Math.sin(f)+v[2]*Math.cos(f),l[0]=S[0]+s[0],l[1]=S[1]+s[1],l[2]=S[2]+s[2],l},y.by=function(l,n,s,f){var v=[],S=[];return v[0]=n[0]-s[0],v[1]=n[1]-s[1],v[2]=n[2]-s[2],S[0]=v[2]*Math.sin(f)+v[0]*Math.cos(f),S[1]=v[1],S[2]=v[2]*Math.cos(f)-v[0]*Math.sin(f),l[0]=S[0]+s[0],l[1]=S[1]+s[1],l[2]=S[2]+s[2],l},y.bz=function(l,n,s){var f=Math.sin(s),v=Math.cos(s),S=n[0],P=n[1],M=n[2],I=n[3],z=n[8],j=n[9],H=n[10],Q=n[11];return n!==l&&(l[4]=n[4],l[5]=n[5],l[6]=n[6],l[7]=n[7],l[12]=n[12],l[13]=n[13],l[14]=n[14],l[15]=n[15]),l[0]=S*v-z*f,l[1]=P*v-j*f,l[2]=M*v-H*f,l[3]=I*v-Q*f,l[8]=S*f+z*v,l[9]=P*f+j*v,l[10]=M*f+H*v,l[11]=I*f+Q*v,l},y.c=Re,y.c0=xd,y.c1=class extends _{},y.c2=bs,y.c3=function(l){return l<=1?1:Math.pow(2,Math.ceil(Math.log(l)/Math.LN2))},y.c4=Jm,y.c5=function(l,n,s){var f=n[0],v=n[1],S=n[2],P=s[3]*f+s[7]*v+s[11]*S+s[15];return l[0]=(s[0]*f+s[4]*v+s[8]*S+s[12])/(P=P||1),l[1]=(s[1]*f+s[5]*v+s[9]*S+s[13])/P,l[2]=(s[2]*f+s[6]*v+s[10]*S+s[14])/P,l},y.c6=class extends ps{},y.c7=class extends Z{},y.c8=function(l,n){return l[0]===n[0]&&l[1]===n[1]&&l[2]===n[2]&&l[3]===n[3]&&l[4]===n[4]&&l[5]===n[5]&&l[6]===n[6]&&l[7]===n[7]&&l[8]===n[8]&&l[9]===n[9]&&l[10]===n[10]&&l[11]===n[11]&&l[12]===n[12]&&l[13]===n[13]&&l[14]===n[14]&&l[15]===n[15]},y.c9=function(l,n){var s=l[0],f=l[1],v=l[2],S=l[3],P=l[4],M=l[5],I=l[6],z=l[7],j=l[8],H=l[9],Q=l[10],ee=l[11],re=l[12],oe=l[13],ue=l[14],ge=l[15],Fe=n[0],Pe=n[1],Te=n[2],Ze=n[3],tt=n[4],yt=n[5],It=n[6],At=n[7],kt=n[8],Zt=n[9],Ct=n[10],Tt=n[11],ct=n[12],er=n[13],nr=n[14],Wt=n[15];return Math.abs(s-Fe)<=X*Math.max(1,Math.abs(s),Math.abs(Fe))&&Math.abs(f-Pe)<=X*Math.max(1,Math.abs(f),Math.abs(Pe))&&Math.abs(v-Te)<=X*Math.max(1,Math.abs(v),Math.abs(Te))&&Math.abs(S-Ze)<=X*Math.max(1,Math.abs(S),Math.abs(Ze))&&Math.abs(P-tt)<=X*Math.max(1,Math.abs(P),Math.abs(tt))&&Math.abs(M-yt)<=X*Math.max(1,Math.abs(M),Math.abs(yt))&&Math.abs(I-It)<=X*Math.max(1,Math.abs(I),Math.abs(It))&&Math.abs(z-At)<=X*Math.max(1,Math.abs(z),Math.abs(At))&&Math.abs(j-kt)<=X*Math.max(1,Math.abs(j),Math.abs(kt))&&Math.abs(H-Zt)<=X*Math.max(1,Math.abs(H),Math.abs(Zt))&&Math.abs(Q-Ct)<=X*Math.max(1,Math.abs(Q),Math.abs(Ct))&&Math.abs(ee-Tt)<=X*Math.max(1,Math.abs(ee),Math.abs(Tt))&&Math.abs(re-ct)<=X*Math.max(1,Math.abs(re),Math.abs(ct))&&Math.abs(oe-er)<=X*Math.max(1,Math.abs(oe),Math.abs(er))&&Math.abs(ue-nr)<=X*Math.max(1,Math.abs(ue),Math.abs(nr))&&Math.abs(ge-Wt)<=X*Math.max(1,Math.abs(ge),Math.abs(Wt))},y.cA=function(l,n){ne.REGISTERED_PROTOCOLS[l]=n},y.cB=function(l){delete ne.REGISTERED_PROTOCOLS[l]},y.cC=function(l,n){const s={};for(let v=0;v<l.length;v++){const S=n&&n[l[v].id]||Qf(l[v]);n&&(n[l[v].id]=S);let P=s[S];P||(P=s[S]=[]),P.push(l[v])}const f=[];for(const v in s)f.push(s[v]);return f},y.cD=Lt,y.cE=Vp,y.cF=jy,y.cG=wy,y.cH=function(l){l.bucket.createArrays(),l.bucket.tilePixelRatio=bt/(512*l.bucket.overscaling),l.bucket.compareText={},l.bucket.iconsNeedLinear=!1;const n=l.bucket.layers[0],s=n.layout,f=n._unevaluatedLayout._values,v={layoutIconSize:f["icon-size"].possiblyEvaluate(new $r(l.bucket.zoom+1),l.canonical),layoutTextSize:f["text-size"].possiblyEvaluate(new $r(l.bucket.zoom+1),l.canonical),textMaxSize:f["text-size"].possiblyEvaluate(new $r(18))};if(l.bucket.textSizeData.kind==="composite"){const{minZoom:z,maxZoom:j}=l.bucket.textSizeData;v.compositeTextSizes=[f["text-size"].possiblyEvaluate(new $r(z),l.canonical),f["text-size"].possiblyEvaluate(new $r(j),l.canonical)]}if(l.bucket.iconSizeData.kind==="composite"){const{minZoom:z,maxZoom:j}=l.bucket.iconSizeData;v.compositeIconSizes=[f["icon-size"].possiblyEvaluate(new $r(z),l.canonical),f["icon-size"].possiblyEvaluate(new $r(j),l.canonical)]}const S=s.get("text-line-height")*la,P=s.get("text-rotation-alignment")!=="viewport"&&s.get("symbol-placement")!=="point",M=s.get("text-keep-upright"),I=s.get("text-size");for(const z of l.bucket.features){const j=s.get("text-font").evaluate(z,{},l.canonical).join(","),H=I.evaluate(z,{},l.canonical),Q=v.layoutTextSize.evaluate(z,{},l.canonical),ee=v.layoutIconSize.evaluate(z,{},l.canonical),re={horizontal:{},vertical:void 0},oe=z.text;let ue,ge=[0,0];if(oe){const Te=oe.toString(),Ze=s.get("text-letter-spacing").evaluate(z,{},l.canonical)*la,tt=Vh(Te)?Ze:0,yt=s.get("text-anchor").evaluate(z,{},l.canonical),It=z0(n,z,l.canonical);if(!It){const Ct=s.get("text-radial-offset").evaluate(z,{},l.canonical);ge=Ct?Hy(yt,[Ct*la,eu]):s.get("text-offset").evaluate(z,{},l.canonical).map((Tt=>Tt*la))}let At=P?"center":s.get("text-justify").evaluate(z,{},l.canonical);const kt=s.get("symbol-placement")==="point"?s.get("text-max-width").evaluate(z,{},l.canonical)*la:1/0,Zt=()=>{l.bucket.allowVerticalPlacement&&Bu(Te)&&(re.vertical=wd(oe,l.glyphMap,l.glyphPositions,l.imagePositions,j,kt,S,yt,"left",tt,ge,y.ao.vertical,!0,Q,H))};if(!P&&It){const Ct=new Set;if(At==="auto")for(let ct=0;ct<It.values.length;ct+=2)Ct.add(Vy(It.values[ct]));else Ct.add(At);let Tt=!1;for(const ct of Ct)if(!re.horizontal[ct])if(Tt)re.horizontal[ct]=re.horizontal[0];else{const er=wd(oe,l.glyphMap,l.glyphPositions,l.imagePositions,j,kt,S,"center",ct,tt,ge,y.ao.horizontal,!1,Q,H);er&&(re.horizontal[ct]=er,Tt=er.positionedLines.length===1)}Zt()}else{At==="auto"&&(At=Vy(yt));const Ct=wd(oe,l.glyphMap,l.glyphPositions,l.imagePositions,j,kt,S,yt,At,tt,ge,y.ao.horizontal,!1,Q,H);Ct&&(re.horizontal[At]=Ct),Zt(),Bu(Te)&&P&&M&&(re.vertical=wd(oe,l.glyphMap,l.glyphPositions,l.imagePositions,j,kt,S,yt,At,tt,ge,y.ao.vertical,!1,Q,H))}}let Fe=!1;if(z.icon&&z.icon.name){const Te=l.imageMap[z.icon.name];Te&&(ue=th(l.imagePositions[z.icon.name],s.get("icon-offset").evaluate(z,{},l.canonical),s.get("icon-anchor").evaluate(z,{},l.canonical)),Fe=!!Te.sdf,l.bucket.sdfIcons===void 0?l.bucket.sdfIcons=Fe:l.bucket.sdfIcons!==Fe&&Bt("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Te.pixelRatio!==l.bucket.pixelRatio||s.get("icon-rotate").constantOr(1)!==0)&&(l.bucket.iconsNeedLinear=!0))}const Pe=N0(re.horizontal)||re.vertical;l.bucket.iconsInText=!!Pe&&Pe.iconsInText,(Pe||ue)&&f_(l.bucket,z,re,ue,l.imageMap,v,Q,ee,ge,Fe,l.canonical,l.subdivisionGranularity)}l.showCollisionBoxes&&l.bucket.generateCollisionDebugBuffers()},y.cI=vd,y.cJ=Go,y.cK=zr,y.cL=m0,y.cM=_y,y.cN=class{constructor(l){this._marks={start:[l.url,"start"].join("#"),end:[l.url,"end"].join("#"),measure:l.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let l=performance.getEntriesByName(this._marks.measure);return l.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),l=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),l}},y.cO=function(l,n,s,f,v){return c(this,void 0,void 0,(function*(){if(Y())try{return yield Wa(l,n,s,f,v)}catch{}return(function(S,P,M,I,z){const j=S.width,H=S.height;xa&&Gi||(xa=new OffscreenCanvas(j,H),Gi=xa.getContext("2d",{willReadFrequently:!0})),xa.width=j,xa.height=H,Gi.drawImage(S,0,0,j,H);const Q=Gi.getImageData(P,M,I,z);return Gi.clearRect(0,0,j,H),Q.data})(l,n,s,f,v)}))},y.cP=Fn,y.cQ=C,y.cR=uy,y.cS=al,y.cT=jo,y.cU=function(l,n){const s=new Map;if(l!=null)if(l.type==="Feature")s.set(ff(l,n),l);else for(const f of l.features)s.set(ff(f,n),f);return s},y.cV=function(l,n){if(l==null)return!0;if(l.type==="Feature")return ff(l,n)!=null;if(l.type==="FeatureCollection"){const s=new Set;for(const f of l.features){const v=ff(f,n);if(v==null||s.has(v))return!1;s.add(v)}return!0}return!1},y.cW=function(l,n,s){var f,v,S,P;if(n.removeAll&&l.clear(),n.remove)for(const M of n.remove)l.delete(M);if(n.add)for(const M of n.add){const I=ff(M,s);I!=null&&l.set(I,M)}if(n.update)for(const M of n.update){let I=l.get(M.id);if(I==null)continue;const z=!M.removeAllProperties&&(((f=M.removeProperties)===null||f===void 0?void 0:f.length)>0||((v=M.addOrUpdateProperties)===null||v===void 0?void 0:v.length)>0);if((M.newGeometry||M.removeAllProperties||z)&&(I=Object.assign({},I),l.set(M.id,I),z&&(I.properties=Object.assign({},I.properties))),M.newGeometry&&(I.geometry=M.newGeometry),M.removeAllProperties)I.properties={};else if(((S=M.removeProperties)===null||S===void 0?void 0:S.length)>0)for(const j of M.removeProperties)Object.prototype.hasOwnProperty.call(I.properties,j)&&delete I.properties[j];if(((P=M.addOrUpdateProperties)===null||P===void 0?void 0:P.length)>0)for(const{key:j,value:H}of M.addOrUpdateProperties)I.properties[j]=H}},y.cX=po,y.ca=function(l,n){return l[0]=n[0],l[1]=n[1],l[2]=n[2],l[3]=n[3],l[4]=n[4],l[5]=n[5],l[6]=n[6],l[7]=n[7],l[8]=n[8],l[9]=n[9],l[10]=n[10],l[11]=n[11],l[12]=n[12],l[13]=n[13],l[14]=n[14],l[15]=n[15],l},y.cb=l=>l.type==="symbol",y.cc=l=>l.type==="circle",y.cd=l=>l.type==="heatmap",y.ce=l=>l.type==="line",y.cf=l=>l.type==="fill",y.cg=l=>l.type==="fill-extrusion",y.ch=l=>l.type==="hillshade",y.ci=l=>l.type==="color-relief",y.cj=l=>l.type==="raster",y.ck=l=>l.type==="background",y.cl=l=>l.type==="custom",y.cm=pt,y.cn=function(l,n,s){const f=Ge(n.x-s.x,n.y-s.y),v=Ge(l.x-s.x,l.y-s.y);var S,P;return no(Math.atan2(f[0]*v[1]-f[1]*v[0],(S=f)[0]*(P=v)[0]+S[1]*P[1]))},y.co=vt,y.cp=function(l,n){return Dn[n]&&(l instanceof MouseEvent||l instanceof WheelEvent)},y.cq=function(l,n){return di[n]&&"touches"in l},y.cr=function(l){return di[l]||Dn[l]},y.cs=function(l,n,s){var f=n[0],v=n[1];return l[0]=s[0]*f+s[4]*v+s[12],l[1]=s[1]*f+s[5]*v+s[13],l},y.ct=function(l,n){const{x:s,y:f}=ca.fromLngLat(n);return!(l<0||l>25||f<0||f>=1||s<0||s>=1)},y.cu=function(l,n){return l[0]=n[0],l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=n[1],l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=n[2],l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1,l},y.cv=class extends un{},y.cw=B0,y.cy=function(l){return l.message===Ga},y.cz=Se,y.d=We,y.e=Ft,y.f=l=>c(void 0,void 0,void 0,(function*(){if(l.byteLength===0)return createImageBitmap(new ImageData(1,1));const n=new Blob([new Uint8Array(l)],{type:"image/png"});try{return createImageBitmap(n)}catch(s){throw new Error(`Could not load image because of ${s.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}})),y.g=ae,y.h=l=>new Promise(((n,s)=>{const f=new Image;f.onload=()=>{n(f),URL.revokeObjectURL(f.src),f.onload=null,window.requestAnimationFrame((()=>{f.src=Kn}))},f.onerror=()=>s(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const v=new Blob([new Uint8Array(l)],{type:"image/png"});f.src=l.byteLength?URL.createObjectURL(v):Kn})),y.i=Rr,y.j=(l,n)=>Oe(Ft(l,{type:"json"}),n),y.k=ht,y.l=St,y.m=Oe,y.n=(l,n)=>Oe(Ft(l,{type:"arrayBuffer"}),n),y.o=function(l){return new _y(l).readFields(c_,[])},y.p=Ju,y.q=ef,y.r=ma,y.s=Ti,y.t=wr,y.u=fr,y.v=ze,y.w=Bt,y.x=ho,y.y=Fc,y.z=Ul})),d("worker",["./shared"],(function(y){class c{constructor(ne,ae){this.keyCache={},ne&&this.replace(ne,ae)}replace(ne,ae){this._layerConfigs={},this._layers={},this.update(ne,[],ae)}update(ne,ae,ce){for(const De of ne){this._layerConfigs[De.id]=De;const Oe=this._layers[De.id]=y.bJ(De,ce);Oe._featureFilter=y.aa(Oe.filter,ce),this.keyCache[De.id]&&delete this.keyCache[De.id]}for(const De of ae)delete this.keyCache[De],delete this._layerConfigs[De],delete this._layers[De];this.familiesBySource={};const Se=y.cC(Object.values(this._layerConfigs),this.keyCache);for(const De of Se){const Oe=De.map((zt=>this._layers[zt.id])),We=Oe[0];if(We.visibility==="none")continue;const Le=We.source||"";let at=this.familiesBySource[Le];at||(at=this.familiesBySource[Le]={});const St=We.sourceLayer||"_geojsonTileLayer";let ht=at[St];ht||(ht=at[St]=[]),ht.push(Oe)}}}class A{constructor(ne){const ae={},ce=[];for(const We in ne){const Le=ne[We],at=ae[We]={};for(const St in Le){const ht=Le[+St];if(!ht||ht.bitmap.width===0||ht.bitmap.height===0)continue;const zt={x:0,y:0,w:ht.bitmap.width+2,h:ht.bitmap.height+2};ce.push(zt),at[St]={rect:zt,metrics:ht.metrics}}}const{w:Se,h:De}=y.p(ce),Oe=new y.q({width:Se||1,height:De||1});for(const We in ne){const Le=ne[We];for(const at in Le){const St=Le[+at];if(!St||St.bitmap.width===0||St.bitmap.height===0)continue;const ht=ae[We][at].rect;y.q.copy(St.bitmap,Oe,{x:0,y:0},{x:ht.x+1,y:ht.y+1},St.bitmap)}}this.image=Oe,this.positions=ae}}y.cD("GlyphAtlas",A);class C{constructor(ne){this.tileID=new y.Z(ne.tileID.overscaledZ,ne.tileID.wrap,ne.tileID.canonical.z,ne.tileID.canonical.x,ne.tileID.canonical.y),this.uid=ne.uid,this.zoom=ne.zoom,this.pixelRatio=ne.pixelRatio,this.tileSize=ne.tileSize,this.source=ne.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=ne.showCollisionBoxes,this.collectResourceTiming=!!ne.collectResourceTiming,this.returnDependencies=!!ne.returnDependencies,this.promoteId=ne.promoteId,this.inFlightDependencies=[]}parse(ne,ae,ce,Se,De){return y._(this,void 0,void 0,(function*(){this.status="parsing",this.data=ne,this.collisionBoxArray=new y.a8;const Oe=new y.cE(Object.keys(ne.layers).sort()),We=new y.cF(this.tileID,this.promoteId);We.bucketLayerIDs=[];const Le={},at={featureIndex:We,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:ce,subdivisionGranularity:De},St=ae.familiesBySource[this.source];for(const rr in St){const sr=ne.layers[rr];if(!sr)continue;sr.version===1&&y.w(`Vector tile source "${this.source}" layer "${rr}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const pn=Oe.encode(rr),Pt=[];for(let ka=0;ka<sr.length;ka++){const Mn=sr.feature(ka),Jo=We.getId(Mn,rr);Pt.push({feature:Mn,id:Jo,index:ka,sourceLayerIndex:pn})}for(const ka of St[rr]){const Mn=ka[0];Mn.source!==this.source&&y.w(`layer.source = ${Mn.source} does not equal this.source = ${this.source}`),Mn.minzoom&&this.zoom<Math.floor(Mn.minzoom)||Mn.maxzoom&&this.zoom>=Mn.maxzoom||Mn.visibility!=="none"&&(T(ka,this.zoom,ce),(Le[Mn.id]=Mn.createBucket({index:We.bucketLayerIDs.length,layers:ka,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:pn,sourceID:this.source})).populate(Pt,at,this.tileID.canonical),We.bucketLayerIDs.push(ka.map((Jo=>Jo.id))))}}const ht=y.bN(at.glyphDependencies,(rr=>Object.keys(rr).map(Number)));this.inFlightDependencies.forEach((rr=>rr?.abort())),this.inFlightDependencies=[];let zt=Promise.resolve({});if(Object.keys(ht).length){const rr=new AbortController;this.inFlightDependencies.push(rr),zt=Se.sendAsync({type:"GG",data:{stacks:ht,source:this.source,tileID:this.tileID,type:"glyphs"}},rr)}const ze=Object.keys(at.iconDependencies);let ir=Promise.resolve({});if(ze.length){const rr=new AbortController;this.inFlightDependencies.push(rr),ir=Se.sendAsync({type:"GI",data:{icons:ze,source:this.source,tileID:this.tileID,type:"icons"}},rr)}const br=Object.keys(at.patternDependencies);let Gt=Promise.resolve({});if(br.length){const rr=new AbortController;this.inFlightDependencies.push(rr),Gt=Se.sendAsync({type:"GI",data:{icons:br,source:this.source,tileID:this.tileID,type:"patterns"}},rr)}const[or,Br,Jn]=yield Promise.all([zt,ir,Gt]),aa=new A(or),Qr=new y.cG(Br,Jn);for(const rr in Le){const sr=Le[rr];sr instanceof y.a9?(T(sr.layers,this.zoom,ce),y.cH({bucket:sr,glyphMap:or,glyphPositions:aa.positions,imageMap:Br,imagePositions:Qr.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical,subdivisionGranularity:at.subdivisionGranularity})):sr.hasPattern&&(sr instanceof y.cI||sr instanceof y.cJ||sr instanceof y.cK)&&(T(sr.layers,this.zoom,ce),sr.addFeatures(at,this.tileID.canonical,Qr.patternPositions))}return this.status="done",{buckets:Object.values(Le).filter((rr=>!rr.isEmpty())),featureIndex:We,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:aa.image,imageAtlas:Qr,glyphMap:this.returnDependencies?or:null,iconMap:this.returnDependencies?Br:null,glyphPositions:this.returnDependencies?aa.positions:null}}))}}function T(Re,ne,ae){const ce=new y.F(ne);for(const Se of Re)Se.recalculate(ce,ae)}class R{constructor(ne,ae,ce){this.actor=ne,this.layerIndex=ae,this.availableImages=ce,this.fetching={},this.loading={},this.loaded={}}loadVectorTile(ne,ae){return y._(this,void 0,void 0,(function*(){const ce=yield y.n(ne.request,ae);try{return{vectorTile:new y.cL(new y.cM(ce.data)),rawData:ce.data,cacheControl:ce.cacheControl,expires:ce.expires}}catch(Se){const De=new Uint8Array(ce.data);let Oe=`Unable to parse the tile at ${ne.request.url}, `;throw Oe+=De[0]===31&&De[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${Se.message}`,new Error(Oe)}}))}loadTile(ne){return y._(this,void 0,void 0,(function*(){const ae=ne.uid,ce=!!(ne&&ne.request&&ne.request.collectResourceTiming)&&new y.cN(ne.request),Se=new C(ne);this.loading[ae]=Se;const De=new AbortController;Se.abort=De;try{const Oe=yield this.loadVectorTile(ne,De);if(delete this.loading[ae],!Oe)return null;const We=Oe.rawData,Le={};Oe.expires&&(Le.expires=Oe.expires),Oe.cacheControl&&(Le.cacheControl=Oe.cacheControl);const at={};if(ce){const ht=ce.finish();ht&&(at.resourceTiming=JSON.parse(JSON.stringify(ht)))}Se.vectorTile=Oe.vectorTile;const St=Se.parse(Oe.vectorTile,this.layerIndex,this.availableImages,this.actor,ne.subdivisionGranularity);this.loaded[ae]=Se,this.fetching[ae]={rawTileData:We,cacheControl:Le,resourceTiming:at};try{const ht=yield St;return y.e({rawTileData:We.slice(0)},ht,Le,at)}finally{delete this.fetching[ae]}}catch(Oe){throw delete this.loading[ae],Se.status="done",this.loaded[ae]=Se,Oe}}))}reloadTile(ne){return y._(this,void 0,void 0,(function*(){const ae=ne.uid;if(!this.loaded||!this.loaded[ae])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");const ce=this.loaded[ae];if(ce.showCollisionBoxes=ne.showCollisionBoxes,ce.status==="parsing"){const Se=yield ce.parse(ce.vectorTile,this.layerIndex,this.availableImages,this.actor,ne.subdivisionGranularity);let De;if(this.fetching[ae]){const{rawTileData:Oe,cacheControl:We,resourceTiming:Le}=this.fetching[ae];delete this.fetching[ae],De=y.e({rawTileData:Oe.slice(0)},Se,We,Le)}else De=Se;return De}if(ce.status==="done"&&ce.vectorTile)return ce.parse(ce.vectorTile,this.layerIndex,this.availableImages,this.actor,ne.subdivisionGranularity)}))}abortTile(ne){return y._(this,void 0,void 0,(function*(){const ae=this.loading,ce=ne.uid;ae&&ae[ce]&&ae[ce].abort&&(ae[ce].abort.abort(),delete ae[ce])}))}removeTile(ne){return y._(this,void 0,void 0,(function*(){this.loaded&&this.loaded[ne.uid]&&delete this.loaded[ne.uid]}))}}class L{constructor(){this.loaded={}}loadTile(ne){return y._(this,void 0,void 0,(function*(){const{uid:ae,encoding:ce,rawImageData:Se,redFactor:De,greenFactor:Oe,blueFactor:We,baseShift:Le}=ne,at=Se.width+2,St=Se.height+2,ht=y.b(Se)?new y.R({width:at,height:St},yield y.cO(Se,-1,-1,at,St)):Se,zt=new y.cP(ae,ht,ce,De,Oe,We,Le);return this.loaded=this.loaded||{},this.loaded[ae]=zt,zt}))}removeTile(ne){const ae=this.loaded,ce=ne.uid;ae&&ae[ce]&&delete ae[ce]}}var U,q,$=(function(){if(q)return U;function Re(ae,ce){if(ae.length!==0){ne(ae[0],ce);for(var Se=1;Se<ae.length;Se++)ne(ae[Se],!ce)}}function ne(ae,ce){for(var Se=0,De=0,Oe=0,We=ae.length,Le=We-1;Oe<We;Le=Oe++){var at=(ae[Oe][0]-ae[Le][0])*(ae[Le][1]+ae[Oe][1]),St=Se+at;De+=Math.abs(Se)>=Math.abs(at)?Se-St+at:at-St+Se,Se=St}Se+De>=0!=!!ce&&ae.reverse()}return q=1,U=function ae(ce,Se){var De,Oe=ce&&ce.type;if(Oe==="FeatureCollection")for(De=0;De<ce.features.length;De++)ae(ce.features[De],Se);else if(Oe==="GeometryCollection")for(De=0;De<ce.geometries.length;De++)ae(ce.geometries[De],Se);else if(Oe==="Feature")ae(ce.geometry,Se);else if(Oe==="Polygon")Re(ce.coordinates,Se);else if(Oe==="MultiPolygon")for(De=0;De<ce.coordinates.length;De++)Re(ce.coordinates[De],Se);return ce}})(),W=y.cQ($);class Y extends y.cS{constructor(ne,ae){super(new y.cM,0,ae,[],[]),this.feature=ne,this.type=ne.type,this.properties=ne.tags?ne.tags:{},"id"in ne&&(typeof ne.id=="string"?this.id=parseInt(ne.id,10):typeof ne.id!="number"||isNaN(ne.id)||(this.id=ne.id))}loadGeometry(){const ne=[],ae=this.feature.type===1?[this.feature.geometry]:this.feature.geometry;for(const ce of ae){const Se=[];for(const De of ce)Se.push(new y.P(De[0],De[1]));ne.push(Se)}return ne}}class X extends y.cR{constructor(ne,ae){super(new y.cM),this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.version=ae?ae.version:1,this.extent=ae?ae.extent:4096,this.length=ne.length,this.features=ne}feature(ne){return new Y(this.features[ne],this.extent)}}function te(Re,ne){ne.writeVarintField(15,Re.version||1),ne.writeStringField(1,Re.name||""),ne.writeVarintField(5,Re.extent||4096);const ae={keys:[],values:[],keycache:{},valuecache:{}};for(let De=0;De<Re.length;De++)ae.feature=Re.feature(De),ne.writeMessage(2,pe,ae);const ce=ae.keys;for(const De of ce)ne.writeStringField(3,De);const Se=ae.values;for(const De of Se)ne.writeMessage(4,lt,De)}function pe(Re,ne){if(!Re.feature)return;const ae=Re.feature;ae.id!==void 0&&ne.writeVarintField(1,ae.id),ne.writeMessage(2,de,Re),ne.writeVarintField(3,ae.type),ne.writeMessage(4,Ie,ae)}function de(Re,ne){for(const ae in Re.feature?.properties){let ce=Re.feature.properties[ae],Se=Re.keycache[ae];if(ce===null)continue;Se===void 0&&(Re.keys.push(ae),Se=Re.keys.length-1,Re.keycache[ae]=Se),ne.writeVarint(Se),typeof ce!="string"&&typeof ce!="boolean"&&typeof ce!="number"&&(ce=JSON.stringify(ce));const De=typeof ce+":"+ce;let Oe=Re.valuecache[De];Oe===void 0&&(Re.values.push(ce),Oe=Re.values.length-1,Re.valuecache[De]=Oe),ne.writeVarint(Oe)}}function ye(Re,ne){return(ne<<3)+(7&Re)}function xe(Re){return Re<<1^Re>>31}function Ie(Re,ne){const ae=Re.loadGeometry(),ce=Re.type;let Se=0,De=0;for(const Oe of ae){let We=1;ce===1&&(We=Oe.length),ne.writeVarint(ye(1,We));const Le=ce===3?Oe.length-1:Oe.length;for(let at=0;at<Le;at++){at===1&&ce!==1&&ne.writeVarint(ye(2,Le-1));const St=Oe[at].x-Se,ht=Oe[at].y-De;ne.writeVarint(xe(St)),ne.writeVarint(xe(ht)),Se+=St,De+=ht}Re.type===3&&ne.writeVarint(ye(7,1))}}function lt(Re,ne){const ae=typeof Re;ae==="string"?ne.writeStringField(1,Re):ae==="boolean"?ne.writeBooleanField(7,Re):ae==="number"&&(Re%1!=0?ne.writeDoubleField(3,Re):Re<0?ne.writeSVarintField(6,Re):ne.writeVarintField(5,Re))}const mt={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Re=>Re},nt=Math.fround||(st=new Float32Array(1),Re=>(st[0]=+Re,st[0]));var st;class Je{constructor(ne){this.options=Object.assign(Object.create(mt),ne),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(ne){const{log:ae,minZoom:ce,maxZoom:Se}=this.options;ae&&console.time("total time");const De=`prepare ${ne.length} points`;ae&&console.time(De),this.points=ne;const Oe=[];for(let Le=0;Le<ne.length;Le++){const at=ne[Le];if(!at.geometry)continue;const[St,ht]=at.geometry.coordinates,zt=nt(je(St)),ze=nt(it(ht));Oe.push(zt,ze,1/0,Le,-1,1),this.options.reduce&&Oe.push(0)}let We=this.trees[Se+1]=this._createTree(Oe);ae&&console.timeEnd(De);for(let Le=Se;Le>=ce;Le--){const at=+Date.now();We=this.trees[Le]=this._createTree(this._cluster(We,Le)),ae&&console.log("z%d: %d clusters in %dms",Le,We.numItems,+Date.now()-at)}return ae&&console.timeEnd("total time"),this}getClusters(ne,ae){let ce=((ne[0]+180)%360+360)%360-180;const Se=Math.max(-90,Math.min(90,ne[1]));let De=ne[2]===180?180:((ne[2]+180)%360+360)%360-180;const Oe=Math.max(-90,Math.min(90,ne[3]));if(ne[2]-ne[0]>=360)ce=-180,De=180;else if(ce>De){const ht=this.getClusters([ce,Se,180,Oe],ae),zt=this.getClusters([-180,Se,De,Oe],ae);return ht.concat(zt)}const We=this.trees[this._limitZoom(ae)],Le=We.range(je(ce),it(Oe),je(De),it(Se)),at=We.data,St=[];for(const ht of Le){const zt=this.stride*ht;St.push(at[zt+5]>1?wt(at,zt,this.clusterProps):this.points[at[zt+3]])}return St}getChildren(ne){const ae=this._getOriginId(ne),ce=this._getOriginZoom(ne),Se="No cluster with the specified id.",De=this.trees[ce];if(!De)throw new Error(Se);const Oe=De.data;if(ae*this.stride>=Oe.length)throw new Error(Se);const We=this.options.radius/(this.options.extent*Math.pow(2,ce-1)),Le=De.within(Oe[ae*this.stride],Oe[ae*this.stride+1],We),at=[];for(const St of Le){const ht=St*this.stride;Oe[ht+4]===ne&&at.push(Oe[ht+5]>1?wt(Oe,ht,this.clusterProps):this.points[Oe[ht+3]])}if(at.length===0)throw new Error(Se);return at}getLeaves(ne,ae,ce){const Se=[];return this._appendLeaves(Se,ne,ae=ae||10,ce=ce||0,0),Se}getTile(ne,ae,ce){const Se=this.trees[this._limitZoom(ne)],De=Math.pow(2,ne),{extent:Oe,radius:We}=this.options,Le=We/Oe,at=(ce-Le)/De,St=(ce+1+Le)/De,ht={features:[]};return this._addTileFeatures(Se.range((ae-Le)/De,at,(ae+1+Le)/De,St),Se.data,ae,ce,De,ht),ae===0&&this._addTileFeatures(Se.range(1-Le/De,at,1,St),Se.data,De,ce,De,ht),ae===De-1&&this._addTileFeatures(Se.range(0,at,Le/De,St),Se.data,-1,ce,De,ht),ht.features.length?ht:null}getClusterExpansionZoom(ne){let ae=this._getOriginZoom(ne)-1;for(;ae<=this.options.maxZoom;){const ce=this.getChildren(ne);if(ae++,ce.length!==1)break;ne=ce[0].properties.cluster_id}return ae}_appendLeaves(ne,ae,ce,Se,De){const Oe=this.getChildren(ae);for(const We of Oe){const Le=We.properties;if(Le&&Le.cluster?De+Le.point_count<=Se?De+=Le.point_count:De=this._appendLeaves(ne,Le.cluster_id,ce,Se,De):De<Se?De++:ne.push(We),ne.length===ce)break}return De}_createTree(ne){const ae=new y.aI(ne.length/this.stride|0,this.options.nodeSize,Float32Array);for(let ce=0;ce<ne.length;ce+=this.stride)ae.add(ne[ce],ne[ce+1]);return ae.finish(),ae.data=ne,ae}_addTileFeatures(ne,ae,ce,Se,De,Oe){for(const We of ne){const Le=We*this.stride,at=ae[Le+5]>1;let St,ht,zt;if(at)St=Rt(ae,Le,this.clusterProps),ht=ae[Le],zt=ae[Le+1];else{const br=this.points[ae[Le+3]];St=br.properties;const[Gt,or]=br.geometry.coordinates;ht=je(Gt),zt=it(or)}const ze={type:1,geometry:[[Math.round(this.options.extent*(ht*De-ce)),Math.round(this.options.extent*(zt*De-Se))]],tags:St};let ir;ir=at||this.options.generateId?ae[Le+3]:this.points[ae[Le+3]].id,ir!==void 0&&(ze.id=ir),Oe.features.push(ze)}}_limitZoom(ne){return Math.max(this.options.minZoom,Math.min(Math.floor(+ne),this.options.maxZoom+1))}_cluster(ne,ae){const{radius:ce,extent:Se,reduce:De,minPoints:Oe}=this.options,We=ce/(Se*Math.pow(2,ae)),Le=ne.data,at=[],St=this.stride;for(let ht=0;ht<Le.length;ht+=St){if(Le[ht+2]<=ae)continue;Le[ht+2]=ae;const zt=Le[ht],ze=Le[ht+1],ir=ne.within(Le[ht],Le[ht+1],We),br=Le[ht+5];let Gt=br;for(const or of ir){const Br=or*St;Le[Br+2]>ae&&(Gt+=Le[Br+5])}if(Gt>br&&Gt>=Oe){let or,Br=zt*br,Jn=ze*br,aa=-1;const Qr=(ht/St<<5)+(ae+1)+this.points.length;for(const rr of ir){const sr=rr*St;if(Le[sr+2]<=ae)continue;Le[sr+2]=ae;const pn=Le[sr+5];Br+=Le[sr]*pn,Jn+=Le[sr+1]*pn,Le[sr+4]=Qr,De&&(or||(or=this._map(Le,ht,!0),aa=this.clusterProps.length,this.clusterProps.push(or)),De(or,this._map(Le,sr)))}Le[ht+4]=Qr,at.push(Br/Gt,Jn/Gt,1/0,Qr,-1,Gt),De&&at.push(aa)}else{for(let or=0;or<St;or++)at.push(Le[ht+or]);if(Gt>1)for(const or of ir){const Br=or*St;if(!(Le[Br+2]<=ae)){Le[Br+2]=ae;for(let Jn=0;Jn<St;Jn++)at.push(Le[Br+Jn])}}}}return at}_getOriginId(ne){return ne-this.points.length>>5}_getOriginZoom(ne){return(ne-this.points.length)%32}_map(ne,ae,ce){if(ne[ae+5]>1){const Oe=this.clusterProps[ne[ae+6]];return ce?Object.assign({},Oe):Oe}const Se=this.points[ne[ae+3]].properties,De=this.options.map(Se);return ce&&De===Se?Object.assign({},De):De}}function wt(Re,ne,ae){return{type:"Feature",id:Re[ne+3],properties:Rt(Re,ne,ae),geometry:{type:"Point",coordinates:[(ce=Re[ne],360*(ce-.5)),Ge(Re[ne+1])]}};var ce}function Rt(Re,ne,ae){const ce=Re[ne+5],Se=ce>=1e4?`${Math.round(ce/1e3)}k`:ce>=1e3?Math.round(ce/100)/10+"k":ce,De=Re[ne+6],Oe=De===-1?{}:Object.assign({},ae[De]);return Object.assign(Oe,{cluster:!0,cluster_id:Re[ne+3],point_count:ce,point_count_abbreviated:Se})}function je(Re){return Re/360+.5}function it(Re){const ne=Math.sin(Re*Math.PI/180),ae=.5-.25*Math.log((1+ne)/(1-ne))/Math.PI;return ae<0?0:ae>1?1:ae}function Ge(Re){const ne=(180-360*Re)*Math.PI/180;return 360*Math.atan(Math.exp(ne))/Math.PI-90}function bt(Re,ne,ae,ce){let Se=ce;const De=ne+(ae-ne>>1);let Oe,We=ae-ne;const Le=Re[ne],at=Re[ne+1],St=Re[ae],ht=Re[ae+1];for(let zt=ne+3;zt<ae;zt+=3){const ze=Ce(Re[zt],Re[zt+1],Le,at,St,ht);if(ze>Se)Oe=zt,Se=ze;else if(ze===Se){const ir=Math.abs(zt-De);ir<We&&(Oe=zt,We=ir)}}Se>ce&&(Oe-ne>3&&bt(Re,ne,Oe,ce),Re[Oe+2]=Se,ae-Oe>3&&bt(Re,Oe,ae,ce))}function Ce(Re,ne,ae,ce,Se,De){let Oe=Se-ae,We=De-ce;if(Oe!==0||We!==0){const Le=((Re-ae)*Oe+(ne-ce)*We)/(Oe*Oe+We*We);Le>1?(ae=Se,ce=De):Le>0&&(ae+=Oe*Le,ce+=We*Le)}return Oe=Re-ae,We=ne-ce,Oe*Oe+We*We}function ot(Re,ne,ae,ce){const Se={id:Re??null,type:ne,geometry:ae,tags:ce,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if(ne==="Point"||ne==="MultiPoint"||ne==="LineString")ke(Se,ae);else if(ne==="Polygon")ke(Se,ae[0]);else if(ne==="MultiLineString")for(const De of ae)ke(Se,De);else if(ne==="MultiPolygon")for(const De of ae)ke(Se,De[0]);return Se}function ke(Re,ne){for(let ae=0;ae<ne.length;ae+=3)Re.minX=Math.min(Re.minX,ne[ae]),Re.minY=Math.min(Re.minY,ne[ae+1]),Re.maxX=Math.max(Re.maxX,ne[ae]),Re.maxY=Math.max(Re.maxY,ne[ae+1])}function et(Re,ne,ae,ce){if(!ne.geometry)return;const Se=ne.geometry.coordinates;if(Se&&Se.length===0)return;const De=ne.geometry.type,Oe=Math.pow(ae.tolerance/((1<<ae.maxZoom)*ae.extent),2);let We=[],Le=ne.id;if(ae.promoteId?Le=ne.properties[ae.promoteId]:ae.generateId&&(Le=ce||0),De==="Point")pt(Se,We);else if(De==="MultiPoint")for(const at of Se)pt(at,We);else if(De==="LineString")vt(Se,We,Oe,!1);else if(De==="MultiLineString"){if(ae.lineMetrics){for(const at of Se)We=[],vt(at,We,Oe,!1),Re.push(ot(Le,"LineString",We,ne.properties));return}Dt(Se,We,Oe,!1)}else if(De==="Polygon")Dt(Se,We,Oe,!0);else{if(De!=="MultiPolygon"){if(De==="GeometryCollection"){for(const at of ne.geometry.geometries)et(Re,{id:Le,geometry:at,properties:ne.properties},ae,ce);return}throw new Error("Input data is not a valid GeoJSON object.")}for(const at of Se){const St=[];Dt(at,St,Oe,!0),We.push(St)}}Re.push(ot(Le,De,We,ne.properties))}function pt(Re,ne){ne.push(Ut(Re[0]),Ft(Re[1]),0)}function vt(Re,ne,ae,ce){let Se,De,Oe=0;for(let Le=0;Le<Re.length;Le++){const at=Ut(Re[Le][0]),St=Ft(Re[Le][1]);ne.push(at,St,0),Le>0&&(Oe+=ce?(Se*St-at*De)/2:Math.sqrt(Math.pow(at-Se,2)+Math.pow(St-De,2))),Se=at,De=St}const We=ne.length-3;ne[2]=1,bt(ne,0,We,ae),ne[We+2]=1,ne.size=Math.abs(Oe),ne.start=0,ne.end=ne.size}function Dt(Re,ne,ae,ce){for(let Se=0;Se<Re.length;Se++){const De=[];vt(Re[Se],De,ae,ce),ne.push(De)}}function Ut(Re){return Re/360+.5}function Ft(Re){const ne=Math.sin(Re*Math.PI/180),ae=.5-.25*Math.log((1+ne)/(1-ne))/Math.PI;return ae<0?0:ae>1?1:ae}function xt(Re,ne,ae,ce,Se,De,Oe,We){if(ce/=ne,De>=(ae/=ne)&&Oe<ce)return Re;if(Oe<ae||De>=ce)return null;const Le=[];for(const at of Re){const St=at.geometry;let ht=at.type;const zt=Se===0?at.minX:at.minY,ze=Se===0?at.maxX:at.maxY;if(zt>=ae&&ze<ce){Le.push(at);continue}if(ze<ae||zt>=ce)continue;let ir=[];if(ht==="Point"||ht==="MultiPoint")$t(St,ir,ae,ce,Se);else if(ht==="LineString")Nt(St,ir,ae,ce,Se,!1,We.lineMetrics);else if(ht==="MultiLineString")jt(St,ir,ae,ce,Se,!1);else if(ht==="Polygon")jt(St,ir,ae,ce,Se,!0);else if(ht==="MultiPolygon")for(const br of St){const Gt=[];jt(br,Gt,ae,ce,Se,!0),Gt.length&&ir.push(Gt)}if(ir.length){if(We.lineMetrics&&ht==="LineString"){for(const br of ir)Le.push(ot(at.id,ht,br,at.tags));continue}ht!=="LineString"&&ht!=="MultiLineString"||(ir.length===1?(ht="LineString",ir=ir[0]):ht="MultiLineString"),ht!=="Point"&&ht!=="MultiPoint"||(ht=ir.length===3?"Point":"MultiPoint"),Le.push(ot(at.id,ht,ir,at.tags))}}return Le.length?Le:null}function $t(Re,ne,ae,ce,Se){for(let De=0;De<Re.length;De+=3){const Oe=Re[De+Se];Oe>=ae&&Oe<=ce&&Bt(ne,Re[De],Re[De+1],Re[De+2])}}function Nt(Re,ne,ae,ce,Se,De,Oe){let We=$e(Re);const Le=Se===0?Sr:Rr;let at,St,ht=Re.start;for(let Gt=0;Gt<Re.length-3;Gt+=3){const or=Re[Gt],Br=Re[Gt+1],Jn=Re[Gt+2],aa=Re[Gt+3],Qr=Re[Gt+4],rr=Se===0?or:Br,sr=Se===0?aa:Qr;let pn=!1;Oe&&(at=Math.sqrt(Math.pow(or-aa,2)+Math.pow(Br-Qr,2))),rr<ae?sr>ae&&(St=Le(We,or,Br,aa,Qr,ae),Oe&&(We.start=ht+at*St)):rr>ce?sr<ce&&(St=Le(We,or,Br,aa,Qr,ce),Oe&&(We.start=ht+at*St)):Bt(We,or,Br,Jn),sr<ae&&rr>=ae&&(St=Le(We,or,Br,aa,Qr,ae),pn=!0),sr>ce&&rr<=ce&&(St=Le(We,or,Br,aa,Qr,ce),pn=!0),!De&&pn&&(Oe&&(We.end=ht+at*St),ne.push(We),We=$e(Re)),Oe&&(ht+=at)}let zt=Re.length-3;const ze=Re[zt],ir=Re[zt+1],br=Se===0?ze:ir;br>=ae&&br<=ce&&Bt(We,ze,ir,Re[zt+2]),zt=We.length-3,De&&zt>=3&&(We[zt]!==We[0]||We[zt+1]!==We[1])&&Bt(We,We[0],We[1],We[2]),We.length&&ne.push(We)}function $e(Re){const ne=[];return ne.size=Re.size,ne.start=Re.start,ne.end=Re.end,ne}function jt(Re,ne,ae,ce,Se,De){for(const Oe of Re)Nt(Oe,ne,ae,ce,Se,De,!1)}function Bt(Re,ne,ae,ce){Re.push(ne,ae,ce)}function Sr(Re,ne,ae,ce,Se,De){const Oe=(De-ne)/(ce-ne);return Bt(Re,De,ae+(Se-ae)*Oe,1),Oe}function Rr(Re,ne,ae,ce,Se,De){const Oe=(De-ae)/(Se-ae);return Bt(Re,ne+(ce-ne)*Oe,De,1),Oe}function Lr(Re,ne){const ae=[];for(let ce=0;ce<Re.length;ce++){const Se=Re[ce],De=Se.type;let Oe;if(De==="Point"||De==="MultiPoint"||De==="LineString")Oe=Bn(Se.geometry,ne);else if(De==="MultiLineString"||De==="Polygon"){Oe=[];for(const We of Se.geometry)Oe.push(Bn(We,ne))}else if(De==="MultiPolygon"){Oe=[];for(const We of Se.geometry){const Le=[];for(const at of We)Le.push(Bn(at,ne));Oe.push(Le)}}ae.push(ot(Se.id,De,Oe,Se.tags))}return ae}function Bn(Re,ne){const ae=[];ae.size=Re.size,Re.start!==void 0&&(ae.start=Re.start,ae.end=Re.end);for(let ce=0;ce<Re.length;ce+=3)ae.push(Re[ce]+ne,Re[ce+1],Re[ce+2]);return ae}function Kn(Re,ne){if(Re.transformed)return Re;const ae=1<<Re.z,ce=Re.x,Se=Re.y;for(const De of Re.features){const Oe=De.geometry,We=De.type;if(De.geometry=[],We===1)for(let Le=0;Le<Oe.length;Le+=2)De.geometry.push(Wa(Oe[Le],Oe[Le+1],ne,ae,ce,Se));else for(let Le=0;Le<Oe.length;Le++){const at=[];for(let St=0;St<Oe[Le].length;St+=2)at.push(Wa(Oe[Le][St],Oe[Le][St+1],ne,ae,ce,Se));De.geometry.push(at)}}return Re.transformed=!0,Re}function Wa(Re,ne,ae,ce,Se,De){return[Math.round(ae*(Re*ce-Se)),Math.round(ae*(ne*ce-De))]}function xa(Re,ne,ae,ce,Se){const De=ne===Se.maxZoom?0:Se.tolerance/((1<<ne)*Se.extent),Oe={features:[],numPoints:0,numSimplified:0,numFeatures:Re.length,source:null,x:ae,y:ce,z:ne,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(const We of Re)Gi(Oe,We,De,Se);return Oe}function Gi(Re,ne,ae,ce){const Se=ne.geometry,De=ne.type,Oe=[];if(Re.minX=Math.min(Re.minX,ne.minX),Re.minY=Math.min(Re.minY,ne.minY),Re.maxX=Math.max(Re.maxX,ne.maxX),Re.maxY=Math.max(Re.maxY,ne.maxY),De==="Point"||De==="MultiPoint")for(let We=0;We<Se.length;We+=3)Oe.push(Se[We],Se[We+1]),Re.numPoints++,Re.numSimplified++;else if(De==="LineString")Ti(Oe,Se,Re,ae,!1,!1);else if(De==="MultiLineString"||De==="Polygon")for(let We=0;We<Se.length;We++)Ti(Oe,Se[We],Re,ae,De==="Polygon",We===0);else if(De==="MultiPolygon")for(let We=0;We<Se.length;We++){const Le=Se[We];for(let at=0;at<Le.length;at++)Ti(Oe,Le[at],Re,ae,!0,at===0)}if(Oe.length){let We=ne.tags||null;if(De==="LineString"&&ce.lineMetrics){We={};for(const at in ne.tags)We[at]=ne.tags[at];We.mapbox_clip_start=Se.start/Se.size,We.mapbox_clip_end=Se.end/Se.size}const Le={geometry:Oe,type:De==="Polygon"||De==="MultiPolygon"?3:De==="LineString"||De==="MultiLineString"?2:1,tags:We};ne.id!==null&&(Le.id=ne.id),Re.features.push(Le)}}function Ti(Re,ne,ae,ce,Se,De){const Oe=ce*ce;if(ce>0&&ne.size<(Se?Oe:ce))return void(ae.numPoints+=ne.length/3);const We=[];for(let Le=0;Le<ne.length;Le+=3)(ce===0||ne[Le+2]>Oe)&&(ae.numSimplified++,We.push(ne[Le],ne[Le+1])),ae.numPoints++;Se&&(function(Le,at){let St=0;for(let ht=0,zt=Le.length,ze=zt-2;ht<zt;ze=ht,ht+=2)St+=(Le[ht]-Le[ze])*(Le[ht+1]+Le[ze+1]);if(St>0===at)for(let ht=0,zt=Le.length;ht<zt/2;ht+=2){const ze=Le[ht],ir=Le[ht+1];Le[ht]=Le[zt-2-ht],Le[ht+1]=Le[zt-1-ht],Le[zt-2-ht]=ze,Le[zt-1-ht]=ir}})(We,De),Re.push(We)}const To={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class no{constructor(ne,ae){const ce=(ae=this.options=(function(De,Oe){for(const We in Oe)De[We]=Oe[We];return De})(Object.create(To),ae)).debug;if(ce&&console.time("preprocess data"),ae.maxZoom<0||ae.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(ae.promoteId&&ae.generateId)throw new Error("promoteId and generateId cannot be used together.");let Se=(function(De,Oe){const We=[];if(De.type==="FeatureCollection")for(let Le=0;Le<De.features.length;Le++)et(We,De.features[Le],Oe,Le);else et(We,De.type==="Feature"?De:{geometry:De},Oe);return We})(ne,ae);this.tiles={},this.tileCoords=[],ce&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",ae.indexMaxZoom,ae.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Se=(function(De,Oe){const We=Oe.buffer/Oe.extent;let Le=De;const at=xt(De,1,-1-We,We,0,-1,2,Oe),St=xt(De,1,1-We,2+We,0,-1,2,Oe);return(at||St)&&(Le=xt(De,1,-We,1+We,0,-1,2,Oe)||[],at&&(Le=Lr(at,1).concat(Le)),St&&(Le=Le.concat(Lr(St,-1)))),Le})(Se,ae),Se.length&&this.splitTile(Se,0,0,0),ce&&(Se.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(ne,ae,ce,Se,De,Oe,We){const Le=[ne,ae,ce,Se],at=this.options,St=at.debug;for(;Le.length;){Se=Le.pop(),ce=Le.pop(),ae=Le.pop(),ne=Le.pop();const ht=1<<ae,zt=di(ae,ce,Se);let ze=this.tiles[zt];if(!ze&&(St>1&&console.time("creation"),ze=this.tiles[zt]=xa(ne,ae,ce,Se,at),this.tileCoords.push({z:ae,x:ce,y:Se}),St)){St>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",ae,ce,Se,ze.numFeatures,ze.numPoints,ze.numSimplified),console.timeEnd("creation"));const pn=`z${ae}`;this.stats[pn]=(this.stats[pn]||0)+1,this.total++}if(ze.source=ne,De==null){if(ae===at.indexMaxZoom||ze.numPoints<=at.indexMaxPoints)continue}else{if(ae===at.maxZoom||ae===De)continue;if(De!=null){const pn=De-ae;if(ce!==Oe>>pn||Se!==We>>pn)continue}}if(ze.source=null,ne.length===0)continue;St>1&&console.time("clipping");const ir=.5*at.buffer/at.extent,br=.5-ir,Gt=.5+ir,or=1+ir;let Br=null,Jn=null,aa=null,Qr=null,rr=xt(ne,ht,ce-ir,ce+Gt,0,ze.minX,ze.maxX,at),sr=xt(ne,ht,ce+br,ce+or,0,ze.minX,ze.maxX,at);ne=null,rr&&(Br=xt(rr,ht,Se-ir,Se+Gt,1,ze.minY,ze.maxY,at),Jn=xt(rr,ht,Se+br,Se+or,1,ze.minY,ze.maxY,at),rr=null),sr&&(aa=xt(sr,ht,Se-ir,Se+Gt,1,ze.minY,ze.maxY,at),Qr=xt(sr,ht,Se+br,Se+or,1,ze.minY,ze.maxY,at),sr=null),St>1&&console.timeEnd("clipping"),Le.push(Br||[],ae+1,2*ce,2*Se),Le.push(Jn||[],ae+1,2*ce,2*Se+1),Le.push(aa||[],ae+1,2*ce+1,2*Se),Le.push(Qr||[],ae+1,2*ce+1,2*Se+1)}}getTile(ne,ae,ce){ne=+ne,ae=+ae,ce=+ce;const Se=this.options,{extent:De,debug:Oe}=Se;if(ne<0||ne>24)return null;const We=1<<ne,Le=di(ne,ae=ae+We&We-1,ce);if(this.tiles[Le])return Kn(this.tiles[Le],De);Oe>1&&console.log("drilling down to z%d-%d-%d",ne,ae,ce);let at,St=ne,ht=ae,zt=ce;for(;!at&&St>0;)St--,ht>>=1,zt>>=1,at=this.tiles[di(St,ht,zt)];return at&&at.source?(Oe>1&&(console.log("found parent tile z%d-%d-%d",St,ht,zt),console.time("drilling down")),this.splitTile(at.source,St,ht,zt,ne,ae,ce),Oe>1&&console.timeEnd("drilling down"),this.tiles[Le]?Kn(this.tiles[Le],De):null):null}}function di(Re,ne,ae){return 32*((1<<Re)*ae+ne)+Re}class Dn extends R{constructor(){super(...arguments),this._dataUpdateable=new Map}loadVectorTile(ne,ae){return y._(this,void 0,void 0,(function*(){const ce=ne.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");const Se=this._geoJSONIndex.getTile(ce.z,ce.x,ce.y);if(!Se)return null;const De=new X(Se.features,{version:2,extent:y.$});let Oe=(function(We){const Le=new y.cM;return(function(at,St){for(const ht in at.layers)St.writeMessage(3,te,at.layers[ht])})(We,Le),Le.finish()})(De);return Oe.byteOffset===0&&Oe.byteLength===Oe.buffer.byteLength||(Oe=new Uint8Array(Oe)),{vectorTile:De,rawData:Oe.buffer}}))}loadData(ne){return y._(this,void 0,void 0,(function*(){var ae;(ae=this._pendingRequest)===null||ae===void 0||ae.abort();const ce=!!(ne&&ne.request&&ne.request.collectResourceTiming)&&new y.cN(ne.request);this._pendingRequest=new AbortController;try{this._pendingData=this.loadAndProcessGeoJSON(ne,this._pendingRequest);const Se=yield this._pendingData;this._geoJSONIndex=ne.cluster?new Je((function({superclusterOptions:Oe,clusterProperties:We}){if(!We||!Oe)return Oe;const Le={},at={},St={accumulated:null,zoom:0},ht={properties:null},zt=Object.keys(We);for(const ze of zt){const[ir,br]=We[ze],Gt=y.cT(br),or=y.cT(typeof ir=="string"?[ir,["accumulated"],["get",ze]]:ir);Le[ze]=Gt.value,at[ze]=or.value}return Oe.map=ze=>{ht.properties=ze;const ir={};for(const br of zt)ir[br]=Le[br].evaluate(St,ht);return ir},Oe.reduce=(ze,ir)=>{ht.properties=ir;for(const br of zt)St.accumulated=ze[br],ze[br]=at[br].evaluate(St,ht)},Oe})(ne)).load(Se.features):(function(Oe,We){return new no(Oe,We)})(Se,ne.geojsonVtOptions),this.loaded={};const De={data:Se};if(ce){const Oe=ce.finish();Oe&&(De.resourceTiming={},De.resourceTiming[ne.source]=JSON.parse(JSON.stringify(Oe)))}return De}catch(Se){if(delete this._pendingRequest,y.cy(Se))return{abandoned:!0};throw Se}}))}getData(){return y._(this,void 0,void 0,(function*(){return this._pendingData}))}reloadTile(ne){const ae=this.loaded;return ae&&ae[ne.uid]?super.reloadTile(ne):this.loadTile(ne)}loadAndProcessGeoJSON(ne,ae){return y._(this,void 0,void 0,(function*(){let ce=yield this.loadGeoJSON(ne,ae);if(delete this._pendingRequest,typeof ce!="object")throw new Error(`Input data given to '${ne.source}' is not a valid GeoJSON object.`);if(W(ce,!0),ne.filter){const Se=y.cT(ne.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(Se.result==="error")throw new Error(Se.value.map((Oe=>`${Oe.key}: ${Oe.message}`)).join(", "));ce={type:"FeatureCollection",features:ce.features.filter((Oe=>Se.value.evaluate({zoom:0},Oe)))}}return ce}))}loadGeoJSON(ne,ae){return y._(this,void 0,void 0,(function*(){const{promoteId:ce}=ne;if(ne.request){const Se=yield y.j(ne.request,ae);return this._dataUpdateable=y.cV(Se.data,ce)?y.cU(Se.data,ce):void 0,Se.data}if(typeof ne.data=="string")try{const Se=JSON.parse(ne.data);return this._dataUpdateable=y.cV(Se,ce)?y.cU(Se,ce):void 0,Se}catch{throw new Error(`Input data given to '${ne.source}' is not a valid GeoJSON object.`)}if(!ne.dataDiff)throw new Error(`Input data given to '${ne.source}' is not a valid GeoJSON object.`);if(!this._dataUpdateable)throw new Error(`Cannot update existing geojson data in ${ne.source}`);return y.cW(this._dataUpdateable,ne.dataDiff,ce),{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())}}))}removeSource(ne){return y._(this,void 0,void 0,(function*(){this._pendingRequest&&this._pendingRequest.abort()}))}getClusterExpansionZoom(ne){return this._geoJSONIndex.getClusterExpansionZoom(ne.clusterId)}getClusterChildren(ne){return this._geoJSONIndex.getChildren(ne.clusterId)}getClusterLeaves(ne){return this._geoJSONIndex.getLeaves(ne.clusterId,ne.limit,ne.offset)}}class Ga{constructor(ne){this.self=ne,this.actor=new y.J(ne),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.globalStates=new Map,this.self.registerWorkerSource=(ae,ce)=>{if(this.externalWorkerSourceTypes[ae])throw new Error(`Worker source with name "${ae}" already registered.`);this.externalWorkerSourceTypes[ae]=ce},this.self.addProtocol=y.cA,this.self.removeProtocol=y.cB,this.self.registerRTLTextPlugin=ae=>{y.cX.setMethods(ae)},this.actor.registerMessageHandler("LDT",((ae,ce)=>this._getDEMWorkerSource(ae,ce.source).loadTile(ce))),this.actor.registerMessageHandler("RDT",((ae,ce)=>y._(this,void 0,void 0,(function*(){this._getDEMWorkerSource(ae,ce.source).removeTile(ce)})))),this.actor.registerMessageHandler("GCEZ",((ae,ce)=>y._(this,void 0,void 0,(function*(){return this._getWorkerSource(ae,ce.type,ce.source).getClusterExpansionZoom(ce)})))),this.actor.registerMessageHandler("GCC",((ae,ce)=>y._(this,void 0,void 0,(function*(){return this._getWorkerSource(ae,ce.type,ce.source).getClusterChildren(ce)})))),this.actor.registerMessageHandler("GCL",((ae,ce)=>y._(this,void 0,void 0,(function*(){return this._getWorkerSource(ae,ce.type,ce.source).getClusterLeaves(ce)})))),this.actor.registerMessageHandler("LD",((ae,ce)=>this._getWorkerSource(ae,ce.type,ce.source).loadData(ce))),this.actor.registerMessageHandler("GD",((ae,ce)=>this._getWorkerSource(ae,ce.type,ce.source).getData())),this.actor.registerMessageHandler("LT",((ae,ce)=>this._getWorkerSource(ae,ce.type,ce.source).loadTile(ce))),this.actor.registerMessageHandler("RT",((ae,ce)=>this._getWorkerSource(ae,ce.type,ce.source).reloadTile(ce))),this.actor.registerMessageHandler("AT",((ae,ce)=>this._getWorkerSource(ae,ce.type,ce.source).abortTile(ce))),this.actor.registerMessageHandler("RMT",((ae,ce)=>this._getWorkerSource(ae,ce.type,ce.source).removeTile(ce))),this.actor.registerMessageHandler("RS",((ae,ce)=>y._(this,void 0,void 0,(function*(){if(!this.workerSources[ae]||!this.workerSources[ae][ce.type]||!this.workerSources[ae][ce.type][ce.source])return;const Se=this.workerSources[ae][ce.type][ce.source];delete this.workerSources[ae][ce.type][ce.source],Se.removeSource!==void 0&&Se.removeSource(ce)})))),this.actor.registerMessageHandler("RM",(ae=>y._(this,void 0,void 0,(function*(){delete this.layerIndexes[ae],delete this.availableImages[ae],delete this.workerSources[ae],delete this.demWorkerSources[ae],this.globalStates.delete(ae)})))),this.actor.registerMessageHandler("SR",((ae,ce)=>y._(this,void 0,void 0,(function*(){this.referrer=ce})))),this.actor.registerMessageHandler("SRPS",((ae,ce)=>this._syncRTLPluginState(ae,ce))),this.actor.registerMessageHandler("IS",((ae,ce)=>y._(this,void 0,void 0,(function*(){this.self.importScripts(ce)})))),this.actor.registerMessageHandler("SI",((ae,ce)=>this._setImages(ae,ce))),this.actor.registerMessageHandler("UL",((ae,ce)=>y._(this,void 0,void 0,(function*(){this._getLayerIndex(ae).update(ce.layers,ce.removedIds,this._getGlobalState(ae))})))),this.actor.registerMessageHandler("UGS",((ae,ce)=>y._(this,void 0,void 0,(function*(){const Se=this._getGlobalState(ae);for(const De in ce)Se[De]=ce[De]})))),this.actor.registerMessageHandler("SL",((ae,ce)=>y._(this,void 0,void 0,(function*(){this._getLayerIndex(ae).replace(ce,this._getGlobalState(ae))}))))}_getGlobalState(ne){let ae=this.globalStates.get(ne);return ae||(ae={},this.globalStates.set(ne,ae)),ae}_setImages(ne,ae){return y._(this,void 0,void 0,(function*(){this.availableImages[ne]=ae;for(const ce in this.workerSources[ne]){const Se=this.workerSources[ne][ce];for(const De in Se)Se[De].availableImages=ae}}))}_syncRTLPluginState(ne,ae){return y._(this,void 0,void 0,(function*(){return yield y.cX.syncState(ae,this.self.importScripts)}))}_getAvailableImages(ne){let ae=this.availableImages[ne];return ae||(ae=[]),ae}_getLayerIndex(ne){let ae=this.layerIndexes[ne];return ae||(ae=this.layerIndexes[ne]=new c),ae}_getWorkerSource(ne,ae,ce){if(this.workerSources[ne]||(this.workerSources[ne]={}),this.workerSources[ne][ae]||(this.workerSources[ne][ae]={}),!this.workerSources[ne][ae][ce]){const Se={sendAsync:(De,Oe)=>(De.targetMapId=ne,this.actor.sendAsync(De,Oe))};switch(ae){case"vector":this.workerSources[ne][ae][ce]=new R(Se,this._getLayerIndex(ne),this._getAvailableImages(ne));break;case"geojson":this.workerSources[ne][ae][ce]=new Dn(Se,this._getLayerIndex(ne),this._getAvailableImages(ne));break;default:this.workerSources[ne][ae][ce]=new this.externalWorkerSourceTypes[ae](Se,this._getLayerIndex(ne),this._getAvailableImages(ne))}}return this.workerSources[ne][ae][ce]}_getDEMWorkerSource(ne,ae){return this.demWorkerSources[ne]||(this.demWorkerSources[ne]={}),this.demWorkerSources[ne][ae]||(this.demWorkerSources[ne][ae]=new L),this.demWorkerSources[ne][ae]}}return y.i(self)&&(self.worker=new Ga(self)),Ga})),d("index",["exports","./shared"],(function(y,c){var A="5.7.3";function C(){var b=new c.A(4);return c.A!=Float32Array&&(b[1]=0,b[2]=0),b[0]=1,b[3]=1,b}let T,R;const L={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(b,r,u){const m=requestAnimationFrame((w=>{_(),r(w)})),{unsubscribe:_}=c.s(b.signal,"abort",(()=>{_(),cancelAnimationFrame(m),u(c.c())}),!1)},frameAsync(b){return new Promise(((r,u)=>{this.frame(b,r,u)}))},getImageData(b,r=0){return this.getImageCanvasContext(b).getImageData(-r,-r,b.width+2*r,b.height+2*r)},getImageCanvasContext(b){const r=window.document.createElement("canvas"),u=r.getContext("2d",{willReadFrequently:!0});if(!u)throw new Error("failed to create canvas 2d context");return r.width=b.width,r.height=b.height,u.drawImage(b,0,0,b.width,b.height),u},resolveURL:b=>(T||(T=document.createElement("a")),T.href=b,T.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(R==null&&(R=matchMedia("(prefers-reduced-motion: reduce)")),R.matches)}};class U{static testProp(r){if(!U.docStyle)return r[0];for(let u=0;u<r.length;u++)if(r[u]in U.docStyle)return r[u];return r[0]}static create(r,u,m){const _=window.document.createElement(r);return u!==void 0&&(_.className=u),m&&m.appendChild(_),_}static createNS(r,u){return window.document.createElementNS(r,u)}static disableDrag(){U.docStyle&&U.selectProp&&(U.userSelect=U.docStyle[U.selectProp],U.docStyle[U.selectProp]="none")}static enableDrag(){U.docStyle&&U.selectProp&&(U.docStyle[U.selectProp]=U.userSelect)}static setTransform(r,u){r.style[U.transformProp]=u}static addEventListener(r,u,m,_={}){r.addEventListener(u,m,"passive"in _?_:_.capture)}static removeEventListener(r,u,m,_={}){r.removeEventListener(u,m,"passive"in _?_:_.capture)}static suppressClickInternal(r){r.preventDefault(),r.stopPropagation(),window.removeEventListener("click",U.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",U.suppressClickInternal,!0),window.setTimeout((()=>{window.removeEventListener("click",U.suppressClickInternal,!0)}),0)}static getScale(r){const u=r.getBoundingClientRect();return{x:u.width/r.offsetWidth||1,y:u.height/r.offsetHeight||1,boundingClientRect:u}}static getPoint(r,u,m){const _=u.boundingClientRect;return new c.P((m.clientX-_.left)/u.x-r.clientLeft,(m.clientY-_.top)/u.y-r.clientTop)}static mousePos(r,u){const m=U.getScale(r);return U.getPoint(r,m,u)}static touchPos(r,u){const m=[],_=U.getScale(r);for(let w=0;w<u.length;w++)m.push(U.getPoint(r,_,u[w]));return m}static mouseButton(r){return r.button}static remove(r){r.parentNode&&r.parentNode.removeChild(r)}static sanitize(r){const u=new DOMParser().parseFromString(r,"text/html").body||document.createElement("body"),m=u.querySelectorAll("script");for(const _ of m)_.remove();return U.clean(u),u.innerHTML}static isPossiblyDangerous(r,u){const m=u.replace(/\s+/g,"").toLowerCase();return!(!["src","href","xlink:href"].includes(r)||!m.includes("javascript:")&&!m.includes("data:"))||!!r.startsWith("on")||void 0}static clean(r){const u=r.children;for(const m of u)U.removeAttributes(m),U.clean(m)}static removeAttributes(r){for(const{name:u,value:m}of r.attributes)U.isPossiblyDangerous(u,m)&&r.removeAttribute(u)}}U.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,U.selectProp=U.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),U.transformProp=U.testProp(["transform","WebkitTransform"]);const q={supported:!1,testSupport:function(b){!Y&&W&&(X?te(b):$=b)}};let $,W,Y=!1,X=!1;function te(b){const r=b.createTexture();b.bindTexture(b.TEXTURE_2D,r);try{if(b.texImage2D(b.TEXTURE_2D,0,b.RGBA,b.RGBA,b.UNSIGNED_BYTE,W),b.isContextLost())return;q.supported=!0}catch{}b.deleteTexture(r),Y=!0}var pe;typeof document<"u"&&(W=document.createElement("img"),W.onload=()=>{$&&te($),$=null,X=!0},W.onerror=()=>{Y=!0,$=null},W.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),(function(b){let r,u,m,_;b.resetRequestQueue=()=>{r=[],u=0,m=0,_={}},b.addThrottleControl=O=>{const N=m++;return _[N]=O,N},b.removeThrottleControl=O=>{delete _[O],D()},b.getImage=(O,N,B=!0)=>new Promise(((Z,G)=>{q.supported&&(O.headers||(O.headers={}),O.headers.accept="image/webp,*/*"),c.e(O,{type:"image"}),r.push({abortController:N,requestParameters:O,supportImageRefresh:B,state:"queued",onError:J=>{G(J)},onSuccess:J=>{Z(J)}}),D()}));const w=O=>c._(this,void 0,void 0,(function*(){O.state="running";const{requestParameters:N,supportImageRefresh:B,onError:Z,onSuccess:G,abortController:J}=O,ie=B===!1&&!c.i(self)&&!c.g(N.url)&&(!N.headers||Object.keys(N.headers).reduce(((me,ve)=>me&&ve==="accept"),!0));u++;const he=ie?k(N,J):c.m(N,J);try{const me=yield he;delete O.abortController,O.state="completed",me.data instanceof HTMLImageElement||c.b(me.data)?G(me):me.data&&G({data:yield(fe=me.data,typeof createImageBitmap=="function"?c.f(fe):c.h(fe)),cacheControl:me.cacheControl,expires:me.expires})}catch(me){delete O.abortController,Z(me)}finally{u--,D()}var fe})),D=()=>{const O=(()=>{for(const N of Object.keys(_))if(_[N]())return!0;return!1})()?c.a.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:c.a.MAX_PARALLEL_IMAGE_REQUESTS;for(let N=u;N<O&&r.length>0;N++){const B=r.shift();B.abortController.signal.aborted?N--:w(B)}},k=(O,N)=>new Promise(((B,Z)=>{const G=new Image,J=O.url,ie=O.credentials;ie&&ie==="include"?G.crossOrigin="use-credentials":(ie&&ie==="same-origin"||!c.d(J))&&(G.crossOrigin="anonymous"),N.signal.addEventListener("abort",(()=>{G.src="",Z(c.c())})),G.fetchPriority="high",G.onload=()=>{G.onerror=G.onload=null,B({data:G})},G.onerror=()=>{G.onerror=G.onload=null,N.signal.aborted||Z(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},G.src=J}))})(pe||(pe={})),pe.resetRequestQueue();class de{constructor(r){this._transformRequestFn=r??null}transformRequest(r,u){return this._transformRequestFn&&this._transformRequestFn(r,u)||{url:r}}setTransformRequest(r){this._transformRequestFn=r}}function ye(b){const r=[];if(typeof b=="string")r.push({id:"default",url:b});else if(b&&b.length>0){const u=[];for(const{id:m,url:_}of b){const w=`${m}${_}`;u.indexOf(w)===-1&&(u.push(w),r.push({id:m,url:_}))}}return r}function xe(b,r,u){try{const m=new URL(b);return m.pathname+=`${r}${u}`,m.toString()}catch{throw new Error(`Invalid sprite URL "${b}", must be absolute. Modify style specification directly or use TransformStyleFunction to correct the issue dynamically`)}}function Ie(b){const{userImage:r}=b;return!!(r&&r.render&&r.render())&&(b.data.replace(new Uint8Array(r.data.buffer)),!0)}class lt extends c.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new c.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(r){if(this.loaded!==r&&(this.loaded=r,r)){for(const{ids:u,promiseResolve:m}of this.requestors)m(this._getImagesForIds(u));this.requestors=[]}}getImage(r){const u=this.images[r];if(u&&!u.data&&u.spriteData){const m=u.spriteData;u.data=new c.R({width:m.width,height:m.height},m.context.getImageData(m.x,m.y,m.width,m.height).data),u.spriteData=null}return u}addImage(r,u){if(this.images[r])throw new Error(`Image id ${r} already exist, use updateImage instead`);this._validate(r,u)&&(this.images[r]=u)}_validate(r,u){let m=!0;const _=u.data||u.spriteData;return this._validateStretch(u.stretchX,_&&_.width)||(this.fire(new c.k(new Error(`Image "${r}" has invalid "stretchX" value`))),m=!1),this._validateStretch(u.stretchY,_&&_.height)||(this.fire(new c.k(new Error(`Image "${r}" has invalid "stretchY" value`))),m=!1),this._validateContent(u.content,u)||(this.fire(new c.k(new Error(`Image "${r}" has invalid "content" value`))),m=!1),m}_validateStretch(r,u){if(!r)return!0;let m=0;for(const _ of r){if(_[0]<m||_[1]<_[0]||u<_[1])return!1;m=_[1]}return!0}_validateContent(r,u){if(!r)return!0;if(r.length!==4)return!1;const m=u.spriteData,_=m&&m.width||u.data.width,w=m&&m.height||u.data.height;return!(r[0]<0||_<r[0]||r[1]<0||w<r[1]||r[2]<0||_<r[2]||r[3]<0||w<r[3]||r[2]<r[0]||r[3]<r[1])}updateImage(r,u,m=!0){const _=this.getImage(r);if(m&&(_.data.width!==u.data.width||_.data.height!==u.data.height))throw new Error(`size mismatch between old image (${_.data.width}x${_.data.height}) and new image (${u.data.width}x${u.data.height}).`);u.version=_.version+1,this.images[r]=u,this.updatedImages[r]=!0}removeImage(r){const u=this.images[r];delete this.images[r],delete this.patterns[r],u.userImage&&u.userImage.onRemove&&u.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(r){return new Promise(((u,m)=>{let _=!0;if(!this.isLoaded())for(const w of r)this.images[w]||(_=!1);this.isLoaded()||_?u(this._getImagesForIds(r)):this.requestors.push({ids:r,promiseResolve:u})}))}_getImagesForIds(r){const u={};for(const m of r){let _=this.getImage(m);_||(this.fire(new c.l("styleimagemissing",{id:m})),_=this.getImage(m)),_?u[m]={data:_.data.clone(),pixelRatio:_.pixelRatio,sdf:_.sdf,version:_.version,stretchX:_.stretchX,stretchY:_.stretchY,content:_.content,textFitWidth:_.textFitWidth,textFitHeight:_.textFitHeight,hasRenderCallback:!!(_.userImage&&_.userImage.render)}:c.w(`Image "${m}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}return u}getPixelSize(){const{width:r,height:u}=this.atlasImage;return{width:r,height:u}}getPattern(r){const u=this.patterns[r],m=this.getImage(r);if(!m)return null;if(u&&u.position.version===m.version)return u.position;if(u)u.position.version=m.version;else{const _={w:m.data.width+2,h:m.data.height+2,x:0,y:0},w=new c.I(_,m);this.patterns[r]={bin:_,position:w}}return this._updatePatternAtlas(),this.patterns[r].position}bind(r){const u=r.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new c.T(r,this.atlasImage,u.RGBA),this.atlasTexture.bind(u.LINEAR,u.CLAMP_TO_EDGE)}_updatePatternAtlas(){const r=[];for(const w in this.patterns)r.push(this.patterns[w].bin);const{w:u,h:m}=c.p(r),_=this.atlasImage;_.resize({width:u||1,height:m||1});for(const w in this.patterns){const{bin:D}=this.patterns[w],k=D.x+1,O=D.y+1,N=this.getImage(w).data,B=N.width,Z=N.height;c.R.copy(N,_,{x:0,y:0},{x:k,y:O},{width:B,height:Z}),c.R.copy(N,_,{x:0,y:Z-1},{x:k,y:O-1},{width:B,height:1}),c.R.copy(N,_,{x:0,y:0},{x:k,y:O+Z},{width:B,height:1}),c.R.copy(N,_,{x:B-1,y:0},{x:k-1,y:O},{width:1,height:Z}),c.R.copy(N,_,{x:0,y:0},{x:k+B,y:O},{width:1,height:Z})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(r){for(const u of r){if(this.callbackDispatchedThisFrame[u])continue;this.callbackDispatchedThisFrame[u]=!0;const m=this.getImage(u);m||c.w(`Image with ID: "${u}" was not found`),Ie(m)&&this.updateImage(u,m)}}}const mt=1e20;function nt(b,r,u,m,_,w,D,k,O){for(let N=r;N<r+m;N++)st(b,u*w+N,w,_,D,k,O);for(let N=u;N<u+_;N++)st(b,N*w+r,1,m,D,k,O)}function st(b,r,u,m,_,w,D){w[0]=0,D[0]=-mt,D[1]=mt,_[0]=b[r];for(let k=1,O=0,N=0;k<m;k++){_[k]=b[r+k*u];const B=k*k;do{const Z=w[O];N=(_[k]-_[Z]+B-Z*Z)/(k-Z)/2}while(N<=D[O]&&--O>-1);O++,w[O]=k,D[O]=N,D[O+1]=mt}for(let k=0,O=0;k<m;k++){for(;D[O+1]<k;)O++;const N=w[O],B=k-N;b[r+k*u]=_[N]+B*B}}class Je{constructor(r,u,m){this.requestManager=r,this.localIdeographFontFamily=u,this.entries={},this.lang=m}setURL(r){this.url=r}getGlyphs(r){return c._(this,void 0,void 0,(function*(){const u=[];for(const w in r)for(const D of r[w])u.push(this._getAndCacheGlyphsPromise(w,D));const m=yield Promise.all(u),_={};for(const{stack:w,id:D,glyph:k}of m)_[w]||(_[w]={}),_[w][D]=k&&{id:k.id,bitmap:k.bitmap.clone(),metrics:k.metrics};return _}))}_getAndCacheGlyphsPromise(r,u){return c._(this,void 0,void 0,(function*(){let m=this.entries[r];m||(m=this.entries[r]={glyphs:{},requests:{},ranges:{}});let _=m.glyphs[u];if(_!==void 0)return{stack:r,id:u,glyph:_};if(_=this._tinySDF(m,r,u),_)return m.glyphs[u]=_,{stack:r,id:u,glyph:_};const w=Math.floor(u/256);if(256*w>65535)throw new Error("glyphs > 65535 not supported");if(m.ranges[w])return{stack:r,id:u,glyph:_};if(!this.url)throw new Error("glyphsUrl is not set");if(!m.requests[w]){const k=Je.loadGlyphRange(r,w,this.url,this.requestManager);m.requests[w]=k}const D=yield m.requests[w];for(const k in D)this._doesCharSupportLocalGlyph(+k)||(m.glyphs[+k]=D[+k]);return m.ranges[w]=!0,{stack:r,id:u,glyph:D[u]||null}}))}_doesCharSupportLocalGlyph(r){return!!this.localIdeographFontFamily&&(new RegExp("\\p{Ideo}|\\p{sc=Hang}|\\p{sc=Hira}|\\p{sc=Kana}","u").test(String.fromCodePoint(r))||c.u["CJK Unified Ideographs"](r)||c.u["Hangul Syllables"](r)||c.u.Hiragana(r)||c.u.Katakana(r)||c.u["CJK Symbols and Punctuation"](r)||c.u["Halfwidth and Fullwidth Forms"](r))}_tinySDF(r,u,m){const _=this.localIdeographFontFamily;if(!_||!this._doesCharSupportLocalGlyph(m))return;let w=r.tinySDF;if(!w){let k="400";/bold/i.test(u)?k="900":/medium/i.test(u)?k="500":/light/i.test(u)&&(k="200"),w=r.tinySDF=new Je.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,lang:this.lang,fontFamily:_,fontWeight:k})}const D=w.draw(String.fromCharCode(m));return{id:m,bitmap:new c.q({width:D.width||60,height:D.height||60},D.data),metrics:{width:D.glyphWidth/2||24,height:D.glyphHeight/2||24,left:D.glyphLeft/2+.5||0,top:D.glyphTop/2-27.5||-8,advance:D.glyphAdvance/2||24,isDoubleResolution:!0}}}}Je.loadGlyphRange=function(b,r,u,m){return c._(this,void 0,void 0,(function*(){const _=256*r,w=_+255,D=m.transformRequest(u.replace("{fontstack}",b).replace("{range}",`${_}-${w}`),"Glyphs"),k=yield c.n(D,new AbortController);if(!k||!k.data)throw new Error(`Could not load glyph range. range: ${r}, ${_}-${w}`);const O={};for(const N of c.o(k.data))O[N.id]=N;return O}))},Je.TinySDF=class{constructor({fontSize:b=24,buffer:r=3,radius:u=8,cutoff:m=.25,fontFamily:_="sans-serif",fontWeight:w="normal",fontStyle:D="normal",lang:k=null}={}){this.buffer=r,this.cutoff=m,this.radius=u,this.lang=k;const O=this.size=b+4*r,N=this._createCanvas(O),B=this.ctx=N.getContext("2d",{willReadFrequently:!0});B.font=`${D} ${w} ${b}px ${_}`,B.textBaseline="alphabetic",B.textAlign="left",B.fillStyle="black",this.gridOuter=new Float64Array(O*O),this.gridInner=new Float64Array(O*O),this.f=new Float64Array(O),this.z=new Float64Array(O+1),this.v=new Uint16Array(O)}_createCanvas(b){const r=document.createElement("canvas");return r.width=r.height=b,r}draw(b){const{width:r,actualBoundingBoxAscent:u,actualBoundingBoxDescent:m,actualBoundingBoxLeft:_,actualBoundingBoxRight:w}=this.ctx.measureText(b),D=Math.ceil(u),k=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(w-_))),O=Math.min(this.size-this.buffer,D+Math.ceil(m)),N=k+2*this.buffer,B=O+2*this.buffer,Z=Math.max(N*B,0),G=new Uint8ClampedArray(Z),J={data:G,width:N,height:B,glyphWidth:k,glyphHeight:O,glyphTop:D,glyphLeft:0,glyphAdvance:r};if(k===0||O===0)return J;const{ctx:ie,buffer:he,gridInner:fe,gridOuter:me}=this;this.lang&&(ie.lang=this.lang),ie.clearRect(he,he,k,O),ie.fillText(b,he,he+D);const ve=ie.getImageData(he,he,k,O);me.fill(mt,0,Z),fe.fill(0,0,Z);for(let we=0;we<O;we++)for(let _e=0;_e<k;_e++){const Ae=ve.data[4*(we*k+_e)+3]/255;if(Ae===0)continue;const Ee=(we+he)*N+_e+he;if(Ae===1)me[Ee]=0,fe[Ee]=mt;else{const be=.5-Ae;me[Ee]=be>0?be*be:0,fe[Ee]=be<0?be*be:0}}nt(me,0,0,N,B,N,this.f,this.v,this.z),nt(fe,he,he,k,O,N,this.f,this.v,this.z);for(let we=0;we<Z;we++){const _e=Math.sqrt(me[we])-Math.sqrt(fe[we]);G[we]=Math.round(255-255*(_e/this.radius+this.cutoff))}return J}};class wt{constructor(){this.specification=c.v.light.position}possiblyEvaluate(r,u){return c.B(r.expression.evaluate(u))}interpolate(r,u,m){return{x:c.C.number(r.x,u.x,m),y:c.C.number(r.y,u.y,m),z:c.C.number(r.z,u.z,m)}}}let Rt;class je extends c.E{constructor(r){super(),Rt=Rt||new c.r({anchor:new c.D(c.v.light.anchor),position:new wt,color:new c.D(c.v.light.color),intensity:new c.D(c.v.light.intensity)}),this._transitionable=new c.t(Rt,void 0),this.setLight(r),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(r,u={}){if(!this._validate(c.x,r,u))for(const m in r){const _=r[m];m.endsWith("-transition")?this._transitionable.setTransition(m.slice(0,-11),_):this._transitionable.setValue(m,_)}}updateTransitions(r){this._transitioning=this._transitionable.transitioned(r,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(r){this.properties=this._transitioning.possiblyEvaluate(r)}_validate(r,u,m){return(!m||m.validate!==!1)&&c.y(this,r.call(c.z,{value:u,style:{glyphs:!0,sprite:!0},styleSpec:c.v}))}}const it=new c.r({"sky-color":new c.D(c.v.sky["sky-color"]),"horizon-color":new c.D(c.v.sky["horizon-color"]),"fog-color":new c.D(c.v.sky["fog-color"]),"fog-ground-blend":new c.D(c.v.sky["fog-ground-blend"]),"horizon-fog-blend":new c.D(c.v.sky["horizon-fog-blend"]),"sky-horizon-blend":new c.D(c.v.sky["sky-horizon-blend"]),"atmosphere-blend":new c.D(c.v.sky["atmosphere-blend"])});class Ge extends c.E{constructor(r){super(),this._transitionable=new c.t(it,void 0),this.setSky(r),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new c.F(0))}setSky(r,u={}){if(!this._validate(c.G,r,u)){r||(r={"sky-color":"transparent","horizon-color":"transparent","fog-color":"transparent","fog-ground-blend":1,"atmosphere-blend":0});for(const m in r){const _=r[m];m.endsWith("-transition")?this._transitionable.setTransition(m.slice(0,-11),_):this._transitionable.setValue(m,_)}}}getSky(){return this._transitionable.serialize()}updateTransitions(r){this._transitioning=this._transitionable.transitioned(r,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(r){this.properties=this._transitioning.possiblyEvaluate(r)}_validate(r,u,m={}){return m?.validate!==!1&&c.y(this,r.call(c.z,c.e({value:u,style:{glyphs:!0,sprite:!0},styleSpec:c.v})))}calculateFogBlendOpacity(r){return r<60?0:r<70?(r-60)/10:1}}class bt{constructor(r,u){this.width=r,this.height=u,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(r,u){const m=r.join(",")+String(u);return this.dashEntry[m]||(this.dashEntry[m]=this.addDash(r,u)),this.dashEntry[m]}getDashRanges(r,u,m){const _=[];let w=r.length%2==1?-r[r.length-1]*m:0,D=r[0]*m,k=!0;_.push({left:w,right:D,isDash:k,zeroLength:r[0]===0});let O=r[0];for(let N=1;N<r.length;N++){k=!k;const B=r[N];w=O*m,O+=B,D=O*m,_.push({left:w,right:D,isDash:k,zeroLength:B===0})}return _}addRoundDash(r,u,m){const _=u/2;for(let w=-m;w<=m;w++){const D=this.width*(this.nextRow+m+w);let k=0,O=r[k];for(let N=0;N<this.width;N++){N/O.right>1&&(O=r[++k]);const B=Math.abs(N-O.left),Z=Math.abs(N-O.right),G=Math.min(B,Z);let J;const ie=w/m*(_+1);if(O.isDash){const he=_-Math.abs(ie);J=Math.sqrt(G*G+he*he)}else J=_-Math.sqrt(G*G+ie*ie);this.data[D+N]=Math.max(0,Math.min(255,J+128))}}}addRegularDash(r){for(let k=r.length-1;k>=0;--k){const O=r[k],N=r[k+1];O.zeroLength?r.splice(k,1):N&&N.isDash===O.isDash&&(N.left=O.left,r.splice(k,1))}const u=r[0],m=r[r.length-1];u.isDash===m.isDash&&(u.left=m.left-this.width,m.right=u.right+this.width);const _=this.width*this.nextRow;let w=0,D=r[w];for(let k=0;k<this.width;k++){k/D.right>1&&(D=r[++w]);const O=Math.abs(k-D.left),N=Math.abs(k-D.right),B=Math.min(O,N);this.data[_+k]=Math.max(0,Math.min(255,(D.isDash?B:-B)+128))}}addDash(r,u){const m=u?7:0,_=2*m+1;if(this.nextRow+_>this.height)return c.w("LineAtlas out of space"),null;let w=0;for(let k=0;k<r.length;k++)w+=r[k];if(w!==0){const k=this.width/w,O=this.getDashRanges(r,this.width,k);u?this.addRoundDash(O,k,m):this.addRegularDash(O)}const D={y:(this.nextRow+m+.5)/this.height,height:2*m/this.height,width:w};return this.nextRow+=_,this.dirty=!0,D}bind(r){const u=r.gl;this.texture?(u.bindTexture(u.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,u.texSubImage2D(u.TEXTURE_2D,0,0,0,this.width,this.height,u.ALPHA,u.UNSIGNED_BYTE,this.data))):(this.texture=u.createTexture(),u.bindTexture(u.TEXTURE_2D,this.texture),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,u.REPEAT),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,u.REPEAT),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,u.LINEAR),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,u.LINEAR),u.texImage2D(u.TEXTURE_2D,0,u.ALPHA,this.width,this.height,0,u.ALPHA,u.UNSIGNED_BYTE,this.data))}}const Ce="maplibre_preloaded_worker_pool";class ot{constructor(){this.active={}}acquire(r){if(!this.workers)for(this.workers=[];this.workers.length<ot.workerCount;)this.workers.push(new Worker(c.a.WORKER_URL));return this.active[r]=!0,this.workers.slice()}release(r){delete this.active[r],this.numActive()===0&&(this.workers.forEach((u=>{u.terminate()})),this.workers=null)}isPreloaded(){return!!this.active[Ce]}numActive(){return Object.keys(this.active).length}}const ke=Math.floor(L.hardwareConcurrency/2);let et,pt;function vt(){return et||(et=new ot),et}ot.workerCount=c.H(globalThis)?Math.max(Math.min(ke,3),1):1;class Dt{constructor(r,u){this.workerPool=r,this.actors=[],this.currentActor=0,this.id=u;const m=this.workerPool.acquire(u);for(let _=0;_<m.length;_++){const w=new c.J(m[_],u);w.name=`Worker ${_}`,this.actors.push(w)}if(!this.actors.length)throw new Error("No actors found")}broadcast(r,u){const m=[];for(const _ of this.actors)m.push(_.sendAsync({type:r,data:u}));return Promise.all(m)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(r=!0){this.actors.forEach((u=>{u.remove()})),this.actors=[],r&&this.workerPool.release(this.id)}registerMessageHandler(r,u){for(const m of this.actors)m.registerMessageHandler(r,u)}}function Ut(){return pt||(pt=new Dt(vt(),c.K),pt.registerMessageHandler("GR",((b,r,u)=>c.m(r,u)))),pt}function Ft(b,r){const u=c.L();return c.M(u,u,[1,1,0]),c.N(u,u,[.5*b.width,.5*b.height,1]),b.calculatePosMatrix?c.O(u,u,b.calculatePosMatrix(r.toUnwrapped())):u}function xt(b,r,u,m,_,w,D){var k;const O=(function(G,J,ie){if(G)for(const he of G){const fe=J[he];if(fe&&fe.source===ie&&fe.type==="fill-extrusion")return!0}else for(const he in J){const fe=J[he];if(fe.source===ie&&fe.type==="fill-extrusion")return!0}return!1})((k=_?.layers)!==null&&k!==void 0?k:null,r,b.id),N=w.maxPitchScaleFactor(),B=b.tilesIn(m,N,O);B.sort($t);const Z=[];for(const G of B)Z.push({wrappedTileID:G.tileID.wrapped().key,queryResults:G.tile.queryRenderedFeatures(r,u,b._state,G.queryGeometry,G.cameraQueryGeometry,G.scale,_,w,N,Ft(b.transform,G.tileID),D?(J,ie)=>D(G.tileID,J,ie):void 0)});return(function(G,J){for(const ie in G)for(const he of G[ie])Nt(he,J);return G})((function(G){const J={},ie={};for(const he of G){const fe=he.queryResults,me=he.wrappedTileID,ve=ie[me]=ie[me]||{};for(const we in fe){const _e=fe[we],Ae=ve[we]=ve[we]||{},Ee=J[we]=J[we]||[];for(const be of _e)Ae[be.featureIndex]||(Ae[be.featureIndex]=!0,Ee.push(be))}}return J})(Z),b)}function $t(b,r){const u=b.tileID,m=r.tileID;return u.overscaledZ-m.overscaledZ||u.canonical.y-m.canonical.y||u.wrap-m.wrap||u.canonical.x-m.canonical.x}function Nt(b,r){const u=b.feature,m=r.getFeatureState(u.layer["source-layer"],u.id);u.source=u.layer.source,u.layer["source-layer"]&&(u.sourceLayer=u.layer["source-layer"]),u.state=m}function $e(b,r,u){return c._(this,void 0,void 0,(function*(){let m=b;if(b.url?m=(yield c.j(r.transformRequest(b.url,"Source"),u)).data:yield L.frameAsync(u),!m)return null;const _=c.Q(c.e(m,b),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in m&&m.vector_layers&&(_.vectorLayerIds=m.vector_layers.map((w=>w.id))),_}))}class jt{constructor(r,u){r&&(u?this.setSouthWest(r).setNorthEast(u):Array.isArray(r)&&(r.length===4?this.setSouthWest([r[0],r[1]]).setNorthEast([r[2],r[3]]):this.setSouthWest(r[0]).setNorthEast(r[1])))}setNorthEast(r){return this._ne=r instanceof c.S?new c.S(r.lng,r.lat):c.S.convert(r),this}setSouthWest(r){return this._sw=r instanceof c.S?new c.S(r.lng,r.lat):c.S.convert(r),this}extend(r){const u=this._sw,m=this._ne;let _,w;if(r instanceof c.S)_=r,w=r;else{if(!(r instanceof jt))return Array.isArray(r)?r.length===4||r.every(Array.isArray)?this.extend(jt.convert(r)):this.extend(c.S.convert(r)):r&&("lng"in r||"lon"in r)&&"lat"in r?this.extend(c.S.convert(r)):this;if(_=r._sw,w=r._ne,!_||!w)return this}return u||m?(u.lng=Math.min(_.lng,u.lng),u.lat=Math.min(_.lat,u.lat),m.lng=Math.max(w.lng,m.lng),m.lat=Math.max(w.lat,m.lat)):(this._sw=new c.S(_.lng,_.lat),this._ne=new c.S(w.lng,w.lat)),this}getCenter(){return new c.S((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new c.S(this.getWest(),this.getNorth())}getSouthEast(){return new c.S(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(r){const{lng:u,lat:m}=c.S.convert(r);let _=this._sw.lng<=u&&u<=this._ne.lng;return this._sw.lng>this._ne.lng&&(_=this._sw.lng>=u&&u>=this._ne.lng),this._sw.lat<=m&&m<=this._ne.lat&&_}static convert(r){return r instanceof jt?r:r&&new jt(r)}static fromLngLat(r,u=0){const m=360*u/40075017,_=m/Math.cos(Math.PI/180*r.lat);return new jt(new c.S(r.lng-_,r.lat-m),new c.S(r.lng+_,r.lat+m))}adjustAntiMeridian(){const r=new c.S(this._sw.lng,this._sw.lat),u=new c.S(this._ne.lng,this._ne.lat);return new jt(r,r.lng>u.lng?new c.S(u.lng+360,u.lat):u)}}class Bt{constructor(r,u,m){this.bounds=jt.convert(this.validateBounds(r)),this.minzoom=u||0,this.maxzoom=m||24}validateBounds(r){return Array.isArray(r)&&r.length===4?[Math.max(-180,r[0]),Math.max(-90,r[1]),Math.min(180,r[2]),Math.min(90,r[3])]:[-180,-90,180,90]}contains(r){const u=Math.pow(2,r.z),m=Math.floor(c.V(this.bounds.getWest())*u),_=Math.floor(c.U(this.bounds.getNorth())*u),w=Math.ceil(c.V(this.bounds.getEast())*u),D=Math.ceil(c.U(this.bounds.getSouth())*u);return r.x>=m&&r.x<w&&r.y>=_&&r.y<D}}class Sr extends c.E{constructor(r,u,m,_){if(super(),this.id=r,this.dispatcher=m,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,c.e(this,c.Q(u,["url","scheme","tileSize","promoteId"])),this._options=c.e({type:"vector"},u),this._collectResourceTiming=u.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(_)}load(){return c._(this,void 0,void 0,(function*(){this._loaded=!1,this.fire(new c.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const r=yield $e(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),r&&(c.e(this,r),r.bounds&&(this.tileBounds=new Bt(r.bounds,this.minzoom,this.maxzoom)),this.fire(new c.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new c.l("data",{dataType:"source",sourceDataType:"content"})))}catch(r){this._tileJSONRequest=null,this._loaded=!0,this.fire(new c.k(r))}}))}loaded(){return this._loaded}hasTile(r){return!this.tileBounds||this.tileBounds.contains(r.canonical)}onAdd(r){this.map=r,this.load()}setSourceProperty(r){this._tileJSONRequest&&this._tileJSONRequest.abort(),r(),this.load()}setTiles(r){return this.setSourceProperty((()=>{this._options.tiles=r})),this}setUrl(r){return this.setSourceProperty((()=>{this.url=r,this._options.url=r})),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return c.e({},this._options)}loadTile(r){return c._(this,void 0,void 0,(function*(){const u=r.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),m={request:this.map._requestManager.transformRequest(u,"Tile"),uid:r.uid,tileID:r.tileID,zoom:r.tileID.overscaledZ,tileSize:this.tileSize*r.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity};m.request.collectResourceTiming=this._collectResourceTiming;let _="RT";if(r.actor&&r.state!=="expired"){if(r.state==="loading")return new Promise(((w,D)=>{r.reloadPromise={resolve:w,reject:D}}))}else r.actor=this.dispatcher.getActor(),_="LT";r.abortController=new AbortController;try{const w=yield r.actor.sendAsync({type:_,data:m},r.abortController);if(delete r.abortController,r.aborted)return;this._afterTileLoadWorkerResponse(r,w)}catch(w){if(delete r.abortController,r.aborted)return;if(w&&w.status!==404)throw w;this._afterTileLoadWorkerResponse(r,null)}}))}_afterTileLoadWorkerResponse(r,u){if(u&&u.resourceTiming&&(r.resourceTiming=u.resourceTiming),u&&this.map._refreshExpiredTiles&&r.setExpiryData(u),r.loadVectorData(u,this.map.painter),r.reloadPromise){const m=r.reloadPromise;r.reloadPromise=null,this.loadTile(r).then(m.resolve).catch(m.reject)}}abortTile(r){return c._(this,void 0,void 0,(function*(){r.abortController&&(r.abortController.abort(),delete r.abortController),r.actor&&(yield r.actor.sendAsync({type:"AT",data:{uid:r.uid,type:this.type,source:this.id}}))}))}unloadTile(r){return c._(this,void 0,void 0,(function*(){r.unloadVectorData(),r.actor&&(yield r.actor.sendAsync({type:"RMT",data:{uid:r.uid,type:this.type,source:this.id}}))}))}hasTransition(){return!1}}class Rr extends c.E{constructor(r,u,m,_){super(),this.id=r,this.dispatcher=m,this.setEventedParent(_),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=c.e({type:"raster"},u),c.e(this,c.Q(u,["url","scheme","tileSize"]))}load(){return c._(this,arguments,void 0,(function*(r=!1){this._loaded=!1,this.fire(new c.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const u=yield $e(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,u&&(c.e(this,u),u.bounds&&(this.tileBounds=new Bt(u.bounds,this.minzoom,this.maxzoom)),this.fire(new c.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new c.l("data",{dataType:"source",sourceDataType:"content",sourceDataChanged:r})))}catch(u){this._tileJSONRequest=null,this._loaded=!0,this.fire(new c.k(u))}}))}loaded(){return this._loaded}onAdd(r){this.map=r,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(r){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),r(),this.load(!0)}setTiles(r){return this.setSourceProperty((()=>{this._options.tiles=r})),this}setUrl(r){return this.setSourceProperty((()=>{this.url=r,this._options.url=r})),this}serialize(){return c.e({},this._options)}hasTile(r){return!this.tileBounds||this.tileBounds.contains(r.canonical)}loadTile(r){return c._(this,void 0,void 0,(function*(){const u=r.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);r.abortController=new AbortController;try{const m=yield pe.getImage(this.map._requestManager.transformRequest(u,"Tile"),r.abortController,this.map._refreshExpiredTiles);if(delete r.abortController,r.aborted)return void(r.state="unloaded");if(m&&m.data){this.map._refreshExpiredTiles&&(m.cacheControl||m.expires)&&r.setExpiryData({cacheControl:m.cacheControl,expires:m.expires});const _=this.map.painter.context,w=_.gl,D=m.data;r.texture=this.map.painter.getTileTexture(D.width),r.texture?r.texture.update(D,{useMipmap:!0}):(r.texture=new c.T(_,D,w.RGBA,{useMipmap:!0}),r.texture.bind(w.LINEAR,w.CLAMP_TO_EDGE,w.LINEAR_MIPMAP_NEAREST)),r.state="loaded"}}catch(m){if(delete r.abortController,r.aborted)r.state="unloaded";else if(m)throw r.state="errored",m}}))}abortTile(r){return c._(this,void 0,void 0,(function*(){r.abortController&&(r.abortController.abort(),delete r.abortController)}))}unloadTile(r){return c._(this,void 0,void 0,(function*(){r.texture&&this.map.painter.saveTileTexture(r.texture)}))}hasTransition(){return!1}}class Lr extends Rr{constructor(r,u,m,_){super(r,u,m,_),this.type="raster-dem",this.maxzoom=22,this._options=c.e({type:"raster-dem"},u),this.encoding=u.encoding||"mapbox",this.redFactor=u.redFactor,this.greenFactor=u.greenFactor,this.blueFactor=u.blueFactor,this.baseShift=u.baseShift}loadTile(r){return c._(this,void 0,void 0,(function*(){const u=r.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),m=this.map._requestManager.transformRequest(u,"Tile");r.neighboringTiles=this._getNeighboringTiles(r.tileID),r.abortController=new AbortController;try{const _=yield pe.getImage(m,r.abortController,this.map._refreshExpiredTiles);if(delete r.abortController,r.aborted)return void(r.state="unloaded");if(_&&_.data){const w=_.data;this.map._refreshExpiredTiles&&(_.cacheControl||_.expires)&&r.setExpiryData({cacheControl:_.cacheControl,expires:_.expires});const D=c.b(w)&&c.W()?w:yield this.readImageNow(w),k={type:this.type,uid:r.uid,source:this.id,rawImageData:D,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!r.actor||r.state==="expired"){r.actor=this.dispatcher.getActor();const O=yield r.actor.sendAsync({type:"LDT",data:k});r.dem=O,r.needsHillshadePrepare=!0,r.needsTerrainPrepare=!0,r.state="loaded"}}}catch(_){if(delete r.abortController,r.aborted)r.state="unloaded";else if(_)throw r.state="errored",_}}))}readImageNow(r){return c._(this,void 0,void 0,(function*(){if(typeof VideoFrame<"u"&&c.X()){const u=r.width+2,m=r.height+2;try{return new c.R({width:u,height:m},yield c.Y(r,-1,-1,u,m))}catch{}}return L.getImageData(r,1)}))}_getNeighboringTiles(r){const u=r.canonical,m=Math.pow(2,u.z),_=(u.x-1+m)%m,w=u.x===0?r.wrap-1:r.wrap,D=(u.x+1+m)%m,k=u.x+1===m?r.wrap+1:r.wrap,O={};return O[new c.Z(r.overscaledZ,w,u.z,_,u.y).key]={backfilled:!1},O[new c.Z(r.overscaledZ,k,u.z,D,u.y).key]={backfilled:!1},u.y>0&&(O[new c.Z(r.overscaledZ,w,u.z,_,u.y-1).key]={backfilled:!1},O[new c.Z(r.overscaledZ,r.wrap,u.z,u.x,u.y-1).key]={backfilled:!1},O[new c.Z(r.overscaledZ,k,u.z,D,u.y-1).key]={backfilled:!1}),u.y+1<m&&(O[new c.Z(r.overscaledZ,w,u.z,_,u.y+1).key]={backfilled:!1},O[new c.Z(r.overscaledZ,r.wrap,u.z,u.x,u.y+1).key]={backfilled:!1},O[new c.Z(r.overscaledZ,k,u.z,D,u.y+1).key]={backfilled:!1}),O}unloadTile(r){return c._(this,void 0,void 0,(function*(){r.demTexture&&this.map.painter.saveTileTexture(r.demTexture),r.fbo&&(r.fbo.destroy(),delete r.fbo),r.dem&&delete r.dem,delete r.neighboringTiles,r.state="unloaded",r.actor&&(yield r.actor.sendAsync({type:"RDT",data:{type:this.type,uid:r.uid,source:this.id}}))}))}}class Bn extends c.E{constructor(r,u,m,_){super(),this.id=r,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._isUpdatingWorker=!1,this._pendingWorkerUpdate={data:u.data},this.actor=m.getActor(),this.setEventedParent(_),this._data=u.data,this._options=c.e({},u),this._collectResourceTiming=u.collectResourceTiming,u.maxzoom!==void 0&&(this.maxzoom=u.maxzoom),u.type&&(this.type=u.type),u.attribution&&(this.attribution=u.attribution),this.promoteId=u.promoteId,u.clusterMaxZoom!==void 0&&this.maxzoom<=u.clusterMaxZoom&&c.w(`The maxzoom value "${this.maxzoom}" is expected to be greater than the clusterMaxZoom value "${u.clusterMaxZoom}".`),this.workerOptions=c.e({source:this.id,cluster:u.cluster||!1,geojsonVtOptions:{buffer:this._pixelsToTileUnits(u.buffer!==void 0?u.buffer:128),tolerance:this._pixelsToTileUnits(u.tolerance!==void 0?u.tolerance:.375),extent:c.$,maxZoom:this.maxzoom,lineMetrics:u.lineMetrics||!1,generateId:u.generateId||!1},superclusterOptions:{maxZoom:this._getClusterMaxZoom(u.clusterMaxZoom),minPoints:Math.max(2,u.clusterMinPoints||2),extent:c.$,radius:this._pixelsToTileUnits(u.clusterRadius||50),log:!1,generateId:u.generateId||!1},clusterProperties:u.clusterProperties,filter:u.filter},u.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}_pixelsToTileUnits(r){return r*(c.$/this.tileSize)}_getClusterMaxZoom(r){const u=r?Math.round(r):this.maxzoom-1;return Number.isInteger(r)||r===void 0||c.w(`Integer expected for option 'clusterMaxZoom': provided value "${r}" rounded to "${u}"`),u}load(){return c._(this,void 0,void 0,(function*(){yield this._updateWorkerData()}))}onAdd(r){this.map=r,this.load()}setData(r){return this._data=r,this._pendingWorkerUpdate={data:r},this._updateWorkerData(),this}updateData(r){return this._pendingWorkerUpdate.diff=c.a0(this._pendingWorkerUpdate.diff,r),this._updateWorkerData(),this}getData(){return c._(this,void 0,void 0,(function*(){const r=c.e({type:this.type},this.workerOptions);return this.actor.sendAsync({type:"GD",data:r})}))}getCoordinatesFromGeometry(r){return r.type==="GeometryCollection"?r.geometries.map((u=>u.coordinates)).flat(1/0):r.coordinates.flat(1/0)}getBounds(){return c._(this,void 0,void 0,(function*(){const r=new jt,u=yield this.getData();let m;switch(u.type){case"FeatureCollection":m=u.features.map((_=>this.getCoordinatesFromGeometry(_.geometry))).flat(1/0);break;case"Feature":m=this.getCoordinatesFromGeometry(u.geometry);break;default:m=this.getCoordinatesFromGeometry(u)}if(m.length==0)return r;for(let _=0;_<m.length-1;_+=2)r.extend([m[_],m[_+1]]);return r}))}setClusterOptions(r){return this.workerOptions.cluster=r.cluster,r&&(r.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=this._pixelsToTileUnits(r.clusterRadius)),r.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=this._getClusterMaxZoom(r.clusterMaxZoom))),this._updateWorkerData(),this}getClusterExpansionZoom(r){return this.actor.sendAsync({type:"GCEZ",data:{type:this.type,clusterId:r,source:this.id}})}getClusterChildren(r){return this.actor.sendAsync({type:"GCC",data:{type:this.type,clusterId:r,source:this.id}})}getClusterLeaves(r,u,m){return this.actor.sendAsync({type:"GCL",data:{type:this.type,source:this.id,clusterId:r,limit:u,offset:m}})}_updateWorkerData(){return c._(this,void 0,void 0,(function*(){if(this._isUpdatingWorker)return;const{data:r,diff:u}=this._pendingWorkerUpdate;if(!r&&!u)return void c.w(`No data or diff provided to GeoJSONSource ${this.id}.`);const m=c.e({type:this.type},this.workerOptions);r?(typeof r=="string"?(m.request=this.map._requestManager.transformRequest(L.resolveURL(r),"Source"),m.request.collectResourceTiming=this._collectResourceTiming):m.data=JSON.stringify(r),this._pendingWorkerUpdate.data=void 0):u&&(m.dataDiff=u,this._pendingWorkerUpdate.diff=void 0),this._isUpdatingWorker=!0,this.fire(new c.l("dataloading",{dataType:"source"}));try{const _=yield this.actor.sendAsync({type:"LD",data:m});if(this._isUpdatingWorker=!1,this._removed||_.abandoned)return void this.fire(new c.l("dataabort",{dataType:"source"}));this._data=_.data;let w=null;_.resourceTiming&&_.resourceTiming[this.id]&&(w=_.resourceTiming[this.id].slice(0));const D={dataType:"source"};this._collectResourceTiming&&w&&w.length>0&&c.e(D,{resourceTiming:w}),this.fire(new c.l("data",Object.assign(Object.assign({},D),{sourceDataType:"metadata"}))),this.fire(new c.l("data",Object.assign(Object.assign({},D),{sourceDataType:"content"})))}catch(_){if(this._isUpdatingWorker=!1,this._removed)return void this.fire(new c.l("dataabort",{dataType:"source"}));this.fire(new c.k(_))}finally{(this._pendingWorkerUpdate.data||this._pendingWorkerUpdate.diff)&&this._updateWorkerData()}}))}loaded(){return!this._isUpdatingWorker&&this._pendingWorkerUpdate.data===void 0&&this._pendingWorkerUpdate.diff===void 0}loadTile(r){return c._(this,void 0,void 0,(function*(){const u=r.actor?"RT":"LT";r.actor=this.actor;const m={type:this.type,uid:r.uid,tileID:r.tileID,zoom:r.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity};r.abortController=new AbortController;const _=yield this.actor.sendAsync({type:u,data:m},r.abortController);delete r.abortController,r.unloadVectorData(),r.aborted||r.loadVectorData(_,this.map.painter,u==="RT")}))}abortTile(r){return c._(this,void 0,void 0,(function*(){r.abortController&&(r.abortController.abort(),delete r.abortController),r.aborted=!0}))}unloadTile(r){return c._(this,void 0,void 0,(function*(){r.unloadVectorData(),yield this.actor.sendAsync({type:"RMT",data:{uid:r.uid,type:this.type,source:this.id}})}))}onRemove(){this._removed=!0,this.actor.sendAsync({type:"RS",data:{type:this.type,source:this.id}})}serialize(){return c.e({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}class Kn extends c.E{constructor(r,u,m,_){super(),this.flippedWindingOrder=!1,this.id=r,this.dispatcher=m,this.coordinates=u.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(_),this.options=u}load(r){return c._(this,void 0,void 0,(function*(){this._loaded=!1,this.fire(new c.l("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{const u=yield pe.getImage(this.map._requestManager.transformRequest(this.url,"Image"),this._request);this._request=null,this._loaded=!0,u&&u.data&&(this.image=u.data,r&&(this.coordinates=r),this._finishLoading())}catch(u){this._request=null,this._loaded=!0,this.fire(new c.k(u))}}))}loaded(){return this._loaded}updateImage(r){return r.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=r.url,this.load(r.coordinates).finally((()=>{this.texture=null})),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new c.l("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(r){this.map=r,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(r){this.coordinates=r;const u=r.map(c.a1.fromLngLat);var m;return this.tileID=(function(_){const w=c.a2.fromPoints(_),D=w.width(),k=w.height(),O=Math.max(D,k),N=Math.max(0,Math.floor(-Math.log(O)/Math.LN2)),B=Math.pow(2,N);return new c.a4(N,Math.floor((w.minX+w.maxX)/2*B),Math.floor((w.minY+w.maxY)/2*B))})(u),this.terrainTileRanges=this._getOverlappingTileRanges(u),this.minzoom=this.maxzoom=this.tileID.z,this.tileCoords=u.map((_=>this.tileID.getTilePoint(_)._round())),this.flippedWindingOrder=((m=this.tileCoords)[1].x-m[0].x)*(m[2].y-m[0].y)-(m[1].y-m[0].y)*(m[2].x-m[0].x)<0,this.fire(new c.l("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const r=this.map.painter.context,u=r.gl;this.texture||(this.texture=new c.T(r,this.image,u.RGBA),this.texture.bind(u.LINEAR,u.CLAMP_TO_EDGE));let m=!1;for(const _ in this.tiles){const w=this.tiles[_];w.state!=="loaded"&&(w.state="loaded",w.texture=this.texture,m=!0)}m&&this.fire(new c.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(r){return c._(this,void 0,void 0,(function*(){this.tileID&&this.tileID.equals(r.tileID.canonical)?(this.tiles[String(r.tileID.wrap)]=r,r.buckets={}):r.state="errored"}))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}_getOverlappingTileRanges(r){const{minX:u,minY:m,maxX:_,maxY:w}=c.a2.fromPoints(r),D={};for(let k=0;k<=c.a3;k++){const O=Math.pow(2,k),N=Math.floor(u*O),B=Math.floor(m*O),Z=Math.floor(_*O),G=Math.floor(w*O);D[k]={minTileX:N,minTileY:B,maxTileX:Z,maxTileY:G}}return D}}class Wa extends Kn{constructor(r,u,m,_){super(r,u,m,_),this.roundZoom=!0,this.type="video",this.options=u}load(){return c._(this,void 0,void 0,(function*(){this._loaded=!1;const r=this.options;this.urls=[];for(const u of r.urls)this.urls.push(this.map._requestManager.transformRequest(u,"Source").url);try{const u=yield c.a5(this.urls);if(this._loaded=!0,!u)return;this.video=u,this.video.loop=!0,this.video.addEventListener("playing",(()=>{this.map.triggerRepaint()})),this.map&&this.video.play(),this._finishLoading()}catch(u){this.fire(new c.k(u))}}))}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(r){if(this.video){const u=this.video.seekable;r<u.start(0)||r>u.end(0)?this.fire(new c.k(new c.a6(`sources.${this.id}`,null,`Playback for this video can be set only between the ${u.start(0)} and ${u.end(0)}-second mark.`))):this.video.currentTime=r}}getVideo(){return this.video}onAdd(r){this.map||(this.map=r,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const r=this.map.painter.context,u=r.gl;this.texture?this.video.paused||(this.texture.bind(u.LINEAR,u.CLAMP_TO_EDGE),u.texSubImage2D(u.TEXTURE_2D,0,0,0,u.RGBA,u.UNSIGNED_BYTE,this.video)):(this.texture=new c.T(r,this.video,u.RGBA),this.texture.bind(u.LINEAR,u.CLAMP_TO_EDGE));let m=!1;for(const _ in this.tiles){const w=this.tiles[_];w.state!=="loaded"&&(w.state="loaded",w.texture=this.texture,m=!0)}m&&this.fire(new c.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class xa extends Kn{constructor(r,u,m,_){super(r,u,m,_),u.coordinates?Array.isArray(u.coordinates)&&u.coordinates.length===4&&!u.coordinates.some((w=>!Array.isArray(w)||w.length!==2||w.some((D=>typeof D!="number"))))||this.fire(new c.k(new c.a6(`sources.${r}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new c.k(new c.a6(`sources.${r}`,null,'missing required property "coordinates"'))),u.animate&&typeof u.animate!="boolean"&&this.fire(new c.k(new c.a6(`sources.${r}`,null,'optional "animate" property must be a boolean value'))),u.canvas?typeof u.canvas=="string"||u.canvas instanceof HTMLCanvasElement||this.fire(new c.k(new c.a6(`sources.${r}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new c.k(new c.a6(`sources.${r}`,null,'missing required property "canvas"'))),this.options=u,this.animate=u.animate===void 0||u.animate}load(){return c._(this,void 0,void 0,(function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new c.k(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}))}getCanvas(){return this.canvas}onAdd(r){this.map=r,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let r=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,r=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,r=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const u=this.map.painter.context,m=u.gl;this.texture?(r||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new c.T(u,this.canvas,m.RGBA,{premultiply:!0});let _=!1;for(const w in this.tiles){const D=this.tiles[w];D.state!=="loaded"&&(D.state="loaded",D.texture=this.texture,_=!0)}_&&this.fire(new c.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const r of[this.canvas.width,this.canvas.height])if(isNaN(r)||r<=0)return!0;return!1}}const Gi={},Ti=b=>{switch(b){case"geojson":return Bn;case"image":return Kn;case"raster":return Rr;case"raster-dem":return Lr;case"vector":return Sr;case"video":return Wa;case"canvas":return xa}return Gi[b]},To="RTLPluginLoaded";class no extends c.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=Ut()}_syncState(r){return this.status=r,this.dispatcher.broadcast("SRPS",{pluginStatus:r,pluginURL:this.url}).catch((u=>{throw this.status="error",u}))}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(r){return c._(this,arguments,void 0,(function*(u,m=!1){if(this.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(this.url=L.resolveURL(u),!this.url)throw new Error(`requested url ${u} is invalid`);if(this.status==="unavailable"){if(!m)return this._requestImport();this.status="deferred",this._syncState(this.status)}else if(this.status==="requested")return this._requestImport()}))}_requestImport(){return c._(this,void 0,void 0,(function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new c.l(To))}))}lazyLoad(){this.status==="unavailable"?this.status="requested":this.status==="deferred"&&this._requestImport()}}let di=null;function Dn(){return di||(di=new no),di}class Ga{constructor(r,u){this.timeAdded=0,this.fadeEndTime=0,this.tileID=r,this.uid=c.a7(),this.uses=0,this.tileSize=u,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(r){const u=r+this.timeAdded;u<this.fadeEndTime||(this.fadeEndTime=u)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(r){this.demTexture&&r.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(r,u,m){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",r){r.featureIndex&&(this.latestFeatureIndex=r.featureIndex,r.rawTileData?(this.latestRawTileData=r.rawTileData,this.latestFeatureIndex.rawTileData=r.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=r.collisionBoxArray,this.buckets=(function(_,w){const D={};if(!w)return D;for(const k of _){const O=k.layerIds.map((N=>w.getLayer(N))).filter(Boolean);if(O.length!==0){k.layers=O,k.stateDependentLayerIds&&(k.stateDependentLayers=k.stateDependentLayerIds.map((N=>O.filter((B=>B.id===N))[0])));for(const N of O)D[N.id]=k}}return D})(r.buckets,u?.style),this.hasSymbolBuckets=!1;for(const _ in this.buckets){const w=this.buckets[_];if(w instanceof c.a9){if(this.hasSymbolBuckets=!0,!m)break;w.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const _ in this.buckets){const w=this.buckets[_];if(w instanceof c.a9&&w.hasRTLText){this.hasRTLText=!0,Dn().lazyLoad();break}}this.queryPadding=0;for(const _ in this.buckets){const w=this.buckets[_];this.queryPadding=Math.max(this.queryPadding,u.style.getLayer(_).queryRadius(w))}r.imageAtlas&&(this.imageAtlas=r.imageAtlas),r.glyphAtlasImage&&(this.glyphAtlasImage=r.glyphAtlasImage)}else this.collisionBoxArray=new c.a8}unloadVectorData(){for(const r in this.buckets)this.buckets[r].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(r){return this.buckets[r.id]}upload(r){for(const m in this.buckets){const _=this.buckets[m];_.uploadPending()&&_.upload(r)}const u=r.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new c.T(r,this.imageAtlas.image,u.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new c.T(r,this.glyphAtlasImage,u.ALPHA),this.glyphAtlasImage=null)}prepare(r){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(r,this.imageAtlasTexture)}queryRenderedFeatures(r,u,m,_,w,D,k,O,N,B,Z){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:_,cameraQueryGeometry:w,scale:D,tileSize:this.tileSize,pixelPosMatrix:B,transform:O,params:k,queryPadding:this.queryPadding*N,getElevation:Z},r,u,m):{}}querySourceFeatures(r,u){const m=this.latestFeatureIndex;if(!m||!m.rawTileData)return;const _=m.loadVTLayers(),w=u&&u.sourceLayer?u.sourceLayer:"",D=_._geojsonTileLayer||_[w];if(!D)return;const k=c.aa(u?.filter,u?.globalState),{z:O,x:N,y:B}=this.tileID.canonical,Z={z:O,x:N,y:B};for(let G=0;G<D.length;G++){const J=D.feature(G);if(k.needGeometry){const fe=c.ab(J,!0);if(!k.filter(new c.F(this.tileID.overscaledZ),fe,this.tileID.canonical))continue}else if(!k.filter(new c.F(this.tileID.overscaledZ),J))continue;const ie=m.getId(J,w),he=new c.ac(J,O,N,B,ie);he.tile=Z,r.push(he)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(r){const u=this.expirationTime;if(r.cacheControl){const m=c.ad(r.cacheControl);m["max-age"]&&(this.expirationTime=Date.now()+1e3*m["max-age"])}else r.expires&&(this.expirationTime=new Date(r.expires).getTime());if(this.expirationTime){const m=Date.now();let _=!1;if(this.expirationTime>m)_=!1;else if(u)if(this.expirationTime<u)_=!0;else{const w=this.expirationTime-u;w?this.expirationTime=m+Math.max(w,3e4):_=!0}else _=!0;_?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(r,u){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(r).length===0)return;const m=this.latestFeatureIndex.loadVTLayers();for(const _ in this.buckets){if(!u.style.hasLayer(_))continue;const w=this.buckets[_],D=w.layers[0].sourceLayer||"_geojsonTileLayer",k=m[D],O=r[D];if(!k||!O||Object.keys(O).length===0)continue;w.update(O,k,this.imageAtlas&&this.imageAtlas.patternPositions||{});const N=u&&u.style&&u.style.getLayer(_);N&&(this.queryPadding=Math.max(this.queryPadding,N.queryRadius(w)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<L.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(r){this.symbolFadeHoldUntil=L.now()+r}setDependencies(r,u){const m={};for(const _ of u)m[_]=!0;this.dependencies[r]=m}hasDependency(r,u){for(const m of r){const _=this.dependencies[m];if(_){for(const w of u)if(_[w])return!0}}return!1}}class Re{constructor(r,u){this.max=r,this.onRemove=u,this.reset()}reset(){for(const r in this.data)for(const u of this.data[r])u.timeout&&clearTimeout(u.timeout),this.onRemove(u.value);return this.data={},this.order=[],this}add(r,u,m){const _=r.wrapped().key;this.data[_]===void 0&&(this.data[_]=[]);const w={value:u,timeout:void 0};if(m!==void 0&&(w.timeout=setTimeout((()=>{this.remove(r,w)}),m)),this.data[_].push(w),this.order.push(_),this.order.length>this.max){const D=this._getAndRemoveByKey(this.order[0]);D&&this.onRemove(D)}return this}has(r){return r.wrapped().key in this.data}getAndRemove(r){return this.has(r)?this._getAndRemoveByKey(r.wrapped().key):null}_getAndRemoveByKey(r){const u=this.data[r].shift();return u.timeout&&clearTimeout(u.timeout),this.data[r].length===0&&delete this.data[r],this.order.splice(this.order.indexOf(r),1),u.value}getByKey(r){const u=this.data[r];return u?u[0].value:null}get(r){return this.has(r)?this.data[r.wrapped().key][0].value:null}remove(r,u){if(!this.has(r))return this;const m=r.wrapped().key,_=u===void 0?0:this.data[m].indexOf(u),w=this.data[m][_];return this.data[m].splice(_,1),w.timeout&&clearTimeout(w.timeout),this.data[m].length===0&&delete this.data[m],this.onRemove(w.value),this.order.splice(this.order.indexOf(m),1),this}setMaxSize(r){for(this.max=r;this.order.length>this.max;){const u=this._getAndRemoveByKey(this.order[0]);u&&this.onRemove(u)}return this}filter(r){const u=[];for(const m in this.data)for(const _ of this.data[m])r(_.value)||u.push(_);for(const m of u)this.remove(m.value.tileID,m)}}class ne{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(r,u,m){const _=String(u);if(this.stateChanges[r]=this.stateChanges[r]||{},this.stateChanges[r][_]=this.stateChanges[r][_]||{},c.e(this.stateChanges[r][_],m),this.deletedStates[r]===null){this.deletedStates[r]={};for(const w in this.state[r])w!==_&&(this.deletedStates[r][w]=null)}else if(this.deletedStates[r]&&this.deletedStates[r][_]===null){this.deletedStates[r][_]={};for(const w in this.state[r][_])m[w]||(this.deletedStates[r][_][w]=null)}else for(const w in m)this.deletedStates[r]&&this.deletedStates[r][_]&&this.deletedStates[r][_][w]===null&&delete this.deletedStates[r][_][w]}removeFeatureState(r,u,m){if(this.deletedStates[r]===null)return;const _=String(u);if(this.deletedStates[r]=this.deletedStates[r]||{},m&&u!==void 0)this.deletedStates[r][_]!==null&&(this.deletedStates[r][_]=this.deletedStates[r][_]||{},this.deletedStates[r][_][m]=null);else if(u!==void 0)if(this.stateChanges[r]&&this.stateChanges[r][_])for(m in this.deletedStates[r][_]={},this.stateChanges[r][_])this.deletedStates[r][_][m]=null;else this.deletedStates[r][_]=null;else this.deletedStates[r]=null}getState(r,u){const m=String(u),_=c.e({},(this.state[r]||{})[m],(this.stateChanges[r]||{})[m]);if(this.deletedStates[r]===null)return{};if(this.deletedStates[r]){const w=this.deletedStates[r][u];if(w===null)return{};for(const D in w)delete _[D]}return _}initializeTileState(r,u){r.setFeatureState(this.state,u)}coalesceChanges(r,u){const m={};for(const _ in this.stateChanges){this.state[_]=this.state[_]||{};const w={};for(const D in this.stateChanges[_])this.state[_][D]||(this.state[_][D]={}),c.e(this.state[_][D],this.stateChanges[_][D]),w[D]=this.state[_][D];m[_]=w}for(const _ in this.deletedStates){this.state[_]=this.state[_]||{};const w={};if(this.deletedStates[_]===null)for(const D in this.state[_])w[D]={},this.state[_][D]={};else for(const D in this.deletedStates[_]){if(this.deletedStates[_][D]===null)this.state[_][D]={};else for(const k of Object.keys(this.deletedStates[_][D]))delete this.state[_][D][k];w[D]=this.state[_][D]}m[_]=m[_]||{},c.e(m[_],w)}if(this.stateChanges={},this.deletedStates={},Object.keys(m).length!==0)for(const _ in r)r[_].setFeatureState(m,u)}}const ae=89.25;function ce(b,r){const u=c.ah(r.lat,-c.ai,c.ai);return new c.P(c.V(r.lng)*b,c.U(u)*b)}function Se(b,r){return new c.a1(r.x/b,r.y/b).toLngLat()}function De(b){return b.cameraToCenterDistance*Math.min(.85*Math.tan(c.ae(90-b.pitch)),Math.tan(c.ae(ae-b.pitch)))}function Oe(b,r){const u=b.canonical,m=r/c.af(u.z),_=u.x+Math.pow(2,u.z)*b.wrap,w=c.ag(new Float64Array(16));return c.M(w,w,[_*m,u.y*m,0]),c.N(w,w,[m/c.$,m/c.$,1]),w}function We(b,r,u,m,_){const w=c.a1.fromLngLat(b,r),D=_*c.aj(1,b.lat),k=D*Math.cos(c.ae(u)),O=Math.sqrt(D*D-k*k),N=O*Math.sin(c.ae(-m)),B=O*Math.cos(c.ae(-m));return new c.a1(w.x+N,w.y+B,w.z+k)}function Le(b,r,u){const m=r.intersectsFrustum(b);if(!u||m===0)return m;const _=r.intersectsPlane(u);return _===0?0:m===2&&_===2?2:1}function at(b,r,u){let m=0;const _=(u-r)/10;for(let w=0;w<10;w++)m+=_*Math.pow(Math.cos(r+(w+.5)/10*(u-r)),b);return m}function St(b,r){return function(u,m,_,w,D){const k=2*((b-1)/c.ak(Math.cos(c.ae(ae-D))/Math.cos(c.ae(ae)))-1),O=Math.acos(_/w),N=2*at(k-1,0,c.ae(D/2)),B=Math.min(c.ae(ae),O+c.ae(D/2)),Z=at(k-1,Math.min(B,O-c.ae(D/2)),B),G=Math.atan(m/_),J=Math.hypot(m,_);let ie=u;return ie+=c.ak(w/J/Math.max(.5,Math.cos(c.ae(D/2)))),ie+=k*c.ak(Math.cos(G))/2,ie-=c.ak(Math.max(1,Z/N/r))/2,ie}}const ht=St(9.314,3);function zt(b,r){const u=(r.roundZoom?Math.round:Math.floor)(b.zoom+c.ak(b.tileSize/r.tileSize));return Math.max(0,u)}function ze(b,r){const u=b.getCameraFrustum(),m=b.getClippingPlane(),_=b.screenPointToMercatorCoordinate(b.getCameraPoint()),w=c.a1.fromLngLat(b.center,b.elevation);_.z=w.z+Math.cos(b.pitchInRadians)*b.cameraToCenterDistance/b.worldSize;const D=b.getCoveringTilesDetailsProvider(),k=D.allowVariableZoom(b,r),O=zt(b,r),N=r.minzoom||0,B=r.maxzoom!==void 0?r.maxzoom:b.maxZoom,Z=Math.min(Math.max(0,O),B),G=Math.pow(2,Z),J=[G*_.x,G*_.y,0],ie=[G*w.x,G*w.y,0],he=Math.hypot(w.x-_.x,w.y-_.y),fe=Math.abs(w.z-_.z),me=Math.hypot(he,fe),ve=Ae=>({zoom:0,x:0,y:0,wrap:Ae,fullyVisible:!1}),we=[],_e=[];if(b.renderWorldCopies&&D.allowWorldCopies())for(let Ae=1;Ae<=3;Ae++)we.push(ve(-Ae)),we.push(ve(Ae));for(we.push(ve(0));we.length>0;){const Ae=we.pop(),Ee=Ae.x,be=Ae.y;let Ue=Ae.fullyVisible;const Qe={x:Ee,y:be,z:Ae.zoom},qe=D.getTileBoundingVolume(Qe,Ae.wrap,b.elevation,r);if(!Ue){const Mt=Le(u,qe,m);if(Mt===0)continue;Ue=Mt===2}const Ve=D.distanceToTile2d(_.x,_.y,Qe,qe);let Xe=O;k&&(Xe=(r.calculateTileZoom||ht)(b.zoom+c.ak(b.tileSize/r.tileSize),Ve,fe,me,b.fov)),Xe=(r.roundZoom?Math.round:Math.floor)(Xe),Xe=Math.max(0,Xe);const Et=Math.min(Xe,B);if(Ae.wrap=D.getWrap(w,Qe,Ae.wrap),Ae.zoom>=Et){if(Ae.zoom<N)continue;const Mt=Z-Ae.zoom,ft=J[0]-.5-(Ee<<Mt),Ht=J[1]-.5-(be<<Mt),vr=r.reparseOverscaled?Math.max(Ae.zoom,Xe):Ae.zoom;_e.push({tileID:new c.Z(Ae.zoom===B?vr:Ae.zoom,Ae.wrap,Ae.zoom,Ee,be),distanceSq:c.al([ie[0]-.5-Ee,ie[1]-.5-be]),tileDistanceToCamera:Math.sqrt(ft*ft+Ht*Ht)})}else for(let Mt=0;Mt<4;Mt++)we.push({zoom:Ae.zoom+1,x:(Ee<<1)+Mt%2,y:(be<<1)+(Mt>>1),wrap:Ae.wrap,fullyVisible:Ue})}return _e.sort(((Ae,Ee)=>Ae.distanceSq-Ee.distanceSq)).map((Ae=>Ae.tileID))}const ir=c.a2.fromPoints([new c.P(0,0),new c.P(c.$,c.$)]);class br extends c.E{constructor(r,u,m){super(),this.id=r,this.dispatcher=m,this.on("data",(_=>this._dataHandler(_))),this.on("dataloading",(()=>{this._sourceErrored=!1})),this.on("error",(()=>{this._sourceErrored=this._source.loaded()})),this._source=((_,w,D,k)=>{const O=new(Ti(w.type))(_,w,D,k);if(O.id!==_)throw new Error(`Expected Source id to be ${_} instead of ${O.id}`);return O})(r,u,m,this),this._tiles={},this._cache=new Re(0,(_=>this._unloadTile(_))),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new ne,this._didEmitContent=!1,this._updated=!1}onAdd(r){this.map=r,this._maxTileCacheSize=r?r._maxTileCacheSize:null,this._maxTileCacheZoomLevels=r?r._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(r)}onRemove(r){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(r)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const r in this._tiles){const u=this._tiles[r];if(u.state!=="loaded"&&u.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const r=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,r&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(r,u,m){return c._(this,void 0,void 0,(function*(){try{yield this._source.loadTile(r),this._tileLoaded(r,u,m)}catch(_){r.state="errored",_.status!==404?this._source.fire(new c.k(_,{tile:r})):this.update(this.transform,this.terrain)}}))}_unloadTile(r){this._source.unloadTile&&this._source.unloadTile(r)}_abortTile(r){this._source.abortTile&&this._source.abortTile(r),this._source.fire(new c.l("dataabort",{tile:r,coord:r.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(r){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const u in this._tiles){const m=this._tiles[u];m.upload(r),m.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map((r=>r.tileID)).sort(Gt).map((r=>r.key))}getRenderableIds(r){const u=[];for(const m in this._tiles)this._isIdRenderable(m,r)&&u.push(this._tiles[m]);return r?u.sort(((m,_)=>{const w=m.tileID,D=_.tileID,k=new c.P(w.canonical.x,w.canonical.y)._rotate(-this.transform.bearingInRadians),O=new c.P(D.canonical.x,D.canonical.y)._rotate(-this.transform.bearingInRadians);return w.overscaledZ-D.overscaledZ||O.y-k.y||O.x-k.x})).map((m=>m.tileID.key)):u.map((m=>m.tileID)).sort(Gt).map((m=>m.key))}hasRenderableParent(r){const u=this.findLoadedParent(r,0);return!!u&&this._isIdRenderable(u.tileID.key)}_isIdRenderable(r,u){return this._tiles[r]&&this._tiles[r].hasData()&&!this._coveredTiles[r]&&(u||!this._tiles[r].holdingForFade())}reload(r){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const u in this._tiles)r?this._reloadTile(u,"expired"):this._tiles[u].state!=="errored"&&this._reloadTile(u,"reloading")}}_reloadTile(r,u){return c._(this,void 0,void 0,(function*(){const m=this._tiles[r];m&&(m.state!=="loading"&&(m.state=u),yield this._loadTile(m,r,u))}))}_tileLoaded(r,u,m){r.timeAdded=L.now(),m==="expired"&&(r.refreshedUponExpiration=!0),this._setTileReloadTimer(u,r),this.getSource().type==="raster-dem"&&r.dem&&this._backfillDEM(r),this._state.initializeTileState(r,this.map?this.map.painter:null),r.aborted||this._source.fire(new c.l("data",{dataType:"source",tile:r,coord:r.tileID}))}_backfillDEM(r){const u=this.getRenderableIds();for(let _=0;_<u.length;_++){const w=u[_];if(r.neighboringTiles&&r.neighboringTiles[w]){const D=this.getTileByID(w);m(r,D),m(D,r)}}function m(_,w){_.needsHillshadePrepare=!0,_.needsTerrainPrepare=!0;let D=w.tileID.canonical.x-_.tileID.canonical.x;const k=w.tileID.canonical.y-_.tileID.canonical.y,O=Math.pow(2,_.tileID.canonical.z),N=w.tileID.key;D===0&&k===0||Math.abs(k)>1||(Math.abs(D)>1&&(Math.abs(D+O)===1?D+=O:Math.abs(D-O)===1&&(D-=O)),w.dem&&_.dem&&(_.dem.backfillBorder(w.dem,D,k),_.neighboringTiles&&_.neighboringTiles[N]&&(_.neighboringTiles[N].backfilled=!0)))}}getTile(r){return this.getTileByID(r.key)}getTileByID(r){return this._tiles[r]}_retainLoadedChildren(r,u){const m=Object.values(r),_=this._getLoadedDescendents(m);for(const w of m){const D=_[w.key];if(!D)continue;const k=w.overscaledZ+br.maxUnderzooming;let O=1/0;for(const N of D){const B=N.tileID.overscaledZ;B<=k&&B<O&&(O=B)}if(O!==1/0)for(const N of D)N.tileID.overscaledZ===O&&(u[N.tileID.key]=N.tileID)}}_getLoadedDescendents(r){var u;const m={};for(const _ in this._tiles){const w=this._tiles[_];if(w.hasData())for(const D of r)w.tileID.isChildOf(D)&&(m[u=D.key]||(m[u]=[])).push(w)}return m}findLoadedParent(r,u){if(r.key in this._loadedParentTiles){const m=this._loadedParentTiles[r.key];return m&&m.tileID.overscaledZ>=u?m:null}for(let m=r.overscaledZ-1;m>=u;m--){const _=r.scaledTo(m),w=this._getLoadedTile(_);if(w)return w}}findLoadedSibling(r){return this._getLoadedTile(r)}_getLoadedTile(r){const u=this._tiles[r.key];return u&&u.hasData()?u:this._cache.getByKey(r.wrapped().key)}updateCacheSize(r){const u=Math.ceil(r.width/this._source.tileSize)+1,m=Math.ceil(r.height/this._source.tileSize)+1,_=Math.floor(u*m*(this._maxTileCacheZoomLevels===null?c.a.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),w=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,_):_;this._cache.setMaxSize(w)}handleWrapJump(r){const u=Math.round((r-(this._prevLng===void 0?r:this._prevLng))/360);if(this._prevLng=r,u){const m={};for(const _ in this._tiles){const w=this._tiles[_];w.tileID=w.tileID.unwrapTo(w.tileID.wrap+u),m[w.tileID.key]=w}this._tiles=m;for(const _ in this._timers)clearTimeout(this._timers[_]),delete this._timers[_];for(const _ in this._tiles)this._setTileReloadTimer(_,this._tiles[_])}}_updateCoveredAndRetainedTiles(r,u,m,_){const w={},D={},k=Object.keys(r),O=L.now();for(const N of k){const B=r[N],Z=this._tiles[N];if(!Z||Z.fadeEndTime!==0&&Z.fadeEndTime<=O)continue;const G=this.findLoadedParent(B,u),J=this.findLoadedSibling(B),ie=G||J||null;ie&&(this._addTile(ie.tileID),w[ie.tileID.key]=ie.tileID),D[N]=B}this._retainLoadedChildren(D,r);for(const N in w)r[N]||(this._coveredTiles[N]=!0,r[N]=w[N]);if(_){const N={},B={};for(const Z of m)this._tiles[Z.key].hasData()?N[Z.key]=Z:B[Z.key]=Z;for(const Z in B){const G=B[Z].children(this._source.maxzoom);this._tiles[G[0].key]&&this._tiles[G[1].key]&&this._tiles[G[2].key]&&this._tiles[G[3].key]&&(N[G[0].key]=r[G[0].key]=G[0],N[G[1].key]=r[G[1].key]=G[1],N[G[2].key]=r[G[2].key]=G[2],N[G[3].key]=r[G[3].key]=G[3],delete B[Z])}for(const Z in B){const G=B[Z],J=this.findLoadedParent(G,this._source.minzoom),ie=this.findLoadedSibling(G),he=J||ie||null;if(he){N[he.tileID.key]=r[he.tileID.key]=he.tileID;for(const fe in N)N[fe].isChildOf(he.tileID)&&delete N[fe]}}for(const Z in this._tiles)N[Z]||(this._coveredTiles[Z]=!0)}}update(r,u){if(!this._sourceLoaded||this._paused)return;let m;this.transform=r,this.terrain=u,this.updateCacheSize(r),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?m=r.getVisibleUnwrappedCoordinates(this._source.tileID).map((N=>new c.Z(N.canonical.z,N.wrap,N.canonical.z,N.canonical.x,N.canonical.y))):(m=ze(r,{tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:u,calculateTileZoom:this._source.calculateTileZoom}),this._source.hasTile&&(m=m.filter((N=>this._source.hasTile(N))))):m=[];const _=zt(r,this._source),w=Math.max(_-br.maxOverzooming,this._source.minzoom);if(this.usedForTerrain){const N={};for(const B of m)if(B.canonical.z>this._source.minzoom){const Z=B.scaledTo(B.canonical.z-1);N[Z.key]=Z;const G=B.scaledTo(Math.max(this._source.minzoom,Math.min(B.canonical.z,5)));N[G.key]=G}m=m.concat(Object.values(N))}const D=m.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,D&&this.fire(new c.l("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const k=this._updateRetainedTiles(m,_);or(this._source.type)&&this._updateCoveredAndRetainedTiles(k,w,m,u);for(const N in k)this._tiles[N].clearFadeHold();const O=c.am(this._tiles,k);for(const N of O){const B=this._tiles[N];B.hasSymbolBuckets&&!B.holdingForFade()?B.setHoldDuration(this.map._fadeDuration):B.hasSymbolBuckets&&!B.symbolFadeFinished()||this._removeTile(N)}this._updateLoadedParentTileCache(),this._updateLoadedSiblingTileCache()}releaseSymbolFadeTiles(){for(const r in this._tiles)this._tiles[r].holdingForFade()&&this._removeTile(r)}_updateRetainedTiles(r,u){var m;const _={},w={},D=Math.max(u-br.maxOverzooming,this._source.minzoom),k={};for(const O of r){const N=this._addTile(O);_[O.key]=O,N.hasData()||u<this._source.maxzoom&&(k[O.key]=O)}this._retainLoadedChildren(k,_);for(const O of r){let N=this._tiles[O.key];if(N.hasData())continue;if(u+1>this._source.maxzoom){const Z=O.children(this._source.maxzoom)[0],G=this.getTile(Z);if(G&&G.hasData()){_[Z.key]=Z;continue}}else{const Z=O.children(this._source.maxzoom);if(Z.length===4&&_[Z[0].key]&&_[Z[1].key]&&_[Z[2].key]&&_[Z[3].key]||Z.length===1&&_[Z[0].key])continue}let B=N.wasRequested();for(let Z=O.overscaledZ-1;Z>=D;--Z){const G=O.scaledTo(Z);if(w[G.key])break;if(w[G.key]=!0,N=this.getTile(G),!N&&B&&(N=this._addTile(G)),N){const J=N.hasData();if((J||!(!((m=this.map)===null||m===void 0)&&m.cancelPendingTileRequestsWhileZooming)||B)&&(_[G.key]=G),B=N.wasRequested(),J)break}}}return _}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const r in this._tiles){const u=[];let m,_=this._tiles[r].tileID;for(;_.overscaledZ>0;){if(_.key in this._loadedParentTiles){m=this._loadedParentTiles[_.key];break}u.push(_.key);const w=_.scaledTo(_.overscaledZ-1);if(m=this._getLoadedTile(w),m)break;_=w}for(const w of u)this._loadedParentTiles[w]=m}}_updateLoadedSiblingTileCache(){this._loadedSiblingTiles={};for(const r in this._tiles){const u=this._tiles[r].tileID,m=this._getLoadedTile(u);this._loadedSiblingTiles[u.key]=m}}_addTile(r){let u=this._tiles[r.key];if(u)return u;u=this._cache.getAndRemove(r),u&&(this._setTileReloadTimer(r.key,u),u.tileID=r,this._state.initializeTileState(u,this.map?this.map.painter:null),this._cacheTimers[r.key]&&(clearTimeout(this._cacheTimers[r.key]),delete this._cacheTimers[r.key],this._setTileReloadTimer(r.key,u)));const m=u;return u||(u=new Ga(r,this._source.tileSize*r.overscaleFactor()),this._loadTile(u,r.key,u.state)),u.uses++,this._tiles[r.key]=u,m||this._source.fire(new c.l("dataloading",{tile:u,coord:u.tileID,dataType:"source"})),u}_setTileReloadTimer(r,u){r in this._timers&&(clearTimeout(this._timers[r]),delete this._timers[r]);const m=u.getExpiryTimeout();m&&(this._timers[r]=setTimeout((()=>{this._reloadTile(r,"expired"),delete this._timers[r]}),m))}refreshTiles(r){for(const u in this._tiles)(this._isIdRenderable(u)||this._tiles[u].state=="errored")&&r.some((m=>m.equals(this._tiles[u].tileID.canonical)))&&this._reloadTile(u,"expired")}_removeTile(r){const u=this._tiles[r];u&&(u.uses--,delete this._tiles[r],this._timers[r]&&(clearTimeout(this._timers[r]),delete this._timers[r]),u.uses>0||(u.hasData()&&u.state!=="reloading"?this._cache.add(u.tileID,u,u.getExpiryTimeout()):(u.aborted=!0,this._abortTile(u),this._unloadTile(u))))}_dataHandler(r){const u=r.sourceDataType;r.dataType==="source"&&u==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&r.dataType==="source"&&u==="content"&&(this.reload(r.sourceDataChanged),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const r in this._tiles)this._removeTile(r);this._cache.reset()}tilesIn(r,u,m){const _=[],w=this.transform;if(!w)return _;const D=w.getCoveringTilesDetailsProvider().allowWorldCopies(),k=m?w.getCameraQueryGeometry(r):r,O=J=>w.screenPointToMercatorCoordinate(J,this.terrain),N=this.transformBbox(r,O,!D),B=this.transformBbox(k,O,!D),Z=this.getIds(),G=c.a2.fromPoints(B);for(let J=0;J<Z.length;J++){const ie=this._tiles[Z[J]];if(ie.holdingForFade())continue;const he=D?[ie.tileID]:[ie.tileID.unwrapTo(-1),ie.tileID.unwrapTo(0)],fe=Math.pow(2,w.zoom-ie.tileID.overscaledZ),me=u*ie.queryPadding*c.$/ie.tileSize/fe;for(const ve of he){const we=G.map((_e=>ve.getTilePoint(new c.a1(_e.x,_e.y))));if(we.expandBy(me),we.intersects(ir)){const _e=N.map((Ee=>ve.getTilePoint(Ee))),Ae=B.map((Ee=>ve.getTilePoint(Ee)));_.push({tile:ie,tileID:D?ve:ve.unwrapTo(0),queryGeometry:_e,cameraQueryGeometry:Ae,scale:fe})}}}return _}transformBbox(r,u,m){let _=r.map(u);if(m){const w=c.a2.fromPoints(r);w.shrinkBy(.001*Math.min(w.width(),w.height()));const D=w.map(u);c.a2.fromPoints(_).covers(D)||(_=_.map((k=>k.x>.5?new c.a1(k.x-1,k.y,k.z):k)))}return _}getVisibleCoordinates(r){const u=this.getRenderableIds(r).map((m=>this._tiles[m].tileID));return this.transform&&this.transform.populateCache(u),u}hasTransition(){if(this._source.hasTransition())return!0;if(or(this._source.type)){const r=L.now();for(const u in this._tiles)if(this._tiles[u].fadeEndTime>=r)return!0}return!1}setFeatureState(r,u,m){this._state.updateState(r=r||"_geojsonTileLayer",u,m)}removeFeatureState(r,u,m){this._state.removeFeatureState(r=r||"_geojsonTileLayer",u,m)}getFeatureState(r,u){return this._state.getState(r=r||"_geojsonTileLayer",u)}setDependencies(r,u,m){const _=this._tiles[r];_&&_.setDependencies(u,m)}reloadTilesForDependencies(r,u){for(const m in this._tiles)this._tiles[m].hasDependency(r,u)&&this._reloadTile(m,"reloading");this._cache.filter((m=>!m.hasDependency(r,u)))}}function Gt(b,r){const u=Math.abs(2*b.wrap)-+(b.wrap<0),m=Math.abs(2*r.wrap)-+(r.wrap<0);return b.overscaledZ-r.overscaledZ||m-u||r.canonical.y-b.canonical.y||r.canonical.x-b.canonical.x}function or(b){return b==="raster"||b==="image"||b==="video"}br.maxOverzooming=10,br.maxUnderzooming=3;class Br{constructor(r,u){this.reset(r,u)}reset(r,u){this.points=r||[],this._distances=[0];for(let m=1;m<this.points.length;m++)this._distances[m]=this._distances[m-1]+this.points[m].dist(this.points[m-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(u||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(r){if(this.points.length===1)return this.points[0];r=c.ah(r,0,1);let u=1,m=this._distances[u];const _=r*this.paddedLength+this.padding;for(;m<_&&u<this._distances.length;)m=this._distances[++u];const w=u-1,D=this._distances[w],k=m-D,O=k>0?(_-D)/k:0;return this.points[w].mult(1-O).add(this.points[u].mult(O))}}function Jn(b,r){let u=!0;return b==="always"||b!=="never"&&r!=="never"||(u=!1),u}class aa{constructor(r,u,m){const _=this.boxCells=[],w=this.circleCells=[];this.xCellCount=Math.ceil(r/m),this.yCellCount=Math.ceil(u/m);for(let D=0;D<this.xCellCount*this.yCellCount;D++)_.push([]),w.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=r,this.height=u,this.xScale=this.xCellCount/r,this.yScale=this.yCellCount/u,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(r,u,m,_,w){this._forEachCell(u,m,_,w,this._insertBoxCell,this.boxUid++),this.boxKeys.push(r),this.bboxes.push(u),this.bboxes.push(m),this.bboxes.push(_),this.bboxes.push(w)}insertCircle(r,u,m,_){this._forEachCell(u-_,m-_,u+_,m+_,this._insertCircleCell,this.circleUid++),this.circleKeys.push(r),this.circles.push(u),this.circles.push(m),this.circles.push(_)}_insertBoxCell(r,u,m,_,w,D){this.boxCells[w].push(D)}_insertCircleCell(r,u,m,_,w,D){this.circleCells[w].push(D)}_query(r,u,m,_,w,D,k){if(m<0||r>this.width||_<0||u>this.height)return[];const O=[];if(r<=0&&u<=0&&this.width<=m&&this.height<=_){if(w)return[{key:null,x1:r,y1:u,x2:m,y2:_}];for(let N=0;N<this.boxKeys.length;N++)O.push({key:this.boxKeys[N],x1:this.bboxes[4*N],y1:this.bboxes[4*N+1],x2:this.bboxes[4*N+2],y2:this.bboxes[4*N+3]});for(let N=0;N<this.circleKeys.length;N++){const B=this.circles[3*N],Z=this.circles[3*N+1],G=this.circles[3*N+2];O.push({key:this.circleKeys[N],x1:B-G,y1:Z-G,x2:B+G,y2:Z+G})}}else this._forEachCell(r,u,m,_,this._queryCell,O,{hitTest:w,overlapMode:D,seenUids:{box:{},circle:{}}},k);return O}query(r,u,m,_){return this._query(r,u,m,_,!1,null)}hitTest(r,u,m,_,w,D){return this._query(r,u,m,_,!0,w,D).length>0}hitTestCircle(r,u,m,_,w){const D=r-m,k=r+m,O=u-m,N=u+m;if(k<0||D>this.width||N<0||O>this.height)return!1;const B=[];return this._forEachCell(D,O,k,N,this._queryCellCircle,B,{hitTest:!0,overlapMode:_,circle:{x:r,y:u,radius:m},seenUids:{box:{},circle:{}}},w),B.length>0}_queryCell(r,u,m,_,w,D,k,O){const{seenUids:N,hitTest:B,overlapMode:Z}=k,G=this.boxCells[w];if(G!==null){const ie=this.bboxes;for(const he of G)if(!N.box[he]){N.box[he]=!0;const fe=4*he,me=this.boxKeys[he];if(r<=ie[fe+2]&&u<=ie[fe+3]&&m>=ie[fe+0]&&_>=ie[fe+1]&&(!O||O(me))&&(!B||!Jn(Z,me.overlapMode))&&(D.push({key:me,x1:ie[fe],y1:ie[fe+1],x2:ie[fe+2],y2:ie[fe+3]}),B))return!0}}const J=this.circleCells[w];if(J!==null){const ie=this.circles;for(const he of J)if(!N.circle[he]){N.circle[he]=!0;const fe=3*he,me=this.circleKeys[he];if(this._circleAndRectCollide(ie[fe],ie[fe+1],ie[fe+2],r,u,m,_)&&(!O||O(me))&&(!B||!Jn(Z,me.overlapMode))){const ve=ie[fe],we=ie[fe+1],_e=ie[fe+2];if(D.push({key:me,x1:ve-_e,y1:we-_e,x2:ve+_e,y2:we+_e}),B)return!0}}}return!1}_queryCellCircle(r,u,m,_,w,D,k,O){const{circle:N,seenUids:B,overlapMode:Z}=k,G=this.boxCells[w];if(G!==null){const ie=this.bboxes;for(const he of G)if(!B.box[he]){B.box[he]=!0;const fe=4*he,me=this.boxKeys[he];if(this._circleAndRectCollide(N.x,N.y,N.radius,ie[fe+0],ie[fe+1],ie[fe+2],ie[fe+3])&&(!O||O(me))&&!Jn(Z,me.overlapMode))return D.push(!0),!0}}const J=this.circleCells[w];if(J!==null){const ie=this.circles;for(const he of J)if(!B.circle[he]){B.circle[he]=!0;const fe=3*he,me=this.circleKeys[he];if(this._circlesCollide(ie[fe],ie[fe+1],ie[fe+2],N.x,N.y,N.radius)&&(!O||O(me))&&!Jn(Z,me.overlapMode))return D.push(!0),!0}}}_forEachCell(r,u,m,_,w,D,k,O){const N=this._convertToXCellCoord(r),B=this._convertToYCellCoord(u),Z=this._convertToXCellCoord(m),G=this._convertToYCellCoord(_);for(let J=N;J<=Z;J++)for(let ie=B;ie<=G;ie++)if(w.call(this,r,u,m,_,this.xCellCount*ie+J,D,k,O))return}_convertToXCellCoord(r){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(r*this.xScale)))}_convertToYCellCoord(r){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(r*this.yScale)))}_circlesCollide(r,u,m,_,w,D){const k=_-r,O=w-u,N=m+D;return N*N>k*k+O*O}_circleAndRectCollide(r,u,m,_,w,D,k){const O=(D-_)/2,N=Math.abs(r-(_+O));if(N>O+m)return!1;const B=(k-w)/2,Z=Math.abs(u-(w+B));if(Z>B+m)return!1;if(N<=O||Z<=B)return!0;const G=N-O,J=Z-B;return G*G+J*J<=m*m}}function Qr(b,r,u){const m=c.L();if(!b){const{vecSouth:Z,vecEast:G}=sr(r),J=C();J[0]=G[0],J[1]=G[1],J[2]=Z[0],J[3]=Z[1],_=J,(B=(D=(w=J)[0])*(N=w[3])-(O=w[2])*(k=w[1]))&&(_[0]=N*(B=1/B),_[1]=-k*B,_[2]=-O*B,_[3]=D*B),m[0]=J[0],m[1]=J[1],m[4]=J[2],m[5]=J[3]}var _,w,D,k,O,N,B;return c.N(m,m,[1/u,1/u,1]),m}function rr(b,r,u,m){if(b){const _=c.L();if(!r){const{vecSouth:w,vecEast:D}=sr(u);_[0]=D[0],_[1]=D[1],_[4]=w[0],_[5]=w[1]}return c.N(_,_,[m,m,1]),_}return u.pixelsToClipSpaceMatrix}function sr(b){const r=Math.cos(b.rollInRadians),u=Math.sin(b.rollInRadians),m=Math.cos(b.pitchInRadians),_=Math.cos(b.bearingInRadians),w=Math.sin(b.bearingInRadians),D=c.ar();D[0]=-_*m*u-w*r,D[1]=-w*m*u+_*r;const k=c.as(D);k<1e-9?c.at(D):c.au(D,D,1/k);const O=c.ar();O[0]=_*m*r-w*u,O[1]=w*m*r+_*u;const N=c.as(O);return N<1e-9?c.at(O):c.au(O,O,1/N),{vecEast:O,vecSouth:D}}function pn(b,r,u,m){let _;m?(_=[b,r,m(b,r),1],c.aw(_,_,u)):(_=[b,r,0,1],ml(_,_,u));const w=_[3];return{point:new c.P(_[0]/w,_[1]/w),signedDistanceFromCamera:w,isOccluded:!1}}function Pt(b,r){return .5+b/r*.5}function ka(b,r){return b.x>=-r[0]&&b.x<=r[0]&&b.y>=-r[1]&&b.y<=r[1]}function Mn(b,r,u,m,_,w,D,k,O,N,B,Z,G){const J=u?b.textSizeData:b.iconSizeData,ie=c.an(J,r.transform.zoom),he=[256/r.width*2+1,256/r.height*2+1],fe=u?b.text.dynamicLayoutVertexArray:b.icon.dynamicLayoutVertexArray;fe.clear();const me=b.lineVertexArray,ve=u?b.text.placedSymbolArray:b.icon.placedSymbolArray,we=r.transform.width/r.transform.height;let _e=!1;for(let Ae=0;Ae<ve.length;Ae++){const Ee=ve.get(Ae);if(Ee.hidden||Ee.writingMode===c.ao.vertical&&!_e){Ro(Ee.numGlyphs,fe);continue}_e=!1;const be=new c.P(Ee.anchorX,Ee.anchorY),Ue={getElevation:G,pitchedLabelPlaneMatrix:m,lineVertexArray:me,pitchWithMap:w,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:r.transform,tileAnchorPoint:be,unwrappedTileID:O,width:N,height:B,translation:Z},Qe=mn(Ee.anchorX,Ee.anchorY,Ue);if(!ka(Qe.point,he)){Ro(Ee.numGlyphs,fe);continue}const qe=Pt(r.transform.cameraToCenterDistance,Qe.signedDistanceFromCamera),Ve=c.ap(J,ie,Ee),Xe=w?Ve*r.transform.getPitchedTextCorrection(Ee.anchorX,Ee.anchorY,O)/qe:Ve*qe,Et=Ot({projectionContext:Ue,pitchedLabelPlaneMatrixInverse:_,symbol:Ee,fontSize:Xe,flip:!1,keepUpright:D,glyphOffsetArray:b.glyphOffsetArray,dynamicLayoutVertexArray:fe,aspectRatio:we,rotateToLine:k});_e=Et.useVertical,(Et.notEnoughRoom||_e||Et.needsFlipping&&Ot({projectionContext:Ue,pitchedLabelPlaneMatrixInverse:_,symbol:Ee,fontSize:Xe,flip:!0,keepUpright:D,glyphOffsetArray:b.glyphOffsetArray,dynamicLayoutVertexArray:fe,aspectRatio:we,rotateToLine:k}).notEnoughRoom)&&Ro(Ee.numGlyphs,fe)}u?b.text.dynamicLayoutVertexBuffer.updateData(fe):b.icon.dynamicLayoutVertexBuffer.updateData(fe)}function Jo(b,r,u,m,_,w,D,k){const O=w.glyphStartIndex+w.numGlyphs,N=w.lineStartIndex,B=w.lineStartIndex+w.lineLength,Z=r.getoffsetX(w.glyphStartIndex),G=r.getoffsetX(O-1),J=pi(b*Z,u,m,_,w.segment,N,B,k,D);if(!J)return null;const ie=pi(b*G,u,m,_,w.segment,N,B,k,D);return ie?k.projectionCache.anyProjectionOccluded?null:{first:J,last:ie}:null}function Eo(b,r,u,m){return b===c.ao.horizontal&&Math.abs(u.y-r.y)>Math.abs(u.x-r.x)*m?{useVertical:!0}:(b===c.ao.vertical?r.y<u.y:r.x>u.x)?{needsFlipping:!0}:null}function Ot(b){const{projectionContext:r,pitchedLabelPlaneMatrixInverse:u,symbol:m,fontSize:_,flip:w,keepUpright:D,glyphOffsetArray:k,dynamicLayoutVertexArray:O,aspectRatio:N,rotateToLine:B}=b,Z=_/24,G=m.lineOffsetX*Z,J=m.lineOffsetY*Z;let ie;if(m.numGlyphs>1){const he=m.glyphStartIndex+m.numGlyphs,fe=m.lineStartIndex,me=m.lineStartIndex+m.lineLength,ve=Jo(Z,k,G,J,w,m,B,r);if(!ve)return{notEnoughRoom:!0};const we=Zi(ve.first.point.x,ve.first.point.y,r,u),_e=Zi(ve.last.point.x,ve.last.point.y,r,u);if(D&&!w){const Ae=Eo(m.writingMode,we,_e,N);if(Ae)return Ae}ie=[ve.first];for(let Ae=m.glyphStartIndex+1;Ae<he-1;Ae++){const Ee=pi(Z*k.getoffsetX(Ae),G,J,w,m.segment,fe,me,r,B);if(!Ee)return{notEnoughRoom:!0};ie.push(Ee)}ie.push(ve.last)}else{if(D&&!w){const fe=qn(r.tileAnchorPoint.x,r.tileAnchorPoint.y,r).point,me=m.lineStartIndex+m.segment+1,ve=new c.P(r.lineVertexArray.getx(me),r.lineVertexArray.gety(me)),we=qn(ve.x,ve.y,r),_e=we.signedDistanceFromCamera>0?we.point:mr(r.tileAnchorPoint,ve,fe,1,r),Ae=Zi(fe.x,fe.y,r,u),Ee=Zi(_e.x,_e.y,r,u),be=Eo(m.writingMode,Ae,Ee,N);if(be)return be}const he=pi(Z*k.getoffsetX(m.glyphStartIndex),G,J,w,m.segment,m.lineStartIndex,m.lineStartIndex+m.lineLength,r,B);if(!he||r.projectionCache.anyProjectionOccluded)return{notEnoughRoom:!0};ie=[he]}for(const he of ie)c.av(O,he.point,he.angle);return{}}function mr(b,r,u,m,_){const w=b.add(b.sub(r)._unit()),D=qn(w.x,w.y,_).point,k=u.sub(D);return u.add(k._mult(m/k.mag()))}function ur(b,r,u){const m=r.projectionCache;if(m.projections[b])return m.projections[b];const _=new c.P(r.lineVertexArray.getx(b),r.lineVertexArray.gety(b)),w=qn(_.x,_.y,r);if(w.signedDistanceFromCamera>0)return m.projections[b]=w.point,m.anyProjectionOccluded=m.anyProjectionOccluded||w.isOccluded,w.point;const D=b-u.direction;return mr(u.distanceFromAnchor===0?r.tileAnchorPoint:new c.P(r.lineVertexArray.getx(D),r.lineVertexArray.gety(D)),_,u.previousVertex,u.absOffsetX-u.distanceFromAnchor+1,r)}function qn(b,r,u){const m=b+u.translation[0],_=r+u.translation[1];let w;return u.pitchWithMap?(w=pn(m,_,u.pitchedLabelPlaneMatrix,u.getElevation),w.isOccluded=!1):(w=u.transform.projectTileCoordinates(m,_,u.unwrappedTileID,u.getElevation),w.point.x=(.5*w.point.x+.5)*u.width,w.point.y=(.5*-w.point.y+.5)*u.height),w}function Zi(b,r,u,m){if(u.pitchWithMap){const _=[b,r,0,1];return c.aw(_,_,m),u.transform.projectTileCoordinates(_[0]/_[3],_[1]/_[3],u.unwrappedTileID,u.getElevation).point}return{x:b/u.width*2-1,y:1-r/u.height*2}}function mn(b,r,u){return u.transform.projectTileCoordinates(b,r,u.unwrappedTileID,u.getElevation)}function yr(b,r,u){return b._unit()._perp()._mult(r*u)}function pu(b,r,u,m,_,w,D,k,O){if(k.projectionCache.offsets[b])return k.projectionCache.offsets[b];const N=u.add(r);if(b+O.direction<m||b+O.direction>=_)return k.projectionCache.offsets[b]=N,N;const B=ur(b+O.direction,k,O),Z=yr(B.sub(u),D,O.direction),G=u.add(Z),J=B.add(Z);return k.projectionCache.offsets[b]=c.ax(w,N,G,J)||N,k.projectionCache.offsets[b]}function pi(b,r,u,m,_,w,D,k,O){const N=m?b-r:b+r;let B=N>0?1:-1,Z=0;m&&(B*=-1,Z=Math.PI),B<0&&(Z+=Math.PI);let G,J=B>0?w+_:w+_+1;k.projectionCache.cachedAnchorPoint?G=k.projectionCache.cachedAnchorPoint:(G=qn(k.tileAnchorPoint.x,k.tileAnchorPoint.y,k).point,k.projectionCache.cachedAnchorPoint=G);let ie,he,fe=G,me=G,ve=0,we=0;const _e=Math.abs(N),Ae=[];let Ee;for(;ve+we<=_e;){if(J+=B,J<w||J>=D)return null;ve+=we,me=fe,he=ie;const Qe={absOffsetX:_e,direction:B,distanceFromAnchor:ve,previousVertex:me};if(fe=ur(J,k,Qe),u===0)Ae.push(me),Ee=fe.sub(me);else{let qe;const Ve=fe.sub(me);qe=Ve.mag()===0?yr(ur(J+B,k,Qe).sub(fe),u,B):yr(Ve,u,B),he||(he=me.add(qe)),ie=pu(J,qe,fe,w,D,he,u,k,Qe),Ae.push(he),Ee=ie.sub(he)}we=Ee.mag()}const be=Ee._mult((_e-ve)/we)._add(he||me),Ue=Z+Math.atan2(fe.y-me.y,fe.x-me.x);return Ae.push(be),{point:be,angle:O?Ue:0,path:Ae}}const es=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Ro(b,r){for(let u=0;u<b;u++){const m=r.length;r.resize(m+4),r.float32.set(es,3*m)}}function ml(b,r,u){const m=r[0],_=r[1];return b[0]=u[0]*m+u[4]*_+u[12],b[1]=u[1]*m+u[5]*_+u[13],b[3]=u[3]*m+u[7]*_+u[15],b}const Tn=100;class Ch{constructor(r,u=new aa(r.width+200,r.height+200,25),m=new aa(r.width+200,r.height+200,25)){this.transform=r,this.grid=u,this.ignoredGrid=m,this.pitchFactor=Math.cos(r.pitch*Math.PI/180)*r.cameraToCenterDistance,this.screenRightBoundary=r.width+Tn,this.screenBottomBoundary=r.height+Tn,this.gridRightBoundary=r.width+200,this.gridBottomBoundary=r.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(r,u,m,_,w,D,k,O,N,B,Z,G){const J=this.projectAndGetPerspectiveRatio(r.anchorPointX+O[0],r.anchorPointY+O[1],w,B,G),ie=m*J.perspectiveRatio;let he;if(D||k)he=this._projectCollisionBox(r,ie,_,w,D,k,O,J,B,Z,G);else{const Ee=J.x+(Z?Z.x*ie:0),be=J.y+(Z?Z.y*ie:0);he={allPointsOccluded:!1,box:[Ee+r.x1*ie,be+r.y1*ie,Ee+r.x2*ie,be+r.y2*ie]}}const[fe,me,ve,we]=he.box,_e=D?he.allPointsOccluded:J.isOccluded;let Ae=_e;return Ae||(Ae=J.perspectiveRatio<this.perspectiveRatioCutoff),Ae||(Ae=!this.isInsideGrid(fe,me,ve,we)),Ae||u!=="always"&&this.grid.hitTest(fe,me,ve,we,u,N)?{box:[fe,me,ve,we],placeable:!1,offscreen:!1,occluded:_e}:{box:[fe,me,ve,we],placeable:!0,offscreen:this.isOffscreen(fe,me,ve,we),occluded:_e}}placeCollisionCircles(r,u,m,_,w,D,k,O,N,B,Z,G,J,ie){const he=[],fe=new c.P(u.anchorX,u.anchorY),me=this.getPerspectiveRatio(fe.x,fe.y,D,ie),ve=(N?w*this.transform.getPitchedTextCorrection(u.anchorX,u.anchorY,D)/me:w*me)/c.aB,we={getElevation:ie,pitchedLabelPlaneMatrix:k,lineVertexArray:m,pitchWithMap:N,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:this.transform,tileAnchorPoint:fe,unwrappedTileID:D,width:this.transform.width,height:this.transform.height,translation:J},_e=Jo(ve,_,u.lineOffsetX*ve,u.lineOffsetY*ve,!1,u,!1,we);let Ae=!1,Ee=!1,be=!0;if(_e){const Ue=.5*Z*me+G,Qe=new c.P(-100,-100),qe=new c.P(this.screenRightBoundary,this.screenBottomBoundary),Ve=new Br,Xe=_e.first,Et=_e.last;let Mt=[];for(let vr=Xe.path.length-1;vr>=1;vr--)Mt.push(Xe.path[vr]);for(let vr=1;vr<Et.path.length;vr++)Mt.push(Et.path[vr]);const ft=2.5*Ue;if(N){const vr=this.projectPathToScreenSpace(Mt,we);Mt=vr.some((kr=>kr.signedDistanceFromCamera<=0))?[]:vr.map((kr=>kr.point))}let Ht=[];if(Mt.length>0){const vr=Mt[0].clone(),kr=Mt[0].clone();for(let hn=1;hn<Mt.length;hn++)vr.x=Math.min(vr.x,Mt[hn].x),vr.y=Math.min(vr.y,Mt[hn].y),kr.x=Math.max(kr.x,Mt[hn].x),kr.y=Math.max(kr.y,Mt[hn].y);Ht=vr.x>=Qe.x&&kr.x<=qe.x&&vr.y>=Qe.y&&kr.y<=qe.y?[Mt]:kr.x<Qe.x||vr.x>qe.x||kr.y<Qe.y||vr.y>qe.y?[]:c.ay([Mt],Qe.x,Qe.y,qe.x,qe.y)}for(const vr of Ht){Ve.reset(vr,.25*Ue);let kr=0;kr=Ve.length<=.5*Ue?1:Math.ceil(Ve.paddedLength/ft)+1;for(let hn=0;hn<kr;hn++){const Gr=hn/Math.max(kr-1,1),Zr=Ve.lerp(Gr),rn=Zr.x+Tn,Kr=Zr.y+Tn;he.push(rn,Kr,Ue,0);const Yr=rn-Ue,Mr=Kr-Ue,ra=rn+Ue,Wn=Kr+Ue;if(be=be&&this.isOffscreen(Yr,Mr,ra,Wn),Ee=Ee||this.isInsideGrid(Yr,Mr,ra,Wn),r!=="always"&&this.grid.hitTestCircle(rn,Kr,Ue,r,B)&&(Ae=!0,!O))return{circles:[],offscreen:!1,collisionDetected:Ae}}}}return{circles:!O&&Ae||!Ee||me<this.perspectiveRatioCutoff?[]:he,offscreen:be,collisionDetected:Ae}}projectPathToScreenSpace(r,u){const m=(function(_,w){const D=c.L();return c.aq(D,w.pitchedLabelPlaneMatrix),_.map((k=>{const O=pn(k.x,k.y,D,w.getElevation),N=w.transform.projectTileCoordinates(O.point.x,O.point.y,w.unwrappedTileID,w.getElevation);return N.point.x=(.5*N.point.x+.5)*w.width,N.point.y=(.5*-N.point.y+.5)*w.height,N}))})(r,u);return(function(_){let w=0,D=0,k=0,O=0;for(let N=0;N<_.length;N++)_[N].isOccluded?(k=N+1,O=0):(O++,O>D&&(D=O,w=k));return _.slice(w,w+D)})(m)}queryRenderedSymbols(r){if(r.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const u=[],m=new c.a2;for(const Z of r){const G=new c.P(Z.x+Tn,Z.y+Tn);m.extend(G),u.push(G)}const{minX:_,minY:w,maxX:D,maxY:k}=m,O=this.grid.query(_,w,D,k).concat(this.ignoredGrid.query(_,w,D,k)),N={},B={};for(const Z of O){const G=Z.key;if(N[G.bucketInstanceId]===void 0&&(N[G.bucketInstanceId]={}),N[G.bucketInstanceId][G.featureIndex])continue;const J=[new c.P(Z.x1,Z.y1),new c.P(Z.x2,Z.y1),new c.P(Z.x2,Z.y2),new c.P(Z.x1,Z.y2)];c.az(u,J)&&(N[G.bucketInstanceId][G.featureIndex]=!0,B[G.bucketInstanceId]===void 0&&(B[G.bucketInstanceId]=[]),B[G.bucketInstanceId].push(G.featureIndex))}return B}insertCollisionBox(r,u,m,_,w,D){(m?this.ignoredGrid:this.grid).insert({bucketInstanceId:_,featureIndex:w,collisionGroupID:D,overlapMode:u},r[0],r[1],r[2],r[3])}insertCollisionCircles(r,u,m,_,w,D){const k=m?this.ignoredGrid:this.grid,O={bucketInstanceId:_,featureIndex:w,collisionGroupID:D,overlapMode:u};for(let N=0;N<r.length;N+=4)k.insertCircle(O,r[N],r[N+1],r[N+2])}projectAndGetPerspectiveRatio(r,u,m,_,w){if(w){let D;_?(D=[r,u,_(r,u),1],c.aw(D,D,w)):(D=[r,u,0,1],ml(D,D,w));const k=D[3];return{x:(D[0]/k+1)/2*this.transform.width+Tn,y:(-D[1]/k+1)/2*this.transform.height+Tn,perspectiveRatio:.5+this.transform.cameraToCenterDistance/k*.5,isOccluded:!1,signedDistanceFromCamera:k}}{const D=this.transform.projectTileCoordinates(r,u,m,_);return{x:(D.point.x+1)/2*this.transform.width+Tn,y:(1-D.point.y)/2*this.transform.height+Tn,perspectiveRatio:.5+this.transform.cameraToCenterDistance/D.signedDistanceFromCamera*.5,isOccluded:D.isOccluded,signedDistanceFromCamera:D.signedDistanceFromCamera}}}getPerspectiveRatio(r,u,m,_){const w=this.transform.projectTileCoordinates(r,u,m,_);return .5+this.transform.cameraToCenterDistance/w.signedDistanceFromCamera*.5}isOffscreen(r,u,m,_){return m<Tn||r>=this.screenRightBoundary||_<Tn||u>this.screenBottomBoundary}isInsideGrid(r,u,m,_){return m>=0&&r<this.gridRightBoundary&&_>=0&&u<this.gridBottomBoundary}getViewportMatrix(){const r=c.ag([]);return c.M(r,r,[-100,-100,0]),r}_projectCollisionBox(r,u,m,_,w,D,k,O,N,B,Z){let G=1,J=0,ie=0,he=1;const fe=r.anchorPointX+k[0],me=r.anchorPointY+k[1];if(D&&!w){const Mt=this.projectAndGetPerspectiveRatio(fe+1,me,_,N,Z),ft=Mt.x-O.x,Ht=Math.atan((Mt.y-O.y)/ft)+(ft<0?Math.PI:0),vr=Math.sin(Ht),kr=Math.cos(Ht);G=kr,J=vr,ie=-vr,he=kr}else if(!D&&w){const Mt=sr(this.transform);G=Mt.vecEast[0],J=Mt.vecEast[1],ie=Mt.vecSouth[0],he=Mt.vecSouth[1]}let ve=O.x,we=O.y,_e=u;w&&(ve=fe,we=me,_e=Math.pow(2,-(this.transform.zoom-m.overscaledZ)),_e*=this.transform.getPitchedTextCorrection(fe,me,_),B||(_e*=c.ah(.5+O.signedDistanceFromCamera/this.transform.cameraToCenterDistance*.5,0,4))),B&&(ve+=G*B.x*_e+ie*B.y*_e,we+=J*B.x*_e+he*B.y*_e);const Ae=r.x1*_e,Ee=r.x2*_e,be=(Ae+Ee)/2,Ue=r.y1*_e,Qe=r.y2*_e,qe=(Ue+Qe)/2,Ve=[{offsetX:Ae,offsetY:Ue},{offsetX:be,offsetY:Ue},{offsetX:Ee,offsetY:Ue},{offsetX:Ee,offsetY:qe},{offsetX:Ee,offsetY:Qe},{offsetX:be,offsetY:Qe},{offsetX:Ae,offsetY:Qe},{offsetX:Ae,offsetY:qe}];let Xe=[];for(const{offsetX:Mt,offsetY:ft}of Ve)Xe.push(new c.P(ve+G*Mt+ie*ft,we+J*Mt+he*ft));let Et=!1;if(w){const Mt=Xe.map((ft=>this.projectAndGetPerspectiveRatio(ft.x,ft.y,_,N,Z)));Et=Mt.some((ft=>!ft.isOccluded)),Xe=Mt.map((ft=>new c.P(ft.x,ft.y)))}else Et=!0;return{box:c.aA(Xe),allPointsOccluded:!Et}}}class Sa{constructor(r,u,m,_){this.opacity=r?Math.max(0,Math.min(1,r.opacity+(r.placed?u:-u))):_&&m?1:0,this.placed=m}isHidden(){return this.opacity===0&&!this.placed}}class qr{constructor(r,u,m,_,w){this.text=new Sa(r?r.text:null,u,m,w),this.icon=new Sa(r?r.icon:null,u,_,w)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Io{constructor(r,u,m){this.text=r,this.icon=u,this.skipFade=m}}class yl{constructor(r,u,m,_,w){this.bucketInstanceId=r,this.featureIndex=u,this.sourceLayerIndex=m,this.bucketIndex=_,this.tileID=w}}class Dh{constructor(r){this.crossSourceCollisions=r,this.maxGroupID=0,this.collisionGroups={}}get(r){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[r]){const u=++this.maxGroupID;this.collisionGroups[r]={ID:u,predicate:m=>m.collisionGroupID===u}}return this.collisionGroups[r]}}function Ei(b,r,u,m,_){const{horizontalAlign:w,verticalAlign:D}=c.aH(b);return new c.P(-(w-.5)*r+m[0]*_,-(D-.5)*u+m[1]*_)}class ko{constructor(r,u,m,_,w){this.transform=r.clone(),this.terrain=u,this.collisionIndex=new Ch(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=m,this.retainedQueryData={},this.collisionGroups=new Dh(_),this.collisionCircleArrays={},this.collisionBoxArrays=new Map,this.prevPlacement=w,w&&(w.prevPlacement=void 0),this.placedOrientations={}}_getTerrainElevationFunc(r){const u=this.terrain;return u?(m,_)=>u.getElevation(r,m,_):null}getBucketParts(r,u,m,_){const w=m.getBucket(u),D=m.latestFeatureIndex;if(!w||!D||u.id!==w.layerIds[0])return;const k=m.collisionBoxArray,O=w.layers[0].layout,N=w.layers[0].paint,B=Math.pow(2,this.transform.zoom-m.tileID.overscaledZ),Z=m.tileSize/c.$,G=m.tileID.toUnwrapped(),J=O.get("text-rotation-alignment")==="map",ie=c.aC(m,1,this.transform.zoom),he=c.aD(this.collisionIndex.transform,m,N.get("text-translate"),N.get("text-translate-anchor")),fe=c.aD(this.collisionIndex.transform,m,N.get("icon-translate"),N.get("icon-translate-anchor")),me=Qr(J,this.transform,ie);this.retainedQueryData[w.bucketInstanceId]=new yl(w.bucketInstanceId,D,w.sourceLayerIndex,w.index,m.tileID);const ve={bucket:w,layout:O,translationText:he,translationIcon:fe,unwrappedTileID:G,pitchedLabelPlaneMatrix:me,scale:B,textPixelRatio:Z,holdingForFade:m.holdingForFade(),collisionBoxArray:k,partiallyEvaluatedTextSize:c.an(w.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(w.sourceID)};if(_)for(const we of w.sortKeyRanges){const{sortKey:_e,symbolInstanceStart:Ae,symbolInstanceEnd:Ee}=we;r.push({sortKey:_e,symbolInstanceStart:Ae,symbolInstanceEnd:Ee,parameters:ve})}else r.push({symbolInstanceStart:0,symbolInstanceEnd:w.symbolInstances.length,parameters:ve})}attemptAnchorPlacement(r,u,m,_,w,D,k,O,N,B,Z,G,J,ie,he,fe,me,ve,we,_e){const Ae=c.aE[r.textAnchor],Ee=[r.textOffset0,r.textOffset1],be=Ei(Ae,m,_,Ee,w),Ue=this.collisionIndex.placeCollisionBox(u,G,O,N,B,k,D,fe,Z.predicate,we,be,_e);if((!ve||this.collisionIndex.placeCollisionBox(ve,G,O,N,B,k,D,me,Z.predicate,we,be,_e).placeable)&&Ue.placeable){let Qe;if(this.prevPlacement&&this.prevPlacement.variableOffsets[J.crossTileID]&&this.prevPlacement.placements[J.crossTileID]&&this.prevPlacement.placements[J.crossTileID].text&&(Qe=this.prevPlacement.variableOffsets[J.crossTileID].anchor),J.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[J.crossTileID]={textOffset:Ee,width:m,height:_,anchor:Ae,textBoxScale:w,prevAnchor:Qe},this.markUsedJustification(ie,Ae,J,he),ie.allowVerticalPlacement&&(this.markUsedOrientation(ie,he,J),this.placedOrientations[J.crossTileID]=he),{shift:be,placedGlyphBoxes:Ue}}}placeLayerBucketPart(r,u,m){const{bucket:_,layout:w,translationText:D,translationIcon:k,unwrappedTileID:O,pitchedLabelPlaneMatrix:N,textPixelRatio:B,holdingForFade:Z,collisionBoxArray:G,partiallyEvaluatedTextSize:J,collisionGroup:ie}=r.parameters,he=w.get("text-optional"),fe=w.get("icon-optional"),me=c.aF(w,"text-overlap","text-allow-overlap"),ve=me==="always",we=c.aF(w,"icon-overlap","icon-allow-overlap"),_e=we==="always",Ae=w.get("text-rotation-alignment")==="map",Ee=w.get("text-pitch-alignment")==="map",be=w.get("icon-text-fit")!=="none",Ue=w.get("symbol-z-order")==="viewport-y",Qe=ve&&(_e||!_.hasIconData()||fe),qe=_e&&(ve||!_.hasTextData()||he);!_.collisionArrays&&G&&_.deserializeCollisionBoxes(G);const Ve=this.retainedQueryData[_.bucketInstanceId].tileID,Xe=this._getTerrainElevationFunc(Ve),Et=this.transform.getFastPathSimpleProjectionMatrix(Ve),Mt=(ft,Ht,vr)=>{var kr,hn;if(u[ft.crossTileID])return;if(Z)return void(this.placements[ft.crossTileID]=new Io(!1,!1,!1));let Gr=!1,Zr=!1,rn=!0,Kr=null,Yr={box:null,placeable:!1,offscreen:null,occluded:!1},Mr={placeable:!1},ra=null,Wn=null,ni=null,el=0,ms=0,ai=0;Ht.textFeatureIndex?el=Ht.textFeatureIndex:ft.useRuntimeCollisionCircles&&(el=ft.featureIndex),Ht.verticalTextFeatureIndex&&(ms=Ht.verticalTextFeatureIndex);const ys=Ht.textBox;if(ys){const ga=jr=>{let gn=c.ao.horizontal;if(_.allowVerticalPlacement&&!jr&&this.prevPlacement){const Fa=this.prevPlacement.placedOrientations[ft.crossTileID];Fa&&(this.placedOrientations[ft.crossTileID]=Fa,gn=Fa,this.markUsedOrientation(_,gn,ft))}return gn},$o=(jr,gn)=>{if(_.allowVerticalPlacement&&ft.numVerticalGlyphVertices>0&&Ht.verticalTextBox){for(const Fa of _.writingModes)if(Fa===c.ao.vertical?(Yr=gn(),Mr=Yr):Yr=jr(),Yr&&Yr.placeable)break}else Yr=jr()},Ho=ft.textAnchorOffsetStartIndex,rl=ft.textAnchorOffsetEndIndex;if(rl===Ho){const jr=(gn,Fa)=>{const Rn=this.collisionIndex.placeCollisionBox(gn,me,B,Ve,O,Ee,Ae,D,ie.predicate,Xe,void 0,Et);return Rn&&Rn.placeable&&(this.markUsedOrientation(_,Fa,ft),this.placedOrientations[ft.crossTileID]=Fa),Rn};$o((()=>jr(ys,c.ao.horizontal)),(()=>{const gn=Ht.verticalTextBox;return _.allowVerticalPlacement&&ft.numVerticalGlyphVertices>0&&gn?jr(gn,c.ao.vertical):{box:null,offscreen:null}})),ga(Yr&&Yr.placeable)}else{let jr=c.aE[(hn=(kr=this.prevPlacement)===null||kr===void 0?void 0:kr.variableOffsets[ft.crossTileID])===null||hn===void 0?void 0:hn.anchor];const gn=(Rn,Qh,Xh)=>{const Wc=Rn.x2-Rn.x1,vo=Rn.y2-Rn.y1,Vo=ft.textBoxScale,Ln=be&&we==="never"?Qh:null;let In=null,Wo=me==="never"?1:2,vs="never";jr&&Wo++;for(let _s=0;_s<Wo;_s++){for(let Ki=Ho;Ki<rl;Ki++){const zn=_.textAnchorOffsets.get(Ki);if(jr&&zn.textAnchor!==jr)continue;const Bl=this.attemptAnchorPlacement(zn,Rn,Wc,vo,Vo,Ae,Ee,B,Ve,O,ie,vs,ft,_,Xh,D,k,Ln,Xe);if(Bl&&(In=Bl.placedGlyphBoxes,In&&In.placeable))return Gr=!0,Kr=Bl.shift,In}jr?jr=null:vs=me}return m&&!In&&(In={box:this.collisionIndex.placeCollisionBox(ys,"always",B,Ve,O,Ee,Ae,D,ie.predicate,Xe,void 0,Et).box,offscreen:!1,placeable:!1,occluded:!1}),In};$o((()=>gn(ys,Ht.iconBox,c.ao.horizontal)),(()=>{const Rn=Ht.verticalTextBox;return _.allowVerticalPlacement&&(!Yr||!Yr.placeable)&&ft.numVerticalGlyphVertices>0&&Rn?gn(Rn,Ht.verticalIconBox,c.ao.vertical):{box:null,occluded:!0,offscreen:null}})),Yr&&(Gr=Yr.placeable,rn=Yr.offscreen);const Fa=ga(Yr&&Yr.placeable);if(!Gr&&this.prevPlacement){const Rn=this.prevPlacement.variableOffsets[ft.crossTileID];Rn&&(this.variableOffsets[ft.crossTileID]=Rn,this.markUsedJustification(_,Rn.anchor,ft,Fa))}}}if(ra=Yr,Gr=ra&&ra.placeable,rn=ra&&ra.offscreen,ft.useRuntimeCollisionCircles){const ga=_.text.placedSymbolArray.get(ft.centerJustifiedTextSymbolIndex),$o=c.ap(_.textSizeData,J,ga),Ho=w.get("text-padding");Wn=this.collisionIndex.placeCollisionCircles(me,ga,_.lineVertexArray,_.glyphOffsetArray,$o,O,N,m,Ee,ie.predicate,ft.collisionCircleDiameter,Ho,D,Xe),Wn.circles.length&&Wn.collisionDetected&&!m&&c.w("Collisions detected, but collision boxes are not shown"),Gr=ve||Wn.circles.length>0&&!Wn.collisionDetected,rn=rn&&Wn.offscreen}if(Ht.iconFeatureIndex&&(ai=Ht.iconFeatureIndex),Ht.iconBox){const ga=$o=>this.collisionIndex.placeCollisionBox($o,we,B,Ve,O,Ee,Ae,k,ie.predicate,Xe,be&&Kr?Kr:void 0,Et);Mr&&Mr.placeable&&Ht.verticalIconBox?(ni=ga(Ht.verticalIconBox),Zr=ni.placeable):(ni=ga(Ht.iconBox),Zr=ni.placeable),rn=rn&&ni.offscreen}const tl=he||ft.numHorizontalGlyphVertices===0&&ft.numVerticalGlyphVertices===0,Hu=fe||ft.numIconVertices===0;tl||Hu?Hu?tl||(Zr=Zr&&Gr):Gr=Zr&&Gr:Zr=Gr=Zr&&Gr;const gs=Zr&&ni.placeable;if(Gr&&ra.placeable&&this.collisionIndex.insertCollisionBox(ra.box,me,w.get("text-ignore-placement"),_.bucketInstanceId,Mr&&Mr.placeable&&ms?ms:el,ie.ID),gs&&this.collisionIndex.insertCollisionBox(ni.box,we,w.get("icon-ignore-placement"),_.bucketInstanceId,ai,ie.ID),Wn&&Gr&&this.collisionIndex.insertCollisionCircles(Wn.circles,me,w.get("text-ignore-placement"),_.bucketInstanceId,el,ie.ID),m&&this.storeCollisionData(_.bucketInstanceId,vr,Ht,ra,ni,Wn),ft.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(_.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[ft.crossTileID]=new Io((Gr||Qe)&&!ra?.occluded,(Zr||qe)&&!ni?.occluded,rn||_.justReloaded),u[ft.crossTileID]=!0};if(Ue){if(r.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const ft=_.getSortedSymbolIndexes(-this.transform.bearingInRadians);for(let Ht=ft.length-1;Ht>=0;--Ht){const vr=ft[Ht];Mt(_.symbolInstances.get(vr),_.collisionArrays[vr],vr)}}else for(let ft=r.symbolInstanceStart;ft<r.symbolInstanceEnd;ft++)Mt(_.symbolInstances.get(ft),_.collisionArrays[ft],ft);_.justReloaded=!1}storeCollisionData(r,u,m,_,w,D){if(m.textBox||m.iconBox){let k,O;this.collisionBoxArrays.has(r)?k=this.collisionBoxArrays.get(r):(k=new Map,this.collisionBoxArrays.set(r,k)),k.has(u)?O=k.get(u):(O={text:null,icon:null},k.set(u,O)),m.textBox&&(O.text=_.box),m.iconBox&&(O.icon=w.box)}if(D){let k=this.collisionCircleArrays[r];k===void 0&&(k=this.collisionCircleArrays[r]=[]);for(let O=0;O<D.circles.length;O+=4)k.push(D.circles[O+0]-Tn),k.push(D.circles[O+1]-Tn),k.push(D.circles[O+2]),k.push(D.collisionDetected?1:0)}}markUsedJustification(r,u,m,_){let w;w=_===c.ao.vertical?m.verticalPlacedTextSymbolIndex:{left:m.leftJustifiedTextSymbolIndex,center:m.centerJustifiedTextSymbolIndex,right:m.rightJustifiedTextSymbolIndex}[c.aG(u)];const D=[m.leftJustifiedTextSymbolIndex,m.centerJustifiedTextSymbolIndex,m.rightJustifiedTextSymbolIndex,m.verticalPlacedTextSymbolIndex];for(const k of D)k>=0&&(r.text.placedSymbolArray.get(k).crossTileID=w>=0&&k!==w?0:m.crossTileID)}markUsedOrientation(r,u,m){const _=u===c.ao.horizontal||u===c.ao.horizontalOnly?u:0,w=u===c.ao.vertical?u:0,D=[m.leftJustifiedTextSymbolIndex,m.centerJustifiedTextSymbolIndex,m.rightJustifiedTextSymbolIndex];for(const k of D)r.text.placedSymbolArray.get(k).placedOrientation=_;m.verticalPlacedTextSymbolIndex&&(r.text.placedSymbolArray.get(m.verticalPlacedTextSymbolIndex).placedOrientation=w)}commit(r){this.commitTime=r,this.zoomAtLastRecencyCheck=this.transform.zoom;const u=this.prevPlacement;let m=!1;this.prevZoomAdjustment=u?u.zoomAdjustment(this.transform.zoom):0;const _=u?u.symbolFadeChange(r):1,w=u?u.opacities:{},D=u?u.variableOffsets:{},k=u?u.placedOrientations:{};for(const O in this.placements){const N=this.placements[O],B=w[O];B?(this.opacities[O]=new qr(B,_,N.text,N.icon),m=m||N.text!==B.text.placed||N.icon!==B.icon.placed):(this.opacities[O]=new qr(null,_,N.text,N.icon,N.skipFade),m=m||N.text||N.icon)}for(const O in w){const N=w[O];if(!this.opacities[O]){const B=new qr(N,_,!1,!1);B.isHidden()||(this.opacities[O]=B,m=m||N.text.placed||N.icon.placed)}}for(const O in D)this.variableOffsets[O]||!this.opacities[O]||this.opacities[O].isHidden()||(this.variableOffsets[O]=D[O]);for(const O in k)this.placedOrientations[O]||!this.opacities[O]||this.opacities[O].isHidden()||(this.placedOrientations[O]=k[O]);if(u&&u.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");m?this.lastPlacementChangeTime=r:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=u?u.lastPlacementChangeTime:r)}updateLayerOpacities(r,u){const m={};for(const _ of u){const w=_.getBucket(r);w&&_.latestFeatureIndex&&r.id===w.layerIds[0]&&this.updateBucketOpacities(w,_.tileID,m,_.collisionBoxArray)}}updateBucketOpacities(r,u,m,_){r.hasTextData()&&(r.text.opacityVertexArray.clear(),r.text.hasVisibleVertices=!1),r.hasIconData()&&(r.icon.opacityVertexArray.clear(),r.icon.hasVisibleVertices=!1),r.hasIconCollisionBoxData()&&r.iconCollisionBox.collisionVertexArray.clear(),r.hasTextCollisionBoxData()&&r.textCollisionBox.collisionVertexArray.clear();const w=r.layers[0],D=w.layout,k=new qr(null,0,!1,!1,!0),O=D.get("text-allow-overlap"),N=D.get("icon-allow-overlap"),B=w._unevaluatedLayout.hasValue("text-variable-anchor")||w._unevaluatedLayout.hasValue("text-variable-anchor-offset"),Z=D.get("text-rotation-alignment")==="map",G=D.get("text-pitch-alignment")==="map",J=D.get("icon-text-fit")!=="none",ie=new qr(null,0,O&&(N||!r.hasIconData()||D.get("icon-optional")),N&&(O||!r.hasTextData()||D.get("text-optional")),!0);!r.collisionArrays&&_&&(r.hasIconCollisionBoxData()||r.hasTextCollisionBoxData())&&r.deserializeCollisionBoxes(_);const he=(me,ve,we)=>{for(let _e=0;_e<ve/4;_e++)me.opacityVertexArray.emplaceBack(we);me.hasVisibleVertices=me.hasVisibleVertices||we!==vc},fe=this.collisionBoxArrays.get(r.bucketInstanceId);for(let me=0;me<r.symbolInstances.length;me++){const ve=r.symbolInstances.get(me),{numHorizontalGlyphVertices:we,numVerticalGlyphVertices:_e,crossTileID:Ae}=ve;let Ee=this.opacities[Ae];m[Ae]?Ee=k:Ee||(Ee=ie,this.opacities[Ae]=Ee),m[Ae]=!0;const be=ve.numIconVertices>0,Ue=this.placedOrientations[ve.crossTileID],Qe=Ue===c.ao.vertical,qe=Ue===c.ao.horizontal||Ue===c.ao.horizontalOnly;if(we>0||_e>0){const Xe=gc(Ee.text);he(r.text,we,Qe?vc:Xe),he(r.text,_e,qe?vc:Xe);const Et=Ee.text.isHidden();[ve.rightJustifiedTextSymbolIndex,ve.centerJustifiedTextSymbolIndex,ve.leftJustifiedTextSymbolIndex].forEach((Ht=>{Ht>=0&&(r.text.placedSymbolArray.get(Ht).hidden=Et||Qe?1:0)})),ve.verticalPlacedTextSymbolIndex>=0&&(r.text.placedSymbolArray.get(ve.verticalPlacedTextSymbolIndex).hidden=Et||qe?1:0);const Mt=this.variableOffsets[ve.crossTileID];Mt&&this.markUsedJustification(r,Mt.anchor,ve,Ue);const ft=this.placedOrientations[ve.crossTileID];ft&&(this.markUsedJustification(r,"left",ve,ft),this.markUsedOrientation(r,ft,ve))}if(be){const Xe=gc(Ee.icon),Et=!(J&&ve.verticalPlacedIconSymbolIndex&&Qe);ve.placedIconSymbolIndex>=0&&(he(r.icon,ve.numIconVertices,Et?Xe:vc),r.icon.placedSymbolArray.get(ve.placedIconSymbolIndex).hidden=Ee.icon.isHidden()),ve.verticalPlacedIconSymbolIndex>=0&&(he(r.icon,ve.numVerticalIconVertices,Et?vc:Xe),r.icon.placedSymbolArray.get(ve.verticalPlacedIconSymbolIndex).hidden=Ee.icon.isHidden())}const Ve=fe&&fe.has(me)?fe.get(me):{text:null,icon:null};if(r.hasIconCollisionBoxData()||r.hasTextCollisionBoxData()){const Xe=r.collisionArrays[me];if(Xe){let Et=new c.P(0,0);if(Xe.textBox||Xe.verticalTextBox){let Mt=!0;if(B){const ft=this.variableOffsets[Ae];ft?(Et=Ei(ft.anchor,ft.width,ft.height,ft.textOffset,ft.textBoxScale),Z&&Et._rotate(G?-this.transform.bearingInRadians:this.transform.bearingInRadians)):Mt=!1}if(Xe.textBox||Xe.verticalTextBox){let ft;Xe.textBox&&(ft=Qe),Xe.verticalTextBox&&(ft=qe),mu(r.textCollisionBox.collisionVertexArray,Ee.text.placed,!Mt||ft,Ve.text,Et.x,Et.y)}}if(Xe.iconBox||Xe.verticalIconBox){const Mt=!!(!qe&&Xe.verticalIconBox);let ft;Xe.iconBox&&(ft=Mt),Xe.verticalIconBox&&(ft=!Mt),mu(r.iconCollisionBox.collisionVertexArray,Ee.icon.placed,ft,Ve.icon,J?Et.x:0,J?Et.y:0)}}}}if(r.sortFeatures(-this.transform.bearingInRadians),this.retainedQueryData[r.bucketInstanceId]&&(this.retainedQueryData[r.bucketInstanceId].featureSortOrder=r.featureSortOrder),r.hasTextData()&&r.text.opacityVertexBuffer&&r.text.opacityVertexBuffer.updateData(r.text.opacityVertexArray),r.hasIconData()&&r.icon.opacityVertexBuffer&&r.icon.opacityVertexBuffer.updateData(r.icon.opacityVertexArray),r.hasIconCollisionBoxData()&&r.iconCollisionBox.collisionVertexBuffer&&r.iconCollisionBox.collisionVertexBuffer.updateData(r.iconCollisionBox.collisionVertexArray),r.hasTextCollisionBoxData()&&r.textCollisionBox.collisionVertexBuffer&&r.textCollisionBox.collisionVertexBuffer.updateData(r.textCollisionBox.collisionVertexArray),r.text.opacityVertexArray.length!==r.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${r.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${r.text.layoutVertexArray.length}) / 4`);if(r.icon.opacityVertexArray.length!==r.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${r.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${r.icon.layoutVertexArray.length}) / 4`);r.bucketInstanceId in this.collisionCircleArrays&&(r.collisionCircleArray=this.collisionCircleArrays[r.bucketInstanceId],delete this.collisionCircleArrays[r.bucketInstanceId])}symbolFadeChange(r){return this.fadeDuration===0?1:(r-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(r){return Math.max(0,(this.transform.zoom-r)/1.5)}hasTransitions(r){return this.stale||r-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(r,u){const m=this.zoomAtLastRecencyCheck===u?1-this.zoomAdjustment(u):1;return this.zoomAtLastRecencyCheck=u,this.commitTime+this.fadeDuration*m>r}setStale(){this.stale=!0}}function mu(b,r,u,m,_,w){m&&m.length!==0||(m=[0,0,0,0]);const D=m[0]-Tn,k=m[1]-Tn,O=m[2]-Tn,N=m[3]-Tn;b.emplaceBack(r?1:0,u?1:0,_||0,w||0,D,k),b.emplaceBack(r?1:0,u?1:0,_||0,w||0,O,k),b.emplaceBack(r?1:0,u?1:0,_||0,w||0,O,N),b.emplaceBack(r?1:0,u?1:0,_||0,w||0,D,N)}const up=Math.pow(2,25),kf=Math.pow(2,24),wa=Math.pow(2,17),Of=Math.pow(2,16),jm=Math.pow(2,9),Mh=Math.pow(2,8),hp=Math.pow(2,1);function gc(b){if(b.opacity===0&&!b.placed)return 0;if(b.opacity===1&&b.placed)return 4294967295;const r=b.placed?1:0,u=Math.floor(127*b.opacity);return u*up+r*kf+u*wa+r*Of+u*jm+r*Mh+u*hp+r}const vc=0;class mi{constructor(r){this._sortAcrossTiles=r.layout.get("symbol-z-order")!=="viewport-y"&&!r.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(r,u,m,_,w){const D=this._bucketParts;for(;this._currentTileIndex<r.length;)if(u.getBucketParts(D,_,r[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,w())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,D.sort(((k,O)=>k.sortKey-O.sortKey)));this._currentPartIndex<D.length;)if(u.placeLayerBucketPart(D[this._currentPartIndex],this._seenCrossTileIDs,m),this._currentPartIndex++,w())return!0;return!1}}class yu{constructor(r,u,m,_,w,D,k,O){this.placement=new ko(r,u,D,k,O),this._currentPlacementIndex=m.length-1,this._forceFullPlacement=_,this._showCollisionBoxes=w,this._done=!1}isDone(){return this._done}continuePlacement(r,u,m){const _=L.now(),w=()=>!this._forceFullPlacement&&L.now()-_>2;for(;this._currentPlacementIndex>=0;){const D=u[r[this._currentPlacementIndex]],k=this.placement.collisionIndex.transform.zoom;if(D.type==="symbol"&&(!D.minzoom||D.minzoom<=k)&&(!D.maxzoom||D.maxzoom>k)){if(this._inProgressLayer||(this._inProgressLayer=new mi(D)),this._inProgressLayer.continuePlacement(m[D.source],this.placement,this._showCollisionBoxes,D,w))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(r){return this.placement.commit(r),this.placement}}const gl=512/c.$/2;class gu{constructor(r,u,m){this.tileID=r,this.bucketInstanceId=m,this._symbolsByKey={};const _=new Map;for(let w=0;w<u.length;w++){const D=u.get(w),k=D.key,O=_.get(k);O?O.push(D):_.set(k,[D])}for(const[w,D]of _){const k={positions:D.map((O=>({x:Math.floor(O.anchorX*gl),y:Math.floor(O.anchorY*gl)}))),crossTileIDs:D.map((O=>O.crossTileID))};if(k.positions.length>128){const O=new c.aI(k.positions.length,16,Uint16Array);for(const{x:N,y:B}of k.positions)O.add(N,B);O.finish(),delete k.positions,k.index=O}this._symbolsByKey[w]=k}}getScaledCoordinates(r,u){const{x:m,y:_,z:w}=this.tileID.canonical,{x:D,y:k,z:O}=u.canonical,N=gl/Math.pow(2,O-w),B=(k*c.$+r.anchorY)*N,Z=_*c.$*gl;return{x:Math.floor((D*c.$+r.anchorX)*N-m*c.$*gl),y:Math.floor(B-Z)}}findMatches(r,u,m){const _=this.tileID.canonical.z<u.canonical.z?1:Math.pow(2,this.tileID.canonical.z-u.canonical.z);for(let w=0;w<r.length;w++){const D=r.get(w);if(D.crossTileID)continue;const k=this._symbolsByKey[D.key];if(!k)continue;const O=this.getScaledCoordinates(D,u);if(k.index){const N=k.index.range(O.x-_,O.y-_,O.x+_,O.y+_).sort();for(const B of N){const Z=k.crossTileIDs[B];if(!m[Z]){m[Z]=!0,D.crossTileID=Z;break}}}else if(k.positions)for(let N=0;N<k.positions.length;N++){const B=k.positions[N],Z=k.crossTileIDs[N];if(Math.abs(B.x-O.x)<=_&&Math.abs(B.y-O.y)<=_&&!m[Z]){m[Z]=!0,D.crossTileID=Z;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map((({crossTileIDs:r})=>r))}}class Ls{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class fp{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(r){const u=Math.round((r-this.lng)/360);if(u!==0)for(const m in this.indexes){const _=this.indexes[m],w={};for(const D in _){const k=_[D];k.tileID=k.tileID.unwrapTo(k.tileID.wrap+u),w[k.tileID.key]=k}this.indexes[m]=w}this.lng=r}addBucket(r,u,m){if(this.indexes[r.overscaledZ]&&this.indexes[r.overscaledZ][r.key]){if(this.indexes[r.overscaledZ][r.key].bucketInstanceId===u.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(r.overscaledZ,this.indexes[r.overscaledZ][r.key])}for(let w=0;w<u.symbolInstances.length;w++)u.symbolInstances.get(w).crossTileID=0;this.usedCrossTileIDs[r.overscaledZ]||(this.usedCrossTileIDs[r.overscaledZ]={});const _=this.usedCrossTileIDs[r.overscaledZ];for(const w in this.indexes){const D=this.indexes[w];if(Number(w)>r.overscaledZ)for(const k in D){const O=D[k];O.tileID.isChildOf(r)&&O.findMatches(u.symbolInstances,r,_)}else{const k=D[r.scaledTo(Number(w)).key];k&&k.findMatches(u.symbolInstances,r,_)}}for(let w=0;w<u.symbolInstances.length;w++){const D=u.symbolInstances.get(w);D.crossTileID||(D.crossTileID=m.generate(),_[D.crossTileID]=!0)}return this.indexes[r.overscaledZ]===void 0&&(this.indexes[r.overscaledZ]={}),this.indexes[r.overscaledZ][r.key]=new gu(r,u.symbolInstances,u.bucketInstanceId),!0}removeBucketCrossTileIDs(r,u){for(const m of u.getCrossTileIDsLists())for(const _ of m)delete this.usedCrossTileIDs[r][_]}removeStaleBuckets(r){let u=!1;for(const m in this.indexes){const _=this.indexes[m];for(const w in _)r[_[w].bucketInstanceId]||(this.removeBucketCrossTileIDs(m,_[w]),delete _[w],u=!0)}return u}}class vl{constructor(){this.layerIndexes={},this.crossTileIDs=new Ls,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(r,u,m){let _=this.layerIndexes[r.id];_===void 0&&(_=this.layerIndexes[r.id]=new fp);let w=!1;const D={};_.handleWrapJump(m);for(const k of u){const O=k.getBucket(r);O&&r.id===O.layerIds[0]&&(O.bucketInstanceId||(O.bucketInstanceId=++this.maxBucketInstanceId),_.addBucket(k.tileID,O,this.crossTileIDs)&&(w=!0),D[O.bucketInstanceId]=!0)}return _.removeStaleBuckets(D)&&(w=!0),w}pruneUnusedLayers(r){const u={};r.forEach((m=>{u[m]=!0}));for(const m in this.layerIndexes)u[m]||delete this.layerIndexes[m]}}var Oo="void main() {fragColor=vec4(1.0);}";const ao={prelude:xr(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
out highp vec4 fragColor;`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}mat3 rotationMatrixFromAxisAngle(vec3 u,float angle) {float c=cos(angle);float s=sin(angle);float c2=1.0-c;return mat3(u.x*u.x*c2+      c,u.x*u.y*c2-u.z*s,u.x*u.z*c2+u.y*s,u.y*u.x*c2+u.z*s,u.y*u.y*c2+    c,u.y*u.z*c2-u.x*s,u.z*u.x*c2-u.y*s,u.z*u.y*c2+u.x*s,u.z*u.z*c2+    c
);}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
#ifdef GLOBE
if ((pos.y <-32767.5) || (pos.y > 32766.5)) {return 0.0;}
#endif
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}const float PI=3.141592653589793;uniform mat4 u_projection_matrix;`),projectionMercator:xr("","float projectLineThickness(float tileY) {return 1.0;}float projectCircleRadius(float tileY) {return 1.0;}vec4 projectTile(vec2 p) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);return result;}vec4 projectTile(vec2 p,vec2 rawPos) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);if (rawPos.y <-32767.5 || rawPos.y > 32766.5) {result.z=-10000000.0;}return result;}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_projection_matrix*vec4(posInTile,elevation,1.0);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {return projectTileWithElevation(posInTile,elevation);}"),projectionGlobe:xr("",`#define GLOBE_RADIUS 6371008.8
uniform highp vec4 u_projection_tile_mercator_coords;uniform highp vec4 u_projection_clipping_plane;uniform highp float u_projection_transition;uniform mat4 u_projection_fallback_matrix;vec3 globeRotateVector(vec3 vec,vec2 angles) {vec3 axisRight=vec3(vec.z,0.0,-vec.x);vec3 axisUp=cross(axisRight,vec);axisRight=normalize(axisRight);axisUp=normalize(axisUp);vec2 t=tan(angles);return normalize(vec+axisRight*t.x+axisUp*t.y);}mat3 globeGetRotationMatrix(vec3 spherePos) {vec3 axisRight=vec3(spherePos.z,0.0,-spherePos.x);vec3 axisDown=cross(axisRight,spherePos);axisRight=normalize(axisRight);axisDown=normalize(axisDown);return mat3(axisRight,axisDown,spherePos
);}float circumferenceRatioAtTileY(float tileY) {float mercator_pos_y=u_projection_tile_mercator_coords.y+u_projection_tile_mercator_coords.w*tileY;float spherical_y=2.0*atan(exp(PI-(mercator_pos_y*PI*2.0)))-PI*0.5;return cos(spherical_y);}float projectLineThickness(float tileY) {float thickness=1.0/circumferenceRatioAtTileY(tileY); 
if (u_projection_transition < 0.999) {return mix(1.0,thickness,u_projection_transition);} else {return thickness;}}vec3 projectToSphere(vec2 translatedPos,vec2 rawPos) {vec2 mercator_pos=u_projection_tile_mercator_coords.xy+u_projection_tile_mercator_coords.zw*translatedPos;vec2 spherical;spherical.x=mercator_pos.x*PI*2.0+PI;spherical.y=2.0*atan(exp(PI-(mercator_pos.y*PI*2.0)))-PI*0.5;float len=cos(spherical.y);vec3 pos=vec3(sin(spherical.x)*len,sin(spherical.y),cos(spherical.x)*len
);if (rawPos.y <-32767.5) {pos=vec3(0.0,1.0,0.0);}if (rawPos.y > 32766.5) {pos=vec3(0.0,-1.0,0.0);}return pos;}vec3 projectToSphere(vec2 posInTile) {return projectToSphere(posInTile,vec2(0.0,0.0));}float globeComputeClippingZ(vec3 spherePos) {return (1.0-(dot(spherePos,u_projection_clipping_plane.xyz)+u_projection_clipping_plane.w));}vec4 interpolateProjection(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);globePosition.z=globeComputeClippingZ(elevatedPos)*globePosition.w;if (u_projection_transition > 0.999) {return globePosition;}vec4 flatPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);const float z_globeness_threshold=0.2;vec4 result=globePosition;result.z=mix(0.0,globePosition.z,clamp((u_projection_transition-z_globeness_threshold)/(1.0-z_globeness_threshold),0.0,1.0));result.xyw=mix(flatPosition.xyw,globePosition.xyw,u_projection_transition);if ((posInTile.y <-32767.5) || (posInTile.y > 32766.5)) {result=globePosition;const float poles_hidden_anim_percentage=0.02;result.z=mix(globePosition.z,100.0,pow(max((1.0-u_projection_transition)/poles_hidden_anim_percentage,0.0),8.0));}return result;}vec4 interpolateProjectionFor3D(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);if (u_projection_transition > 0.999) {return globePosition;}vec4 fallbackPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);return mix(fallbackPosition,globePosition,u_projection_transition);}vec4 projectTile(vec2 posInTile) {return interpolateProjection(posInTile,projectToSphere(posInTile),0.0);}vec4 projectTile(vec2 posInTile,vec2 rawPos) {return interpolateProjection(posInTile,projectToSphere(posInTile,rawPos),0.0);}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return interpolateProjection(posInTile,projectToSphere(posInTile),elevation);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {vec3 spherePos=projectToSphere(posInTile,posInTile);return interpolateProjectionFor3D(posInTile,spherePos,elevation);}`),background:xr(`uniform vec4 u_color;uniform float u_opacity;void main() {fragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),backgroundPattern:xr(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;void main() {gl_Position=projectTile(a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:xr(`in vec3 v_data;in float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);float antialiased_blur=v_data.z;float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));fragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);const float epsilon=0.5/255.0;if (fragColor.r < epsilon && fragColor.g < epsilon && fragColor.b < epsilon && fragColor.a < epsilon) {discard;}
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform highp float u_globe_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;uniform vec2 u_translate;in vec2 a_pos;out vec3 v_data;out float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 pos_raw=a_pos+32768.0;vec2 extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);vec2 circle_center=floor(pos_raw/8.0)+u_translate;float ele=get_elevation(circle_center);v_visibility=calculate_visibility(projectTileWithElevation(circle_center,ele));if (u_pitch_with_map) {
#ifdef GLOBE
vec3 center_vector=projectToSphere(circle_center);
#endif
float angle_scale=u_globe_extrude_scale;vec2 corner_position=circle_center;if (u_scale_with_map) {angle_scale*=(radius+stroke_width);corner_position+=extrude*u_extrude_scale*(radius+stroke_width);} else {
#ifdef GLOBE
vec4 projected_center=interpolateProjection(circle_center,center_vector,ele);
#else
vec4 projected_center=projectTileWithElevation(circle_center,ele);
#endif
corner_position+=extrude*u_extrude_scale*(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);angle_scale*=(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);}
#ifdef GLOBE
vec2 angles=extrude*angle_scale;vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(corner_position,corner_vector,ele);
#else
gl_Position=projectTileWithElevation(corner_position,ele);
#endif
} else {gl_Position=projectTileWithElevation(circle_center,ele);if (gl_Position.z/gl_Position.w > 1.0) {gl_Position.xy=vec2(10000.0);}if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}float antialiasblur=-max(1.0/u_device_pixel_ratio/(radius+stroke_width),blur);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:xr(Oo,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),heatmap:xr(`uniform highp float u_intensity;in vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);fragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;uniform highp float u_globe_extrude_scale;in vec2 a_pos;out vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 pos_raw=a_pos+32768.0;vec2 unscaled_extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 circle_center=floor(pos_raw/8.0);
#ifdef GLOBE
vec2 angles=v_extrude*radius*u_globe_extrude_scale;vec3 center_vector=projectToSphere(circle_center);vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(circle_center+extrude,corner_vector,0.0);
#else
gl_Position=projectTileFor3D(circle_center+extrude,get_elevation(circle_center));
#endif
}`),heatmapTexture:xr(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;in vec2 v_pos;void main() {float t=texture(u_image,v_pos).r;vec4 color=texture(u_color_ramp,vec2(t,0.5));fragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:xr("in float v_placed;in float v_notUsed;void main() {float alpha=0.5;fragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {fragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {fragColor*=.1;}}","in vec2 a_anchor_pos;in vec2 a_placed;in vec2 a_box_real;uniform vec2 u_pixel_extrude_scale;out float v_placed;out float v_notUsed;void main() {gl_Position=projectTileWithElevation(a_anchor_pos,get_elevation(a_anchor_pos));gl_Position.xy=((a_box_real+0.5)*u_pixel_extrude_scale*2.0-1.0)*vec2(1.0,-1.0)*gl_Position.w;if (gl_Position.z/gl_Position.w < 1.1) {gl_Position.z=0.5;}v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:xr("in float v_radius;in vec2 v_extrude;in float v_collision;void main() {float alpha=0.5;float stroke_radius=0.9;float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);fragColor=color*alpha*opacity_t;}","in vec2 a_pos;in float a_radius;in vec2 a_flags;uniform vec2 u_viewport_size;out float v_radius;out vec2 v_extrude;out float v_collision;void main() {float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_collision=collision;gl_Position=vec4((a_pos/u_viewport_size*2.0-1.0)*vec2(1.0,-1.0),0.0,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),colorRelief:xr(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;uniform vec4 u_unpack;uniform sampler2D u_elevation_stops;uniform sampler2D u_color_stops;uniform int u_color_ramp_size;uniform float u_opacity;in vec2 v_pos;float getElevation(vec2 coord) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack);}float getElevationStop(int stop) {float x=(float(stop)+0.5)/float(u_color_ramp_size);vec4 data=texture(u_elevation_stops,vec2(x,0))*255.0;data.a=-1.0;return dot(data,u_unpack);}void main() {float el=getElevation(v_pos);int r=(u_color_ramp_size-1);int l=0;float el_l=getElevationStop(l);float el_r=getElevationStop(r);while(r-l > 1){int m=(r+l)/2;float el_m=getElevationStop(m);if(el < el_m){r=m;el_r=el_m;}else
{l=m;el_l=el_m;}}float x=(float(l)+(el-el_l)/(el_r-el_l)+0.5)/float(u_color_ramp_size);fragColor=u_opacity*texture(u_color_stops,vec2(x,0));
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform vec2 u_dimension;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_pos/8192.0)*scale+epsilon;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),debug:xr("uniform highp vec4 u_color;uniform sampler2D u_overlay;in vec2 v_uv;void main() {vec4 overlay_color=texture(u_overlay,v_uv);fragColor=mix(u_color,overlay_color,overlay_color.a);}","in vec2 a_pos;out vec2 v_uv;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=projectTileWithElevation(a_pos*u_overlay_scale,get_elevation(a_pos));}"),depth:xr(Oo,`in vec2 a_pos;void main() {
#ifdef GLOBE
gl_Position=projectTileFor3D(a_pos,0.0);
#else
gl_Position=u_projection_matrix*vec4(a_pos,0.0,1.0);
#endif
}`),fill:xr(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
fragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_fill_translate;in vec2 a_pos;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);}`),fillOutline:xr(`in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=outline_color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillOutlinePattern:xr(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;in vec2 v_pos_a;in vec2 v_pos_b;in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillPattern:xr(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:xr(`in vec4 v_color;void main() {fragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
out vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;vec3 normalForLighting=normal/16384.0;float directional=clamp(dot(normalForLighting,u_lightpos),0.0,1.0);
#ifdef GLOBE
mat3 rotMatrix=globeGetRotationMatrix(spherePos);normalForLighting=rotMatrix*normalForLighting;directional=mix(directional,clamp(dot(normalForLighting,u_lightpos_globe),0.0,1.0),u_projection_transition);
#endif
directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:xr(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;in vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);fragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
#ifdef GLOBE
out vec3 v_sphere_pos;
#endif
out vec2 v_pos_a;out vec2 v_pos_b;out vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);v_sphere_pos=elevatedPos;gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,elevation*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:xr(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack);}void main() {vec2 epsilon=1.0/u_dimension;float tileSize=u_dimension.x-2.0;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))*tileSize/pow(2.0,exaggeration+(28.2562-u_zoom));fragColor=clamp(vec4(deriv.x/8.0+0.5,deriv.y/8.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:xr(`uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_latrange;uniform float u_exaggeration;uniform vec4 u_accent;uniform int u_method;uniform float u_altitudes[NUM_ILLUMINATION_SOURCES];uniform float u_azimuths[NUM_ILLUMINATION_SOURCES];uniform vec4 u_shadows[NUM_ILLUMINATION_SOURCES];uniform vec4 u_highlights[NUM_ILLUMINATION_SOURCES];
#define PI 3.141592653589793
#define STANDARD 0
#define COMBINED 1
#define IGOR 2
#define MULTIDIRECTIONAL 3
#define BASIC 4
float get_aspect(vec2 deriv){return deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);}void igor_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float aspect=get_aspect(deriv);float azimuth=u_azimuths[0]+PI;float slope_stength=atan(length(deriv))*2.0/PI;float aspect_strength=1.0-abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);float shadow_strength=slope_stength*aspect_strength;float highlight_strength=slope_stength*(1.0-aspect_strength);fragColor=u_shadows[0]*shadow_strength+u_highlights[0]*highlight_strength;}void standard_hillshade(vec2 deriv){float azimuth=u_azimuths[0]+PI;float slope=atan(0.625*length(deriv));float aspect=get_aspect(deriv);float intensity=u_exaggeration;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadows[0],u_highlights[0],shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);fragColor=accent_color*(1.0-shade_color.a)+shade_color;}void basic_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor=u_highlights[0]*(2.0*shade-1.0);}else
{fragColor=u_shadows[0]*(1.0-2.0*shade);}}void multidirectional_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;fragColor=vec4(0,0,0,0);for(int i=0; i < NUM_ILLUMINATION_SOURCES; i++){float cos_alt=cos(u_altitudes[i]);float sin_alt=sin(u_altitudes[i]);float cos_az=-cos(u_azimuths[i]);float sin_az=-sin(u_azimuths[i]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor+=u_highlights[i]*(2.0*shade-1.0)/float(NUM_ILLUMINATION_SOURCES);}else
{fragColor+=u_shadows[i]*(1.0-2.0*shade)/float(NUM_ILLUMINATION_SOURCES);}}}void combined_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=acos((sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv)));cang=clamp(cang,0.0,PI/2.0);float shade=cang*atan(length(deriv))*4.0/PI/PI;float highlight=(PI/2.0-cang)*atan(length(deriv))*4.0/PI/PI;fragColor=u_shadows[0]*shade+u_highlights[0]*highlight;}void main() {vec4 pixel=texture(u_image,v_pos);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));vec2 deriv=((pixel.rg*8.0)-4.0)/scaleFactor;if (u_method==BASIC) {basic_hillshade(deriv);} else if (u_method==COMBINED) {combined_hillshade(deriv);} else if (u_method==IGOR) {igor_hillshade(deriv);} else if (u_method==MULTIDIRECTIONAL) {multidirectional_hillshade(deriv);} else if (u_method==STANDARD) {standard_hillshade(deriv);} else {standard_hillshade(deriv);}
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);v_pos=a_pos/8192.0;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),line:xr(`uniform lowp float u_device_pixel_ratio;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp float v_linesofar;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:xr(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;in highp vec2 v_uv;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture(u_image,v_uv);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;in float a_uv_x;in float a_split_index;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec2 v_uv;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:xr(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;in vec2 v_normal;in vec2 v_width2;in float v_linesofar;in float v_gamma_scale;in float v_width;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture(u_image,pos_a),texture(u_image,pos_b),u_fade);fragColor=color*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_linesofar;out float v_gamma_scale;out float v_width;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:xr(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;in vec2 v_normal;in vec2 v_width2;in vec2 v_tex_a;in vec2 v_tex_b;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture(u_image,v_tex_a).a;float sdfdist_b=texture(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;out vec2 v_normal;out vec2 v_width2;out vec2 v_tex_a;out vec2 v_tex_b;out float v_gamma_scale;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:xr(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;in vec2 v_pos0;in vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture(u_image0,v_pos0);vec4 color1=texture(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);fragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;uniform vec4 u_coords_top;uniform vec4 u_coords_bottom;in vec2 a_pos;out vec2 v_pos0;out vec2 v_pos1;void main() {vec2 fractionalPos=a_pos/8192.0;vec2 position=mix(mix(u_coords_top.xy,u_coords_top.zw,fractionalPos.x),mix(u_coords_bottom.xy,u_coords_bottom.zw,fractionalPos.x),fractionalPos.y);gl_Position=projectTile(position,position);v_pos0=((fractionalPos-0.5)/u_buffer_scale)+0.5;
#ifdef GLOBE
if (a_pos.y <-32767.5) {v_pos0.y=0.0;}if (a_pos.y > 32766.5) {v_pos0.y=1.0;}
#endif
v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}`),symbolIcon:xr(`uniform sampler2D u_texture;in vec2 v_tex;in float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;fragColor=texture(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_tex;out float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}gl_Position=finalPos;v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:xr(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;in vec2 v_data0;in vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_data0;out vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:xr(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;in vec4 v_data0;in vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;fragColor=texture(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec4 v_data0;out vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map && !u_is_along_line) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:xr("uniform sampler2D u_texture;uniform vec4 u_fog_color;uniform vec4 u_horizon_color;uniform float u_fog_ground_blend;uniform float u_fog_ground_blend_opacity;uniform float u_horizon_fog_blend;uniform bool u_is_globe_mode;in vec2 v_texture_pos;in float v_fog_depth;const float gamma=2.2;vec4 gammaToLinear(vec4 color) {return pow(color,vec4(gamma));}vec4 linearToGamma(vec4 color) {return pow(color,vec4(1.0/gamma));}void main() {vec4 surface_color=texture(u_texture,vec2(v_texture_pos.x,1.0-v_texture_pos.y));if (!u_is_globe_mode && v_fog_depth > u_fog_ground_blend) {vec4 surface_color_linear=gammaToLinear(surface_color);float blend_color=smoothstep(0.0,1.0,max((v_fog_depth-u_horizon_fog_blend)/(1.0-u_horizon_fog_blend),0.0));vec4 fog_horizon_color_linear=mix(gammaToLinear(u_fog_color),gammaToLinear(u_horizon_color),blend_color);float factor_fog=max(v_fog_depth-u_fog_ground_blend,0.0)/(1.0-u_fog_ground_blend);fragColor=linearToGamma(mix(surface_color_linear,fog_horizon_color_linear,pow(factor_fog,2.0)*u_fog_ground_blend_opacity));} else {fragColor=surface_color;}}","in vec3 a_pos3d;uniform mat4 u_fog_matrix;uniform float u_ele_delta;out vec2 v_texture_pos;out float v_fog_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta);vec4 pos=u_fog_matrix*vec4(a_pos3d.xy,ele,1.0);v_fog_depth=pos.z/pos.w*0.5+0.5;}"),terrainDepth:xr("in float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {fragColor=pack(v_depth);}","in vec3 a_pos3d;uniform float u_ele_delta;out float v_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);v_depth=gl_Position.z/gl_Position.w;}"),terrainCoords:xr("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;in vec2 v_texture_pos;void main() {vec4 rgba=texture(u_texture,v_texture_pos);fragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}","in vec3 a_pos3d;uniform float u_ele_delta;out vec2 v_texture_pos;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);}"),projectionErrorMeasurement:xr("in vec4 v_output_error_encoded;void main() {fragColor=v_output_error_encoded;}","in vec2 a_pos;uniform highp float u_input;uniform highp float u_output_expected;out vec4 v_output_error_encoded;void main() {float real_output=2.0*atan(exp(PI-(u_input*PI*2.0)))-PI*0.5;float error=real_output-u_output_expected;float abs_error=abs(error)*128.0;v_output_error_encoded.x=min(floor(abs_error*256.0),255.0)/255.0;abs_error-=v_output_error_encoded.x;v_output_error_encoded.y=min(floor(abs_error*65536.0),255.0)/255.0;abs_error-=v_output_error_encoded.x/255.0;v_output_error_encoded.z=min(floor(abs_error*16777216.0),255.0)/255.0;v_output_error_encoded.w=error >=0.0 ? 1.0 : 0.0;gl_Position=vec4(a_pos,0.0,1.0);}"),atmosphere:xr(`in vec3 view_direction;uniform vec3 u_sun_pos;uniform vec3 u_globe_position;uniform float u_globe_radius;uniform float u_atmosphere_blend;/**Shader use from https:*Made some change to adapt to MapLibre Globe geometry*/const float PI=3.141592653589793;const int iSteps=5;const int jSteps=3;/*radius of the planet*/const float EARTH_RADIUS=6371e3;/*radius of the atmosphere*/const float ATMOS_RADIUS=6471e3;vec2 rsi(vec3 r0,vec3 rd,float sr) {float a=dot(rd,rd);float b=2.0*dot(rd,r0);float c=dot(r0,r0)-(sr*sr);float d=(b*b)-4.0*a*c;if (d < 0.0) return vec2(1e5,-1e5);return vec2((-b-sqrt(d))/(2.0*a),(-b+sqrt(d))/(2.0*a));}vec4 atmosphere(vec3 r,vec3 r0,vec3 pSun,float iSun,float rPlanet,float rAtmos,vec3 kRlh,float kMie,float shRlh,float shMie,float g) {pSun=normalize(pSun);r=normalize(r);vec2 p=rsi(r0,r,rAtmos);if (p.x > p.y) {return vec4(0.0,0.0,0.0,1.0);}if (p.x < 0.0) {p.x=0.0;}vec3 pos=r0+r*p.x;vec2 p2=rsi(r0,r,rPlanet);if (p2.x <=p2.y && p2.x > 0.0) {p.y=min(p.y,p2.x);}float iStepSize=(p.y-p.x)/float(iSteps);float iTime=p.x+iStepSize*0.5;vec3 totalRlh=vec3(0,0,0);vec3 totalMie=vec3(0,0,0);float iOdRlh=0.0;float iOdMie=0.0;float mu=dot(r,pSun);float mumu=mu*mu;float gg=g*g;float pRlh=3.0/(16.0*PI)*(1.0+mumu);float pMie=3.0/(8.0*PI)*((1.0-gg)*(mumu+1.0))/(pow(1.0+gg-2.0*mu*g,1.5)*(2.0+gg));for (int i=0; i < iSteps; i++) {vec3 iPos=r0+r*iTime;float iHeight=length(iPos)-rPlanet;float odStepRlh=exp(-iHeight/shRlh)*iStepSize;float odStepMie=exp(-iHeight/shMie)*iStepSize;iOdRlh+=odStepRlh;iOdMie+=odStepMie;float jStepSize=rsi(iPos,pSun,rAtmos).y/float(jSteps);float jTime=jStepSize*0.5;float jOdRlh=0.0;float jOdMie=0.0;for (int j=0; j < jSteps; j++) {vec3 jPos=iPos+pSun*jTime;float jHeight=length(jPos)-rPlanet;jOdRlh+=exp(-jHeight/shRlh)*jStepSize;jOdMie+=exp(-jHeight/shMie)*jStepSize;jTime+=jStepSize;}vec3 attn=exp(-(kMie*(iOdMie+jOdMie)+kRlh*(iOdRlh+jOdRlh)));totalRlh+=odStepRlh*attn;totalMie+=odStepMie*attn;iTime+=iStepSize;}float opacity=exp(-(length(kRlh)*length(totalRlh)+kMie*length(totalMie)));vec3 color=iSun*(pRlh*kRlh*totalRlh+pMie*kMie*totalMie);return vec4(color,opacity);}void main() {vec3 scale_camera_pos=-u_globe_position*EARTH_RADIUS/u_globe_radius;vec4 color=atmosphere(normalize(view_direction),scale_camera_pos,u_sun_pos,22.0,EARTH_RADIUS,ATMOS_RADIUS,vec3(5.5e-6,13.0e-6,22.4e-6),21e-6,8e3,1.2e3,0.758
);color.rgb=1.0-exp(-1.0*color.rgb);color=pow(color,vec4(1.0/2.2));fragColor=vec4(color.rgb,1.0-color.a)*u_atmosphere_blend;}`,"in vec2 a_pos;uniform mat4 u_inv_proj_matrix;out vec3 view_direction;void main() {view_direction=(u_inv_proj_matrix*vec4(a_pos,0.0,1.0)).xyz;gl_Position=vec4(a_pos,0.0,1.0);}"),sky:xr("uniform vec4 u_sky_color;uniform vec4 u_horizon_color;uniform vec2 u_horizon;uniform vec2 u_horizon_normal;uniform float u_sky_horizon_blend;uniform float u_sky_blend;void main() {float x=gl_FragCoord.x;float y=gl_FragCoord.y;float blend=(y-u_horizon.y)*u_horizon_normal.y+(x-u_horizon.x)*u_horizon_normal.x;if (blend > 0.0) {if (blend < u_sky_horizon_blend) {fragColor=mix(u_sky_color,u_horizon_color,pow(1.0-blend/u_sky_horizon_blend,2.0));} else {fragColor=u_sky_color;}}fragColor=mix(fragColor,vec4(vec3(0.0),0.0),u_sky_blend);}","in vec2 a_pos;void main() {gl_Position=vec4(a_pos,1.0,1.0);}")};function xr(b,r){const u=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,m=r.match(/in ([\w]+) ([\w]+)/g),_=b.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),w=r.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),D=w?w.concat(_):_,k={};return{fragmentSource:b=b.replace(u,((O,N,B,Z,G)=>(k[G]=!0,N==="define"?`
#ifndef HAS_UNIFORM_u_${G}
in ${B} ${Z} ${G};
#else
uniform ${B} ${Z} u_${G};
#endif
`:`
#ifdef HAS_UNIFORM_u_${G}
    ${B} ${Z} ${G} = u_${G};
#endif
`))),vertexSource:r=r.replace(u,((O,N,B,Z,G)=>{const J=Z==="float"?"vec2":"vec4",ie=G.match(/color/)?"color":J;return k[G]?N==="define"?`
#ifndef HAS_UNIFORM_u_${G}
uniform lowp float u_${G}_t;
in ${B} ${J} a_${G};
out ${B} ${Z} ${G};
#else
uniform ${B} ${Z} u_${G};
#endif
`:ie==="vec4"?`
#ifndef HAS_UNIFORM_u_${G}
    ${G} = a_${G};
#else
    ${B} ${Z} ${G} = u_${G};
#endif
`:`
#ifndef HAS_UNIFORM_u_${G}
    ${G} = unpack_mix_${ie}(a_${G}, u_${G}_t);
#else
    ${B} ${Z} ${G} = u_${G};
#endif
`:N==="define"?`
#ifndef HAS_UNIFORM_u_${G}
uniform lowp float u_${G}_t;
in ${B} ${J} a_${G};
#else
uniform ${B} ${Z} u_${G};
#endif
`:ie==="vec4"?`
#ifndef HAS_UNIFORM_u_${G}
    ${B} ${Z} ${G} = a_${G};
#else
    ${B} ${Z} ${G} = u_${G};
#endif
`:`
#ifndef HAS_UNIFORM_u_${G}
    ${B} ${Z} ${G} = unpack_mix_${ie}(a_${G}, u_${G}_t);
#else
    ${B} ${Z} ${G} = u_${G};
#endif
`})),staticAttributes:m,staticUniforms:D}}class zs{constructor(r,u,m){this.vertexBuffer=r,this.indexBuffer=u,this.segments=m}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.vertexBuffer=null,this.indexBuffer=null,this.segments=null}}var Uo=c.aJ([{name:"a_pos",type:"Int16",components:2}]);const ts="#define PROJECTION_MERCATOR",_l="mercator";class _r{constructor(){this._cachedMesh=null}get name(){return"mercator"}get useSubdivision(){return!1}get shaderVariantName(){return _l}get shaderDefine(){return ts}get shaderPreludeCode(){return ao.projectionMercator}get vertexShaderPreludeCode(){return ao.projectionMercator.vertexSource}get subdivisionGranularity(){return c.aK.noSubdivision}get useGlobeControls(){return!1}get transitionState(){return 0}get latitudeErrorCorrectionRadians(){return 0}destroy(){}updateGPUdependent(r){}getMeshFromTileID(r,u,m,_,w){if(this._cachedMesh)return this._cachedMesh;const D=new c.aL;D.emplaceBack(0,0),D.emplaceBack(c.$,0),D.emplaceBack(0,c.$),D.emplaceBack(c.$,c.$);const k=r.createVertexBuffer(D,Uo.members),O=c.aM.simpleSegment(0,0,4,2),N=new c.aN;N.emplaceBack(1,0,2),N.emplaceBack(1,2,3);const B=r.createIndexBuffer(N);return this._cachedMesh=new zs(k,B,O),this._cachedMesh}recalculate(){}hasTransition(){return!1}setErrorQueryLatitudeDegrees(r){}}class rs{constructor(r=0,u=0,m=0,_=0){if(isNaN(r)||r<0||isNaN(u)||u<0||isNaN(m)||m<0||isNaN(_)||_<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=r,this.bottom=u,this.left=m,this.right=_}interpolate(r,u,m){return u.top!=null&&r.top!=null&&(this.top=c.C.number(r.top,u.top,m)),u.bottom!=null&&r.bottom!=null&&(this.bottom=c.C.number(r.bottom,u.bottom,m)),u.left!=null&&r.left!=null&&(this.left=c.C.number(r.left,u.left,m)),u.right!=null&&r.right!=null&&(this.right=c.C.number(r.right,u.right,m)),this}getCenter(r,u){const m=c.ah((this.left+r-this.right)/2,0,r),_=c.ah((this.top+u-this.bottom)/2,0,u);return new c.P(m,_)}equals(r){return this.top===r.top&&this.bottom===r.bottom&&this.left===r.left&&this.right===r.right}clone(){return new rs(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function _c(b,r){if(!b.renderWorldCopies||b.lngRange)return;const u=r.lng-b.center.lng;r.lng+=u>180?-360:u<-180?360:0}function ns(b){return Math.max(0,Math.floor(b))}class ea{constructor(r,u,m,_,w,D){this._callbacks=r,this._tileSize=512,this._renderWorldCopies=D===void 0||!!D,this._minZoom=u||0,this._maxZoom=m||22,this._minPitch=_??0,this._maxPitch=w??60,this.setMaxBounds(),this._width=0,this._height=0,this._center=new c.S(0,0),this._elevation=0,this._zoom=0,this._tileZoom=ns(this._zoom),this._scale=c.af(this._zoom),this._bearingInRadians=0,this._fovInRadians=.6435011087932844,this._pitchInRadians=0,this._rollInRadians=0,this._unmodified=!0,this._edgeInsets=new rs,this._minElevationForCurrentTile=0,this._autoCalculateNearFarZ=!0}apply(r,u,m){this._latRange=r.latRange,this._lngRange=r.lngRange,this._width=r.width,this._height=r.height,this._center=r.center,this._elevation=r.elevation,this._minElevationForCurrentTile=r.minElevationForCurrentTile,this._zoom=r.zoom,this._tileZoom=ns(this._zoom),this._scale=c.af(this._zoom),this._bearingInRadians=r.bearingInRadians,this._fovInRadians=r.fovInRadians,this._pitchInRadians=r.pitchInRadians,this._rollInRadians=r.rollInRadians,this._unmodified=r.unmodified,this._edgeInsets=new rs(r.padding.top,r.padding.bottom,r.padding.left,r.padding.right),this._minZoom=r.minZoom,this._maxZoom=r.maxZoom,this._minPitch=r.minPitch,this._maxPitch=r.maxPitch,this._renderWorldCopies=r.renderWorldCopies,this._cameraToCenterDistance=r.cameraToCenterDistance,this._nearZ=r.nearZ,this._farZ=r.farZ,this._autoCalculateNearFarZ=!m&&r.autoCalculateNearFarZ,u&&this._constrain(),this._calcMatrices()}get pixelsToClipSpaceMatrix(){return this._pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._clipSpaceToPixelsMatrix}get minElevationForCurrentTile(){return this._minElevationForCurrentTile}setMinElevationForCurrentTile(r){this._minElevationForCurrentTile=r}get tileSize(){return this._tileSize}get tileZoom(){return this._tileZoom}get scale(){return this._scale}get width(){return this._width}get height(){return this._height}get bearingInRadians(){return this._bearingInRadians}get lngRange(){return this._lngRange}get latRange(){return this._latRange}get pixelsToGLUnits(){return this._pixelsToGLUnits}get minZoom(){return this._minZoom}setMinZoom(r){this._minZoom!==r&&(this._minZoom=r,this.setZoom(this.getConstrained(this._center,this.zoom).zoom))}get maxZoom(){return this._maxZoom}setMaxZoom(r){this._maxZoom!==r&&(this._maxZoom=r,this.setZoom(this.getConstrained(this._center,this.zoom).zoom))}get minPitch(){return this._minPitch}setMinPitch(r){this._minPitch!==r&&(this._minPitch=r,this.setPitch(Math.max(this.pitch,r)))}get maxPitch(){return this._maxPitch}setMaxPitch(r){this._maxPitch!==r&&(this._maxPitch=r,this.setPitch(Math.min(this.pitch,r)))}get renderWorldCopies(){return this._renderWorldCopies}setRenderWorldCopies(r){r===void 0?r=!0:r===null&&(r=!1),this._renderWorldCopies=r}get worldSize(){return this._tileSize*this._scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new c.P(this._width,this._height)}get bearing(){return this._bearingInRadians/Math.PI*180}setBearing(r){const u=c.aO(r,-180,180)*Math.PI/180;var m,_,w,D,k,O,N,B,Z;this._bearingInRadians!==u&&(this._unmodified=!1,this._bearingInRadians=u,this._calcMatrices(),this._rotationMatrix=C(),m=this._rotationMatrix,w=-this._bearingInRadians,D=(_=this._rotationMatrix)[0],k=_[1],O=_[2],N=_[3],B=Math.sin(w),Z=Math.cos(w),m[0]=D*Z+O*B,m[1]=k*Z+N*B,m[2]=D*-B+O*Z,m[3]=k*-B+N*Z)}get rotationMatrix(){return this._rotationMatrix}get pitchInRadians(){return this._pitchInRadians}get pitch(){return this._pitchInRadians/Math.PI*180}setPitch(r){const u=c.ah(r,this.minPitch,this.maxPitch)/180*Math.PI;this._pitchInRadians!==u&&(this._unmodified=!1,this._pitchInRadians=u,this._calcMatrices())}get rollInRadians(){return this._rollInRadians}get roll(){return this._rollInRadians/Math.PI*180}setRoll(r){const u=r/180*Math.PI;this._rollInRadians!==u&&(this._unmodified=!1,this._rollInRadians=u,this._calcMatrices())}get fovInRadians(){return this._fovInRadians}get fov(){return c.aP(this._fovInRadians)}setFov(r){r=c.ah(r,.1,150),this.fov!==r&&(this._unmodified=!1,this._fovInRadians=c.ae(r),this._calcMatrices())}get zoom(){return this._zoom}setZoom(r){const u=this.getConstrained(this._center,r).zoom;this._zoom!==u&&(this._unmodified=!1,this._zoom=u,this._tileZoom=Math.max(0,Math.floor(u)),this._scale=c.af(u),this._constrain(),this._calcMatrices())}get center(){return this._center}setCenter(r){r.lat===this._center.lat&&r.lng===this._center.lng||(this._unmodified=!1,this._center=r,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}setElevation(r){r!==this._elevation&&(this._elevation=r,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}setPadding(r){this._edgeInsets.equals(r)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,r,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this._width,this._height)}get pixelsPerMeter(){return this._pixelPerMeter}get unmodified(){return this._unmodified}get cameraToCenterDistance(){return this._cameraToCenterDistance}get nearZ(){return this._nearZ}get farZ(){return this._farZ}get autoCalculateNearFarZ(){return this._autoCalculateNearFarZ}overrideNearFarZ(r,u){this._autoCalculateNearFarZ=!1,this._nearZ=r,this._farZ=u,this._calcMatrices()}clearNearFarZOverride(){this._autoCalculateNearFarZ=!0,this._calcMatrices()}isPaddingEqual(r){return this._edgeInsets.equals(r)}interpolatePadding(r,u,m){this._unmodified=!1,this._edgeInsets.interpolate(r,u,m),this._constrain(),this._calcMatrices()}resize(r,u,m=!0){this._width=r,this._height=u,m&&this._constrain(),this._calcMatrices()}getMaxBounds(){return this._latRange&&this._latRange.length===2&&this._lngRange&&this._lngRange.length===2?new jt([this._lngRange[0],this._latRange[0]],[this._lngRange[1],this._latRange[1]]):null}setMaxBounds(r){r?(this._lngRange=[r.getWest(),r.getEast()],this._latRange=[r.getSouth(),r.getNorth()],this._constrain()):(this._lngRange=null,this._latRange=[-c.ai,c.ai])}getConstrained(r,u){return this._callbacks.getConstrained(r,u)}getCameraQueryGeometry(r,u){if(u.length===1)return[u[0],r];{const{minX:m,minY:_,maxX:w,maxY:D}=c.a2.fromPoints(u).extend(r);return[new c.P(m,_),new c.P(w,_),new c.P(w,D),new c.P(m,D),new c.P(m,_)]}}_constrain(){if(!this.center||!this._width||!this._height||this._constraining)return;this._constraining=!0;const r=this._unmodified,{center:u,zoom:m}=this.getConstrained(this.center,this.zoom);this.setCenter(u),this.setZoom(m),this._unmodified=r,this._constraining=!1}_calcMatrices(){if(this._width&&this._height){this._pixelsToGLUnits=[2/this._width,-2/this._height];let r=c.ag(new Float64Array(16));c.N(r,r,[this._width/2,-this._height/2,1]),c.M(r,r,[1,-1,0]),this._clipSpaceToPixelsMatrix=r,r=c.ag(new Float64Array(16)),c.N(r,r,[1,-1,1]),c.M(r,r,[-1,-1,0]),c.N(r,r,[2/this._width,2/this._height,1]),this._pixelsToClipSpaceMatrix=r,this._cameraToCenterDistance=.5/Math.tan(this.fovInRadians/2)*this._height}this._callbacks.calcMatrices()}calculateCenterFromCameraLngLatAlt(r,u,m,_){const w=m!==void 0?m:this.bearing,D=_=_!==void 0?_:this.pitch,k=c.a1.fromLngLat(r,u),O=-Math.cos(c.ae(D)),N=Math.sin(c.ae(D)),B=N*Math.sin(c.ae(w)),Z=-N*Math.cos(c.ae(w));let G=this.elevation;const J=u-G;let ie;O*J>=0||Math.abs(O)<.1?(ie=1e4,G=u+ie*O):ie=-J/O;let he,fe,me=c.aQ(1,k.y),ve=0;do{if(ve+=1,ve>10)break;fe=ie/me,he=new c.a1(k.x+B*fe,k.y+Z*fe),me=1/he.meterInMercatorCoordinateUnits()}while(Math.abs(ie-fe*me)>1e-12);return{center:he.toLngLat(),elevation:G,zoom:c.ak(this.height/2/Math.tan(this.fovInRadians/2)/fe/this.tileSize)}}recalculateZoomAndCenter(r){if(this.elevation-r==0)return;const u=c.aj(1,this.center.lat)*this.worldSize,m=this.cameraToCenterDistance/u,_=c.a1.fromLngLat(this.center,this.elevation),w=We(this.center,this.elevation,this.pitch,this.bearing,m);this._elevation=r;const D=this.calculateCenterFromCameraLngLatAlt(w.toLngLat(),c.aQ(w.z,_.y),this.bearing,this.pitch);this._elevation=D.elevation,this._center=D.center,this.setZoom(D.zoom)}getCameraPoint(){const r=Math.tan(this.pitchInRadians)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new c.P(r*Math.sin(this.rollInRadians),r*Math.cos(this.rollInRadians)))}getCameraAltitude(){return Math.cos(this.pitchInRadians)*this._cameraToCenterDistance/this._pixelPerMeter+this.elevation}getCameraLngLat(){const r=c.aj(1,this.center.lat)*this.worldSize;return We(this.center,this.elevation,this.pitch,this.bearing,this.cameraToCenterDistance/r).toLngLat()}getMercatorTileCoordinates(r){if(!r)return[0,0,1,1];const u=r.canonical.z>=0?1<<r.canonical.z:Math.pow(2,r.canonical.z);return[r.canonical.x/u,r.canonical.y/u,1/u/c.$,1/u/c.$]}}class ia{constructor(r,u){this.min=r,this.max=u,this.center=c.aR([],c.aS([],this.min,this.max),.5)}quadrant(r){const u=[r%2==0,r<2],m=c.aT(this.min),_=c.aT(this.max);for(let w=0;w<u.length;w++)m[w]=u[w]?this.min[w]:this.center[w],_[w]=u[w]?this.center[w]:this.max[w];return _[2]=this.max[2],new ia(m,_)}distanceX(r){return Math.max(Math.min(this.max[0],r[0]),this.min[0])-r[0]}distanceY(r){return Math.max(Math.min(this.max[1],r[1]),this.min[1])-r[1]}intersectsFrustum(r){let u=!0;for(let m=0;m<r.planes.length;m++){const _=this.intersectsPlane(r.planes[m]);if(_===0)return 0;_===1&&(u=!1)}return u?2:r.aabb.min[0]>this.max[0]||r.aabb.min[1]>this.max[1]||r.aabb.min[2]>this.max[2]||r.aabb.max[0]<this.min[0]||r.aabb.max[1]<this.min[1]||r.aabb.max[2]<this.min[2]?0:1}intersectsPlane(r){let u=r[3],m=r[3];for(let _=0;_<3;_++)r[_]>0?(u+=r[_]*this.min[_],m+=r[_]*this.max[_]):(m+=r[_]*this.min[_],u+=r[_]*this.max[_]);return u>=0?2:m<0?0:1}}class Pa{distanceToTile2d(r,u,m,_){const w=_.distanceX([r,u]),D=_.distanceY([r,u]);return Math.hypot(w,D)}getWrap(r,u,m){return m}getTileBoundingVolume(r,u,m,_){var w,D;let k=0,O=0;if(_?.terrain){const B=new c.Z(r.z,u,r.z,r.x,r.y),Z=_.terrain.getMinMaxElevation(B);k=(w=Z.minElevation)!==null&&w!==void 0?w:Math.min(0,m),O=(D=Z.maxElevation)!==null&&D!==void 0?D:Math.max(0,m)}const N=1<<r.z;return new ia([u+r.x/N,r.y/N,k],[u+(r.x+1)/N,(r.y+1)/N,O])}allowVariableZoom(r,u){const m=r.fov*(Math.abs(Math.cos(r.rollInRadians))*r.height+Math.abs(Math.sin(r.rollInRadians))*r.width)/r.height,_=c.ah(78.5-m/2,0,60);return!!u.terrain||r.pitch>_}allowWorldCopies(){return!0}prepareNextFrame(){}}class $n{constructor(r,u,m){this.points=r,this.planes=u,this.aabb=m}static fromInvProjectionMatrix(r,u=1,m=0,_,w){const D=w?[[6,5,4],[0,1,2],[0,3,7],[2,1,5],[3,2,6],[0,4,5]]:[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],k=Math.pow(2,m),O=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((G=>(function(J,ie,he,fe){const me=c.aw([],J,ie),ve=1/me[3]/he*fe;return c.aY(me,me,[ve,ve,1/me[3],ve])})(G,r,u,k)));_&&(function(G,J,ie,he){const fe=he?4:0,me=he?0:4;let ve=0;const we=[],_e=[];for(let be=0;be<4;be++){const Ue=c.aU([],G[be+me],G[be+fe]),Qe=c.aZ(Ue);c.aR(Ue,Ue,1/Qe),we.push(Qe),_e.push(Ue)}for(let be=0;be<4;be++){const Ue=c.a_(G[be+fe],_e[be],ie);ve=Ue!==null&&Ue>=0?Math.max(ve,Ue):Math.max(ve,we[be])}const Ae=(function(be,Ue){const Qe=c.aU([],be[Ue[0]],be[Ue[1]]),qe=c.aU([],be[Ue[2]],be[Ue[1]]),Ve=[0,0,0,0];return c.aV(Ve,c.aW([],Qe,qe)),Ve[3]=-c.aX(Ve,be[Ue[0]]),Ve})(G,J),Ee=(function(be,Ue){const Qe=c.a$(be),qe=c.b0([],be,1/Qe),Ve=c.aU([],Ue,c.aR([],qe,c.aX(Ue,qe))),Xe=c.a$(Ve);if(Xe>0){const Et=Math.sqrt(1-qe[3]*qe[3]),Mt=c.aR([],qe,-qe[3]),ft=c.aS([],Mt,c.aR([],Ve,Et/Xe));return c.b1(Ue,ft)}return null})(ie,Ae);if(Ee!==null){const be=Ee/c.aX(_e[0],Ae);ve=Math.min(ve,be)}for(let be=0;be<4;be++){const Ue=Math.min(ve,we[be]);G[be+me]=[G[be+fe][0]+_e[be][0]*Ue,G[be+fe][1]+_e[be][1]*Ue,G[be+fe][2]+_e[be][2]*Ue,1]}})(O,D[0],_,w);const N=D.map((G=>{const J=c.aU([],O[G[0]],O[G[1]]),ie=c.aU([],O[G[2]],O[G[1]]),he=c.aV([],c.aW([],J,ie)),fe=-c.aX(he,O[G[1]]);return he.concat(fe)})),B=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY],Z=[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];for(const G of O)for(let J=0;J<3;J++)B[J]=Math.min(B[J],G[J]),Z[J]=Math.max(Z[J],G[J]);return new $n(O,N,new ia(B,Z))}}class Nr{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(r){this._helper.setMinZoom(r)}setMaxZoom(r){this._helper.setMaxZoom(r)}setMinPitch(r){this._helper.setMinPitch(r)}setMaxPitch(r){this._helper.setMaxPitch(r)}setRenderWorldCopies(r){this._helper.setRenderWorldCopies(r)}setBearing(r){this._helper.setBearing(r)}setPitch(r){this._helper.setPitch(r)}setRoll(r){this._helper.setRoll(r)}setFov(r){this._helper.setFov(r)}setZoom(r){this._helper.setZoom(r)}setCenter(r){this._helper.setCenter(r)}setElevation(r){this._helper.setElevation(r)}setMinElevationForCurrentTile(r){this._helper.setMinElevationForCurrentTile(r)}setPadding(r){this._helper.setPadding(r)}interpolatePadding(r,u,m){return this._helper.interpolatePadding(r,u,m)}isPaddingEqual(r){return this._helper.isPaddingEqual(r)}resize(r,u,m=!0){this._helper.resize(r,u,m)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(r){this._helper.setMaxBounds(r)}overrideNearFarZ(r,u){this._helper.overrideNearFarZ(r,u)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(r){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),r)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(r,u){}constructor(r,u,m,_,w){this._posMatrixCache=new Map,this._alignedPosMatrixCache=new Map,this._fogMatrixCacheF32=new Map,this._helper=new ea({calcMatrices:()=>{this._calcMatrices()},getConstrained:(D,k)=>this.getConstrained(D,k)},r,u,m,_,w),this._coveringTilesDetailsProvider=new Pa}clone(){const r=new Nr;return r.apply(this),r}apply(r,u,m){this._helper.apply(r,u,m)}get cameraPosition(){return this._cameraPosition}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._viewProjMatrix}get inverseProjectionMatrix(){return this._invProjMatrix}get mercatorMatrix(){return this._mercatorMatrix}getVisibleUnwrappedCoordinates(r){const u=[new c.b2(0,r)];if(this._helper._renderWorldCopies){const m=this.screenPointToMercatorCoordinate(new c.P(0,0)),_=this.screenPointToMercatorCoordinate(new c.P(this._helper._width,0)),w=this.screenPointToMercatorCoordinate(new c.P(this._helper._width,this._helper._height)),D=this.screenPointToMercatorCoordinate(new c.P(0,this._helper._height)),k=Math.floor(Math.min(m.x,_.x,w.x,D.x)),O=Math.floor(Math.max(m.x,_.x,w.x,D.x)),N=1;for(let B=k-N;B<=O+N;B++)B!==0&&u.push(new c.b2(B,r))}return u}getCameraFrustum(){return $n.fromInvProjectionMatrix(this._invViewProjMatrix,this.worldSize)}getClippingPlane(){return null}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(r){const u=this.screenPointToLocation(this.centerPoint,r),m=r?r.getElevationForLngLatZoom(u,this._helper._tileZoom):0;this._helper.recalculateZoomAndCenter(m)}setLocationAtPoint(r,u){const m=c.aj(this.elevation,this.center.lat),_=this.screenPointToMercatorCoordinateAtZ(u,m),w=this.screenPointToMercatorCoordinateAtZ(this.centerPoint,m),D=c.a1.fromLngLat(r),k=new c.a1(D.x-(_.x-w.x),D.y-(_.y-w.y));this.setCenter(k?.toLngLat()),this._helper._renderWorldCopies&&this.setCenter(this.center.wrap())}locationToScreenPoint(r,u){return u?this.coordinatePoint(c.a1.fromLngLat(r),u.getElevationForLngLatZoom(r,this._helper._tileZoom),this._pixelMatrix3D):this.coordinatePoint(c.a1.fromLngLat(r))}screenPointToLocation(r,u){var m;return(m=this.screenPointToMercatorCoordinate(r,u))===null||m===void 0?void 0:m.toLngLat()}screenPointToMercatorCoordinate(r,u){if(u){const m=u.pointCoordinate(r);if(m!=null)return m}return this.screenPointToMercatorCoordinateAtZ(r)}screenPointToMercatorCoordinateAtZ(r,u){const m=u||0,_=[r.x,r.y,0,1],w=[r.x,r.y,1,1];c.aw(_,_,this._pixelMatrixInverse),c.aw(w,w,this._pixelMatrixInverse);const D=_[3],k=w[3],O=_[1]/D,N=w[1]/k,B=_[2]/D,Z=w[2]/k,G=B===Z?0:(m-B)/(Z-B);return new c.a1(c.C.number(_[0]/D,w[0]/k,G)/this.worldSize,c.C.number(O,N,G)/this.worldSize,m)}coordinatePoint(r,u=0,m=this._pixelMatrix){const _=[r.x*this.worldSize,r.y*this.worldSize,u,1];return c.aw(_,_,m),new c.P(_[0]/_[3],_[1]/_[3])}getBounds(){const r=Math.max(0,this._helper._height/2-De(this));return new jt().extend(this.screenPointToLocation(new c.P(0,r))).extend(this.screenPointToLocation(new c.P(this._helper._width,r))).extend(this.screenPointToLocation(new c.P(this._helper._width,this._helper._height))).extend(this.screenPointToLocation(new c.P(0,this._helper._height)))}isPointOnMapSurface(r,u){return u?u.pointCoordinate(r)!=null:r.y>this.height/2-De(this)}calculatePosMatrix(r,u=!1,m){var _;const w=(_=r.key)!==null&&_!==void 0?_:c.b3(r.wrap,r.canonical.z,r.canonical.z,r.canonical.x,r.canonical.y),D=u?this._alignedPosMatrixCache:this._posMatrixCache;if(D.has(w)){const N=D.get(w);return m?N.f32:N.f64}const k=Oe(r,this.worldSize);c.O(k,u?this._alignedProjMatrix:this._viewProjMatrix,k);const O={f64:k,f32:new Float32Array(k)};return D.set(w,O),m?O.f32:O.f64}calculateFogMatrix(r){const u=r.key,m=this._fogMatrixCacheF32;if(m.has(u))return m.get(u);const _=Oe(r,this.worldSize);return c.O(_,this._fogMatrix,_),m.set(u,new Float32Array(_)),m.get(u)}getConstrained(r,u){u=c.ah(+u,this.minZoom,this.maxZoom);const m={center:new c.S(r.lng,r.lat),zoom:u};let _=this._helper._lngRange;if(!this._helper._renderWorldCopies&&_===null){const we=179.9999999999;_=[-we,we]}const w=this.tileSize*c.af(m.zoom);let D=0,k=w,O=0,N=w,B=0,Z=0;const{x:G,y:J}=this.size;if(this._helper._latRange){const we=this._helper._latRange;D=c.U(we[1])*w,k=c.U(we[0])*w,k-D<J&&(B=J/(k-D))}_&&(O=c.aO(c.V(_[0])*w,0,w),N=c.aO(c.V(_[1])*w,0,w),N<O&&(N+=w),N-O<G&&(Z=G/(N-O)));const{x:ie,y:he}=ce(w,r);let fe,me;const ve=Math.max(Z||0,B||0);if(ve){const we=new c.P(Z?(N+O)/2:ie,B?(k+D)/2:he);return m.center=Se(w,we).wrap(),m.zoom+=c.ak(ve),m}if(this._helper._latRange){const we=J/2;he-we<D&&(me=D+we),he+we>k&&(me=k-we)}if(_){const we=(O+N)/2;let _e=ie;this._helper._renderWorldCopies&&(_e=c.aO(ie,we-w/2,we+w/2));const Ae=G/2;_e-Ae<O&&(fe=O+Ae),_e+Ae>N&&(fe=N-Ae)}if(fe!==void 0||me!==void 0){const we=new c.P(fe??ie,me??he);m.center=Se(w,we).wrap()}return m}calculateCenterFromCameraLngLatAlt(r,u,m,_){return this._helper.calculateCenterFromCameraLngLatAlt(r,u,m,_)}_calculateNearFarZIfNeeded(r,u,m){if(!this._helper.autoCalculateNearFarZ)return;const _=Math.min(this.elevation,this.minElevationForCurrentTile,this.getCameraAltitude()-100),w=r-_*this._helper._pixelPerMeter/Math.cos(u),D=_<0?w:r,k=Math.PI/2+this.pitchInRadians,O=c.ae(this.fov)*(Math.abs(Math.cos(c.ae(this.roll)))*this.height+Math.abs(Math.sin(c.ae(this.roll)))*this.width)/this.height*(.5+m.y/this.height),N=Math.sin(O)*D/Math.sin(c.ah(Math.PI-k-O,.01,Math.PI-.01)),B=De(this),Z=Math.atan(B/this._helper.cameraToCenterDistance),G=c.ae(.75),J=Z>G?2*Z*(.5+m.y/(2*B)):G,ie=Math.sin(J)*D/Math.sin(c.ah(Math.PI-k-J,.01,Math.PI-.01)),he=Math.min(N,ie);this._helper._farZ=1.01*(Math.cos(Math.PI/2-u)*he+D),this._helper._nearZ=this._helper._height/50}_calcMatrices(){if(!this._helper._height)return;const r=this.centerOffset,u=ce(this.worldSize,this.center),m=u.x,_=u.y;this._helper._pixelPerMeter=c.aj(1,this.center.lat)*this.worldSize;const w=c.ae(Math.min(this.pitch,ae)),D=Math.max(this._helper.cameraToCenterDistance/2,this._helper.cameraToCenterDistance+this._helper._elevation*this._helper._pixelPerMeter/Math.cos(w));let k;this._calculateNearFarZIfNeeded(D,w,r),k=new Float64Array(16),c.b4(k,this.fovInRadians,this._helper._width/this._helper._height,this._helper._nearZ,this._helper._farZ),this._invProjMatrix=new Float64Array(16),c.aq(this._invProjMatrix,k),k[8]=2*-r.x/this._helper._width,k[9]=2*r.y/this._helper._height,this._projectionMatrix=c.b5(k),c.N(k,k,[1,-1,1]),c.M(k,k,[0,0,-this._helper.cameraToCenterDistance]),c.b6(k,k,-this.rollInRadians),c.b7(k,k,this.pitchInRadians),c.b6(k,k,-this.bearingInRadians),c.M(k,k,[-m,-_,0]),this._mercatorMatrix=c.N([],k,[this.worldSize,this.worldSize,this.worldSize]),c.N(k,k,[1,1,this._helper._pixelPerMeter]),this._pixelMatrix=c.O(new Float64Array(16),this.clipSpaceToPixelsMatrix,k),c.M(k,k,[0,0,-this.elevation]),this._viewProjMatrix=k,this._invViewProjMatrix=c.aq([],k);const O=[0,0,-1,1];c.aw(O,O,this._invViewProjMatrix),this._cameraPosition=[O[0]/O[3],O[1]/O[3],O[2]/O[3]],this._fogMatrix=new Float64Array(16),c.b4(this._fogMatrix,this.fovInRadians,this.width/this.height,D,this._helper._farZ),this._fogMatrix[8]=2*-r.x/this.width,this._fogMatrix[9]=2*r.y/this.height,c.N(this._fogMatrix,this._fogMatrix,[1,-1,1]),c.M(this._fogMatrix,this._fogMatrix,[0,0,-this.cameraToCenterDistance]),c.b6(this._fogMatrix,this._fogMatrix,-this.rollInRadians),c.b7(this._fogMatrix,this._fogMatrix,this.pitchInRadians),c.b6(this._fogMatrix,this._fogMatrix,-this.bearingInRadians),c.M(this._fogMatrix,this._fogMatrix,[-m,-_,0]),c.N(this._fogMatrix,this._fogMatrix,[1,1,this._helper._pixelPerMeter]),c.M(this._fogMatrix,this._fogMatrix,[0,0,-this.elevation]),this._pixelMatrix3D=c.O(new Float64Array(16),this.clipSpaceToPixelsMatrix,k);const N=this._helper._width%2/2,B=this._helper._height%2/2,Z=Math.cos(this.bearingInRadians),G=Math.sin(-this.bearingInRadians),J=m-Math.round(m)+Z*N+G*B,ie=_-Math.round(_)+Z*B+G*N,he=new Float64Array(k);if(c.M(he,he,[J>.5?J-1:J,ie>.5?ie-1:ie,0]),this._alignedProjMatrix=he,k=c.aq(new Float64Array(16),this._pixelMatrix),!k)throw new Error("failed to invert matrix");this._pixelMatrixInverse=k,this._clearMatrixCaches()}_clearMatrixCaches(){this._posMatrixCache.clear(),this._alignedPosMatrixCache.clear(),this._fogMatrixCacheF32.clear()}maxPitchScaleFactor(){if(!this._pixelMatrixInverse)return 1;const r=this.screenPointToMercatorCoordinate(new c.P(0,0)),u=[r.x*this.worldSize,r.y*this.worldSize,0,1];return c.aw(u,u,this._pixelMatrix)[3]/this._helper.cameraToCenterDistance}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){const r=c.aj(1,this.center.lat)*this.worldSize;return We(this.center,this.elevation,this.pitch,this.bearing,this._helper.cameraToCenterDistance/r).toLngLat()}lngLatToCameraDepth(r,u){const m=c.a1.fromLngLat(r),_=[m.x*this.worldSize,m.y*this.worldSize,u,1];return c.aw(_,_,this._viewProjMatrix),_[2]/_[3]}getProjectionData(r){const{overscaledTileID:u,aligned:m,applyTerrainMatrix:_}=r,w=this._helper.getMercatorTileCoordinates(u),D=u?this.calculatePosMatrix(u,m,!0):null;let k;return k=u&&u.terrainRttPosMatrix32f&&_?u.terrainRttPosMatrix32f:D||c.b8(),{mainMatrix:k,tileMercatorCoords:w,clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:k}}isLocationOccluded(r){return!1}getPixelScale(){return 1}getCircleRadiusCorrection(){return 1}getPitchedTextCorrection(r,u,m){return 1}transformLightDirection(r){return c.aT(r)}getRayDirectionFromPixel(r){throw new Error("Not implemented.")}projectTileCoordinates(r,u,m,_){const w=this.calculatePosMatrix(m);let D;_?(D=[r,u,_(r,u),1],c.aw(D,D,w)):(D=[r,u,0,1],ml(D,D,w));const k=D[3];return{point:new c.P(D[0]/k,D[1]/k),signedDistanceFromCamera:k,isOccluded:!1}}populateCache(r){for(const u of r)this.calculatePosMatrix(u)}getMatrixForModel(r,u){const m=c.a1.fromLngLat(r,u),_=m.meterInMercatorCoordinateUnits(),w=c.b9();return c.M(w,w,[m.x,m.y,m.z]),c.b6(w,w,Math.PI),c.b7(w,w,Math.PI/2),c.N(w,w,[-_,_,_]),w}getProjectionDataForCustomLayer(r=!0){const u=new c.Z(0,0,0,0,0),m=this.getProjectionData({overscaledTileID:u,applyGlobeMatrix:r}),_=Oe(u,this.worldSize);c.O(_,this._viewProjMatrix,_),m.tileMercatorCoords=[0,0,1,1];const w=[c.$,c.$,this.worldSize/this._helper.pixelsPerMeter],D=c.ba();return c.N(D,_,w),m.fallbackMatrix=D,m.mainMatrix=D,m}getFastPathSimpleProjectionMatrix(r){return this.calculatePosMatrix(r)}}function Lo(){c.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}function Aa(b){if(b.useSlerp)if(b.k<1){const r=c.bb(b.startEulerAngles.roll,b.startEulerAngles.pitch,b.startEulerAngles.bearing),u=c.bb(b.endEulerAngles.roll,b.endEulerAngles.pitch,b.endEulerAngles.bearing),m=new Float64Array(4);c.bc(m,r,u,b.k);const _=c.bd(m);b.tr.setRoll(_.roll),b.tr.setPitch(_.pitch),b.tr.setBearing(_.bearing)}else b.tr.setRoll(b.endEulerAngles.roll),b.tr.setPitch(b.endEulerAngles.pitch),b.tr.setBearing(b.endEulerAngles.bearing);else b.tr.setRoll(c.C.number(b.startEulerAngles.roll,b.endEulerAngles.roll,b.k)),b.tr.setPitch(c.C.number(b.startEulerAngles.pitch,b.endEulerAngles.pitch,b.k)),b.tr.setBearing(c.C.number(b.startEulerAngles.bearing,b.endEulerAngles.bearing,b.k))}function Ca(b,r,u,m,_){const w=_.padding,D=ce(_.worldSize,u.getNorthWest()),k=ce(_.worldSize,u.getNorthEast()),O=ce(_.worldSize,u.getSouthEast()),N=ce(_.worldSize,u.getSouthWest()),B=c.ae(-m),Z=D.rotate(B),G=k.rotate(B),J=O.rotate(B),ie=N.rotate(B),he=new c.P(Math.max(Z.x,G.x,ie.x,J.x),Math.max(Z.y,G.y,ie.y,J.y)),fe=new c.P(Math.min(Z.x,G.x,ie.x,J.x),Math.min(Z.y,G.y,ie.y,J.y)),me=he.sub(fe),ve=(_.width-(w.left+w.right+r.left+r.right))/me.x,we=(_.height-(w.top+w.bottom+r.top+r.bottom))/me.y;if(we<0||ve<0)return void Lo();const _e=Math.min(c.ak(_.scale*Math.min(ve,we)),b.maxZoom),Ae=c.P.convert(b.offset),Ee=new c.P((r.left-r.right)/2,(r.top-r.bottom)/2).rotate(c.ae(m)),be=Ae.add(Ee).mult(_.scale/c.af(_e));return{center:Se(_.worldSize,D.add(O).div(2).sub(be)),zoom:_e,bearing:m}}class En{get useGlobeControls(){return!1}handlePanInertia(r,u){const m=r.mag(),_=Math.abs(De(u));return{easingOffset:r.mult(Math.min(.75*_/m,1)),easingCenter:u.center}}handleMapControlsRollPitchBearingZoom(r,u){r.bearingDelta&&u.setBearing(u.bearing+r.bearingDelta),r.pitchDelta&&u.setPitch(u.pitch+r.pitchDelta),r.rollDelta&&u.setRoll(u.roll+r.rollDelta),r.zoomDelta&&u.setZoom(u.zoom+r.zoomDelta)}handleMapControlsPan(r,u,m){r.around.distSqr(u.centerPoint)<.01||u.setLocationAtPoint(m,r.around)}cameraForBoxAndBearing(r,u,m,_,w){return Ca(r,u,m,_,w)}handleJumpToCenterZoom(r,u){r.zoom!==(u.zoom!==void 0?+u.zoom:r.zoom)&&r.setZoom(+u.zoom),u.center!==void 0&&r.setCenter(c.S.convert(u.center))}handleEaseTo(r,u){const m=r.zoom,_=r.padding,w={roll:r.roll,pitch:r.pitch,bearing:r.bearing},D={roll:u.roll===void 0?r.roll:u.roll,pitch:u.pitch===void 0?r.pitch:u.pitch,bearing:u.bearing===void 0?r.bearing:u.bearing},k=u.zoom!==void 0,O=!r.isPaddingEqual(u.padding);let N=!1;const B=k?+u.zoom:r.zoom;let Z=r.centerPoint.add(u.offsetAsPoint);const G=r.screenPointToLocation(Z),{center:J,zoom:ie}=r.getConstrained(c.S.convert(u.center||G),B??m);_c(r,J);const he=ce(r.worldSize,G),fe=ce(r.worldSize,J).sub(he),me=c.af(ie-m);return N=ie!==m,{easeFunc:ve=>{if(N&&r.setZoom(c.C.number(m,ie,ve)),c.be(w,D)||Aa({startEulerAngles:w,endEulerAngles:D,tr:r,k:ve,useSlerp:w.roll!=D.roll}),O&&(r.interpolatePadding(_,u.padding,ve),Z=r.centerPoint.add(u.offsetAsPoint)),u.around)r.setLocationAtPoint(u.around,u.aroundPoint);else{const we=c.af(r.zoom-m),_e=ie>m?Math.min(2,me):Math.max(.5,me),Ae=Math.pow(_e,1-ve),Ee=Se(r.worldSize,he.add(fe.mult(ve*Ae)).mult(we));r.setLocationAtPoint(r.renderWorldCopies?Ee.wrap():Ee,Z)}},isZooming:N,elevationCenter:J}}handleFlyTo(r,u){const m=u.zoom!==void 0,_=r.zoom,w=r.getConstrained(c.S.convert(u.center||u.locationAtOffset),m?+u.zoom:_),D=w.center,k=w.zoom;_c(r,D);const O=ce(r.worldSize,u.locationAtOffset),N=ce(r.worldSize,D).sub(O),B=N.mag(),Z=c.af(k-_);let G;if(u.minZoom!==void 0){const J=Math.min(+u.minZoom,_,k),ie=r.getConstrained(D,J).zoom;G=c.af(ie-_)}return{easeFunc:(J,ie,he,fe)=>{r.setZoom(J===1?k:_+c.ak(ie));const me=J===1?D:Se(r.worldSize,O.add(N.mult(he)).mult(ie));r.setLocationAtPoint(r.renderWorldCopies?me.wrap():me,fe)},scaleOfZoom:Z,targetCenter:D,scaleOfMinZoom:G,pixelPathLength:B}}}class Xr{constructor(r,u,m){this.blendFunction=r,this.blendColor=u,this.mask=m}}Xr.Replace=[1,0],Xr.disabled=new Xr(Xr.Replace,c.bf.transparent,[!1,!1,!1,!1]),Xr.unblended=new Xr(Xr.Replace,c.bf.transparent,[!0,!0,!0,!0]),Xr.alphaBlended=new Xr([1,771],c.bf.transparent,[!0,!0,!0,!0]);const zo=2305;class tr{constructor(r,u,m){this.enable=r,this.mode=u,this.frontFace=m}}tr.disabled=new tr(!1,1029,zo),tr.backCCW=new tr(!0,1029,zo),tr.frontCCW=new tr(!0,1028,zo);class lr{constructor(r,u,m){this.func=r,this.mask=u,this.range=m}}lr.ReadOnly=!1,lr.ReadWrite=!0,lr.disabled=new lr(519,lr.ReadOnly,[0,1]);const Yi=7680;class Dr{constructor(r,u,m,_,w,D){this.test=r,this.ref=u,this.mask=m,this.fail=_,this.depthFail=w,this.pass=D}}Dr.disabled=new Dr({func:519,mask:0},0,0,Yi,Yi,Yi);const cn=new WeakMap;function Oa(b){var r;if(cn.has(b))return cn.get(b);{const u=(r=b.getParameter(b.VERSION))===null||r===void 0?void 0:r.startsWith("WebGL 2.0");return cn.set(b,u),u}}class Ri{get awaitingQuery(){return!!this._readbackQueue}constructor(r){this._readbackWaitFrames=4,this._measureWaitFrames=6,this._texWidth=1,this._texHeight=1,this._measuredError=0,this._updateCount=0,this._lastReadbackFrame=-1e3,this._readbackQueue=null,this._cachedRenderContext=r;const u=r.context,m=u.gl;this._texFormat=m.RGBA,this._texType=m.UNSIGNED_BYTE;const _=new c.aL;_.emplaceBack(-1,-1),_.emplaceBack(2,-1),_.emplaceBack(-1,2);const w=new c.aN;w.emplaceBack(0,1,2),this._fullscreenTriangle=new zs(u.createVertexBuffer(_,Uo.members),u.createIndexBuffer(w),c.aM.simpleSegment(0,0,_.length,w.length)),this._resultBuffer=new Uint8Array(4),u.activeTexture.set(m.TEXTURE1);const D=m.createTexture();m.bindTexture(m.TEXTURE_2D,D),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,m.CLAMP_TO_EDGE),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,m.CLAMP_TO_EDGE),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.NEAREST),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.NEAREST),m.texImage2D(m.TEXTURE_2D,0,this._texFormat,this._texWidth,this._texHeight,0,this._texFormat,this._texType,null),this._fbo=u.createFramebuffer(this._texWidth,this._texHeight,!1,!1),this._fbo.colorAttachment.set(D),Oa(m)&&(this._pbo=m.createBuffer(),m.bindBuffer(m.PIXEL_PACK_BUFFER,this._pbo),m.bufferData(m.PIXEL_PACK_BUFFER,4,m.STREAM_READ),m.bindBuffer(m.PIXEL_PACK_BUFFER,null))}destroy(){const r=this._cachedRenderContext.context.gl;this._fullscreenTriangle.destroy(),this._fbo.destroy(),r.deleteBuffer(this._pbo),this._fullscreenTriangle=null,this._fbo=null,this._pbo=null,this._resultBuffer=null}updateErrorLoop(r,u){const m=this._updateCount;return this._readbackQueue?m>=this._readbackQueue.frameNumberIssued+this._readbackWaitFrames&&this._tryReadback():m>=this._lastReadbackFrame+this._measureWaitFrames&&this._renderErrorTexture(r,u),this._updateCount++,this._measuredError}_bindFramebuffer(){const r=this._cachedRenderContext.context,u=r.gl;r.activeTexture.set(u.TEXTURE1),u.bindTexture(u.TEXTURE_2D,this._fbo.colorAttachment.get()),r.bindFramebuffer.set(this._fbo.framebuffer)}_renderErrorTexture(r,u){const m=this._cachedRenderContext.context,_=m.gl;if(this._bindFramebuffer(),m.viewport.set([0,0,this._texWidth,this._texHeight]),m.clear({color:c.bf.transparent}),this._cachedRenderContext.useProgram("projectionErrorMeasurement").draw(m,_.TRIANGLES,lr.disabled,Dr.disabled,Xr.unblended,tr.disabled,((w,D)=>({u_input:w,u_output_expected:D}))(r,u),null,null,"$clipping",this._fullscreenTriangle.vertexBuffer,this._fullscreenTriangle.indexBuffer,this._fullscreenTriangle.segments),this._pbo&&Oa(_)){_.bindBuffer(_.PIXEL_PACK_BUFFER,this._pbo),_.readBuffer(_.COLOR_ATTACHMENT0),_.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,0),_.bindBuffer(_.PIXEL_PACK_BUFFER,null);const w=_.fenceSync(_.SYNC_GPU_COMMANDS_COMPLETE,0);_.flush(),this._readbackQueue={frameNumberIssued:this._updateCount,sync:w}}else this._readbackQueue={frameNumberIssued:this._updateCount,sync:null}}_tryReadback(){const r=this._cachedRenderContext.context.gl;if(this._pbo&&this._readbackQueue&&Oa(r)){const u=r.clientWaitSync(this._readbackQueue.sync,0,0);if(u===r.WAIT_FAILED)return c.w("WebGL2 clientWaitSync failed."),this._readbackQueue=null,void(this._lastReadbackFrame=this._updateCount);if(u===r.TIMEOUT_EXPIRED)return;r.bindBuffer(r.PIXEL_PACK_BUFFER,this._pbo),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,this._resultBuffer,0,4),r.bindBuffer(r.PIXEL_PACK_BUFFER,null)}else this._bindFramebuffer(),r.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,this._resultBuffer);this._readbackQueue=null,this._measuredError=Ri._parseRGBA8float(this._resultBuffer),this._lastReadbackFrame=this._updateCount}static _parseRGBA8float(r){let u=0;return u+=r[0]/256,u+=r[1]/65536,u+=r[2]/16777216,r[3]<127&&(u=-u),u/128}}const Fs=c.$/128;function Uf(b,r){const u=b.granularity!==void 0?Math.max(b.granularity,1):1,m=u+(b.generateBorders?2:0),_=u+(b.extendToNorthPole||b.generateBorders?1:0)+(b.extendToSouthPole||b.generateBorders?1:0),w=m+1,D=_+1,k=b.generateBorders?-1:0,O=b.generateBorders||b.extendToNorthPole?-1:0,N=u+(b.generateBorders?1:0),B=u+(b.generateBorders||b.extendToSouthPole?1:0),Z=w*D,G=m*_*6,J=w*D>65536;if(J&&r==="16bit")throw new Error("Granularity is too large and meshes would not fit inside 16 bit vertex indices.");const ie=J||r==="32bit",he=new Int16Array(2*Z);let fe=0;for(let we=O;we<=B;we++)for(let _e=k;_e<=N;_e++){let Ae=_e/u*c.$;_e===-1&&(Ae=-Fs),_e===u+1&&(Ae=c.$+Fs);let Ee=we/u*c.$;we===-1&&(Ee=b.extendToNorthPole?c.bh:-Fs),we===u+1&&(Ee=b.extendToSouthPole?c.bi:c.$+Fs),he[fe++]=Ae,he[fe++]=Ee}const me=ie?new Uint32Array(G):new Uint16Array(G);let ve=0;for(let we=0;we<_;we++)for(let _e=0;_e<m;_e++){const Ae=_e+1+we*w,Ee=_e+(we+1)*w,be=_e+1+(we+1)*w;me[ve++]=_e+we*w,me[ve++]=Ee,me[ve++]=Ae,me[ve++]=Ae,me[ve++]=Ee,me[ve++]=be}return{vertices:he.buffer.slice(0),indices:me.buffer.slice(0),uses32bitIndices:ie}}const Ns=new c.aK({fill:new c.bj(128,2),line:new c.bj(512,0),tile:new c.bj(128,32),stencil:new c.bj(128,1),circle:3});class bl{constructor(){this._tileMeshCache={},this._errorCorrectionUsable=0,this._errorMeasurementLastValue=0,this._errorCorrectionPreviousValue=0,this._errorMeasurementLastChangeTime=-1e3}get name(){return"vertical-perspective"}get transitionState(){return 1}get useSubdivision(){return!0}get shaderVariantName(){return"globe"}get shaderDefine(){return"#define GLOBE"}get shaderPreludeCode(){return ao.projectionGlobe}get vertexShaderPreludeCode(){return ao.projectionMercator.vertexSource}get subdivisionGranularity(){return Ns}get useGlobeControls(){return!0}get latitudeErrorCorrectionRadians(){return this._errorCorrectionUsable}destroy(){this._errorMeasurement&&this._errorMeasurement.destroy()}updateGPUdependent(r){this._errorMeasurement||(this._errorMeasurement=new Ri(r));const u=c.U(this._errorQueryLatitudeDegrees),m=2*Math.atan(Math.exp(Math.PI-u*Math.PI*2))-.5*Math.PI,_=this._errorMeasurement.updateErrorLoop(u,m),w=L.now();_!==this._errorMeasurementLastValue&&(this._errorCorrectionPreviousValue=this._errorCorrectionUsable,this._errorMeasurementLastValue=_,this._errorMeasurementLastChangeTime=w);const D=Math.min(Math.max((w-this._errorMeasurementLastChangeTime)/1e3/.5,0),1);this._errorCorrectionUsable=c.bk(this._errorCorrectionPreviousValue,-this._errorMeasurementLastValue,c.bl(D))}_getMeshKey(r){return`${r.granularity.toString(36)}_${r.generateBorders?"b":""}${r.extendToNorthPole?"n":""}${r.extendToSouthPole?"s":""}`}getMeshFromTileID(r,u,m,_,w){const D=(w==="stencil"?Ns.stencil:Ns.tile).getGranularityForZoomLevel(u.z);return this._getMesh(r,{granularity:D,generateBorders:m,extendToNorthPole:u.y===0&&_,extendToSouthPole:u.y===(1<<u.z)-1&&_})}_getMesh(r,u){const m=this._getMeshKey(u);if(m in this._tileMeshCache)return this._tileMeshCache[m];const _=(function(w,D){const k=Uf(D,"16bit"),O=c.aL.deserialize({arrayBuffer:k.vertices,length:k.vertices.byteLength/2/2}),N=c.aN.deserialize({arrayBuffer:k.indices,length:k.indices.byteLength/2/3});return new zs(w.createVertexBuffer(O,Uo.members),w.createIndexBuffer(N),c.aM.simpleSegment(0,0,O.length,N.length))})(r,u);return this._tileMeshCache[m]=_,_}recalculate(r){}hasTransition(){const r=L.now();let u=!1;return u=u||(r-this._errorMeasurementLastChangeTime)/1e3<.7,u=u||this._errorMeasurement&&this._errorMeasurement.awaitingQuery,u}setErrorQueryLatitudeDegrees(r){this._errorQueryLatitudeDegrees=r}}const js=new c.r({type:new c.D(c.v.projection.type)});class xl extends c.E{constructor(r){super(),this._transitionable=new c.t(js,void 0),this.setProjection(r),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new c.F(0)),this._mercatorProjection=new _r,this._verticalPerspectiveProjection=new bl}get transitionState(){const r=this.properties.get("type");if(typeof r=="string"&&r==="mercator")return 0;if(typeof r=="string"&&r==="vertical-perspective")return 1;if(r instanceof c.bm){if(r.from==="vertical-perspective"&&r.to==="mercator")return 1-r.transition;if(r.from==="mercator"&&r.to==="vertical-perspective")return r.transition}return 1}get useGlobeRendering(){return this.transitionState>0}get latitudeErrorCorrectionRadians(){return this._verticalPerspectiveProjection.latitudeErrorCorrectionRadians}get currentProjection(){return this.useGlobeRendering?this._verticalPerspectiveProjection:this._mercatorProjection}get name(){return"globe"}get useSubdivision(){return this.currentProjection.useSubdivision}get shaderVariantName(){return this.currentProjection.shaderVariantName}get shaderDefine(){return this.currentProjection.shaderDefine}get shaderPreludeCode(){return this.currentProjection.shaderPreludeCode}get vertexShaderPreludeCode(){return this.currentProjection.vertexShaderPreludeCode}get subdivisionGranularity(){return this.currentProjection.subdivisionGranularity}get useGlobeControls(){return this.transitionState>0}destroy(){this._mercatorProjection.destroy(),this._verticalPerspectiveProjection.destroy()}updateGPUdependent(r){this._mercatorProjection.updateGPUdependent(r),this._verticalPerspectiveProjection.updateGPUdependent(r)}getMeshFromTileID(r,u,m,_,w){return this.currentProjection.getMeshFromTileID(r,u,m,_,w)}setProjection(r){this._transitionable.setValue("type",r?.type||"mercator")}updateTransitions(r){this._transitioning=this._transitionable.transitioned(r,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()||this.currentProjection.hasTransition()}recalculate(r){this.properties=this._transitioning.possiblyEvaluate(r)}setErrorQueryLatitudeDegrees(r){this._verticalPerspectiveProjection.setErrorQueryLatitudeDegrees(r),this._mercatorProjection.setErrorQueryLatitudeDegrees(r)}}function vu(b){const r=bc(b.worldSize,b.center.lat);return 2*Math.PI*r}function io(b,r,u,m,_){const w=1/(1<<_),D=r/c.$*w+m*w,k=c.bo((b/c.$*w+u*w)*Math.PI*2+Math.PI,2*Math.PI),O=2*Math.atan(Math.exp(Math.PI-D*Math.PI*2))-.5*Math.PI,N=Math.cos(O),B=new Float64Array(3);return B[0]=Math.sin(k)*N,B[1]=Math.sin(O),B[2]=Math.cos(k)*N,B}function da(b){return(function(r,u){const m=Math.cos(u),_=new Float64Array(3);return _[0]=Math.sin(r)*m,_[1]=Math.sin(u),_[2]=Math.cos(r)*m,_})(b.lng*Math.PI/180,b.lat*Math.PI/180)}function bc(b,r){return b/(2*Math.PI)/Math.cos(r*Math.PI/180)}function Sl(b){const r=Math.asin(b[1])/Math.PI*180,u=Math.sqrt(b[0]*b[0]+b[2]*b[2]);if(u>1e-6){const m=b[0]/u,_=Math.acos(b[2]/u),w=(m>0?_:-_)/Math.PI*180;return new c.S(c.aO(w,-180,180),r)}return new c.S(0,r)}function wl(b){return Math.cos(b*Math.PI/180)}function Un(b,r){const u=wl(b),m=wl(r);return c.ak(m/u)}function dp(b,r){const u=b.rotate(r.bearingInRadians),m=r.zoom+Un(r.center.lat,0),_=c.bk(1/wl(r.center.lat),1/wl(Math.min(Math.abs(r.center.lat),60)),c.bn(m,7,3,0,1)),w=360/vu({worldSize:r.worldSize,center:{lat:r.center.lat}});return new c.S(r.center.lng-u.x*w*_,c.ah(r.center.lat+u.y*w,-c.ai,c.ai))}function _u(b){const r=.5*b,u=Math.sin(r),m=Math.cos(r);return Math.log(u+m)-Math.log(m-u)}function Lf(b,r,u,m){const _=b.lat+u*m;if(Math.abs(u)>1){const w=(Math.sign(b.lat+u)!==Math.sign(b.lat)?-Math.abs(b.lat):Math.abs(b.lat))*Math.PI/180,D=Math.abs(b.lat+u)*Math.PI/180,k=_u(w+m*(D-w)),O=_u(w),N=_u(D);return new c.S(b.lng+r*((k-O)/(N-O)),_)}return new c.S(b.lng+r*m,_)}class pp{constructor(r){this._cachePrevious=new Map,this._cache=new Map,this._hadAnyChanges=!1,this._boundingVolumeFactory=r}swapBuffers(){if(!this._hadAnyChanges)return;const r=this._cachePrevious;this._cachePrevious=this._cache,this._cache=r,this._cache.clear(),this._hadAnyChanges=!1}getTileBoundingVolume(r,u,m,_){const w=`${r.z}_${r.x}_${r.y}_${_?.terrain?"t":""}`,D=this._cache.get(w);if(D)return D;const k=this._cachePrevious.get(w);if(k)return this._cache.set(w,k),k;const O=this._boundingVolumeFactory(r,u,m,_);return this._cache.set(w,O),this._hadAnyChanges=!0,O}}class xc{constructor(r,u,m,_){this.min=m,this.max=_,this.points=r,this.planes=u}static fromAabb(r,u){const m=[];for(let _=0;_<8;_++)m.push([1&~_?r[0]:u[0],(_>>1&1)==1?u[1]:r[1],(_>>2&1)==1?u[2]:r[2]]);return new xc(m,[[-1,0,0,u[0]],[1,0,0,-r[0]],[0,-1,0,u[1]],[0,1,0,-r[1]],[0,0,-1,u[2]],[0,0,1,-r[2]]],r,u)}static fromCenterSizeAngles(r,u,m){const _=c.br([],m[0],m[1],m[2]),w=c.bs([],[u[0],0,0],_),D=c.bs([],[0,u[1],0],_),k=c.bs([],[0,0,u[2]],_),O=[...r],N=[...r];for(let Z=0;Z<8;Z++)for(let G=0;G<3;G++){const J=r[G]+w[G]*(1&~Z?-1:1)+D[G]*((Z>>1&1)==1?1:-1)+k[G]*((Z>>2&1)==1?1:-1);O[G]=Math.min(O[G],J),N[G]=Math.max(N[G],J)}const B=[];for(let Z=0;Z<8;Z++){const G=[...r];c.aS(G,G,c.aR([],w,1&~Z?-1:1)),c.aS(G,G,c.aR([],D,(Z>>1&1)==1?1:-1)),c.aS(G,G,c.aR([],k,(Z>>2&1)==1?1:-1)),B.push(G)}return new xc(B,[[...w,-c.aX(w,B[0])],[...D,-c.aX(D,B[0])],[...k,-c.aX(k,B[0])],[-w[0],-w[1],-w[2],-c.aX(w,B[7])],[-D[0],-D[1],-D[2],-c.aX(D,B[7])],[-k[0],-k[1],-k[2],-c.aX(k,B[7])]],O,N)}intersectsFrustum(r){let u=!0;const m=this.points.length,_=this.planes.length,w=r.planes.length,D=r.points.length;for(let k=0;k<w;k++){const O=r.planes[k];let N=0;for(let B=0;B<m;B++){const Z=this.points[B];O[0]*Z[0]+O[1]*Z[1]+O[2]*Z[2]+O[3]>=0&&N++}if(N===0)return 0;N<m&&(u=!1)}if(u)return 2;for(let k=0;k<_;k++){const O=this.planes[k];let N=0;for(let B=0;B<D;B++){const Z=r.points[B];O[0]*Z[0]+O[1]*Z[1]+O[2]*Z[2]+O[3]>=0&&N++}if(N===0)return 0}return 1}intersectsPlane(r){const u=this.points.length;let m=0;for(let _=0;_<u;_++){const w=this.points[_];r[0]*w[0]+r[1]*w[1]+r[2]*w[2]+r[3]>=0&&m++}return m===u?2:m===0?0:1}}function Da(b,r,u){const m=b-r;return m<0?-m:Math.max(0,m-u)}function bu(b,r,u,m,_){const w=b-u;let D;return D=w<0?Math.min(-w,1+w-_):w>1?Math.min(Math.max(w-_,0),1-w):0,Math.max(D,Da(r,m,_))}class Fo{constructor(){this._boundingVolumeCache=new pp(this._computeTileBoundingVolume)}prepareNextFrame(){this._boundingVolumeCache.swapBuffers()}distanceToTile2d(r,u,m,_){const w=1<<m.z,D=1/w,k=m.x/w,O=m.y/w;let N=2;return N=Math.min(N,bu(r,u,k,O,D)),N=Math.min(N,bu(r,u,k+.5,-O-D,D)),N=Math.min(N,bu(r,u,k+.5,2-O-D,D)),N}getWrap(r,u,m){const _=1<<u.z,w=1/_,D=u.x/_,k=Da(r.x,D,w),O=Da(r.x,D-1,w),N=Da(r.x,D+1,w),B=Math.min(k,O,N);return B===N?1:B===O?-1:0}allowVariableZoom(r,u){return zt(r,u)>4}allowWorldCopies(){return!1}getTileBoundingVolume(r,u,m,_){return this._boundingVolumeCache.getTileBoundingVolume(r,u,m,_)}_computeTileBoundingVolume(r,u,m,_){var w,D;let k=0,O=0;if(_?.terrain){const N=new c.Z(r.z,u,r.z,r.x,r.y),B=_.terrain.getMinMaxElevation(N);k=(w=B.minElevation)!==null&&w!==void 0?w:Math.min(0,m),O=(D=B.maxElevation)!==null&&D!==void 0?D:Math.max(0,m)}if(k/=c.bu,O/=c.bu,k+=1,O+=1,r.z<=0)return xc.fromAabb([-O,-O,-O],[O,O,O]);if(r.z===1)return xc.fromAabb([r.x===0?-O:0,r.y===0?0:-O,-O],[r.x===0?0:O,r.y===0?O:0,O]);{const N=[io(0,0,r.x,r.y,r.z),io(c.$,0,r.x,r.y,r.z),io(c.$,c.$,r.x,r.y,r.z),io(0,c.$,r.x,r.y,r.z)],B=[];for(const Ve of N)B.push(c.aR([],Ve,O));if(O!==k)for(const Ve of N)B.push(c.aR([],Ve,k));r.y===0&&B.push([0,1,0]),r.y===(1<<r.z)-1&&B.push([0,-1,0]);const Z=[1,1,1],G=[-1,-1,-1];for(const Ve of B)for(let Xe=0;Xe<3;Xe++)Z[Xe]=Math.min(Z[Xe],Ve[Xe]),G[Xe]=Math.max(G[Xe],Ve[Xe]);const J=io(c.$/2,c.$/2,r.x,r.y,r.z),ie=c.aW([],[0,1,0],J);c.aV(ie,ie);const he=c.aW([],J,ie);c.aV(he,he);const fe=c.aW([],N[2],N[1]);c.aV(fe,fe);const me=c.aW([],N[0],N[3]);c.aV(me,me),B.push(c.aR([],J,O)),r.y>=(1<<r.z)/2&&B.push(c.aR([],io(c.$/2,0,r.x,r.y,r.z),O)),r.y<(1<<r.z)/2&&B.push(c.aR([],io(c.$/2,c.$,r.x,r.y,r.z),O));const ve=Pl(J,B),we=Pl(he,B),_e=[-J[0],-J[1],-J[2],ve.max],Ae=[J[0],J[1],J[2],-ve.min],Ee=[-he[0],-he[1],-he[2],we.max],be=[he[0],he[1],he[2],-we.min],Ue=[...fe,0],Qe=[...me,0],qe=[];return r.y===0?qe.push(c.bt(Qe,Ue,_e),c.bt(Qe,Ue,Ae)):qe.push(c.bt(Ee,Ue,_e),c.bt(Ee,Ue,Ae),c.bt(Ee,Qe,_e),c.bt(Ee,Qe,Ae)),r.y===(1<<r.z)-1?qe.push(c.bt(Qe,Ue,_e),c.bt(Qe,Ue,Ae)):qe.push(c.bt(be,Ue,_e),c.bt(be,Ue,Ae),c.bt(be,Qe,_e),c.bt(be,Qe,Ae)),new xc(qe,[_e,Ae,Ee,be,Ue,Qe],Z,G)}}}function Pl(b,r){let u=1/0,m=-1/0;for(const _ of r){const w=c.aX(b,_);u=Math.min(u,w),m=Math.max(m,w)}return{min:u,max:m}}class xu{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(r){this._helper.setMinZoom(r)}setMaxZoom(r){this._helper.setMaxZoom(r)}setMinPitch(r){this._helper.setMinPitch(r)}setMaxPitch(r){this._helper.setMaxPitch(r)}setRenderWorldCopies(r){this._helper.setRenderWorldCopies(r)}setBearing(r){this._helper.setBearing(r)}setPitch(r){this._helper.setPitch(r)}setRoll(r){this._helper.setRoll(r)}setFov(r){this._helper.setFov(r)}setZoom(r){this._helper.setZoom(r)}setCenter(r){this._helper.setCenter(r)}setElevation(r){this._helper.setElevation(r)}setMinElevationForCurrentTile(r){this._helper.setMinElevationForCurrentTile(r)}setPadding(r){this._helper.setPadding(r)}interpolatePadding(r,u,m){return this._helper.interpolatePadding(r,u,m)}isPaddingEqual(r){return this._helper.isPaddingEqual(r)}resize(r,u){this._helper.resize(r,u)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(r){this._helper.setMaxBounds(r)}overrideNearFarZ(r,u){this._helper.overrideNearFarZ(r,u)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(r){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),r)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(r){}constructor(){this._cachedClippingPlane=c.bv(),this._projectionMatrix=c.b9(),this._globeViewProjMatrix32f=c.b8(),this._globeViewProjMatrixNoCorrection=c.b9(),this._globeViewProjMatrixNoCorrectionInverted=c.b9(),this._globeProjMatrixInverted=c.b9(),this._cameraPosition=c.bp(),this._globeLatitudeErrorCorrectionRadians=0,this._helper=new ea({calcMatrices:()=>{this._calcMatrices()},getConstrained:(r,u)=>this.getConstrained(r,u)}),this._coveringTilesDetailsProvider=new Fo}clone(){const r=new xu;return r.apply(this),r}apply(r,u){this._globeLatitudeErrorCorrectionRadians=u||0,this._helper.apply(r)}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._globeViewProjMatrixNoCorrection}get inverseProjectionMatrix(){return this._globeProjMatrixInverted}get cameraPosition(){const r=c.bp();return r[0]=this._cameraPosition[0],r[1]=this._cameraPosition[1],r[2]=this._cameraPosition[2],r}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}getProjectionData(r){const{overscaledTileID:u,applyGlobeMatrix:m}=r,_=this._helper.getMercatorTileCoordinates(u);return{mainMatrix:this._globeViewProjMatrix32f,tileMercatorCoords:_,clippingPlane:this._cachedClippingPlane,projectionTransition:m?1:0,fallbackMatrix:this._globeViewProjMatrix32f}}_computeClippingPlane(r){const u=this.pitchInRadians,m=this.cameraToCenterDistance/r,_=Math.sin(u)*m,w=Math.cos(u)*m+1,D=1/Math.sqrt(_*_+w*w)*1;let k=-_,O=w;const N=Math.sqrt(k*k+O*O);k/=N,O/=N;const B=[0,k,O];c.bw(B,B,[0,0,0],-this.bearingInRadians),c.bx(B,B,[0,0,0],-1*this.center.lat*Math.PI/180),c.by(B,B,[0,0,0],this.center.lng*Math.PI/180);const Z=1/c.aZ(B);return c.aR(B,B,Z),[...B,-D*Z]}isLocationOccluded(r){return!this.isSurfacePointVisible(da(r))}transformLightDirection(r){const u=this._helper._center.lng*Math.PI/180,m=this._helper._center.lat*Math.PI/180,_=Math.cos(m),w=[Math.sin(u)*_,Math.sin(m),Math.cos(u)*_],D=[w[2],0,-w[0]],k=[0,0,0];c.aW(k,D,w),c.aV(D,D),c.aV(k,k);const O=[0,0,0];return c.aV(O,[D[0]*r[0]+k[0]*r[1]+w[0]*r[2],D[1]*r[0]+k[1]*r[1]+w[1]*r[2],D[2]*r[0]+k[2]*r[1]+w[2]*r[2]]),O}getPixelScale(){return 1/Math.cos(this._helper._center.lat*Math.PI/180)}getCircleRadiusCorrection(){return Math.cos(this._helper._center.lat*Math.PI/180)}getPitchedTextCorrection(r,u,m){const _=(function(k,O,N){const B=1/(1<<N.z);return new c.a1(k/c.$*B+N.x*B,O/c.$*B+N.y*B)})(r,u,m.canonical),w=(D=_.y,[c.bo(_.x*Math.PI*2+Math.PI,2*Math.PI),2*Math.atan(Math.exp(Math.PI-D*Math.PI*2))-.5*Math.PI]);var D;return this.getCircleRadiusCorrection()/Math.cos(w[1])}projectTileCoordinates(r,u,m,_){const w=m.canonical,D=io(r,u,w.x,w.y,w.z),k=1+(_?_(r,u):0)/c.bu,O=[D[0]*k,D[1]*k,D[2]*k,1];c.aw(O,O,this._globeViewProjMatrixNoCorrection);const N=this._cachedClippingPlane,B=N[0]*D[0]+N[1]*D[1]+N[2]*D[2]+N[3]<0;return{point:new c.P(O[0]/O[3],O[1]/O[3]),signedDistanceFromCamera:O[3],isOccluded:B}}_calcMatrices(){if(!this._helper._width||!this._helper._height)return;const r=bc(this.worldSize,this.center.lat),u=c.ba(),m=c.ba();this._helper.autoCalculateNearFarZ&&(this._helper._nearZ=.5,this._helper._farZ=this.cameraToCenterDistance+2*r),c.b4(u,this.fovInRadians,this.width/this.height,this._helper._nearZ,this._helper._farZ);const _=this.centerOffset;u[8]=2*-_.x/this._helper._width,u[9]=2*_.y/this._helper._height,this._projectionMatrix=c.b5(u),this._globeProjMatrixInverted=c.ba(),c.aq(this._globeProjMatrixInverted,u),c.M(u,u,[0,0,-this.cameraToCenterDistance]),c.b6(u,u,this.rollInRadians),c.b7(u,u,-this.pitchInRadians),c.b6(u,u,this.bearingInRadians),c.M(u,u,[0,0,-r]);const w=c.bp();w[0]=r,w[1]=r,w[2]=r,c.b7(m,u,this.center.lat*Math.PI/180),c.bz(m,m,-this.center.lng*Math.PI/180),c.N(m,m,w),this._globeViewProjMatrixNoCorrection=m,c.b7(u,u,this.center.lat*Math.PI/180-this._globeLatitudeErrorCorrectionRadians),c.bz(u,u,-this.center.lng*Math.PI/180),c.N(u,u,w),this._globeViewProjMatrix32f=new Float32Array(u),this._globeViewProjMatrixNoCorrectionInverted=c.ba(),c.aq(this._globeViewProjMatrixNoCorrectionInverted,m);const D=c.bp();this._cameraPosition=c.bp(),this._cameraPosition[2]=this.cameraToCenterDistance/r,c.bw(this._cameraPosition,this._cameraPosition,D,-this.rollInRadians),c.bx(this._cameraPosition,this._cameraPosition,D,this.pitchInRadians),c.bw(this._cameraPosition,this._cameraPosition,D,-this.bearingInRadians),c.aS(this._cameraPosition,this._cameraPosition,[0,0,1]),c.bx(this._cameraPosition,this._cameraPosition,D,-this.center.lat*Math.PI/180),c.by(this._cameraPosition,this._cameraPosition,D,this.center.lng*Math.PI/180),this._cachedClippingPlane=this._computeClippingPlane(r);const k=c.b5(this._globeViewProjMatrixNoCorrectionInverted);c.N(k,k,[1,1,-1]),this._cachedFrustum=$n.fromInvProjectionMatrix(k,1,0,this._cachedClippingPlane,!0)}calculateFogMatrix(r){c.w("calculateFogMatrix is not supported on globe projection.");const u=c.ba();return c.ag(u),u}getVisibleUnwrappedCoordinates(r){return[new c.b2(0,r)]}getCameraFrustum(){return this._cachedFrustum}getClippingPlane(){return this._cachedClippingPlane}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(r){r&&c.w("terrain is not fully supported on vertical perspective projection."),this._helper.recalculateZoomAndCenter(0)}maxPitchScaleFactor(){return 1}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(r,u){if(!this._globeViewProjMatrixNoCorrection)return 1;const m=da(r);c.aR(m,m,1+u/c.bu);const _=c.bv();return c.aw(_,[m[0],m[1],m[2],1],this._globeViewProjMatrixNoCorrection),_[2]/_[3]}populateCache(r){}getBounds(){const r=.5*this.width,u=.5*this.height,m=[new c.P(0,0),new c.P(r,0),new c.P(this.width,0),new c.P(this.width,u),new c.P(this.width,this.height),new c.P(r,this.height),new c.P(0,this.height),new c.P(0,u)],_=[];for(const Z of m)_.push(this.unprojectScreenPoint(Z));let w=0,D=0,k=0,O=0;const N=this.center;for(const Z of _){const G=c.bA(N.lng,Z.lng),J=c.bA(N.lat,Z.lat);G<D&&(D=G),G>w&&(w=G),J<O&&(O=J),J>k&&(k=J)}const B=[N.lng+D,N.lat+O,N.lng+w,N.lat+k];return this.isSurfacePointOnScreen([0,1,0])&&(B[3]=90,B[0]=-180,B[2]=180),this.isSurfacePointOnScreen([0,-1,0])&&(B[1]=-90,B[0]=-180,B[2]=180),new jt(B)}getConstrained(r,u){const m=c.ah(r.lat,-c.ai,c.ai),_=c.ah(+u,this.minZoom+Un(0,m),this.maxZoom);return{center:new c.S(r.lng,m),zoom:_}}calculateCenterFromCameraLngLatAlt(r,u,m,_){return this._helper.calculateCenterFromCameraLngLatAlt(r,u,m,_)}setLocationAtPoint(r,u){const m=da(this.unprojectScreenPoint(u)),_=da(r),w=c.bp();c.bB(w);const D=c.bp();c.by(D,m,w,-this.center.lng*Math.PI/180),c.bx(D,D,w,this.center.lat*Math.PI/180);const k=_[0]*_[0]+_[2]*_[2],O=D[0]*D[0];if(k<O)return;const N=Math.sqrt(k-O),B=-N,Z=c.bC(_[0],_[2],D[0],N),G=c.bC(_[0],_[2],D[0],B),J=c.bp();c.by(J,_,w,-Z);const ie=c.bC(J[1],J[2],D[1],D[2]),he=c.bp();c.by(he,_,w,-G);const fe=c.bC(he[1],he[2],D[1],D[2]),me=.5*Math.PI,ve=ie>=-me&&ie<=me,we=fe>=-me&&fe<=me;let _e,Ae;if(ve&&we){const Qe=this.center.lng*Math.PI/180,qe=this.center.lat*Math.PI/180;c.bD(Z,Qe)+c.bD(ie,qe)<c.bD(G,Qe)+c.bD(fe,qe)?(_e=Z,Ae=ie):(_e=G,Ae=fe)}else if(ve)_e=Z,Ae=ie;else{if(!we)return;_e=G,Ae=fe}const Ee=_e/Math.PI*180,be=Ae/Math.PI*180,Ue=this.center.lat;this.setCenter(new c.S(Ee,c.ah(be,-90,90))),this.setZoom(this.zoom+Un(Ue,this.center.lat))}locationToScreenPoint(r,u){const m=da(r);if(u){const _=u.getElevationForLngLatZoom(r,this._helper._tileZoom);c.aR(m,m,1+_/c.bu)}return this._projectSurfacePointToScreen(m)}_projectSurfacePointToScreen(r){const u=c.bv();return c.aw(u,[...r,1],this._globeViewProjMatrixNoCorrection),u[0]/=u[3],u[1]/=u[3],new c.P((.5*u[0]+.5)*this.width,(.5*-u[1]+.5)*this.height)}screenPointToMercatorCoordinate(r,u){if(u){const m=u.pointCoordinate(r);if(m)return m}return c.a1.fromLngLat(this.unprojectScreenPoint(r))}screenPointToLocation(r,u){var m;return(m=this.screenPointToMercatorCoordinate(r,u))===null||m===void 0?void 0:m.toLngLat()}isPointOnMapSurface(r,u){const m=this._cameraPosition,_=this.getRayDirectionFromPixel(r);return!!this.rayPlanetIntersection(m,_)}getRayDirectionFromPixel(r){const u=c.bv();u[0]=r.x/this.width*2-1,u[1]=-1*(r.y/this.height*2-1),u[2]=1,u[3]=1,c.aw(u,u,this._globeViewProjMatrixNoCorrectionInverted),u[0]/=u[3],u[1]/=u[3],u[2]/=u[3];const m=c.bp();m[0]=u[0]-this._cameraPosition[0],m[1]=u[1]-this._cameraPosition[1],m[2]=u[2]-this._cameraPosition[2];const _=c.bp();return c.aV(_,m),_}isSurfacePointVisible(r){const u=this._cachedClippingPlane;return u[0]*r[0]+u[1]*r[1]+u[2]*r[2]+u[3]>=0}isSurfacePointOnScreen(r){if(!this.isSurfacePointVisible(r))return!1;const u=c.bv();return c.aw(u,[...r,1],this._globeViewProjMatrixNoCorrection),u[0]/=u[3],u[1]/=u[3],u[2]/=u[3],u[0]>-1&&u[0]<1&&u[1]>-1&&u[1]<1&&u[2]>-1&&u[2]<1}rayPlanetIntersection(r,u){const m=c.aX(r,u),_=c.bp(),w=c.bp();c.aR(w,u,m),c.aU(_,r,w);const D=1-c.aX(_,_);if(D<0)return null;const k=c.aX(r,r)-1,O=-m+(m<0?1:-1)*Math.sqrt(D),N=k/O,B=O;return{tMin:Math.min(N,B),tMax:Math.max(N,B)}}unprojectScreenPoint(r){const u=this._cameraPosition,m=this.getRayDirectionFromPixel(r),_=this.rayPlanetIntersection(u,m);if(_){const B=c.bp();c.aS(B,u,[m[0]*_.tMin,m[1]*_.tMin,m[2]*_.tMin]);const Z=c.bp();return c.aV(Z,B),Sl(Z)}const w=this._cachedClippingPlane,D=w[0]*m[0]+w[1]*m[1]+w[2]*m[2],k=-c.b1(w,u)/D,O=c.bp();if(k>0)c.aS(O,u,[m[0]*k,m[1]*k,m[2]*k]);else{const B=c.bp();c.aS(B,u,[2*m[0],2*m[1],2*m[2]]);const Z=c.b1(this._cachedClippingPlane,B);c.aU(O,B,[this._cachedClippingPlane[0]*Z,this._cachedClippingPlane[1]*Z,this._cachedClippingPlane[2]*Z])}const N=(function(B){const Z=c.bp();return Z[0]=B[0]*-B[3],Z[1]=B[1]*-B[3],Z[2]=B[2]*-B[3],{center:Z,radius:Math.sqrt(1-B[3]*B[3])}})(w);return Sl((function(B,Z,G){const J=c.bp();c.aU(J,G,B);const ie=c.bp();return c.bq(ie,B,J,Z/c.a$(J)),ie})(N.center,N.radius,O))}getMatrixForModel(r,u){const m=c.S.convert(r),_=1/c.bu,w=c.b9();return c.bz(w,w,m.lng/180*Math.PI),c.b7(w,w,-m.lat/180*Math.PI),c.M(w,w,[0,0,1+u/c.bu]),c.b7(w,w,.5*Math.PI),c.N(w,w,[_,_,_]),w}getProjectionDataForCustomLayer(r=!0){const u=this.getProjectionData({overscaledTileID:new c.Z(0,0,0,0,0),applyGlobeMatrix:r});return u.tileMercatorCoords=[0,0,1,1],u}getFastPathSimpleProjectionMatrix(r){}}class Su{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(r){this._helper.setMinZoom(r)}setMaxZoom(r){this._helper.setMaxZoom(r)}setMinPitch(r){this._helper.setMinPitch(r)}setMaxPitch(r){this._helper.setMaxPitch(r)}setRenderWorldCopies(r){this._helper.setRenderWorldCopies(r)}setBearing(r){this._helper.setBearing(r)}setPitch(r){this._helper.setPitch(r)}setRoll(r){this._helper.setRoll(r)}setFov(r){this._helper.setFov(r)}setZoom(r){this._helper.setZoom(r)}setCenter(r){this._helper.setCenter(r)}setElevation(r){this._helper.setElevation(r)}setMinElevationForCurrentTile(r){this._helper.setMinElevationForCurrentTile(r)}setPadding(r){this._helper.setPadding(r)}interpolatePadding(r,u,m){return this._helper.interpolatePadding(r,u,m)}isPaddingEqual(r){return this._helper.isPaddingEqual(r)}resize(r,u,m=!0){this._helper.resize(r,u,m)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(r){this._helper.setMaxBounds(r)}overrideNearFarZ(r,u){this._helper.overrideNearFarZ(r,u)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(r){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),r)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}get isGlobeRendering(){return this._globeness>0}setTransitionState(r,u){this._globeness=r,this._globeLatitudeErrorCorrectionRadians=u,this._calcMatrices(),this._verticalPerspectiveTransform.getCoveringTilesDetailsProvider().prepareNextFrame(),this._mercatorTransform.getCoveringTilesDetailsProvider().prepareNextFrame()}get currentTransform(){return this.isGlobeRendering?this._verticalPerspectiveTransform:this._mercatorTransform}constructor(){this._globeLatitudeErrorCorrectionRadians=0,this._globeness=1,this._helper=new ea({calcMatrices:()=>{this._calcMatrices()},getConstrained:(r,u)=>this.getConstrained(r,u)}),this._globeness=1,this._mercatorTransform=new Nr,this._verticalPerspectiveTransform=new xu}clone(){const r=new Su;return r._globeness=this._globeness,r._globeLatitudeErrorCorrectionRadians=this._globeLatitudeErrorCorrectionRadians,r.apply(this),r}apply(r){this._helper.apply(r),this._mercatorTransform.apply(this),this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians)}get projectionMatrix(){return this.currentTransform.projectionMatrix}get modelViewProjectionMatrix(){return this.currentTransform.modelViewProjectionMatrix}get inverseProjectionMatrix(){return this.currentTransform.inverseProjectionMatrix}get cameraPosition(){return this.currentTransform.cameraPosition}getProjectionData(r){const u=this._mercatorTransform.getProjectionData(r),m=this._verticalPerspectiveTransform.getProjectionData(r);return{mainMatrix:this.isGlobeRendering?m.mainMatrix:u.mainMatrix,clippingPlane:m.clippingPlane,tileMercatorCoords:m.tileMercatorCoords,projectionTransition:r.applyGlobeMatrix?this._globeness:0,fallbackMatrix:u.fallbackMatrix}}isLocationOccluded(r){return this.currentTransform.isLocationOccluded(r)}transformLightDirection(r){return this.currentTransform.transformLightDirection(r)}getPixelScale(){return c.bk(this._mercatorTransform.getPixelScale(),this._verticalPerspectiveTransform.getPixelScale(),this._globeness)}getCircleRadiusCorrection(){return c.bk(this._mercatorTransform.getCircleRadiusCorrection(),this._verticalPerspectiveTransform.getCircleRadiusCorrection(),this._globeness)}getPitchedTextCorrection(r,u,m){const _=this._mercatorTransform.getPitchedTextCorrection(r,u,m),w=this._verticalPerspectiveTransform.getPitchedTextCorrection(r,u,m);return c.bk(_,w,this._globeness)}projectTileCoordinates(r,u,m,_){return this.currentTransform.projectTileCoordinates(r,u,m,_)}_calcMatrices(){this._helper._width&&this._helper._height&&(this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians),this._helper._nearZ=this._verticalPerspectiveTransform.nearZ,this._helper._farZ=this._verticalPerspectiveTransform.farZ,this._mercatorTransform.apply(this,!0,this.isGlobeRendering),this._helper._nearZ=this._mercatorTransform.nearZ,this._helper._farZ=this._mercatorTransform.farZ)}calculateFogMatrix(r){return this.currentTransform.calculateFogMatrix(r)}getVisibleUnwrappedCoordinates(r){return this.currentTransform.getVisibleUnwrappedCoordinates(r)}getCameraFrustum(){return this.currentTransform.getCameraFrustum()}getClippingPlane(){return this.currentTransform.getClippingPlane()}getCoveringTilesDetailsProvider(){return this.currentTransform.getCoveringTilesDetailsProvider()}recalculateZoomAndCenter(r){this._mercatorTransform.recalculateZoomAndCenter(r),this._verticalPerspectiveTransform.recalculateZoomAndCenter(r)}maxPitchScaleFactor(){return this._mercatorTransform.maxPitchScaleFactor()}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(r,u){return this.currentTransform.lngLatToCameraDepth(r,u)}populateCache(r){this._mercatorTransform.populateCache(r),this._verticalPerspectiveTransform.populateCache(r)}getBounds(){return this.currentTransform.getBounds()}getConstrained(r,u){return this.currentTransform.getConstrained(r,u)}calculateCenterFromCameraLngLatAlt(r,u,m,_){return this._helper.calculateCenterFromCameraLngLatAlt(r,u,m,_)}setLocationAtPoint(r,u){if(!this.isGlobeRendering)return this._mercatorTransform.setLocationAtPoint(r,u),void this.apply(this._mercatorTransform);this._verticalPerspectiveTransform.setLocationAtPoint(r,u),this.apply(this._verticalPerspectiveTransform)}locationToScreenPoint(r,u){return this.currentTransform.locationToScreenPoint(r,u)}screenPointToMercatorCoordinate(r,u){return this.currentTransform.screenPointToMercatorCoordinate(r,u)}screenPointToLocation(r,u){return this.currentTransform.screenPointToLocation(r,u)}isPointOnMapSurface(r,u){return this.currentTransform.isPointOnMapSurface(r,u)}getRayDirectionFromPixel(r){return this._verticalPerspectiveTransform.getRayDirectionFromPixel(r)}getMatrixForModel(r,u){return this.currentTransform.getMatrixForModel(r,u)}getProjectionDataForCustomLayer(r=!0){const u=this._mercatorTransform.getProjectionDataForCustomLayer(r);if(!this.isGlobeRendering)return u;const m=this._verticalPerspectiveTransform.getProjectionDataForCustomLayer(r);return m.fallbackMatrix=u.mainMatrix,m}getFastPathSimpleProjectionMatrix(r){return this.currentTransform.getFastPathSimpleProjectionMatrix(r)}}class Ua{get useGlobeControls(){return!0}handlePanInertia(r,u){const m=dp(r,u);return Math.abs(m.lng-u.center.lng)>180&&(m.lng=u.center.lng+179.5*Math.sign(m.lng-u.center.lng)),{easingCenter:m,easingOffset:new c.P(0,0)}}handleMapControlsRollPitchBearingZoom(r,u){const m=r.around,_=u.screenPointToLocation(m);r.bearingDelta&&u.setBearing(u.bearing+r.bearingDelta),r.pitchDelta&&u.setPitch(u.pitch+r.pitchDelta),r.rollDelta&&u.setRoll(u.roll+r.rollDelta);const w=u.zoom;r.zoomDelta&&u.setZoom(u.zoom+r.zoomDelta);const D=u.zoom-w;if(D===0)return;const k=c.bA(u.center.lng,_.lng),O=k/(Math.abs(k/180)+1),N=c.bA(u.center.lat,_.lat),B=u.getRayDirectionFromPixel(m),Z=u.cameraPosition,G=-1*c.aX(Z,B),J=c.bp();c.aS(J,Z,[B[0]*G,B[1]*G,B[2]*G]);const ie=c.aZ(J)-1,he=Math.exp(.5*-Math.max(ie-.3,0)),fe=bc(u.worldSize,u.center.lat)/Math.min(u.width,u.height),me=c.bn(fe,.9,.5,1,.25),ve=(1-c.af(-D))*Math.min(he,me),we=u.center.lat,_e=u.zoom,Ae=new c.S(u.center.lng+O*ve,c.ah(u.center.lat+N*ve,-c.ai,c.ai));u.setLocationAtPoint(_,m);const Ee=u.center,be=c.bn(Math.abs(k),45,85,0,1),Ue=c.bn(fe,.75,.35,0,1),Qe=Math.pow(Math.max(be,Ue),.25),qe=c.bA(Ee.lng,Ae.lng),Ve=c.bA(Ee.lat,Ae.lat);u.setCenter(new c.S(Ee.lng+qe*Qe,Ee.lat+Ve*Qe).wrap()),u.setZoom(_e+Un(we,u.center.lat))}handleMapControlsPan(r,u,m){if(!r.panDelta)return;const _=u.center.lat,w=u.zoom;u.setCenter(dp(r.panDelta,u).wrap()),u.setZoom(w+Un(_,u.center.lat))}cameraForBoxAndBearing(r,u,m,_,w){const D=Ca(r,u,m,_,w),k=u.left/w.width*2-1,O=(w.width-u.right)/w.width*2-1,N=u.top/w.height*-2+1,B=(w.height-u.bottom)/w.height*-2+1,Z=c.bA(m.getWest(),m.getEast())<0,G=Z?m.getEast():m.getWest(),J=Z?m.getWest():m.getEast(),ie=Math.max(m.getNorth(),m.getSouth()),he=Math.min(m.getNorth(),m.getSouth()),fe=G+.5*c.bA(G,J),me=ie+.5*c.bA(ie,he),ve=w.clone();ve.setCenter(D.center),ve.setBearing(D.bearing),ve.setPitch(0),ve.setRoll(0),ve.setZoom(D.zoom);const we=ve.modelViewProjectionMatrix,_e=[da(m.getNorthWest()),da(m.getNorthEast()),da(m.getSouthWest()),da(m.getSouthEast()),da(new c.S(J,me)),da(new c.S(G,me)),da(new c.S(fe,ie)),da(new c.S(fe,he))],Ae=da(D.center);let Ee=Number.POSITIVE_INFINITY;for(const be of _e)k<0&&(Ee=Ua.getLesserNonNegativeNonNull(Ee,Ua.solveVectorScale(be,Ae,we,"x",k))),O>0&&(Ee=Ua.getLesserNonNegativeNonNull(Ee,Ua.solveVectorScale(be,Ae,we,"x",O))),N>0&&(Ee=Ua.getLesserNonNegativeNonNull(Ee,Ua.solveVectorScale(be,Ae,we,"y",N))),B<0&&(Ee=Ua.getLesserNonNegativeNonNull(Ee,Ua.solveVectorScale(be,Ae,we,"y",B)));if(Number.isFinite(Ee)&&Ee!==0)return D.zoom=ve.zoom+c.ak(Ee),D;Lo()}handleJumpToCenterZoom(r,u){const m=r.center.lat,_=r.getConstrained(u.center?c.S.convert(u.center):r.center,r.zoom).center;r.setCenter(_.wrap());const w=u.zoom!==void 0?+u.zoom:r.zoom+Un(m,_.lat);r.zoom!==w&&r.setZoom(w)}handleEaseTo(r,u){const m=r.zoom,_=r.center,w=r.padding,D={roll:r.roll,pitch:r.pitch,bearing:r.bearing},k={roll:u.roll===void 0?r.roll:u.roll,pitch:u.pitch===void 0?r.pitch:u.pitch,bearing:u.bearing===void 0?r.bearing:u.bearing},O=u.zoom!==void 0,N=!r.isPaddingEqual(u.padding);let B=!1;const Z=u.center?c.S.convert(u.center):_,G=r.getConstrained(Z,m).center;_c(r,G);const J=r.clone();J.setCenter(G),J.setZoom(O?+u.zoom:m+Un(_.lat,Z.lat)),J.setBearing(u.bearing);const ie=new c.P(c.ah(r.centerPoint.x+u.offsetAsPoint.x,0,r.width),c.ah(r.centerPoint.y+u.offsetAsPoint.y,0,r.height));J.setLocationAtPoint(G,ie);const he=(u.offset&&u.offsetAsPoint.mag())>0?J.center:G,fe=O?+u.zoom:m+Un(_.lat,he.lat),me=m+Un(_.lat,0),ve=fe+Un(he.lat,0),we=c.bA(_.lng,he.lng),_e=c.bA(_.lat,he.lat),Ae=c.af(ve-me);return B=fe!==m,{easeFunc:Ee=>{if(c.be(D,k)||Aa({startEulerAngles:D,endEulerAngles:k,tr:r,k:Ee,useSlerp:D.roll!=k.roll}),N&&r.interpolatePadding(w,u.padding,Ee),u.around)c.w("Easing around a point is not supported under globe projection."),r.setLocationAtPoint(u.around,u.aroundPoint);else{const be=ve>me?Math.min(2,Ae):Math.max(.5,Ae),Ue=Math.pow(be,1-Ee),Qe=Lf(_,we,_e,Ee*Ue);r.setCenter(Qe.wrap())}if(B){const be=c.C.number(me,ve,Ee)+Un(0,r.center.lat);r.setZoom(be)}},isZooming:B,elevationCenter:he}}handleFlyTo(r,u){const m=u.zoom!==void 0,_=r.center,w=r.zoom,D=r.padding,k=!r.isPaddingEqual(u.padding),O=r.getConstrained(c.S.convert(u.center||u.locationAtOffset),w).center,N=m?+u.zoom:r.zoom+Un(r.center.lat,O.lat),B=r.clone();B.setCenter(O),B.setZoom(N),B.setBearing(u.bearing);const Z=new c.P(c.ah(r.centerPoint.x+u.offsetAsPoint.x,0,r.width),c.ah(r.centerPoint.y+u.offsetAsPoint.y,0,r.height));B.setLocationAtPoint(O,Z);const G=B.center;_c(r,G);const J=(function(_e,Ae,Ee){const be=da(Ae),Ue=da(Ee),Qe=c.aX(be,Ue),qe=Math.acos(Qe),Ve=vu(_e);return qe/(2*Math.PI)*Ve})(r,_,G),ie=w+Un(_.lat,0),he=N+Un(G.lat,0),fe=c.af(he-ie);let me;if(typeof u.minZoom=="number"){const _e=+u.minZoom+Un(G.lat,0),Ae=Math.min(_e,ie,he)+Un(0,G.lat),Ee=r.getConstrained(G,Ae).zoom+Un(G.lat,0);me=c.af(Ee-ie)}const ve=c.bA(_.lng,G.lng),we=c.bA(_.lat,G.lat);return{easeFunc:(_e,Ae,Ee,be)=>{const Ue=Lf(_,ve,we,Ee);k&&r.interpolatePadding(D,u.padding,_e);const Qe=_e===1?G:Ue;r.setCenter(Qe.wrap());const qe=ie+c.ak(Ae);r.setZoom(_e===1?N:qe+Un(0,Qe.lat))},scaleOfZoom:fe,targetCenter:G,scaleOfMinZoom:me,pixelPathLength:J}}static solveVectorScale(r,u,m,_,w){const D=_==="x"?[m[0],m[4],m[8],m[12]]:[m[1],m[5],m[9],m[13]],k=[m[3],m[7],m[11],m[15]],O=r[0]*D[0]+r[1]*D[1]+r[2]*D[2],N=r[0]*k[0]+r[1]*k[1]+r[2]*k[2],B=u[0]*D[0]+u[1]*D[1]+u[2]*D[2],Z=u[0]*k[0]+u[1]*k[1]+u[2]*k[2];return B+w*N===O+w*Z||k[3]*(O-B)+D[3]*(Z-N)+O*Z==B*N?null:(B+D[3]-w*Z-w*k[3])/(B-O-w*Z+w*N)}static getLesserNonNegativeNonNull(r,u){return u!==null&&u>=0&&u<r?u:r}}class zf{constructor(r){this._globe=r,this._mercatorCameraHelper=new En,this._verticalPerspectiveCameraHelper=new Ua}get useGlobeControls(){return this._globe.useGlobeRendering}get currentHelper(){return this.useGlobeControls?this._verticalPerspectiveCameraHelper:this._mercatorCameraHelper}handlePanInertia(r,u){return this.currentHelper.handlePanInertia(r,u)}handleMapControlsRollPitchBearingZoom(r,u){return this.currentHelper.handleMapControlsRollPitchBearingZoom(r,u)}handleMapControlsPan(r,u,m){this.currentHelper.handleMapControlsPan(r,u,m)}cameraForBoxAndBearing(r,u,m,_,w){return this.currentHelper.cameraForBoxAndBearing(r,u,m,_,w)}handleJumpToCenterZoom(r,u){this.currentHelper.handleJumpToCenterZoom(r,u)}handleEaseTo(r,u){return this.currentHelper.handleEaseTo(r,u)}handleFlyTo(r,u){return this.currentHelper.handleFlyTo(r,u)}}const Th=(b,r)=>c.y(b,r&&r.filter((u=>u.identifier!=="source.canvas"))),Bm=c.bE();class Ff extends c.E{constructor(r,u={}){var m,_;super(),this._rtlPluginLoaded=()=>{for(const D in this.sourceCaches){const k=this.sourceCaches[D].getSource().type;k!=="vector"&&k!=="geojson"||this.sourceCaches[D].reload()}},this.map=r,this.dispatcher=new Dt(vt(),r._getMapId()),this.dispatcher.registerMessageHandler("GG",((D,k)=>this.getGlyphs(D,k))),this.dispatcher.registerMessageHandler("GI",((D,k)=>this.getImages(D,k))),this.imageManager=new lt,this.imageManager.setEventedParent(this);const w=((m=r._container)===null||m===void 0?void 0:m.lang)||typeof document<"u"&&((_=document.documentElement)===null||_===void 0?void 0:_.lang)||void 0;this.glyphManager=new Je(r._requestManager,u.localIdeographFontFamily,w),this.lineAtlas=new bt(256,512),this.crossTileSymbolIndex=new vl,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new c.bF,this._loaded=!1,this._availableImages=[],this._globalState={},this._resetUpdates(),this.dispatcher.broadcast("SR",c.bG()),Dn().on(To,this._rtlPluginLoaded),this.on("data",(D=>{if(D.dataType!=="source"||D.sourceDataType!=="metadata")return;const k=this.sourceCaches[D.sourceId];if(!k)return;const O=k.getSource();if(O&&O.vectorLayerIds)for(const N in this._layers){const B=this._layers[N];B.source===O.id&&this._validateLayer(B)}}))}setGlobalStateProperty(r,u){var m,_,w;this._checkLoaded();const D=u===null?(w=(_=(m=this.stylesheet.state)===null||m===void 0?void 0:m[r])===null||_===void 0?void 0:_.default)!==null&&w!==void 0?w:null:u;if(c.bH(D,this._globalState[r]))return this;this._globalState[r]=D,this._applyGlobalStateChanges([r])}getGlobalState(){return this._globalState}setGlobalState(r){this._checkLoaded();const u=[];for(const m in r)!c.bH(this._globalState[m],r[m].default)&&(u.push(m),this._globalState[m]=r[m].default);this._applyGlobalStateChanges(u)}_applyGlobalStateChanges(r){if(r.length===0)return;const u=new Set,m={};for(const _ of r){m[_]=this._globalState[_];for(const w in this._layers){const D=this._layers[w],k=D.getLayoutAffectingGlobalStateRefs(),O=D.getPaintAffectingGlobalStateRefs();if(k.has(_)&&u.add(D.source),O.has(_))for(const{name:N,value:B}of O.get(_))this._updatePaintProperty(D,N,B)}}this.dispatcher.broadcast("UGS",m);for(const _ in this.sourceCaches)u.has(_)&&(this._reloadSource(_),this._changed=!0)}loadURL(r,u={},m){this.fire(new c.l("dataloading",{dataType:"style"})),u.validate=typeof u.validate!="boolean"||u.validate;const _=this.map._requestManager.transformRequest(r,"Style");this._loadStyleRequest=new AbortController;const w=this._loadStyleRequest;c.j(_,this._loadStyleRequest).then((D=>{this._loadStyleRequest=null,this._load(D.data,u,m)})).catch((D=>{this._loadStyleRequest=null,D&&!w.signal.aborted&&this.fire(new c.k(D))}))}loadJSON(r,u={},m){this.fire(new c.l("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,L.frameAsync(this._frameRequest).then((()=>{this._frameRequest=null,u.validate=u.validate!==!1,this._load(r,u,m)})).catch((()=>{}))}loadEmpty(){this.fire(new c.l("dataloading",{dataType:"style"})),this._load(Bm,{validate:!1})}_load(r,u,m){var _,w;let D=u.transformStyle?u.transformStyle(m,r):r;if(!u.validate||!Th(this,c.z(D))){D=Object.assign({},D),this._loaded=!0,this.stylesheet=D;for(const k in D.sources)this.addSource(k,D.sources[k],{validate:!1});D.sprite?this._loadSprite(D.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(D.glyphs),this._createLayers(),this.light=new je(this.stylesheet.light),this._setProjectionInternal(((_=this.stylesheet.projection)===null||_===void 0?void 0:_.type)||"mercator"),this.sky=new Ge(this.stylesheet.sky),this.map.setTerrain((w=this.stylesheet.terrain)!==null&&w!==void 0?w:null),this.fire(new c.l("data",{dataType:"style"})),this.fire(new c.l("style.load"))}}_createLayers(){var r;const u=c.bI(this.stylesheet.layers);this.setGlobalState((r=this.stylesheet.state)!==null&&r!==void 0?r:null),this.dispatcher.broadcast("SL",u),this._order=u.map((m=>m.id)),this._layers={},this._serializedLayers=null;for(const m of u){const _=c.bJ(m,this._globalState);_.setEventedParent(this,{layer:{id:m.id}}),this._layers[m.id]=_}}_loadSprite(r,u=!1,m=void 0){let _;this.imageManager.setLoaded(!1),this._spriteRequest=new AbortController,(function(w,D,k,O){return c._(this,void 0,void 0,(function*(){const N=ye(w),B=k>1?"@2x":"",Z={},G={};for(const{id:J,url:ie}of N){const he=D.transformRequest(xe(ie,B,".json"),"SpriteJSON");Z[J]=c.j(he,O);const fe=D.transformRequest(xe(ie,B,".png"),"SpriteImage");G[J]=pe.getImage(fe,O)}return yield Promise.all([...Object.values(Z),...Object.values(G)]),(function(J,ie){return c._(this,void 0,void 0,(function*(){const he={};for(const fe in J){he[fe]={};const me=L.getImageCanvasContext((yield ie[fe]).data),ve=(yield J[fe]).data;for(const we in ve){const{width:_e,height:Ae,x:Ee,y:be,sdf:Ue,pixelRatio:Qe,stretchX:qe,stretchY:Ve,content:Xe,textFitWidth:Et,textFitHeight:Mt}=ve[we];he[fe][we]={data:null,pixelRatio:Qe,sdf:Ue,stretchX:qe,stretchY:Ve,content:Xe,textFitWidth:Et,textFitHeight:Mt,spriteData:{width:_e,height:Ae,x:Ee,y:be,context:me}}}}return he}))})(Z,G)}))})(r,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then((w=>{if(this._spriteRequest=null,w)for(const D in w){this._spritesImagesIds[D]=[];const k=this._spritesImagesIds[D]?this._spritesImagesIds[D].filter((O=>!(O in w))):[];for(const O of k)this.imageManager.removeImage(O),this._changedImages[O]=!0;for(const O in w[D]){const N=D==="default"?O:`${D}:${O}`;this._spritesImagesIds[D].push(N),N in this.imageManager.images?this.imageManager.updateImage(N,w[D][O],!1):this.imageManager.addImage(N,w[D][O]),u&&(this._changedImages[N]=!0)}}})).catch((w=>{this._spriteRequest=null,_=w,this.fire(new c.k(_))})).finally((()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),u&&(this._changed=!0),this.dispatcher.broadcast("SI",this._availableImages),this.fire(new c.l("data",{dataType:"style"})),m&&m(_)}))}_unloadSprite(){for(const r of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(r),this._changedImages[r]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new c.l("data",{dataType:"style"}))}_validateLayer(r){const u=this.sourceCaches[r.source];if(!u)return;const m=r.sourceLayer;if(!m)return;const _=u.getSource();(_.type==="geojson"||_.vectorLayerIds&&_.vectorLayerIds.indexOf(m)===-1)&&this.fire(new c.k(new Error(`Source layer "${m}" does not exist on source "${_.id}" as specified by style layer "${r.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const r in this.sourceCaches)if(!this.sourceCaches[r].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(r,u=!1){const m=this._serializedAllLayers();if(!r||r.length===0)return Object.values(u?c.bK(m):m);const _=[];for(const w of r)if(m[w]){const D=u?c.bK(m[w]):m[w];_.push(D)}return _}_serializedAllLayers(){let r=this._serializedLayers;if(r)return r;r=this._serializedLayers={};const u=Object.keys(this._layers);for(const m of u){const _=this._layers[m];_.type!=="custom"&&(r[m]=_.serialize())}return r}hasTransitions(){var r,u,m;if(!((r=this.light)===null||r===void 0)&&r.hasTransition()||!((u=this.sky)===null||u===void 0)&&u.hasTransition()||!((m=this.projection)===null||m===void 0)&&m.hasTransition())return!0;for(const _ in this.sourceCaches)if(this.sourceCaches[_].hasTransition())return!0;for(const _ in this._layers)if(this._layers[_].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(r){if(!this._loaded)return;const u=this._changed;if(u){const _=Object.keys(this._updatedLayers),w=Object.keys(this._removedLayers);(_.length||w.length)&&this._updateWorkerLayers(_,w);for(const D in this._updatedSources){const k=this._updatedSources[D];if(k==="reload")this._reloadSource(D);else{if(k!=="clear")throw new Error(`Invalid action ${k}`);this._clearSource(D)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const D in this._updatedPaintProps)this._layers[D].updateTransitions(r);this.light.updateTransitions(r),this.sky.updateTransitions(r),this._resetUpdates()}const m={};for(const _ in this.sourceCaches){const w=this.sourceCaches[_];m[_]=w.used,w.used=!1}for(const _ of this._order){const w=this._layers[_];w.recalculate(r,this._availableImages),!w.isHidden(r.zoom)&&w.source&&(this.sourceCaches[w.source].used=!0)}for(const _ in m){const w=this.sourceCaches[_];!!m[_]!=!!w.used&&w.fire(new c.l("data",{sourceDataType:"visibility",dataType:"source",sourceId:_}))}this.light.recalculate(r),this.sky.recalculate(r),this.projection.recalculate(r),this.z=r.zoom,u&&this.fire(new c.l("data",{dataType:"style"}))}_updateTilesForChangedImages(){const r=Object.keys(this._changedImages);if(r.length){for(const u in this.sourceCaches)this.sourceCaches[u].reloadTilesForDependencies(["icons","patterns"],r);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const r in this.sourceCaches)this.sourceCaches[r].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(r,u){this.dispatcher.broadcast("UL",{layers:this._serializeByIds(r,!1),removedIds:u})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(r,u={}){var m;this._checkLoaded();const _=this.serialize();if(r=u.transformStyle?u.transformStyle(_,r):r,((m=u.validate)===null||m===void 0||m)&&Th(this,c.z(r)))return!1;(r=c.bK(r)).layers=c.bI(r.layers);const w=c.bL(_,r),D=this._getOperationsToPerform(w);if(D.unimplemented.length>0)throw new Error(`Unimplemented: ${D.unimplemented.join(", ")}.`);if(D.operations.length===0)return!1;for(const k of D.operations)k();return this.stylesheet=r,this._serializedLayers=null,!0}_getOperationsToPerform(r){const u=[],m=[];for(const _ of r)switch(_.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":case"setRoll":continue;case"addLayer":u.push((()=>this.addLayer.apply(this,_.args)));break;case"removeLayer":u.push((()=>this.removeLayer.apply(this,_.args)));break;case"setPaintProperty":u.push((()=>this.setPaintProperty.apply(this,_.args)));break;case"setLayoutProperty":u.push((()=>this.setLayoutProperty.apply(this,_.args)));break;case"setFilter":u.push((()=>this.setFilter.apply(this,_.args)));break;case"addSource":u.push((()=>this.addSource.apply(this,_.args)));break;case"removeSource":u.push((()=>this.removeSource.apply(this,_.args)));break;case"setLayerZoomRange":u.push((()=>this.setLayerZoomRange.apply(this,_.args)));break;case"setLight":u.push((()=>this.setLight.apply(this,_.args)));break;case"setGeoJSONSourceData":u.push((()=>this.setGeoJSONSourceData.apply(this,_.args)));break;case"setGlyphs":u.push((()=>this.setGlyphs.apply(this,_.args)));break;case"setSprite":u.push((()=>this.setSprite.apply(this,_.args)));break;case"setTerrain":u.push((()=>this.map.setTerrain.apply(this,_.args)));break;case"setSky":u.push((()=>this.setSky.apply(this,_.args)));break;case"setProjection":this.setProjection.apply(this,_.args);break;case"setGlobalState":u.push((()=>this.setGlobalState.apply(this,_.args)));break;case"setTransition":u.push((()=>{}));break;default:m.push(_.command)}return{operations:u,unimplemented:m}}addImage(r,u){if(this.getImage(r))return this.fire(new c.k(new Error(`An image named "${r}" already exists.`)));this.imageManager.addImage(r,u),this._afterImageUpdated(r)}updateImage(r,u){this.imageManager.updateImage(r,u)}getImage(r){return this.imageManager.getImage(r)}removeImage(r){if(!this.getImage(r))return this.fire(new c.k(new Error(`An image named "${r}" does not exist.`)));this.imageManager.removeImage(r),this._afterImageUpdated(r)}_afterImageUpdated(r){this._availableImages=this.imageManager.listImages(),this._changedImages[r]=!0,this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new c.l("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(r,u,m={}){if(this._checkLoaded(),this.sourceCaches[r]!==void 0)throw new Error(`Source "${r}" already exists.`);if(!u.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(u).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(u.type)>=0&&this._validate(c.z.source,`sources.${r}`,u,null,m))return;this.map&&this.map._collectResourceTiming&&(u.collectResourceTiming=!0);const _=this.sourceCaches[r]=new br(r,u,this.dispatcher);_.style=this,_.setEventedParent(this,(()=>({isSourceLoaded:_.loaded(),source:_.serialize(),sourceId:r}))),_.onAdd(this.map),this._changed=!0}removeSource(r){if(this._checkLoaded(),this.sourceCaches[r]===void 0)throw new Error("There is no source with this ID");for(const m in this._layers)if(this._layers[m].source===r)return this.fire(new c.k(new Error(`Source "${r}" cannot be removed while layer "${m}" is using it.`)));const u=this.sourceCaches[r];delete this.sourceCaches[r],delete this._updatedSources[r],u.fire(new c.l("data",{sourceDataType:"metadata",dataType:"source",sourceId:r})),u.setEventedParent(null),u.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(r,u){if(this._checkLoaded(),this.sourceCaches[r]===void 0)throw new Error(`There is no source with this ID=${r}`);const m=this.sourceCaches[r].getSource();if(m.type!=="geojson")throw new Error(`geojsonSource.type is ${m.type}, which is !== 'geojson`);m.setData(u),this._changed=!0}getSource(r){return this.sourceCaches[r]&&this.sourceCaches[r].getSource()}addLayer(r,u,m={}){this._checkLoaded();const _=r.id;if(this.getLayer(_))return void this.fire(new c.k(new Error(`Layer "${_}" already exists on this map.`)));let w;if(r.type==="custom"){if(Th(this,c.bM(r)))return;w=c.bJ(r,this._globalState)}else{if("source"in r&&typeof r.source=="object"&&(this.addSource(_,r.source),r=c.bK(r),r=c.e(r,{source:_})),this._validate(c.z.layer,`layers.${_}`,r,{arrayIndex:-1},m))return;w=c.bJ(r,this._globalState),this._validateLayer(w),w.setEventedParent(this,{layer:{id:_}})}const D=u?this._order.indexOf(u):this._order.length;if(u&&D===-1)this.fire(new c.k(new Error(`Cannot add layer "${_}" before non-existing layer "${u}".`)));else{if(this._order.splice(D,0,_),this._layerOrderChanged=!0,this._layers[_]=w,this._removedLayers[_]&&w.source&&w.type!=="custom"){const k=this._removedLayers[_];delete this._removedLayers[_],k.type!==w.type?this._updatedSources[w.source]="clear":(this._updatedSources[w.source]="reload",this.sourceCaches[w.source].pause())}this._updateLayer(w),w.onAdd&&w.onAdd(this.map)}}moveLayer(r,u){if(this._checkLoaded(),this._changed=!0,!this._layers[r])return void this.fire(new c.k(new Error(`The layer '${r}' does not exist in the map's style and cannot be moved.`)));if(r===u)return;const m=this._order.indexOf(r);this._order.splice(m,1);const _=u?this._order.indexOf(u):this._order.length;u&&_===-1?this.fire(new c.k(new Error(`Cannot move layer "${r}" before non-existing layer "${u}".`))):(this._order.splice(_,0,r),this._layerOrderChanged=!0)}removeLayer(r){this._checkLoaded();const u=this._layers[r];if(!u)return void this.fire(new c.k(new Error(`Cannot remove non-existing layer "${r}".`)));u.setEventedParent(null);const m=this._order.indexOf(r);this._order.splice(m,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[r]=u,delete this._layers[r],this._serializedLayers&&delete this._serializedLayers[r],delete this._updatedLayers[r],delete this._updatedPaintProps[r],u.onRemove&&u.onRemove(this.map)}getLayer(r){return this._layers[r]}getLayersOrder(){return[...this._order]}hasLayer(r){return r in this._layers}setLayerZoomRange(r,u,m){this._checkLoaded();const _=this.getLayer(r);_?_.minzoom===u&&_.maxzoom===m||(u!=null&&(_.minzoom=u),m!=null&&(_.maxzoom=m),this._updateLayer(_)):this.fire(new c.k(new Error(`Cannot set the zoom range of non-existing layer "${r}".`)))}setFilter(r,u,m={}){this._checkLoaded();const _=this.getLayer(r);if(_){if(!c.bH(_.filter,u))return u==null?(_.setFilter(void 0),void this._updateLayer(_)):void(this._validate(c.z.filter,`layers.${_.id}.filter`,u,null,m)||(_.setFilter(c.bK(u)),this._updateLayer(_)))}else this.fire(new c.k(new Error(`Cannot filter non-existing layer "${r}".`)))}getFilter(r){return c.bK(this.getLayer(r).filter)}setLayoutProperty(r,u,m,_={}){this._checkLoaded();const w=this.getLayer(r);w?c.bH(w.getLayoutProperty(u),m)||(w.setLayoutProperty(u,m,_),this._updateLayer(w)):this.fire(new c.k(new Error(`Cannot style non-existing layer "${r}".`)))}getLayoutProperty(r,u){const m=this.getLayer(r);if(m)return m.getLayoutProperty(u);this.fire(new c.k(new Error(`Cannot get style of non-existing layer "${r}".`)))}setPaintProperty(r,u,m,_={}){this._checkLoaded();const w=this.getLayer(r);w?c.bH(w.getPaintProperty(u),m)||this._updatePaintProperty(w,u,m,_):this.fire(new c.k(new Error(`Cannot style non-existing layer "${r}".`)))}_updatePaintProperty(r,u,m,_={}){r.setPaintProperty(u,m,_)&&this._updateLayer(r),this._changed=!0,this._updatedPaintProps[r.id]=!0,this._serializedLayers=null}getPaintProperty(r,u){return this.getLayer(r).getPaintProperty(u)}setFeatureState(r,u){this._checkLoaded();const m=r.source,_=r.sourceLayer,w=this.sourceCaches[m];if(w===void 0)return void this.fire(new c.k(new Error(`The source '${m}' does not exist in the map's style.`)));const D=w.getSource().type;D==="geojson"&&_?this.fire(new c.k(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):D!=="vector"||_?(r.id===void 0&&this.fire(new c.k(new Error("The feature id parameter must be provided."))),w.setFeatureState(_,r.id,u)):this.fire(new c.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(r,u){this._checkLoaded();const m=r.source,_=this.sourceCaches[m];if(_===void 0)return void this.fire(new c.k(new Error(`The source '${m}' does not exist in the map's style.`)));const w=_.getSource().type,D=w==="vector"?r.sourceLayer:void 0;w!=="vector"||D?u&&typeof r.id!="string"&&typeof r.id!="number"?this.fire(new c.k(new Error("A feature id is required to remove its specific state property."))):_.removeFeatureState(D,r.id,u):this.fire(new c.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(r){this._checkLoaded();const u=r.source,m=r.sourceLayer,_=this.sourceCaches[u];if(_!==void 0)return _.getSource().type!=="vector"||m?(r.id===void 0&&this.fire(new c.k(new Error("The feature id parameter must be provided."))),_.getFeatureState(m,r.id)):void this.fire(new c.k(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new c.k(new Error(`The source '${u}' does not exist in the map's style.`)))}getTransition(){return c.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const r=c.bN(this.sourceCaches,(w=>w.serialize())),u=this._serializeByIds(this._order,!0),m=this.map.getTerrain()||void 0,_=this.stylesheet;return c.bO({version:_.version,name:_.name,metadata:_.metadata,light:_.light,sky:_.sky,center:_.center,zoom:_.zoom,bearing:_.bearing,pitch:_.pitch,sprite:_.sprite,glyphs:_.glyphs,transition:_.transition,projection:_.projection,sources:r,layers:u,terrain:m},(w=>w!==void 0))}_updateLayer(r){this._updatedLayers[r.id]=!0,r.source&&!this._updatedSources[r.source]&&this.sourceCaches[r.source].getSource().type!=="raster"&&(this._updatedSources[r.source]="reload",this.sourceCaches[r.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(r){const u=D=>this._layers[D].type==="fill-extrusion",m={},_=[];for(let D=this._order.length-1;D>=0;D--){const k=this._order[D];if(u(k)){m[k]=D;for(const O of r){const N=O[k];if(N)for(const B of N)_.push(B)}}}_.sort(((D,k)=>k.intersectionZ-D.intersectionZ));const w=[];for(let D=this._order.length-1;D>=0;D--){const k=this._order[D];if(u(k))for(let O=_.length-1;O>=0;O--){const N=_[O].feature;if(m[N.layer.id]<D)break;w.push(N),_.pop()}else for(const O of r){const N=O[k];if(N)for(const B of N)w.push(B.feature)}}return w}queryRenderedFeatures(r,u,m){u&&u.filter&&this._validate(c.z.filter,"queryRenderedFeatures.filter",u.filter,null,u);const _={};if(u&&u.layers){if(!(Array.isArray(u.layers)||u.layers instanceof Set))return this.fire(new c.k(new Error("parameters.layers must be an Array or a Set of strings"))),[];for(const N of u.layers){const B=this._layers[N];if(!B)return this.fire(new c.k(new Error(`The layer '${N}' does not exist in the map's style and cannot be queried for features.`))),[];_[B.source]=!0}}const w=[];u.availableImages=this._availableImages;const D=this._serializedAllLayers(),k=u.layers instanceof Set?u.layers:Array.isArray(u.layers)?new Set(u.layers):null,O=Object.assign(Object.assign({},u),{layers:k,globalState:this._globalState});for(const N in this.sourceCaches)u.layers&&!_[N]||w.push(xt(this.sourceCaches[N],this._layers,D,r,O,m,this.map.terrain?(B,Z,G)=>this.map.terrain.getElevation(B,Z,G):void 0));return this.placement&&w.push((function(N,B,Z,G,J,ie,he){const fe={},me=ie.queryRenderedSymbols(G),ve=[];for(const we of Object.keys(me).map(Number))ve.push(he[we]);ve.sort($t);for(const we of ve){const _e=we.featureIndex.lookupSymbolFeatures(me[we.bucketInstanceId],B,we.bucketIndex,we.sourceLayerIndex,{filterSpec:J.filter,globalState:J.globalState},J.layers,J.availableImages,N);for(const Ae in _e){const Ee=fe[Ae]=fe[Ae]||[],be=_e[Ae];be.sort(((Ue,Qe)=>{const qe=we.featureSortOrder;if(qe){const Ve=qe.indexOf(Ue.featureIndex);return qe.indexOf(Qe.featureIndex)-Ve}return Qe.featureIndex-Ue.featureIndex}));for(const Ue of be)Ee.push(Ue)}}return(function(we,_e,Ae){for(const Ee in we)for(const be of we[Ee])Nt(be,Ae[_e[Ee].source]);return we})(fe,N,Z)})(this._layers,D,this.sourceCaches,r,O,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(w)}querySourceFeatures(r,u){u?.filter&&this._validate(c.z.filter,"querySourceFeatures.filter",u.filter,null,u);const m=this.sourceCaches[r];return m?(function(_,w){const D=_.getRenderableIds().map((N=>_.getTileByID(N))),k=[],O={};for(let N=0;N<D.length;N++){const B=D[N],Z=B.tileID.canonical.key;O[Z]||(O[Z]=!0,B.querySourceFeatures(k,w))}return k})(m,u?Object.assign(Object.assign({},u),{globalState:this._globalState}):{globalState:this._globalState}):[]}getLight(){return this.light.getLight()}setLight(r,u={}){this._checkLoaded();const m=this.light.getLight();let _=!1;for(const D in r)if(!c.bH(r[D],m[D])){_=!0;break}if(!_)return;const w={now:L.now(),transition:c.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(r,u),this.light.updateTransitions(w)}getProjection(){var r;return(r=this.stylesheet)===null||r===void 0?void 0:r.projection}setProjection(r){if(this._checkLoaded(),this.projection){if(this.projection.name===r.type)return;this.projection.destroy(),delete this.projection}this.stylesheet.projection=r,this._setProjectionInternal(r.type)}getSky(){var r;return(r=this.stylesheet)===null||r===void 0?void 0:r.sky}setSky(r,u={}){this._checkLoaded();const m=this.getSky();let _=!1;if(!r&&!m)return;if(r&&!m)_=!0;else if(!r&&m)_=!0;else for(const D in r)if(!c.bH(r[D],m[D])){_=!0;break}if(!_)return;const w={now:L.now(),transition:c.e({duration:300,delay:0},this.stylesheet.transition)};this.stylesheet.sky=r,this.sky.setSky(r,u),this.sky.updateTransitions(w)}_setProjectionInternal(r){const u=(function(m){if(Array.isArray(m)){const _=new xl({type:m});return{projection:_,transform:new Su,cameraHelper:new zf(_)}}switch(m){case"mercator":return{projection:new _r,transform:new Nr,cameraHelper:new En};case"globe":{const _=new xl({type:["interpolate",["linear"],["zoom"],11,"vertical-perspective",12,"mercator"]});return{projection:_,transform:new Su,cameraHelper:new zf(_)}}case"vertical-perspective":return{projection:new bl,transform:new xu,cameraHelper:new Ua};default:return c.w(`Unknown projection name: ${m}. Falling back to mercator projection.`),{projection:new _r,transform:new Nr,cameraHelper:new En}}})(r);this.projection=u.projection,this.map.migrateProjection(u.transform,u.cameraHelper);for(const m in this.sourceCaches)this.sourceCaches[m].reload()}_validate(r,u,m,_,w={}){return(!w||w.validate!==!1)&&Th(this,r.call(c.z,c.e({key:u,style:this.serialize(),value:m,styleSpec:c.v},_)))}_remove(r=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),Dn().off(To,this._rtlPluginLoaded);for(const u in this._layers)this._layers[u].setEventedParent(null);for(const u in this.sourceCaches){const m=this.sourceCaches[u];m.setEventedParent(null),m.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),r&&this.dispatcher.broadcast("RM",void 0),this.dispatcher.remove(r)}_clearSource(r){this.sourceCaches[r].clearTiles()}_reloadSource(r){this.sourceCaches[r].resume(),this.sourceCaches[r].reload()}_updateSources(r){for(const u in this.sourceCaches)this.sourceCaches[u].update(r,this.map.terrain)}_generateCollisionBoxes(){for(const r in this.sourceCaches)this._reloadSource(r)}_updatePlacement(r,u,m,_,w=!1){let D=!1,k=!1;const O={};for(const N of this._order){const B=this._layers[N];if(B.type!=="symbol")continue;if(!O[B.source]){const G=this.sourceCaches[B.source];O[B.source]=G.getRenderableIds(!0).map((J=>G.getTileByID(J))).sort(((J,ie)=>ie.tileID.overscaledZ-J.tileID.overscaledZ||(J.tileID.isLessThan(ie.tileID)?-1:1)))}const Z=this.crossTileSymbolIndex.addLayer(B,O[B.source],r.center.lng);D=D||Z}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((w=w||this._layerOrderChanged||m===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(L.now(),r.zoom))&&(this.pauseablePlacement=new yu(r,this.map.terrain,this._order,w,u,m,_,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,O),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(L.now()),k=!0),D&&this.pauseablePlacement.placement.setStale()),k||D)for(const N of this._order){const B=this._layers[N];B.type==="symbol"&&this.placement.updateLayerOpacities(B,O[B.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(L.now())}_releaseSymbolFadeTiles(){for(const r in this.sourceCaches)this.sourceCaches[r].releaseSymbolFadeTiles()}getImages(r,u){return c._(this,void 0,void 0,(function*(){const m=yield this.imageManager.getImages(u.icons);this._updateTilesForChangedImages();const _=this.sourceCaches[u.source];return _&&_.setDependencies(u.tileID.key,u.type,u.icons),m}))}getGlyphs(r,u){return c._(this,void 0,void 0,(function*(){const m=yield this.glyphManager.getGlyphs(u.stacks),_=this.sourceCaches[u.source];return _&&_.setDependencies(u.tileID.key,u.type,[""]),m}))}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(r,u={}){this._checkLoaded(),r&&this._validate(c.z.glyphs,"glyphs",r,null,u)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=r,this.glyphManager.entries={},this.glyphManager.setURL(r))}addSprite(r,u,m={},_){this._checkLoaded();const w=[{id:r,url:u}],D=[...ye(this.stylesheet.sprite),...w];this._validate(c.z.sprite,"sprite",D,null,m)||(this.stylesheet.sprite=D,this._loadSprite(w,!0,_))}removeSprite(r){this._checkLoaded();const u=ye(this.stylesheet.sprite);if(u.find((m=>m.id===r))){if(this._spritesImagesIds[r])for(const m of this._spritesImagesIds[r])this.imageManager.removeImage(m),this._changedImages[m]=!0;u.splice(u.findIndex((m=>m.id===r)),1),this.stylesheet.sprite=u.length>0?u:void 0,delete this._spritesImagesIds[r],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new c.l("data",{dataType:"style"}))}else this.fire(new c.k(new Error(`Sprite "${r}" doesn't exists on this map.`)))}getSprite(){return ye(this.stylesheet.sprite)}setSprite(r,u={},m){this._checkLoaded(),r&&this._validate(c.z.sprite,"sprite",r,null,u)||(this.stylesheet.sprite=r,r?this._loadSprite(r,!0,m):(this._unloadSprite(),m&&m(null)))}}var qm=c.aJ([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class $m{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(r,u,m,_,w,D,k,O,N){this.context=r;let B=this.boundPaintVertexBuffers.length!==_.length;for(let Z=0;!B&&Z<_.length;Z++)this.boundPaintVertexBuffers[Z]!==_[Z]&&(B=!0);!this.vao||this.boundProgram!==u||this.boundLayoutVertexBuffer!==m||B||this.boundIndexBuffer!==w||this.boundVertexOffset!==D||this.boundDynamicVertexBuffer!==k||this.boundDynamicVertexBuffer2!==O||this.boundDynamicVertexBuffer3!==N?this.freshBind(u,m,_,w,D,k,O,N):(r.bindVertexArray.set(this.vao),k&&k.bind(),w&&w.dynamicDraw&&w.bind(),O&&O.bind(),N&&N.bind())}freshBind(r,u,m,_,w,D,k,O){const N=r.numAttributes,B=this.context,Z=B.gl;this.vao&&this.destroy(),this.vao=B.createVertexArray(),B.bindVertexArray.set(this.vao),this.boundProgram=r,this.boundLayoutVertexBuffer=u,this.boundPaintVertexBuffers=m,this.boundIndexBuffer=_,this.boundVertexOffset=w,this.boundDynamicVertexBuffer=D,this.boundDynamicVertexBuffer2=k,this.boundDynamicVertexBuffer3=O,u.enableAttributes(Z,r);for(const G of m)G.enableAttributes(Z,r);D&&D.enableAttributes(Z,r),k&&k.enableAttributes(Z,r),O&&O.enableAttributes(Z,r),u.bind(),u.setVertexAttribPointers(Z,r,w);for(const G of m)G.bind(),G.setVertexAttribPointers(Z,r,w);D&&(D.bind(),D.setVertexAttribPointers(Z,r,w)),_&&_.bind(),k&&(k.bind(),k.setVertexAttribPointers(Z,r,w)),O&&(O.bind(),O.setVertexAttribPointers(Z,r,w)),B.currentNumAttributes=N}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}const Eh=(b,r,u,m,_)=>({u_texture:0,u_ele_delta:b,u_fog_matrix:r,u_fog_color:u?u.properties.get("fog-color"):c.bf.white,u_fog_ground_blend:u?u.properties.get("fog-ground-blend"):1,u_fog_ground_blend_opacity:_?0:u?u.calculateFogBlendOpacity(m):0,u_horizon_color:u?u.properties.get("horizon-color"):c.bf.white,u_horizon_fog_blend:u?u.properties.get("horizon-fog-blend"):1,u_is_globe_mode:_?1:0}),Nf={mainMatrix:"u_projection_matrix",tileMercatorCoords:"u_projection_tile_mercator_coords",clippingPlane:"u_projection_clipping_plane",projectionTransition:"u_projection_transition",fallbackMatrix:"u_projection_fallback_matrix"};function Al(b){const r=[];for(let u=0;u<b.length;u++){if(b[u]===null)continue;const m=b[u].split(" ");r.push(m.pop())}return r}class jf{constructor(r,u,m,_,w,D,k,O,N=[]){const B=r.gl;this.program=B.createProgram();const Z=Al(u.staticAttributes),G=m?m.getBinderAttributes():[],J=Z.concat(G),ie=ao.prelude.staticUniforms?Al(ao.prelude.staticUniforms):[],he=k.staticUniforms?Al(k.staticUniforms):[],fe=u.staticUniforms?Al(u.staticUniforms):[],me=m?m.getBinderUniforms():[],ve=ie.concat(he).concat(fe).concat(me),we=[];for(const qe of ve)we.indexOf(qe)<0&&we.push(qe);const _e=m?m.defines():[];Oa(B)&&_e.unshift("#version 300 es"),w&&_e.push("#define OVERDRAW_INSPECTOR;"),D&&_e.push("#define TERRAIN3D;"),O&&_e.push(O),N&&_e.push(...N);let Ae=_e.concat(ao.prelude.fragmentSource,k.fragmentSource,u.fragmentSource).join(`
`),Ee=_e.concat(ao.prelude.vertexSource,k.vertexSource,u.vertexSource).join(`
`);Oa(B)||(Ae=(function(qe){return qe.replace(/\bin\s/g,"varying ").replace("out highp vec4 fragColor;","").replace(/fragColor/g,"gl_FragColor").replace(/texture\(/g,"texture2D(")})(Ae),Ee=(function(qe){return qe.replace(/\bin\s/g,"attribute ").replace(/\bout\s/g,"varying ").replace(/texture\(/g,"texture2D(")})(Ee));const be=B.createShader(B.FRAGMENT_SHADER);if(B.isContextLost())return void(this.failedToCreate=!0);if(B.shaderSource(be,Ae),B.compileShader(be),!B.getShaderParameter(be,B.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${B.getShaderInfoLog(be)}`);B.attachShader(this.program,be);const Ue=B.createShader(B.VERTEX_SHADER);if(B.isContextLost())return void(this.failedToCreate=!0);if(B.shaderSource(Ue,Ee),B.compileShader(Ue),!B.getShaderParameter(Ue,B.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${B.getShaderInfoLog(Ue)}`);B.attachShader(this.program,Ue),this.attributes={};const Qe={};this.numAttributes=J.length;for(let qe=0;qe<this.numAttributes;qe++)J[qe]&&(B.bindAttribLocation(this.program,qe,J[qe]),this.attributes[J[qe]]=qe);if(B.linkProgram(this.program),!B.getProgramParameter(this.program,B.LINK_STATUS))throw new Error(`Program failed to link: ${B.getProgramInfoLog(this.program)}`);B.deleteShader(Ue),B.deleteShader(be);for(let qe=0;qe<we.length;qe++){const Ve=we[qe];if(Ve&&!Qe[Ve]){const Xe=B.getUniformLocation(this.program,Ve);Xe&&(Qe[Ve]=Xe)}}this.fixedUniforms=_(r,Qe),this.terrainUniforms=((qe,Ve)=>({u_depth:new c.bP(qe,Ve.u_depth),u_terrain:new c.bP(qe,Ve.u_terrain),u_terrain_dim:new c.bg(qe,Ve.u_terrain_dim),u_terrain_matrix:new c.bR(qe,Ve.u_terrain_matrix),u_terrain_unpack:new c.bS(qe,Ve.u_terrain_unpack),u_terrain_exaggeration:new c.bg(qe,Ve.u_terrain_exaggeration)}))(r,Qe),this.projectionUniforms=((qe,Ve)=>({u_projection_matrix:new c.bR(qe,Ve.u_projection_matrix),u_projection_tile_mercator_coords:new c.bS(qe,Ve.u_projection_tile_mercator_coords),u_projection_clipping_plane:new c.bS(qe,Ve.u_projection_clipping_plane),u_projection_transition:new c.bg(qe,Ve.u_projection_transition),u_projection_fallback_matrix:new c.bR(qe,Ve.u_projection_fallback_matrix)}))(r,Qe),this.binderUniforms=m?m.getUniforms(r,Qe):[]}draw(r,u,m,_,w,D,k,O,N,B,Z,G,J,ie,he,fe,me,ve,we){const _e=r.gl;if(this.failedToCreate)return;if(r.program.set(this.program),r.setDepthMode(m),r.setStencilMode(_),r.setColorMode(w),r.setCullFace(D),O){r.activeTexture.set(_e.TEXTURE2),_e.bindTexture(_e.TEXTURE_2D,O.depthTexture),r.activeTexture.set(_e.TEXTURE3),_e.bindTexture(_e.TEXTURE_2D,O.texture);for(const Ee in this.terrainUniforms)this.terrainUniforms[Ee].set(O[Ee])}if(N)for(const Ee in N)this.projectionUniforms[Nf[Ee]].set(N[Ee]);if(k)for(const Ee in this.fixedUniforms)this.fixedUniforms[Ee].set(k[Ee]);fe&&fe.setUniforms(r,this.binderUniforms,ie,{zoom:he});let Ae=0;switch(u){case _e.LINES:Ae=2;break;case _e.TRIANGLES:Ae=3;break;case _e.LINE_STRIP:Ae=1}for(const Ee of J.get()){const be=Ee.vaos||(Ee.vaos={});(be[B]||(be[B]=new $m)).bind(r,this,Z,fe?fe.getPaintVertexBuffers():[],G,Ee.vertexOffset,me,ve,we),_e.drawElements(u,Ee.primitiveLength*Ae,_e.UNSIGNED_SHORT,Ee.primitiveOffset*Ae*2)}}}function Sc(b,r,u){const m=1/c.aC(u,1,r.transform.tileZoom),_=Math.pow(2,u.tileID.overscaledZ),w=u.tileSize*Math.pow(2,r.transform.tileZoom)/_,D=w*(u.tileID.canonical.x+u.tileID.wrap*_),k=w*u.tileID.canonical.y;return{u_image:0,u_texsize:u.imageAtlasTexture.size,u_scale:[m,b.fromScale,b.toScale],u_fade:b.t,u_pixel_coord_upper:[D>>16,k>>16],u_pixel_coord_lower:[65535&D,65535&k]}}const Za=(b,r,u,m)=>{const _=b.style.light,w=_.properties.get("position"),D=[w.x,w.y,w.z],k=c.bV();_.properties.get("anchor")==="viewport"&&c.bW(k,b.transform.bearingInRadians),c.bX(D,D,k);const O=b.transform.transformLightDirection(D),N=_.properties.get("color");return{u_lightpos:D,u_lightpos_globe:O,u_lightintensity:_.properties.get("intensity"),u_lightcolor:[N.r,N.g,N.b],u_vertical_gradient:+r,u_opacity:u,u_fill_translate:m}},Hm=(b,r,u,m,_,w,D)=>c.e(Za(b,r,u,m),Sc(w,b,D),{u_height_factor:-Math.pow(2,_.overscaledZ)/D.tileSize/8}),wu=(b,r,u,m)=>c.e(Sc(r,b,u),{u_fill_translate:m}),wc=(b,r)=>({u_world:b,u_fill_translate:r}),Pc=(b,r,u,m,_)=>c.e(wu(b,r,u,_),{u_world:m}),mp=(b,r,u,m,_)=>{const w=b.transform;let D,k,O=0;if(u.paint.get("circle-pitch-alignment")==="map"){const N=c.aC(r,1,w.zoom);D=!0,k=[N,N],O=N/(c.$*Math.pow(2,r.tileID.overscaledZ))*2*Math.PI*_}else D=!1,k=w.pixelsToGLUnits;return{u_camera_to_center_distance:w.cameraToCenterDistance,u_scale_with_map:+(u.paint.get("circle-pitch-scale")==="map"),u_pitch_with_map:+D,u_device_pixel_ratio:b.pixelRatio,u_extrude_scale:k,u_globe_extrude_scale:O,u_translate:m}},Pu=b=>({u_pixel_extrude_scale:[1/b.width,1/b.height]}),Ac=b=>({u_viewport_size:[b.width,b.height]}),Cl=(b,r=1)=>({u_color:b,u_overlay:0,u_overlay_scale:r}),yp=(b,r,u,m)=>{const _=c.aC(b,1,r)/(c.$*Math.pow(2,b.tileID.overscaledZ))*2*Math.PI*m;return{u_extrude_scale:c.aC(b,1,r),u_intensity:u,u_globe_extrude_scale:_}},Bf=(b,r,u,m)=>{const _=c.L();c.bY(_,0,b.width,b.height,0,0,1);const w=b.context.gl;return{u_matrix:_,u_world:[w.drawingBufferWidth,w.drawingBufferHeight],u_image:u,u_color_ramp:m,u_opacity:r.paint.get("heatmap-opacity")}},gp=(b,r,u)=>{const m=u.paint.get("hillshade-accent-color");let _;switch(u.paint.get("hillshade-method")){case"basic":_=4;break;case"combined":_=1;break;case"igor":_=2;break;case"multidirectional":_=3;break;default:_=0}const w=u.getIlluminationProperties();for(let D=0;D<w.directionRadians.length;D++)u.paint.get("hillshade-illumination-anchor")==="viewport"&&(w.directionRadians[D]+=b.transform.bearingInRadians);return{u_image:0,u_latrange:Dl(0,r.tileID),u_exaggeration:u.paint.get("hillshade-exaggeration"),u_altitudes:w.altitudeRadians,u_azimuths:w.directionRadians,u_accent:m,u_method:_,u_highlights:w.highlightColor,u_shadows:w.shadowColor}},qf=(b,r)=>{const u=r.stride,m=c.L();return c.bY(m,0,c.$,-c.$,0,0,1),c.M(m,m,[0,-c.$,0]),{u_matrix:m,u_image:1,u_dimension:[u,u],u_zoom:b.overscaledZ,u_unpack:r.getUnpackVector()}};function Dl(b,r){const u=Math.pow(2,r.canonical.z),m=r.canonical.y;return[new c.a1(0,m/u).toLngLat().lat,new c.a1(0,(m+1)/u).toLngLat().lat]}const Cc=(b,r,u=0)=>({u_image:0,u_unpack:r.getUnpackVector(),u_dimension:[r.stride,r.stride],u_elevation_stops:1,u_color_stops:4,u_color_ramp_size:u,u_opacity:b.paint.get("color-relief-opacity")}),Rh=(b,r,u,m)=>{const _=b.transform;return{u_translation:Du(b,r,u),u_ratio:m/c.aC(r,1,_.zoom),u_device_pixel_ratio:b.pixelRatio,u_units_to_pixels:[1/_.pixelsToGLUnits[0],1/_.pixelsToGLUnits[1]]}},Au=(b,r,u,m,_)=>c.e(Rh(b,r,u,m),{u_image:0,u_image_height:_}),$f=(b,r,u,m,_)=>{const w=b.transform,D=Cu(r,w);return{u_translation:Du(b,r,u),u_texsize:r.imageAtlasTexture.size,u_ratio:m/c.aC(r,1,w.zoom),u_device_pixel_ratio:b.pixelRatio,u_image:0,u_scale:[D,_.fromScale,_.toScale],u_fade:_.t,u_units_to_pixels:[1/w.pixelsToGLUnits[0],1/w.pixelsToGLUnits[1]]}},Bs=(b,r,u,m,_,w)=>{const D=b.lineAtlas,k=Cu(r,b.transform),O=u.layout.get("line-cap")==="round",N=D.getDash(_.from,O),B=D.getDash(_.to,O),Z=N.width*w.fromScale,G=B.width*w.toScale;return c.e(Rh(b,r,u,m),{u_patternscale_a:[k/Z,-N.height/2],u_patternscale_b:[k/G,-B.height/2],u_sdfgamma:D.width/(256*Math.min(Z,G)*b.pixelRatio)/2,u_image:0,u_tex_y_a:N.y,u_tex_y_b:B.y,u_mix:w.t})};function Cu(b,r){return 1/c.aC(b,1,r.tileZoom)}function Du(b,r,u){return c.aD(b.transform,r,u.paint.get("line-translate"),u.paint.get("line-translate-anchor"))}const Dc=(b,r,u,m,_)=>{return{u_tl_parent:b,u_scale_parent:r,u_buffer_scale:1,u_fade_t:u.mix,u_opacity:u.opacity*m.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:m.paint.get("raster-brightness-min"),u_brightness_high:m.paint.get("raster-brightness-max"),u_saturation_factor:(D=m.paint.get("raster-saturation"),D>0?1-1/(1.001-D):-D),u_contrast_factor:(w=m.paint.get("raster-contrast"),w>0?1/(1-w):1+w),u_spin_weights:vp(m.paint.get("raster-hue-rotate")),u_coords_top:[_[0].x,_[0].y,_[1].x,_[1].y],u_coords_bottom:[_[3].x,_[3].y,_[2].x,_[2].y]};var w,D};function vp(b){b*=Math.PI/180;const r=Math.sin(b),u=Math.cos(b);return[(2*u+1)/3,(-Math.sqrt(3)*r-u+1)/3,(Math.sqrt(3)*r-u+1)/3]}const Mc=(b,r,u,m,_,w,D,k,O,N,B,Z,G)=>{const J=D.transform;return{u_is_size_zoom_constant:+(b==="constant"||b==="source"),u_is_size_feature_constant:+(b==="constant"||b==="camera"),u_size_t:r?r.uSizeT:0,u_size:r?r.uSize:0,u_camera_to_center_distance:J.cameraToCenterDistance,u_pitch:J.pitch/360*2*Math.PI,u_rotate_symbol:+u,u_aspect_ratio:J.width/J.height,u_fade_change:D.options.fadeDuration?D.symbolFadeChange:1,u_label_plane_matrix:k,u_coord_matrix:O,u_is_text:+B,u_pitch_with_map:+m,u_is_along_line:_,u_is_variable_anchor:w,u_texsize:Z,u_texture:0,u_translation:N,u_pitched_scale:G}},_p=(b,r,u,m,_,w,D,k,O,N,B,Z,G,J)=>{const ie=D.transform;return c.e(Mc(b,r,u,m,_,w,D,k,O,N,B,Z,J),{u_gamma_scale:m?Math.cos(ie.pitch*Math.PI/180)*ie.cameraToCenterDistance:1,u_device_pixel_ratio:D.pixelRatio,u_is_halo:1})},Vm=(b,r,u,m,_,w,D,k,O,N,B,Z,G)=>c.e(_p(b,r,u,m,_,w,D,k,O,N,!0,B,0,G),{u_texsize_icon:Z,u_texture_icon:1}),bp=(b,r)=>({u_opacity:b,u_color:r}),xp=(b,r,u,m,_)=>c.e((function(w,D,k,O){const N=k.imageManager.getPattern(w.from.toString()),B=k.imageManager.getPattern(w.to.toString()),{width:Z,height:G}=k.imageManager.getPixelSize(),J=Math.pow(2,O.tileID.overscaledZ),ie=O.tileSize*Math.pow(2,k.transform.tileZoom)/J,he=ie*(O.tileID.canonical.x+O.tileID.wrap*J),fe=ie*O.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:N.tl,u_pattern_br_a:N.br,u_pattern_tl_b:B.tl,u_pattern_br_b:B.br,u_texsize:[Z,G],u_mix:D.t,u_pattern_size_a:N.displaySize,u_pattern_size_b:B.displaySize,u_scale_a:D.fromScale,u_scale_b:D.toScale,u_tile_units_to_pixels:1/c.aC(O,1,k.transform.tileZoom),u_pixel_coord_upper:[he>>16,fe>>16],u_pixel_coord_lower:[65535&he,65535&fe]}})(u,_,r,m),{u_opacity:b}),Hf=(b,r)=>{},Ya={fillExtrusion:(b,r)=>({u_lightpos:new c.bT(b,r.u_lightpos),u_lightpos_globe:new c.bT(b,r.u_lightpos_globe),u_lightintensity:new c.bg(b,r.u_lightintensity),u_lightcolor:new c.bT(b,r.u_lightcolor),u_vertical_gradient:new c.bg(b,r.u_vertical_gradient),u_opacity:new c.bg(b,r.u_opacity),u_fill_translate:new c.bU(b,r.u_fill_translate)}),fillExtrusionPattern:(b,r)=>({u_lightpos:new c.bT(b,r.u_lightpos),u_lightpos_globe:new c.bT(b,r.u_lightpos_globe),u_lightintensity:new c.bg(b,r.u_lightintensity),u_lightcolor:new c.bT(b,r.u_lightcolor),u_vertical_gradient:new c.bg(b,r.u_vertical_gradient),u_height_factor:new c.bg(b,r.u_height_factor),u_opacity:new c.bg(b,r.u_opacity),u_fill_translate:new c.bU(b,r.u_fill_translate),u_image:new c.bP(b,r.u_image),u_texsize:new c.bU(b,r.u_texsize),u_pixel_coord_upper:new c.bU(b,r.u_pixel_coord_upper),u_pixel_coord_lower:new c.bU(b,r.u_pixel_coord_lower),u_scale:new c.bT(b,r.u_scale),u_fade:new c.bg(b,r.u_fade)}),fill:(b,r)=>({u_fill_translate:new c.bU(b,r.u_fill_translate)}),fillPattern:(b,r)=>({u_image:new c.bP(b,r.u_image),u_texsize:new c.bU(b,r.u_texsize),u_pixel_coord_upper:new c.bU(b,r.u_pixel_coord_upper),u_pixel_coord_lower:new c.bU(b,r.u_pixel_coord_lower),u_scale:new c.bT(b,r.u_scale),u_fade:new c.bg(b,r.u_fade),u_fill_translate:new c.bU(b,r.u_fill_translate)}),fillOutline:(b,r)=>({u_world:new c.bU(b,r.u_world),u_fill_translate:new c.bU(b,r.u_fill_translate)}),fillOutlinePattern:(b,r)=>({u_world:new c.bU(b,r.u_world),u_image:new c.bP(b,r.u_image),u_texsize:new c.bU(b,r.u_texsize),u_pixel_coord_upper:new c.bU(b,r.u_pixel_coord_upper),u_pixel_coord_lower:new c.bU(b,r.u_pixel_coord_lower),u_scale:new c.bT(b,r.u_scale),u_fade:new c.bg(b,r.u_fade),u_fill_translate:new c.bU(b,r.u_fill_translate)}),circle:(b,r)=>({u_camera_to_center_distance:new c.bg(b,r.u_camera_to_center_distance),u_scale_with_map:new c.bP(b,r.u_scale_with_map),u_pitch_with_map:new c.bP(b,r.u_pitch_with_map),u_extrude_scale:new c.bU(b,r.u_extrude_scale),u_device_pixel_ratio:new c.bg(b,r.u_device_pixel_ratio),u_globe_extrude_scale:new c.bg(b,r.u_globe_extrude_scale),u_translate:new c.bU(b,r.u_translate)}),collisionBox:(b,r)=>({u_pixel_extrude_scale:new c.bU(b,r.u_pixel_extrude_scale)}),collisionCircle:(b,r)=>({u_viewport_size:new c.bU(b,r.u_viewport_size)}),debug:(b,r)=>({u_color:new c.bQ(b,r.u_color),u_overlay:new c.bP(b,r.u_overlay),u_overlay_scale:new c.bg(b,r.u_overlay_scale)}),depth:Hf,clippingMask:Hf,heatmap:(b,r)=>({u_extrude_scale:new c.bg(b,r.u_extrude_scale),u_intensity:new c.bg(b,r.u_intensity),u_globe_extrude_scale:new c.bg(b,r.u_globe_extrude_scale)}),heatmapTexture:(b,r)=>({u_matrix:new c.bR(b,r.u_matrix),u_world:new c.bU(b,r.u_world),u_image:new c.bP(b,r.u_image),u_color_ramp:new c.bP(b,r.u_color_ramp),u_opacity:new c.bg(b,r.u_opacity)}),hillshade:(b,r)=>({u_image:new c.bP(b,r.u_image),u_latrange:new c.bU(b,r.u_latrange),u_exaggeration:new c.bg(b,r.u_exaggeration),u_altitudes:new c.b_(b,r.u_altitudes),u_azimuths:new c.b_(b,r.u_azimuths),u_accent:new c.bQ(b,r.u_accent),u_method:new c.bP(b,r.u_method),u_shadows:new c.bZ(b,r.u_shadows),u_highlights:new c.bZ(b,r.u_highlights)}),hillshadePrepare:(b,r)=>({u_matrix:new c.bR(b,r.u_matrix),u_image:new c.bP(b,r.u_image),u_dimension:new c.bU(b,r.u_dimension),u_zoom:new c.bg(b,r.u_zoom),u_unpack:new c.bS(b,r.u_unpack)}),colorRelief:(b,r)=>({u_image:new c.bP(b,r.u_image),u_unpack:new c.bS(b,r.u_unpack),u_dimension:new c.bU(b,r.u_dimension),u_elevation_stops:new c.bP(b,r.u_elevation_stops),u_color_stops:new c.bP(b,r.u_color_stops),u_color_ramp_size:new c.bP(b,r.u_color_ramp_size),u_opacity:new c.bg(b,r.u_opacity)}),line:(b,r)=>({u_translation:new c.bU(b,r.u_translation),u_ratio:new c.bg(b,r.u_ratio),u_device_pixel_ratio:new c.bg(b,r.u_device_pixel_ratio),u_units_to_pixels:new c.bU(b,r.u_units_to_pixels)}),lineGradient:(b,r)=>({u_translation:new c.bU(b,r.u_translation),u_ratio:new c.bg(b,r.u_ratio),u_device_pixel_ratio:new c.bg(b,r.u_device_pixel_ratio),u_units_to_pixels:new c.bU(b,r.u_units_to_pixels),u_image:new c.bP(b,r.u_image),u_image_height:new c.bg(b,r.u_image_height)}),linePattern:(b,r)=>({u_translation:new c.bU(b,r.u_translation),u_texsize:new c.bU(b,r.u_texsize),u_ratio:new c.bg(b,r.u_ratio),u_device_pixel_ratio:new c.bg(b,r.u_device_pixel_ratio),u_image:new c.bP(b,r.u_image),u_units_to_pixels:new c.bU(b,r.u_units_to_pixels),u_scale:new c.bT(b,r.u_scale),u_fade:new c.bg(b,r.u_fade)}),lineSDF:(b,r)=>({u_translation:new c.bU(b,r.u_translation),u_ratio:new c.bg(b,r.u_ratio),u_device_pixel_ratio:new c.bg(b,r.u_device_pixel_ratio),u_units_to_pixels:new c.bU(b,r.u_units_to_pixels),u_patternscale_a:new c.bU(b,r.u_patternscale_a),u_patternscale_b:new c.bU(b,r.u_patternscale_b),u_sdfgamma:new c.bg(b,r.u_sdfgamma),u_image:new c.bP(b,r.u_image),u_tex_y_a:new c.bg(b,r.u_tex_y_a),u_tex_y_b:new c.bg(b,r.u_tex_y_b),u_mix:new c.bg(b,r.u_mix)}),raster:(b,r)=>({u_tl_parent:new c.bU(b,r.u_tl_parent),u_scale_parent:new c.bg(b,r.u_scale_parent),u_buffer_scale:new c.bg(b,r.u_buffer_scale),u_fade_t:new c.bg(b,r.u_fade_t),u_opacity:new c.bg(b,r.u_opacity),u_image0:new c.bP(b,r.u_image0),u_image1:new c.bP(b,r.u_image1),u_brightness_low:new c.bg(b,r.u_brightness_low),u_brightness_high:new c.bg(b,r.u_brightness_high),u_saturation_factor:new c.bg(b,r.u_saturation_factor),u_contrast_factor:new c.bg(b,r.u_contrast_factor),u_spin_weights:new c.bT(b,r.u_spin_weights),u_coords_top:new c.bS(b,r.u_coords_top),u_coords_bottom:new c.bS(b,r.u_coords_bottom)}),symbolIcon:(b,r)=>({u_is_size_zoom_constant:new c.bP(b,r.u_is_size_zoom_constant),u_is_size_feature_constant:new c.bP(b,r.u_is_size_feature_constant),u_size_t:new c.bg(b,r.u_size_t),u_size:new c.bg(b,r.u_size),u_camera_to_center_distance:new c.bg(b,r.u_camera_to_center_distance),u_pitch:new c.bg(b,r.u_pitch),u_rotate_symbol:new c.bP(b,r.u_rotate_symbol),u_aspect_ratio:new c.bg(b,r.u_aspect_ratio),u_fade_change:new c.bg(b,r.u_fade_change),u_label_plane_matrix:new c.bR(b,r.u_label_plane_matrix),u_coord_matrix:new c.bR(b,r.u_coord_matrix),u_is_text:new c.bP(b,r.u_is_text),u_pitch_with_map:new c.bP(b,r.u_pitch_with_map),u_is_along_line:new c.bP(b,r.u_is_along_line),u_is_variable_anchor:new c.bP(b,r.u_is_variable_anchor),u_texsize:new c.bU(b,r.u_texsize),u_texture:new c.bP(b,r.u_texture),u_translation:new c.bU(b,r.u_translation),u_pitched_scale:new c.bg(b,r.u_pitched_scale)}),symbolSDF:(b,r)=>({u_is_size_zoom_constant:new c.bP(b,r.u_is_size_zoom_constant),u_is_size_feature_constant:new c.bP(b,r.u_is_size_feature_constant),u_size_t:new c.bg(b,r.u_size_t),u_size:new c.bg(b,r.u_size),u_camera_to_center_distance:new c.bg(b,r.u_camera_to_center_distance),u_pitch:new c.bg(b,r.u_pitch),u_rotate_symbol:new c.bP(b,r.u_rotate_symbol),u_aspect_ratio:new c.bg(b,r.u_aspect_ratio),u_fade_change:new c.bg(b,r.u_fade_change),u_label_plane_matrix:new c.bR(b,r.u_label_plane_matrix),u_coord_matrix:new c.bR(b,r.u_coord_matrix),u_is_text:new c.bP(b,r.u_is_text),u_pitch_with_map:new c.bP(b,r.u_pitch_with_map),u_is_along_line:new c.bP(b,r.u_is_along_line),u_is_variable_anchor:new c.bP(b,r.u_is_variable_anchor),u_texsize:new c.bU(b,r.u_texsize),u_texture:new c.bP(b,r.u_texture),u_gamma_scale:new c.bg(b,r.u_gamma_scale),u_device_pixel_ratio:new c.bg(b,r.u_device_pixel_ratio),u_is_halo:new c.bP(b,r.u_is_halo),u_translation:new c.bU(b,r.u_translation),u_pitched_scale:new c.bg(b,r.u_pitched_scale)}),symbolTextAndIcon:(b,r)=>({u_is_size_zoom_constant:new c.bP(b,r.u_is_size_zoom_constant),u_is_size_feature_constant:new c.bP(b,r.u_is_size_feature_constant),u_size_t:new c.bg(b,r.u_size_t),u_size:new c.bg(b,r.u_size),u_camera_to_center_distance:new c.bg(b,r.u_camera_to_center_distance),u_pitch:new c.bg(b,r.u_pitch),u_rotate_symbol:new c.bP(b,r.u_rotate_symbol),u_aspect_ratio:new c.bg(b,r.u_aspect_ratio),u_fade_change:new c.bg(b,r.u_fade_change),u_label_plane_matrix:new c.bR(b,r.u_label_plane_matrix),u_coord_matrix:new c.bR(b,r.u_coord_matrix),u_is_text:new c.bP(b,r.u_is_text),u_pitch_with_map:new c.bP(b,r.u_pitch_with_map),u_is_along_line:new c.bP(b,r.u_is_along_line),u_is_variable_anchor:new c.bP(b,r.u_is_variable_anchor),u_texsize:new c.bU(b,r.u_texsize),u_texsize_icon:new c.bU(b,r.u_texsize_icon),u_texture:new c.bP(b,r.u_texture),u_texture_icon:new c.bP(b,r.u_texture_icon),u_gamma_scale:new c.bg(b,r.u_gamma_scale),u_device_pixel_ratio:new c.bg(b,r.u_device_pixel_ratio),u_is_halo:new c.bP(b,r.u_is_halo),u_translation:new c.bU(b,r.u_translation),u_pitched_scale:new c.bg(b,r.u_pitched_scale)}),background:(b,r)=>({u_opacity:new c.bg(b,r.u_opacity),u_color:new c.bQ(b,r.u_color)}),backgroundPattern:(b,r)=>({u_opacity:new c.bg(b,r.u_opacity),u_image:new c.bP(b,r.u_image),u_pattern_tl_a:new c.bU(b,r.u_pattern_tl_a),u_pattern_br_a:new c.bU(b,r.u_pattern_br_a),u_pattern_tl_b:new c.bU(b,r.u_pattern_tl_b),u_pattern_br_b:new c.bU(b,r.u_pattern_br_b),u_texsize:new c.bU(b,r.u_texsize),u_mix:new c.bg(b,r.u_mix),u_pattern_size_a:new c.bU(b,r.u_pattern_size_a),u_pattern_size_b:new c.bU(b,r.u_pattern_size_b),u_scale_a:new c.bg(b,r.u_scale_a),u_scale_b:new c.bg(b,r.u_scale_b),u_pixel_coord_upper:new c.bU(b,r.u_pixel_coord_upper),u_pixel_coord_lower:new c.bU(b,r.u_pixel_coord_lower),u_tile_units_to_pixels:new c.bg(b,r.u_tile_units_to_pixels)}),terrain:(b,r)=>({u_texture:new c.bP(b,r.u_texture),u_ele_delta:new c.bg(b,r.u_ele_delta),u_fog_matrix:new c.bR(b,r.u_fog_matrix),u_fog_color:new c.bQ(b,r.u_fog_color),u_fog_ground_blend:new c.bg(b,r.u_fog_ground_blend),u_fog_ground_blend_opacity:new c.bg(b,r.u_fog_ground_blend_opacity),u_horizon_color:new c.bQ(b,r.u_horizon_color),u_horizon_fog_blend:new c.bg(b,r.u_horizon_fog_blend),u_is_globe_mode:new c.bg(b,r.u_is_globe_mode)}),terrainDepth:(b,r)=>({u_ele_delta:new c.bg(b,r.u_ele_delta)}),terrainCoords:(b,r)=>({u_texture:new c.bP(b,r.u_texture),u_terrain_coords_id:new c.bg(b,r.u_terrain_coords_id),u_ele_delta:new c.bg(b,r.u_ele_delta)}),projectionErrorMeasurement:(b,r)=>({u_input:new c.bg(b,r.u_input),u_output_expected:new c.bg(b,r.u_output_expected)}),atmosphere:(b,r)=>({u_sun_pos:new c.bT(b,r.u_sun_pos),u_atmosphere_blend:new c.bg(b,r.u_atmosphere_blend),u_globe_position:new c.bT(b,r.u_globe_position),u_globe_radius:new c.bg(b,r.u_globe_radius),u_inv_proj_matrix:new c.bR(b,r.u_inv_proj_matrix)}),sky:(b,r)=>({u_sky_color:new c.bQ(b,r.u_sky_color),u_horizon_color:new c.bQ(b,r.u_horizon_color),u_horizon:new c.bU(b,r.u_horizon),u_horizon_normal:new c.bU(b,r.u_horizon_normal),u_sky_horizon_blend:new c.bg(b,r.u_sky_horizon_blend),u_sky_blend:new c.bg(b,r.u_sky_blend)})};class Tc{constructor(r,u,m){this.context=r;const _=r.gl;this.buffer=_.createBuffer(),this.dynamicDraw=!!m,this.context.unbindVAO(),r.bindElementBuffer.set(this.buffer),_.bufferData(_.ELEMENT_ARRAY_BUFFER,u.arrayBuffer,this.dynamicDraw?_.DYNAMIC_DRAW:_.STATIC_DRAW),this.dynamicDraw||delete u.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(r){const u=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),u.bufferSubData(u.ELEMENT_ARRAY_BUFFER,0,r.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Mu={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class No{constructor(r,u,m,_){this.length=u.length,this.attributes=m,this.itemSize=u.bytesPerElement,this.dynamicDraw=_,this.context=r;const w=r.gl;this.buffer=w.createBuffer(),r.bindVertexBuffer.set(this.buffer),w.bufferData(w.ARRAY_BUFFER,u.arrayBuffer,this.dynamicDraw?w.DYNAMIC_DRAW:w.STATIC_DRAW),this.dynamicDraw||delete u.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(r){if(r.length!==this.length)throw new Error(`Length of new data is ${r.length}, which doesn't match current length of ${this.length}`);const u=this.context.gl;this.bind(),u.bufferSubData(u.ARRAY_BUFFER,0,r.arrayBuffer)}enableAttributes(r,u){for(let m=0;m<this.attributes.length;m++){const _=u.attributes[this.attributes[m].name];_!==void 0&&r.enableVertexAttribArray(_)}}setVertexAttribPointers(r,u,m){for(let _=0;_<this.attributes.length;_++){const w=this.attributes[_],D=u.attributes[w.name];D!==void 0&&r.vertexAttribPointer(D,w.components,r[Mu[w.type]],!1,this.itemSize,w.offset+this.itemSize*(m||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class Ir{constructor(r){this.gl=r.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(r){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Ih extends Ir{getDefault(){return c.bf.transparent}set(r){const u=this.current;(r.r!==u.r||r.g!==u.g||r.b!==u.b||r.a!==u.a||this.dirty)&&(this.gl.clearColor(r.r,r.g,r.b,r.a),this.current=r,this.dirty=!1)}}class Tu extends Ir{getDefault(){return 1}set(r){(r!==this.current||this.dirty)&&(this.gl.clearDepth(r),this.current=r,this.dirty=!1)}}class Sp extends Ir{getDefault(){return 0}set(r){(r!==this.current||this.dirty)&&(this.gl.clearStencil(r),this.current=r,this.dirty=!1)}}class qs extends Ir{getDefault(){return[!0,!0,!0,!0]}set(r){const u=this.current;(r[0]!==u[0]||r[1]!==u[1]||r[2]!==u[2]||r[3]!==u[3]||this.dirty)&&(this.gl.colorMask(r[0],r[1],r[2],r[3]),this.current=r,this.dirty=!1)}}class as extends Ir{getDefault(){return!0}set(r){(r!==this.current||this.dirty)&&(this.gl.depthMask(r),this.current=r,this.dirty=!1)}}class Ml extends Ir{getDefault(){return 255}set(r){(r!==this.current||this.dirty)&&(this.gl.stencilMask(r),this.current=r,this.dirty=!1)}}class Vf extends Ir{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(r){const u=this.current;(r.func!==u.func||r.ref!==u.ref||r.mask!==u.mask||this.dirty)&&(this.gl.stencilFunc(r.func,r.ref,r.mask),this.current=r,this.dirty=!1)}}class wp extends Ir{getDefault(){const r=this.gl;return[r.KEEP,r.KEEP,r.KEEP]}set(r){const u=this.current;(r[0]!==u[0]||r[1]!==u[1]||r[2]!==u[2]||this.dirty)&&(this.gl.stencilOp(r[0],r[1],r[2]),this.current=r,this.dirty=!1)}}class Tl extends Ir{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const u=this.gl;r?u.enable(u.STENCIL_TEST):u.disable(u.STENCIL_TEST),this.current=r,this.dirty=!1}}class Ec extends Ir{getDefault(){return[0,1]}set(r){const u=this.current;(r[0]!==u[0]||r[1]!==u[1]||this.dirty)&&(this.gl.depthRange(r[0],r[1]),this.current=r,this.dirty=!1)}}class kh extends Ir{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const u=this.gl;r?u.enable(u.DEPTH_TEST):u.disable(u.DEPTH_TEST),this.current=r,this.dirty=!1}}class Pp extends Ir{getDefault(){return this.gl.LESS}set(r){(r!==this.current||this.dirty)&&(this.gl.depthFunc(r),this.current=r,this.dirty=!1)}}class $s extends Ir{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const u=this.gl;r?u.enable(u.BLEND):u.disable(u.BLEND),this.current=r,this.dirty=!1}}class Eu extends Ir{getDefault(){const r=this.gl;return[r.ONE,r.ZERO]}set(r){const u=this.current;(r[0]!==u[0]||r[1]!==u[1]||this.dirty)&&(this.gl.blendFunc(r[0],r[1]),this.current=r,this.dirty=!1)}}class Ru extends Ir{getDefault(){return c.bf.transparent}set(r){const u=this.current;(r.r!==u.r||r.g!==u.g||r.b!==u.b||r.a!==u.a||this.dirty)&&(this.gl.blendColor(r.r,r.g,r.b,r.a),this.current=r,this.dirty=!1)}}class Iu extends Ir{getDefault(){return this.gl.FUNC_ADD}set(r){(r!==this.current||this.dirty)&&(this.gl.blendEquation(r),this.current=r,this.dirty=!1)}}class Wf extends Ir{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const u=this.gl;r?u.enable(u.CULL_FACE):u.disable(u.CULL_FACE),this.current=r,this.dirty=!1}}class El extends Ir{getDefault(){return this.gl.BACK}set(r){(r!==this.current||this.dirty)&&(this.gl.cullFace(r),this.current=r,this.dirty=!1)}}class ku extends Ir{getDefault(){return this.gl.CCW}set(r){(r!==this.current||this.dirty)&&(this.gl.frontFace(r),this.current=r,this.dirty=!1)}}class Rl extends Ir{getDefault(){return null}set(r){(r!==this.current||this.dirty)&&(this.gl.useProgram(r),this.current=r,this.dirty=!1)}}class Ii extends Ir{getDefault(){return this.gl.TEXTURE0}set(r){(r!==this.current||this.dirty)&&(this.gl.activeTexture(r),this.current=r,this.dirty=!1)}}class Oh extends Ir{getDefault(){const r=this.gl;return[0,0,r.drawingBufferWidth,r.drawingBufferHeight]}set(r){const u=this.current;(r[0]!==u[0]||r[1]!==u[1]||r[2]!==u[2]||r[3]!==u[3]||this.dirty)&&(this.gl.viewport(r[0],r[1],r[2],r[3]),this.current=r,this.dirty=!1)}}class Qi extends Ir{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;const u=this.gl;u.bindFramebuffer(u.FRAMEBUFFER,r),this.current=r,this.dirty=!1}}class Uh extends Ir{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;const u=this.gl;u.bindRenderbuffer(u.RENDERBUFFER,r),this.current=r,this.dirty=!1}}class pa extends Ir{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;const u=this.gl;u.bindTexture(u.TEXTURE_2D,r),this.current=r,this.dirty=!1}}class Qa extends Ir{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;const u=this.gl;u.bindBuffer(u.ARRAY_BUFFER,r),this.current=r,this.dirty=!1}}class is extends Ir{getDefault(){return null}set(r){const u=this.gl;u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,r),this.current=r,this.dirty=!1}}class Il extends Ir{getDefault(){return null}set(r){var u;if(r===this.current&&!this.dirty)return;const m=this.gl;Oa(m)?m.bindVertexArray(r):(u=m.getExtension("OES_vertex_array_object"))===null||u===void 0||u.bindVertexArrayOES(r),this.current=r,this.dirty=!1}}class kl extends Ir{getDefault(){return 4}set(r){if(r===this.current&&!this.dirty)return;const u=this.gl;u.pixelStorei(u.UNPACK_ALIGNMENT,r),this.current=r,this.dirty=!1}}class Ou extends Ir{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const u=this.gl;u.pixelStorei(u.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r),this.current=r,this.dirty=!1}}class Hs extends Ir{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const u=this.gl;u.pixelStorei(u.UNPACK_FLIP_Y_WEBGL,r),this.current=r,this.dirty=!1}}class ki extends Ir{constructor(r,u){super(r),this.context=r,this.parent=u}getDefault(){return null}}class Gf extends ki{setDirty(){this.dirty=!0}set(r){if(r===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const u=this.gl;u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,r,0),this.current=r,this.dirty=!1}}class Rc extends ki{set(r){if(r===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const u=this.gl;u.framebufferRenderbuffer(u.FRAMEBUFFER,u.DEPTH_ATTACHMENT,u.RENDERBUFFER,r),this.current=r,this.dirty=!1}}class gr extends ki{set(r){if(r===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const u=this.gl;u.framebufferRenderbuffer(u.FRAMEBUFFER,u.DEPTH_STENCIL_ATTACHMENT,u.RENDERBUFFER,r),this.current=r,this.dirty=!1}}const Uu="Framebuffer is not complete";class Oi{constructor(r,u,m,_,w){this.context=r,this.width=u,this.height=m;const D=r.gl,k=this.framebuffer=D.createFramebuffer();if(this.colorAttachment=new Gf(r,k),_)this.depthAttachment=w?new gr(r,k):new Rc(r,k);else if(w)throw new Error("Stencil cannot be set without depth");if(D.checkFramebufferStatus(D.FRAMEBUFFER)!==D.FRAMEBUFFER_COMPLETE)throw new Error(Uu)}destroy(){const r=this.context.gl,u=this.colorAttachment.get();if(u&&r.deleteTexture(u),this.depthAttachment){const m=this.depthAttachment.get();m&&r.deleteRenderbuffer(m)}r.deleteFramebuffer(this.framebuffer)}}class Lh{constructor(r){var u,m;if(this.gl=r,this.clearColor=new Ih(this),this.clearDepth=new Tu(this),this.clearStencil=new Sp(this),this.colorMask=new qs(this),this.depthMask=new as(this),this.stencilMask=new Ml(this),this.stencilFunc=new Vf(this),this.stencilOp=new wp(this),this.stencilTest=new Tl(this),this.depthRange=new Ec(this),this.depthTest=new kh(this),this.depthFunc=new Pp(this),this.blend=new $s(this),this.blendFunc=new Eu(this),this.blendColor=new Ru(this),this.blendEquation=new Iu(this),this.cullFace=new Wf(this),this.cullFaceSide=new El(this),this.frontFace=new ku(this),this.program=new Rl(this),this.activeTexture=new Ii(this),this.viewport=new Oh(this),this.bindFramebuffer=new Qi(this),this.bindRenderbuffer=new Uh(this),this.bindTexture=new pa(this),this.bindVertexBuffer=new Qa(this),this.bindElementBuffer=new is(this),this.bindVertexArray=new Il(this),this.pixelStoreUnpack=new kl(this),this.pixelStoreUnpackPremultiplyAlpha=new Ou(this),this.pixelStoreUnpackFlipY=new Hs(this),this.extTextureFilterAnisotropic=r.getExtension("EXT_texture_filter_anisotropic")||r.getExtension("MOZ_EXT_texture_filter_anisotropic")||r.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=r.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),Oa(r)){this.HALF_FLOAT=r.HALF_FLOAT;const _=r.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(u=r.RGBA16F)!==null&&u!==void 0?u:_?.RGBA16F_EXT,this.RGB16F=(m=r.RGB16F)!==null&&m!==void 0?m:_?.RGB16F_EXT,r.getExtension("EXT_color_buffer_float")}else{r.getExtension("EXT_color_buffer_half_float"),r.getExtension("OES_texture_half_float_linear");const _=r.getExtension("OES_texture_half_float");this.HALF_FLOAT=_?.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(r,u){return new Tc(this,r,u)}createVertexBuffer(r,u,m){return new No(this,r,u,m)}createRenderbuffer(r,u,m){const _=this.gl,w=_.createRenderbuffer();return this.bindRenderbuffer.set(w),_.renderbufferStorage(_.RENDERBUFFER,r,u,m),this.bindRenderbuffer.set(null),w}createFramebuffer(r,u,m,_){return new Oi(this,r,u,m,_)}clear({color:r,depth:u,stencil:m}){const _=this.gl;let w=0;r&&(w|=_.COLOR_BUFFER_BIT,this.clearColor.set(r),this.colorMask.set([!0,!0,!0,!0])),u!==void 0&&(w|=_.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(u),this.depthMask.set(!0)),m!==void 0&&(w|=_.STENCIL_BUFFER_BIT,this.clearStencil.set(m),this.stencilMask.set(255)),_.clear(w)}setCullFace(r){r.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(r.mode),this.frontFace.set(r.frontFace))}setDepthMode(r){r.func!==this.gl.ALWAYS||r.mask?(this.depthTest.set(!0),this.depthFunc.set(r.func),this.depthMask.set(r.mask),this.depthRange.set(r.range)):this.depthTest.set(!1)}setStencilMode(r){r.test.func!==this.gl.ALWAYS||r.mask?(this.stencilTest.set(!0),this.stencilMask.set(r.mask),this.stencilOp.set([r.fail,r.depthFail,r.pass]),this.stencilFunc.set({func:r.test.func,ref:r.ref,mask:r.test.mask})):this.stencilTest.set(!1)}setColorMode(r){c.bH(r.blendFunction,Xr.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(r.blendFunction),this.blendColor.set(r.blendColor)),this.colorMask.set(r.mask)}createVertexArray(){var r;return Oa(this.gl)?this.gl.createVertexArray():(r=this.gl.getExtension("OES_vertex_array_object"))===null||r===void 0?void 0:r.createVertexArrayOES()}deleteVertexArray(r){var u;return Oa(this.gl)?this.gl.deleteVertexArray(r):(u=this.gl.getExtension("OES_vertex_array_object"))===null||u===void 0?void 0:u.deleteVertexArrayOES(r)}unbindVAO(){this.bindVertexArray.set(null)}}let La;function Zf(b,r,u,m,_){const w=b.context,D=b.transform,k=w.gl,O=b.useProgram("collisionBox"),N=[];let B=0,Z=0;for(let me=0;me<m.length;me++){const ve=m[me],we=r.getTile(ve).getBucket(u);if(!we)continue;const _e=_?we.textCollisionBox:we.iconCollisionBox,Ae=we.collisionCircleArray;Ae.length>0&&(N.push({circleArray:Ae,circleOffset:Z,coord:ve}),B+=Ae.length/4,Z=B),_e&&O.draw(w,k.LINES,lr.disabled,Dr.disabled,b.colorModeForRenderPass(),tr.disabled,Pu(b.transform),b.style.map.terrain&&b.style.map.terrain.getTerrainData(ve),D.getProjectionData({overscaledTileID:ve,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),u.id,_e.layoutVertexBuffer,_e.indexBuffer,_e.segments,null,b.transform.zoom,null,null,_e.collisionVertexBuffer)}if(!_||!N.length)return;const G=b.useProgram("collisionCircle"),J=new c.b$;J.resize(4*B),J._trim();let ie=0;for(const me of N)for(let ve=0;ve<me.circleArray.length/4;ve++){const we=4*ve,_e=me.circleArray[we+0],Ae=me.circleArray[we+1],Ee=me.circleArray[we+2],be=me.circleArray[we+3];J.emplace(ie++,_e,Ae,Ee,be,0),J.emplace(ie++,_e,Ae,Ee,be,1),J.emplace(ie++,_e,Ae,Ee,be,2),J.emplace(ie++,_e,Ae,Ee,be,3)}(!La||La.length<2*B)&&(La=(function(me){const ve=2*me,we=new c.c1;we.resize(ve),we._trim();for(let _e=0;_e<ve;_e++){const Ae=6*_e;we.uint16[Ae+0]=4*_e+0,we.uint16[Ae+1]=4*_e+1,we.uint16[Ae+2]=4*_e+2,we.uint16[Ae+3]=4*_e+2,we.uint16[Ae+4]=4*_e+3,we.uint16[Ae+5]=4*_e+0}return we})(B));const he=w.createIndexBuffer(La,!0),fe=w.createVertexBuffer(J,c.c0.members,!0);for(const me of N){const ve=Ac(b.transform);G.draw(w,k.TRIANGLES,lr.disabled,Dr.disabled,b.colorModeForRenderPass(),tr.disabled,ve,b.style.map.terrain&&b.style.map.terrain.getTerrainData(me.coord),null,u.id,fe,he,c.aM.simpleSegment(0,2*me.circleOffset,me.circleArray.length,me.circleArray.length/2),null,b.transform.zoom,null,null,null)}fe.destroy(),he.destroy()}const zh=c.ag(new Float32Array(16));function Vs(b,r,u,m,_,w){const{horizontalAlign:D,verticalAlign:k}=c.aH(b);return new c.P((-(D-.5)*r/_+m[0])*w,(-(k-.5)*u/_+m[1])*w)}function Yf(b,r,u,m,_,w){const D=r.tileAnchorPoint.add(new c.P(r.translation[0],r.translation[1]));if(r.pitchWithMap){let k=m.mult(w);u||(k=k.rotate(-_));const O=D.add(k);return pn(O.x,O.y,r.pitchedLabelPlaneMatrix,r.getElevation).point}if(u){const k=qn(r.tileAnchorPoint.x+1,r.tileAnchorPoint.y,r).point.sub(b),O=Math.atan(k.y/k.x)+(k.x<0?Math.PI:0);return b.add(m.rotate(O))}return b.add(m)}function Lu(b,r,u,m,_,w,D,k,O,N,B,Z){const G=b.text.placedSymbolArray,J=b.text.dynamicLayoutVertexArray,ie=b.icon.dynamicLayoutVertexArray,he={};J.clear();for(let fe=0;fe<G.length;fe++){const me=G.get(fe),ve=me.hidden||!me.crossTileID||b.allowVerticalPlacement&&!me.placedOrientation?null:m[me.crossTileID];if(ve){const we=new c.P(me.anchorX,me.anchorY),_e={getElevation:Z,width:_.width,height:_.height,pitchedLabelPlaneMatrix:w,pitchWithMap:u,transform:_,tileAnchorPoint:we,translation:N,unwrappedTileID:B},Ae=u?mn(we.x,we.y,_e):qn(we.x,we.y,_e),Ee=Pt(_.cameraToCenterDistance,Ae.signedDistanceFromCamera);let be=c.ap(b.textSizeData,k,me)*Ee/c.aB;u&&(be*=b.tilePixelRatio/D);const{width:Ue,height:Qe,anchor:qe,textOffset:Ve,textBoxScale:Xe}=ve,Et=Vs(qe,Ue,Qe,Ve,Xe,be),Mt=_.getPitchedTextCorrection(we.x+N[0],we.y+N[1],B),ft=Yf(Ae.point,_e,r,Et,-_.bearingInRadians,Mt),Ht=b.allowVerticalPlacement&&me.placedOrientation===c.ao.vertical?Math.PI/2:0;for(let vr=0;vr<me.numGlyphs;vr++)c.av(J,ft,Ht);O&&me.associatedIconIndex>=0&&(he[me.associatedIconIndex]={shiftedAnchor:ft,angle:Ht})}else Ro(me.numGlyphs,J)}if(O){ie.clear();const fe=b.icon.placedSymbolArray;for(let me=0;me<fe.length;me++){const ve=fe.get(me);if(ve.hidden)Ro(ve.numGlyphs,ie);else{const we=he[me];if(we)for(let _e=0;_e<ve.numGlyphs;_e++)c.av(ie,we.shiftedAnchor,we.angle);else Ro(ve.numGlyphs,ie)}}b.icon.dynamicLayoutVertexBuffer.updateData(ie)}b.text.dynamicLayoutVertexBuffer.updateData(J)}function os(b,r,u){return u.iconsInText&&r?"symbolTextAndIcon":b?"symbolSDF":"symbolIcon"}function jo(b,r,u,m,_,w,D,k,O,N,B,Z,G){const J=b.context,ie=J.gl,he=b.transform,fe=k==="map",me=O==="map",ve=k!=="viewport"&&u.layout.get("symbol-placement")!=="point",we=fe&&!me&&!ve,_e=!u.layout.get("symbol-sort-key").isConstant();let Ae=!1;const Ee=b.getDepthModeForSublayer(0,lr.ReadOnly),be=u._unevaluatedLayout.hasValue("text-variable-anchor")||u._unevaluatedLayout.hasValue("text-variable-anchor-offset"),Ue=[],Qe=he.getCircleRadiusCorrection();for(const qe of m){const Ve=r.getTile(qe),Xe=Ve.getBucket(u);if(!Xe)continue;const Et=_?Xe.text:Xe.icon;if(!Et||!Et.segments.get().length||!Et.hasVisibleVertices)continue;const Mt=Et.programConfigurations.get(u.id),ft=_||Xe.sdfIcons,Ht=_?Xe.textSizeData:Xe.iconSizeData,vr=me||he.pitch!==0,kr=b.useProgram(os(ft,_,Xe),Mt),hn=c.an(Ht,he.zoom),Gr=b.style.map.terrain&&b.style.map.terrain.getTerrainData(qe);let Zr,rn,Kr,Yr,Mr=[0,0],ra=null;if(_)rn=Ve.glyphAtlasTexture,Kr=ie.LINEAR,Zr=Ve.glyphAtlasTexture.size,Xe.iconsInText&&(Mr=Ve.imageAtlasTexture.size,ra=Ve.imageAtlasTexture,Yr=vr||b.options.rotating||b.options.zooming||Ht.kind==="composite"||Ht.kind==="camera"?ie.LINEAR:ie.NEAREST);else{const jr=u.layout.get("icon-size").constantOr(0)!==1||Xe.iconsNeedLinear;rn=Ve.imageAtlasTexture,Kr=ft||b.options.rotating||b.options.zooming||jr||vr?ie.LINEAR:ie.NEAREST,Zr=Ve.imageAtlasTexture.size}const Wn=c.aC(Ve,1,b.transform.zoom),ni=Qr(fe,b.transform,Wn),el=c.L();c.aq(el,ni);const ms=rr(me,fe,b.transform,Wn),ai=c.aD(he,Ve,w,D),ys=he.getProjectionData({overscaledTileID:qe,applyGlobeMatrix:!G,applyTerrainMatrix:!0}),tl=be&&Xe.hasTextData(),Hu=u.layout.get("icon-text-fit")!=="none"&&tl&&Xe.hasIconData();if(ve){const jr=b.style.map.terrain?(Fa,Rn)=>b.style.map.terrain.getElevation(qe,Fa,Rn):null,gn=u.layout.get("text-rotation-alignment")==="map";Mn(Xe,b,_,ni,el,me,N,gn,qe.toUnwrapped(),he.width,he.height,ai,jr)}const gs=_&&be||Hu,ga=ve||gs?zh:me?ni:b.transform.clipSpaceToPixelsMatrix,$o=ft&&u.paint.get(_?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let Ho;Ho=ft?Xe.iconsInText?Vm(Ht.kind,hn,we,me,ve,gs,b,ga,ms,ai,Zr,Mr,Qe):_p(Ht.kind,hn,we,me,ve,gs,b,ga,ms,ai,_,Zr,0,Qe):Mc(Ht.kind,hn,we,me,ve,gs,b,ga,ms,ai,_,Zr,Qe);const rl={program:kr,buffers:Et,uniformValues:Ho,projectionData:ys,atlasTexture:rn,atlasTextureIcon:ra,atlasInterpolation:Kr,atlasInterpolationIcon:Yr,isSDF:ft,hasHalo:$o};if(_e&&Xe.canOverlap){Ae=!0;const jr=Et.segments.get();for(const gn of jr)Ue.push({segments:new c.aM([gn]),sortKey:gn.sortKey,state:rl,terrainData:Gr})}else Ue.push({segments:Et.segments,sortKey:0,state:rl,terrainData:Gr})}Ae&&Ue.sort(((qe,Ve)=>qe.sortKey-Ve.sortKey));for(const qe of Ue){const Ve=qe.state;if(J.activeTexture.set(ie.TEXTURE0),Ve.atlasTexture.bind(Ve.atlasInterpolation,ie.CLAMP_TO_EDGE),Ve.atlasTextureIcon&&(J.activeTexture.set(ie.TEXTURE1),Ve.atlasTextureIcon&&Ve.atlasTextureIcon.bind(Ve.atlasInterpolationIcon,ie.CLAMP_TO_EDGE)),Ve.isSDF){const Xe=Ve.uniformValues;Ve.hasHalo&&(Xe.u_is_halo=1,Ws(Ve.buffers,qe.segments,u,b,Ve.program,Ee,B,Z,Xe,Ve.projectionData,qe.terrainData)),Xe.u_is_halo=0}Ws(Ve.buffers,qe.segments,u,b,Ve.program,Ee,B,Z,Ve.uniformValues,Ve.projectionData,qe.terrainData)}}function Ws(b,r,u,m,_,w,D,k,O,N,B){const Z=m.context;_.draw(Z,Z.gl.TRIANGLES,w,D,k,tr.backCCW,O,B,N,u.id,b.layoutVertexBuffer,b.indexBuffer,r,u.paint,m.transform.zoom,b.programConfigurations.get(u.id),b.dynamicLayoutVertexBuffer,b.opacityVertexBuffer)}function Ic(b,r,u,m,_){const w=b.context,D=w.gl,k=Dr.disabled,O=new Xr([D.ONE,D.ONE],c.bf.transparent,[!0,!0,!0,!0]),N=r.getBucket(u);if(!N)return;const B=m.key;let Z=u.heatmapFbos.get(B);Z||(Z=za(w,r.tileSize,r.tileSize),u.heatmapFbos.set(B,Z)),w.bindFramebuffer.set(Z.framebuffer),w.viewport.set([0,0,r.tileSize,r.tileSize]),w.clear({color:c.bf.transparent});const G=N.programConfigurations.get(u.id),J=b.useProgram("heatmap",G,!_),ie=b.transform.getProjectionData({overscaledTileID:r.tileID,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),he=b.style.map.terrain.getTerrainData(m);J.draw(w,D.TRIANGLES,lr.disabled,k,O,tr.disabled,yp(r,b.transform.zoom,u.paint.get("heatmap-intensity"),1),he,ie,u.id,N.layoutVertexBuffer,N.indexBuffer,N.segments,u.paint,b.transform.zoom,G)}function Ui(b,r,u,m,_){const w=b.context,D=w.gl,k=b.transform;w.setColorMode(b.colorModeForRenderPass());const O=oo(w,r),N=u.key,B=r.heatmapFbos.get(N);if(!B)return;w.activeTexture.set(D.TEXTURE0),D.bindTexture(D.TEXTURE_2D,B.colorAttachment.get()),w.activeTexture.set(D.TEXTURE1),O.bind(D.LINEAR,D.CLAMP_TO_EDGE);const Z=k.getProjectionData({overscaledTileID:u,applyTerrainMatrix:_,applyGlobeMatrix:!m});b.useProgram("heatmapTexture").draw(w,D.TRIANGLES,lr.disabled,Dr.disabled,b.colorModeForRenderPass(),tr.disabled,Bf(b,r,0,1),null,Z,r.id,b.rasterBoundsBuffer,b.quadTriangleIndexBuffer,b.rasterBoundsSegments,r.paint,k.zoom),B.destroy(),r.heatmapFbos.delete(N)}function za(b,r,u){var m,_;const w=b.gl,D=w.createTexture();w.bindTexture(w.TEXTURE_2D,D),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_S,w.CLAMP_TO_EDGE),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_T,w.CLAMP_TO_EDGE),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MIN_FILTER,w.LINEAR),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MAG_FILTER,w.LINEAR);const k=(m=b.HALF_FLOAT)!==null&&m!==void 0?m:w.UNSIGNED_BYTE,O=(_=b.RGBA16F)!==null&&_!==void 0?_:w.RGBA;w.texImage2D(w.TEXTURE_2D,0,O,r,u,0,w.RGBA,k,null);const N=b.createFramebuffer(r,u,!1,!1);return N.colorAttachment.set(D),N}function oo(b,r){return r.colorRampTexture||(r.colorRampTexture=new c.T(b,r.colorRamp,b.gl.RGBA)),r.colorRampTexture}function Li(b,r,u,m,_){if(!u||!m||!m.imageAtlas)return;const w=m.imageAtlas.patternPositions;let D=w[u.to.toString()],k=w[u.from.toString()];if(!D&&k&&(D=k),!k&&D&&(k=D),!D||!k){const O=_.getPaintProperty(r);D=w[O],k=w[O]}D&&k&&b.setConstantPatternPositions(D,k)}function Xa(b,r,u,m,_,w,D,k){const O=b.context.gl,N="fill-pattern",B=u.paint.get(N),Z=B&&B.constantOr(1),G=u.getCrossfadeParameters();let J,ie,he,fe,me;const ve=b.transform,we=u.paint.get("fill-translate"),_e=u.paint.get("fill-translate-anchor");D?(ie=Z&&!u.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",J=O.LINES):(ie=Z?"fillPattern":"fill",J=O.TRIANGLES);const Ae=B.constantOr(null);for(const Ee of m){const be=r.getTile(Ee);if(Z&&!be.patternsLoaded())continue;const Ue=be.getBucket(u);if(!Ue)continue;const Qe=Ue.programConfigurations.get(u.id),qe=b.useProgram(ie,Qe),Ve=b.style.map.terrain&&b.style.map.terrain.getTerrainData(Ee);Z&&(b.context.activeTexture.set(O.TEXTURE0),be.imageAtlasTexture.bind(O.LINEAR,O.CLAMP_TO_EDGE),Qe.updatePaintBuffers(G)),Li(Qe,N,Ae,be,u);const Xe=ve.getProjectionData({overscaledTileID:Ee,applyGlobeMatrix:!k,applyTerrainMatrix:!0}),Et=c.aD(ve,be,we,_e);if(D){fe=Ue.indexBuffer2,me=Ue.segments2;const ft=[O.drawingBufferWidth,O.drawingBufferHeight];he=ie==="fillOutlinePattern"&&Z?Pc(b,G,be,ft,Et):wc(ft,Et)}else fe=Ue.indexBuffer,me=Ue.segments,he=Z?wu(b,G,be,Et):{u_fill_translate:Et};const Mt=b.stencilModeForClipping(Ee);qe.draw(b.context,J,_,Mt,w,tr.backCCW,he,Ve,Xe,u.id,Ue.layoutVertexBuffer,fe,me,u.paint,b.transform.zoom,Qe)}}function so(b,r,u,m,_,w,D,k){const O=b.context,N=O.gl,B="fill-extrusion-pattern",Z=u.paint.get(B),G=Z.constantOr(1),J=u.getCrossfadeParameters(),ie=u.paint.get("fill-extrusion-opacity"),he=Z.constantOr(null),fe=b.transform;for(const me of m){const ve=r.getTile(me),we=ve.getBucket(u);if(!we)continue;const _e=b.style.map.terrain&&b.style.map.terrain.getTerrainData(me),Ae=we.programConfigurations.get(u.id),Ee=b.useProgram(G?"fillExtrusionPattern":"fillExtrusion",Ae);G&&(b.context.activeTexture.set(N.TEXTURE0),ve.imageAtlasTexture.bind(N.LINEAR,N.CLAMP_TO_EDGE),Ae.updatePaintBuffers(J));const be=fe.getProjectionData({overscaledTileID:me,applyGlobeMatrix:!k,applyTerrainMatrix:!0});Li(Ae,B,he,ve,u);const Ue=c.aD(fe,ve,u.paint.get("fill-extrusion-translate"),u.paint.get("fill-extrusion-translate-anchor")),Qe=u.paint.get("fill-extrusion-vertical-gradient"),qe=G?Hm(b,Qe,ie,Ue,me,J,ve):Za(b,Qe,ie,Ue);Ee.draw(O,O.gl.TRIANGLES,_,w,D,tr.backCCW,qe,_e,be,u.id,we.layoutVertexBuffer,we.indexBuffer,we.segments,u.paint,b.transform.zoom,Ae,b.style.map.terrain&&we.centroidVertexBuffer)}}function Fh(b,r,u,m,_,w,D,k,O){var N;const B=b.style.projection,Z=b.context,G=b.transform,J=Z.gl,ie=[`#define NUM_ILLUMINATION_SOURCES ${u.paint.get("hillshade-highlight-color").values.length}`],he=b.useProgram("hillshade",null,!1,ie),fe=!b.options.moving;for(const me of m){const ve=r.getTile(me),we=ve.fbo;if(!we)continue;const _e=B.getMeshFromTileID(Z,me.canonical,k,!0,"raster"),Ae=(N=b.style.map.terrain)===null||N===void 0?void 0:N.getTerrainData(me);Z.activeTexture.set(J.TEXTURE0),J.bindTexture(J.TEXTURE_2D,we.colorAttachment.get());const Ee=G.getProjectionData({overscaledTileID:me,aligned:fe,applyGlobeMatrix:!O,applyTerrainMatrix:!0});he.draw(Z,J.TRIANGLES,w,_[me.overscaledZ],D,tr.backCCW,gp(b,ve,u),Ae,Ee,u.id,_e.vertexBuffer,_e.indexBuffer,_e.segments)}}function ss(b,r,u,m,_,w,D,k,O){var N;const B=b.style.projection,Z=b.context,G=b.transform,J=Z.gl,ie=b.useProgram("colorRelief"),he=!b.options.moving;let fe=!0,me=0;for(const ve of m){const we=r.getTile(ve),_e=we.dem;if(fe){const qe=J.getParameter(J.MAX_TEXTURE_SIZE),{elevationTexture:Ve,colorTexture:Xe}=u.getColorRampTextures(Z,qe,_e.getUnpackVector());Z.activeTexture.set(J.TEXTURE1),Ve.bind(J.NEAREST,J.CLAMP_TO_EDGE),Z.activeTexture.set(J.TEXTURE4),Xe.bind(J.LINEAR,J.CLAMP_TO_EDGE),fe=!1,me=Ve.size[0]}if(!_e||!_e.data)continue;const Ae=_e.stride,Ee=_e.getPixels();if(Z.activeTexture.set(J.TEXTURE0),Z.pixelStoreUnpackPremultiplyAlpha.set(!1),we.demTexture=we.demTexture||b.getTileTexture(Ae),we.demTexture){const qe=we.demTexture;qe.update(Ee,{premultiply:!1}),qe.bind(J.LINEAR,J.CLAMP_TO_EDGE)}else we.demTexture=new c.T(Z,Ee,J.RGBA,{premultiply:!1}),we.demTexture.bind(J.LINEAR,J.CLAMP_TO_EDGE);const be=B.getMeshFromTileID(Z,ve.canonical,k,!0,"raster"),Ue=(N=b.style.map.terrain)===null||N===void 0?void 0:N.getTerrainData(ve),Qe=G.getProjectionData({overscaledTileID:ve,aligned:he,applyGlobeMatrix:!O,applyTerrainMatrix:!0});ie.draw(Z,J.TRIANGLES,w,_[ve.overscaledZ],D,tr.backCCW,Cc(u,we.dem,me),Ue,Qe,u.id,be.vertexBuffer,be.indexBuffer,be.segments)}}const zu=[new c.P(0,0),new c.P(c.$,0),new c.P(c.$,c.$),new c.P(0,c.$)];function oa(b,r,u,m,_,w,D,k,O=!1,N=!1){const B=m[m.length-1].overscaledZ,Z=b.context,G=Z.gl,J=b.useProgram("raster"),ie=b.transform,he=b.style.projection,fe=b.colorModeForRenderPass(),me=!b.options.moving;for(const ve of m){const we=b.getDepthModeForSublayer(ve.overscaledZ-B,u.paint.get("raster-opacity")===1?lr.ReadWrite:lr.ReadOnly,G.LESS),_e=r.getTile(ve);_e.registerFadeDuration(u.paint.get("raster-fade-duration"));const Ae=r.findLoadedParent(ve,0),Ee=r.findLoadedSibling(ve),be=yn(_e,Ae||Ee||null,r,u,b.transform,b.style.map.terrain);let Ue,Qe;const qe=u.paint.get("raster-resampling")==="nearest"?G.NEAREST:G.LINEAR;Z.activeTexture.set(G.TEXTURE0),_e.texture.bind(qe,G.CLAMP_TO_EDGE,G.LINEAR_MIPMAP_NEAREST),Z.activeTexture.set(G.TEXTURE1),Ae?(Ae.texture.bind(qe,G.CLAMP_TO_EDGE,G.LINEAR_MIPMAP_NEAREST),Ue=Math.pow(2,Ae.tileID.overscaledZ-_e.tileID.overscaledZ),Qe=[_e.tileID.canonical.x*Ue%1,_e.tileID.canonical.y*Ue%1]):_e.texture.bind(qe,G.CLAMP_TO_EDGE,G.LINEAR_MIPMAP_NEAREST),_e.texture.useMipmap&&Z.extTextureFilterAnisotropic&&b.transform.pitch>20&&G.texParameterf(G.TEXTURE_2D,Z.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Z.extTextureFilterAnisotropicMax);const Ve=b.style.map.terrain&&b.style.map.terrain.getTerrainData(ve),Xe=ie.getProjectionData({overscaledTileID:ve,aligned:me,applyGlobeMatrix:!N,applyTerrainMatrix:!0}),Et=Dc(Qe||[0,0],Ue||1,be,u,k),Mt=he.getMeshFromTileID(Z,ve.canonical,w,D,"raster");J.draw(Z,G.TRIANGLES,we,_?_[ve.overscaledZ]:Dr.disabled,fe,O?tr.frontCCW:tr.backCCW,Et,Ve,Xe,u.id,Mt.vertexBuffer,Mt.indexBuffer,Mt.segments)}}function yn(b,r,u,m,_,w){const D=m.paint.get("raster-fade-duration");if(!w&&D>0){const k=L.now(),O=(k-b.timeAdded)/D,N=r?(k-r.timeAdded)/D:-1,B=u.getSource(),Z=zt(_,{tileSize:B.tileSize,roundZoom:B.roundZoom}),G=!r||Math.abs(r.tileID.overscaledZ-Z)>Math.abs(b.tileID.overscaledZ-Z),J=G&&b.refreshedUponExpiration?1:c.ah(G?O:1-N,0,1);return b.refreshedUponExpiration&&O>=1&&(b.refreshedUponExpiration=!1),r?{opacity:1,mix:1-J}:{opacity:J,mix:0}}return{opacity:1,mix:0}}const Fr=new c.bf(1,0,0,1),Gs=new c.bf(0,1,0,1),lo=new c.bf(0,0,1,1),kc=new c.bf(1,0,1,1),ls=new c.bf(0,1,1,1);function Qf(b,r,u,m){Wr(b,0,r+u/2,b.transform.width,u,m)}function Nh(b,r,u,m){Wr(b,r-u/2,0,u,b.transform.height,m)}function Wr(b,r,u,m,_,w){const D=b.context,k=D.gl;k.enable(k.SCISSOR_TEST),k.scissor(r*b.pixelRatio,u*b.pixelRatio,m*b.pixelRatio,_*b.pixelRatio),D.clear({color:w}),k.disable(k.SCISSOR_TEST)}function co(b,r,u){const m=b.context,_=m.gl,w=b.useProgram("debug"),D=lr.disabled,k=Dr.disabled,O=b.colorModeForRenderPass(),N="$debug",B=b.style.map.terrain&&b.style.map.terrain.getTerrainData(u);m.activeTexture.set(_.TEXTURE0);const Z=r.getTileByID(u.key).latestRawTileData,G=Math.floor((Z&&Z.byteLength||0)/1024),J=r.getTile(u).tileSize,ie=512/Math.min(J,512)*(u.overscaledZ/b.transform.zoom)*.5;let he=u.canonical.toString();u.overscaledZ!==u.canonical.z&&(he+=` => ${u.overscaledZ}`),(function(me,ve){me.initDebugOverlayCanvas();const we=me.debugOverlayCanvas,_e=me.context.gl,Ae=me.debugOverlayCanvas.getContext("2d");Ae.clearRect(0,0,we.width,we.height),Ae.shadowColor="white",Ae.shadowBlur=2,Ae.lineWidth=1.5,Ae.strokeStyle="white",Ae.textBaseline="top",Ae.font="bold 36px Open Sans, sans-serif",Ae.fillText(ve,5,5),Ae.strokeText(ve,5,5),me.debugOverlayTexture.update(we),me.debugOverlayTexture.bind(_e.LINEAR,_e.CLAMP_TO_EDGE)})(b,`${he} ${G}kB`);const fe=b.transform.getProjectionData({overscaledTileID:u,applyGlobeMatrix:!0,applyTerrainMatrix:!0});w.draw(m,_.TRIANGLES,D,k,Xr.alphaBlended,tr.disabled,Cl(c.bf.transparent,ie),null,fe,N,b.debugBuffer,b.quadTriangleIndexBuffer,b.debugSegments),w.draw(m,_.LINE_STRIP,D,k,O,tr.disabled,Cl(c.bf.red),B,fe,N,b.debugBuffer,b.tileBorderIndexBuffer,b.debugSegments)}function yi(b,r,u,m){const{isRenderingGlobe:_}=m,w=b.context,D=w.gl,k=b.transform,O=b.colorModeForRenderPass(),N=b.getDepthModeFor3D(),B=b.useProgram("terrain");w.bindFramebuffer.set(null),w.viewport.set([0,0,b.width,b.height]);for(const Z of u){const G=r.getTerrainMesh(Z.tileID),J=b.renderToTexture.getTexture(Z),ie=r.getTerrainData(Z.tileID);w.activeTexture.set(D.TEXTURE0),D.bindTexture(D.TEXTURE_2D,J.texture);const he=r.getMeshFrameDelta(k.zoom),fe=k.calculateFogMatrix(Z.tileID.toUnwrapped()),me=Eh(he,fe,b.style.sky,k.pitch,_),ve=k.getProjectionData({overscaledTileID:Z.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});B.draw(w,D.TRIANGLES,N,Dr.disabled,O,tr.backCCW,me,ie,ve,"terrain",G.vertexBuffer,G.indexBuffer,G.segments)}}function Zs(b,r){if(!r.mesh){const u=new c.aL;u.emplaceBack(-1,-1),u.emplaceBack(1,-1),u.emplaceBack(1,1),u.emplaceBack(-1,1);const m=new c.aN;m.emplaceBack(0,1,2),m.emplaceBack(0,2,3),r.mesh=new zs(b.createVertexBuffer(u,Uo.members),b.createIndexBuffer(m),c.aM.simpleSegment(0,0,u.length,m.length))}return r.mesh}class Oc{constructor(r,u){this.context=new Lh(r),this.transform=u,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:c.ag(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=br.maxUnderzooming+br.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new vl}resize(r,u,m){if(this.width=Math.floor(r*m),this.height=Math.floor(u*m),this.pixelRatio=m,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const _ of this.style._order)this.style._layers[_].resize()}setup(){const r=this.context,u=new c.aL;u.emplaceBack(0,0),u.emplaceBack(c.$,0),u.emplaceBack(0,c.$),u.emplaceBack(c.$,c.$),this.tileExtentBuffer=r.createVertexBuffer(u,Uo.members),this.tileExtentSegments=c.aM.simpleSegment(0,0,4,2);const m=new c.aL;m.emplaceBack(0,0),m.emplaceBack(c.$,0),m.emplaceBack(0,c.$),m.emplaceBack(c.$,c.$),this.debugBuffer=r.createVertexBuffer(m,Uo.members),this.debugSegments=c.aM.simpleSegment(0,0,4,5);const _=new c.c6;_.emplaceBack(0,0,0,0),_.emplaceBack(c.$,0,c.$,0),_.emplaceBack(0,c.$,0,c.$),_.emplaceBack(c.$,c.$,c.$,c.$),this.rasterBoundsBuffer=r.createVertexBuffer(_,qm.members),this.rasterBoundsSegments=c.aM.simpleSegment(0,0,4,2);const w=new c.aL;w.emplaceBack(0,0),w.emplaceBack(c.$,0),w.emplaceBack(0,c.$),w.emplaceBack(c.$,c.$),this.rasterBoundsBufferPosOnly=r.createVertexBuffer(w,Uo.members),this.rasterBoundsSegmentsPosOnly=c.aM.simpleSegment(0,0,4,5);const D=new c.aL;D.emplaceBack(0,0),D.emplaceBack(1,0),D.emplaceBack(0,1),D.emplaceBack(1,1),this.viewportBuffer=r.createVertexBuffer(D,Uo.members),this.viewportSegments=c.aM.simpleSegment(0,0,4,2);const k=new c.c7;k.emplaceBack(0),k.emplaceBack(1),k.emplaceBack(3),k.emplaceBack(2),k.emplaceBack(0),this.tileBorderIndexBuffer=r.createIndexBuffer(k);const O=new c.aN;O.emplaceBack(1,0,2),O.emplaceBack(1,2,3),this.quadTriangleIndexBuffer=r.createIndexBuffer(O);const N=this.context.gl;this.stencilClearMode=new Dr({func:N.ALWAYS,mask:0},0,255,N.ZERO,N.ZERO,N.ZERO),this.tileExtentMesh=new zs(this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}clearStencil(){const r=this.context,u=r.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const m=c.L();c.bY(m,0,this.width,this.height,0,0,1),c.N(m,m,[u.drawingBufferWidth,u.drawingBufferHeight,0]);const _={mainMatrix:m,tileMercatorCoords:[0,0,1,1],clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:m};this.useProgram("clippingMask",null,!0).draw(r,u.TRIANGLES,lr.disabled,this.stencilClearMode,Xr.disabled,tr.disabled,null,null,_,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(r,u,m){if(this.currentStencilSource===r.source||!r.isTileClipped()||!u||!u.length)return;this.currentStencilSource=r.source,this.nextStencilID+u.length>256&&this.clearStencil();const _=this.context;_.setColorMode(Xr.disabled),_.setDepthMode(lr.disabled);const w={};for(const D of u)w[D.key]=this.nextStencilID++;this._renderTileMasks(w,u,m,!0),this._renderTileMasks(w,u,m,!1),this._tileClippingMaskIDs=w}_renderTileMasks(r,u,m,_){const w=this.context,D=w.gl,k=this.style.projection,O=this.transform,N=this.useProgram("clippingMask");for(const B of u){const Z=r[B.key],G=this.style.map.terrain&&this.style.map.terrain.getTerrainData(B),J=k.getMeshFromTileID(this.context,B.canonical,_,!0,"stencil"),ie=O.getProjectionData({overscaledTileID:B,applyGlobeMatrix:!m,applyTerrainMatrix:!0});N.draw(w,D.TRIANGLES,lr.disabled,new Dr({func:D.ALWAYS,mask:0},Z,255,D.KEEP,D.KEEP,D.REPLACE),Xr.disabled,m?tr.disabled:tr.backCCW,null,G,ie,"$clipping",J.vertexBuffer,J.indexBuffer,J.segments)}}_renderTilesDepthBuffer(){const r=this.context,u=r.gl,m=this.style.projection,_=this.transform,w=this.useProgram("depth"),D=this.getDepthModeFor3D(),k=ze(_,{tileSize:_.tileSize});for(const O of k){const N=this.style.map.terrain&&this.style.map.terrain.getTerrainData(O),B=m.getMeshFromTileID(this.context,O.canonical,!0,!0,"raster"),Z=_.getProjectionData({overscaledTileID:O,applyGlobeMatrix:!0,applyTerrainMatrix:!0});w.draw(r,u.TRIANGLES,D,Dr.disabled,Xr.disabled,tr.backCCW,null,N,Z,"$clipping",B.vertexBuffer,B.indexBuffer,B.segments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const r=this.nextStencilID++,u=this.context.gl;return new Dr({func:u.NOTEQUAL,mask:255},r,255,u.KEEP,u.KEEP,u.REPLACE)}stencilModeForClipping(r){const u=this.context.gl;return new Dr({func:u.EQUAL,mask:255},this._tileClippingMaskIDs[r.key],0,u.KEEP,u.KEEP,u.REPLACE)}getStencilConfigForOverlapAndUpdateStencilID(r){const u=this.context.gl,m=r.sort(((D,k)=>k.overscaledZ-D.overscaledZ)),_=m[m.length-1].overscaledZ,w=m[0].overscaledZ-_+1;if(w>1){this.currentStencilSource=void 0,this.nextStencilID+w>256&&this.clearStencil();const D={};for(let k=0;k<w;k++)D[k+_]=new Dr({func:u.GEQUAL,mask:255},k+this.nextStencilID,255,u.KEEP,u.KEEP,u.REPLACE);return this.nextStencilID+=w,[D,m]}return[{[_]:Dr.disabled},m]}stencilConfigForOverlapTwoPass(r){const u=this.context.gl,m=r.sort(((D,k)=>k.overscaledZ-D.overscaledZ)),_=m[m.length-1].overscaledZ,w=m[0].overscaledZ-_+1;if(this.clearStencil(),w>1){const D={},k={};for(let O=0;O<w;O++)D[O+_]=new Dr({func:u.GREATER,mask:255},w+1+O,255,u.KEEP,u.KEEP,u.REPLACE),k[O+_]=new Dr({func:u.GREATER,mask:255},1+O,255,u.KEEP,u.KEEP,u.REPLACE);return this.nextStencilID=2*w+1,[D,k,m]}return this.nextStencilID=3,[{[_]:new Dr({func:u.GREATER,mask:255},2,255,u.KEEP,u.KEEP,u.REPLACE)},{[_]:new Dr({func:u.GREATER,mask:255},1,255,u.KEEP,u.KEEP,u.REPLACE)},m]}colorModeForRenderPass(){const r=this.context.gl;return this._showOverdrawInspector?new Xr([r.CONSTANT_COLOR,r.ONE],new c.bf(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?Xr.unblended:Xr.alphaBlended}getDepthModeForSublayer(r,u,m){if(!this.opaquePassEnabledForLayer())return lr.disabled;const _=1-((1+this.currentLayer)*this.numSublayers+r)*this.depthEpsilon;return new lr(m||this.context.gl.LEQUAL,u,[_,_])}getDepthModeFor3D(){return new lr(this.context.gl.LEQUAL,lr.ReadWrite,this.depthRangeFor3D)}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(r,u){var m,_;this.style=r,this.options=u,this.lineAtlas=r.lineAtlas,this.imageManager=r.imageManager,this.glyphManager=r.glyphManager,this.symbolFadeChange=r.placement.symbolFadeChange(L.now()),this.imageManager.beginFrame();const w=this.style._order,D=this.style.sourceCaches,k={},O={},N={},B={isRenderingToTexture:!1,isRenderingGlobe:((m=r.projection)===null||m===void 0?void 0:m.transitionState)>0};for(const G in D){const J=D[G];J.used&&J.prepare(this.context),k[G]=J.getVisibleCoordinates(!1),O[G]=k[G].slice().reverse(),N[G]=J.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let G=0;G<w.length;G++)if(this.style._layers[w[G]].is3D()){this.opaquePassCutoff=G;break}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(const G of w){const J=this.style._layers[G];if(!J.hasOffscreenPass()||J.isHidden(this.transform.zoom))continue;const ie=O[J.source];(J.type==="custom"||ie.length)&&this.renderLayer(this,D[J.source],J,ie,B)}if((_=this.style.projection)===null||_===void 0||_.updateGPUdependent({context:this.context,useProgram:G=>this.useProgram(G)}),this.context.viewport.set([0,0,this.width,this.height]),this.context.bindFramebuffer.set(null),this.context.clear({color:u.showOverdrawInspector?c.bf.black:c.bf.transparent,depth:1}),this.clearStencil(),this.style.sky&&(function(G,J){const ie=G.context,he=ie.gl,fe=((Ee,be,Ue)=>{const Qe=Math.cos(be.rollInRadians),qe=Math.sin(be.rollInRadians),Ve=De(be),Xe=be.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}).projectionTransition;return{u_sky_color:Ee.properties.get("sky-color"),u_horizon_color:Ee.properties.get("horizon-color"),u_horizon:[(be.width/2-Ve*qe)*Ue,(be.height/2+Ve*Qe)*Ue],u_horizon_normal:[-qe,Qe],u_sky_horizon_blend:Ee.properties.get("sky-horizon-blend")*be.height/2*Ue,u_sky_blend:Xe}})(J,G.style.map.transform,G.pixelRatio),me=new lr(he.LEQUAL,lr.ReadWrite,[0,1]),ve=Dr.disabled,we=G.colorModeForRenderPass(),_e=G.useProgram("sky"),Ae=Zs(ie,J);_e.draw(ie,he.TRIANGLES,me,ve,we,tr.disabled,fe,null,void 0,"sky",Ae.vertexBuffer,Ae.indexBuffer,Ae.segments)})(this,this.style.sky),this._showOverdrawInspector=u.showOverdrawInspector,this.depthRangeFor3D=[0,1-(r._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=w.length-1;this.currentLayer>=0;this.currentLayer--){const G=this.style._layers[w[this.currentLayer]],J=D[G.source],ie=k[G.source];this._renderTileClippingMasks(G,ie,!1),this.renderLayer(this,J,G,ie,B)}this.renderPass="translucent";let Z=!1;for(this.currentLayer=0;this.currentLayer<w.length;this.currentLayer++){const G=this.style._layers[w[this.currentLayer]],J=D[G.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(G,B))continue;this.opaquePassEnabledForLayer()||Z||(Z=!0,B.isRenderingGlobe&&!this.style.map.terrain&&this._renderTilesDepthBuffer());const ie=(G.type==="symbol"?N:O)[G.source];this._renderTileClippingMasks(G,k[G.source],!!this.renderToTexture),this.renderLayer(this,J,G,ie,B)}if(B.isRenderingGlobe&&(function(G,J,ie){const he=G.context,fe=he.gl,me=G.useProgram("atmosphere"),ve=new lr(fe.LEQUAL,lr.ReadOnly,[0,1]),we=G.transform,_e=(function(Xe,Et){const Mt=Xe.properties.get("position"),ft=[-Mt.x,-Mt.y,-Mt.z],Ht=c.ag(new Float64Array(16));return Xe.properties.get("anchor")==="map"&&(c.b6(Ht,Ht,Et.rollInRadians),c.b7(Ht,Ht,-Et.pitchInRadians),c.b6(Ht,Ht,Et.bearingInRadians),c.b7(Ht,Ht,Et.center.lat*Math.PI/180),c.bz(Ht,Ht,-Et.center.lng*Math.PI/180)),c.c5(ft,ft,Ht),ft})(ie,G.transform),Ae=we.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),Ee=J.properties.get("atmosphere-blend")*Ae.projectionTransition;if(Ee===0)return;const be=bc(we.worldSize,we.center.lat),Ue=we.inverseProjectionMatrix,Qe=new Float64Array(4);Qe[3]=1,c.aw(Qe,Qe,we.modelViewProjectionMatrix),Qe[0]/=Qe[3],Qe[1]/=Qe[3],Qe[2]/=Qe[3],Qe[3]=1,c.aw(Qe,Qe,Ue),Qe[0]/=Qe[3],Qe[1]/=Qe[3],Qe[2]/=Qe[3],Qe[3]=1;const qe=((Xe,Et,Mt,ft,Ht)=>({u_sun_pos:Xe,u_atmosphere_blend:Et,u_globe_position:Mt,u_globe_radius:ft,u_inv_proj_matrix:Ht}))(_e,Ee,[Qe[0],Qe[1],Qe[2]],be,Ue),Ve=Zs(he,J);me.draw(he,fe.TRIANGLES,ve,Dr.disabled,Xr.alphaBlended,tr.disabled,qe,null,null,"atmosphere",Ve.vertexBuffer,Ve.indexBuffer,Ve.segments)})(this,this.style.sky,this.style.light),this.options.showTileBoundaries){const G=(function(J,ie){let he=null;const fe=Object.values(J._layers).flatMap((_e=>_e.source&&!_e.isHidden(ie)?[J.sourceCaches[_e.source]]:[])),me=fe.filter((_e=>_e.getSource().type==="vector")),ve=fe.filter((_e=>_e.getSource().type!=="vector")),we=_e=>{(!he||he.getSource().maxzoom<_e.getSource().maxzoom)&&(he=_e)};return me.forEach((_e=>we(_e))),he||ve.forEach((_e=>we(_e))),he})(this.style,this.transform.zoom);G&&(function(J,ie,he){for(let fe=0;fe<he.length;fe++)co(J,ie,he[fe])})(this,G,G.getVisibleCoordinates())}this.options.showPadding&&(function(G){const J=G.transform.padding;Qf(G,G.transform.height-(J.top||0),3,Fr),Qf(G,J.bottom||0,3,Gs),Nh(G,J.left||0,3,lo),Nh(G,G.transform.width-(J.right||0),3,kc);const ie=G.transform.centerPoint;(function(he,fe,me,ve){Wr(he,fe-1,me-10,2,20,ve),Wr(he,fe-10,me-1,20,2,ve)})(G,ie.x,G.transform.height-ie.y,ls)})(this),this.context.setDefault()}maybeDrawDepthAndCoords(r){if(!this.style||!this.style.map||!this.style.map.terrain)return;const u=this.terrainFacilitator.matrix,m=this.transform.modelViewProjectionMatrix;let _=this.terrainFacilitator.dirty;_||(_=r?!c.c8(u,m):!c.c9(u,m)),_||(_=this.style.map.terrain.sourceCache.anyTilesAfterTime(this.terrainFacilitator.renderTime)),_&&(c.ca(u,m),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,(function(w,D){const k=w.context,O=k.gl,N=w.transform,B=Xr.unblended,Z=new lr(O.LEQUAL,lr.ReadWrite,[0,1]),G=D.sourceCache.getRenderableTiles(),J=w.useProgram("terrainDepth");k.bindFramebuffer.set(D.getFramebuffer("depth").framebuffer),k.viewport.set([0,0,w.width/devicePixelRatio,w.height/devicePixelRatio]),k.clear({color:c.bf.transparent,depth:1});for(const ie of G){const he=D.getTerrainMesh(ie.tileID),fe=D.getTerrainData(ie.tileID),me=N.getProjectionData({overscaledTileID:ie.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0}),ve={u_ele_delta:D.getMeshFrameDelta(N.zoom)};J.draw(k,O.TRIANGLES,Z,Dr.disabled,B,tr.backCCW,ve,fe,me,"terrain",he.vertexBuffer,he.indexBuffer,he.segments)}k.bindFramebuffer.set(null),k.viewport.set([0,0,w.width,w.height])})(this,this.style.map.terrain),(function(w,D){const k=w.context,O=k.gl,N=w.transform,B=Xr.unblended,Z=new lr(O.LEQUAL,lr.ReadWrite,[0,1]),G=D.getCoordsTexture(),J=D.sourceCache.getRenderableTiles(),ie=w.useProgram("terrainCoords");k.bindFramebuffer.set(D.getFramebuffer("coords").framebuffer),k.viewport.set([0,0,w.width/devicePixelRatio,w.height/devicePixelRatio]),k.clear({color:c.bf.transparent,depth:1}),D.coordsIndex=[];for(const he of J){const fe=D.getTerrainMesh(he.tileID),me=D.getTerrainData(he.tileID);k.activeTexture.set(O.TEXTURE0),O.bindTexture(O.TEXTURE_2D,G.texture);const ve={u_terrain_coords_id:(255-D.coordsIndex.length)/255,u_texture:0,u_ele_delta:D.getMeshFrameDelta(N.zoom)},we=N.getProjectionData({overscaledTileID:he.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});ie.draw(k,O.TRIANGLES,Z,Dr.disabled,B,tr.backCCW,ve,me,we,"terrain",fe.vertexBuffer,fe.indexBuffer,fe.segments),D.coordsIndex.push(he.tileID.key)}k.bindFramebuffer.set(null),k.viewport.set([0,0,w.width,w.height])})(this,this.style.map.terrain))}renderLayer(r,u,m,_,w){m.isHidden(this.transform.zoom)||(m.type==="background"||m.type==="custom"||(_||[]).length)&&(this.id=m.id,c.cb(m)?(function(D,k,O,N,B,Z){if(D.renderPass!=="translucent")return;const{isRenderingToTexture:G}=Z,J=Dr.disabled,ie=D.colorModeForRenderPass();(O._unevaluatedLayout.hasValue("text-variable-anchor")||O._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&(function(he,fe,me,ve,we,_e,Ae,Ee,be){const Ue=fe.transform,Qe=fe.style.map.terrain,qe=we==="map",Ve=_e==="map";for(const Xe of he){const Et=ve.getTile(Xe),Mt=Et.getBucket(me);if(!Mt||!Mt.text||!Mt.text.segments.get().length)continue;const ft=c.an(Mt.textSizeData,Ue.zoom),Ht=c.aC(Et,1,fe.transform.zoom),vr=Qr(qe,fe.transform,Ht),kr=me.layout.get("icon-text-fit")!=="none"&&Mt.hasIconData();if(ft){const hn=Math.pow(2,Ue.zoom-Et.tileID.overscaledZ),Gr=Qe?(Zr,rn)=>Qe.getElevation(Xe,Zr,rn):null;Lu(Mt,qe,Ve,be,Ue,vr,hn,ft,kr,c.aD(Ue,Et,Ae,Ee),Xe.toUnwrapped(),Gr)}}})(N,D,O,k,O.layout.get("text-rotation-alignment"),O.layout.get("text-pitch-alignment"),O.paint.get("text-translate"),O.paint.get("text-translate-anchor"),B),O.paint.get("icon-opacity").constantOr(1)!==0&&jo(D,k,O,N,!1,O.paint.get("icon-translate"),O.paint.get("icon-translate-anchor"),O.layout.get("icon-rotation-alignment"),O.layout.get("icon-pitch-alignment"),O.layout.get("icon-keep-upright"),J,ie,G),O.paint.get("text-opacity").constantOr(1)!==0&&jo(D,k,O,N,!0,O.paint.get("text-translate"),O.paint.get("text-translate-anchor"),O.layout.get("text-rotation-alignment"),O.layout.get("text-pitch-alignment"),O.layout.get("text-keep-upright"),J,ie,G),k.map.showCollisionBoxes&&(Zf(D,k,O,N,!0),Zf(D,k,O,N,!1))})(r,u,m,_,this.style.placement.variableOffsets,w):c.cc(m)?(function(D,k,O,N,B){if(D.renderPass!=="translucent")return;const{isRenderingToTexture:Z}=B,G=O.paint.get("circle-opacity"),J=O.paint.get("circle-stroke-width"),ie=O.paint.get("circle-stroke-opacity"),he=!O.layout.get("circle-sort-key").isConstant();if(G.constantOr(1)===0&&(J.constantOr(1)===0||ie.constantOr(1)===0))return;const fe=D.context,me=fe.gl,ve=D.transform,we=D.getDepthModeForSublayer(0,lr.ReadOnly),_e=Dr.disabled,Ae=D.colorModeForRenderPass(),Ee=[],be=ve.getCircleRadiusCorrection();for(let Ue=0;Ue<N.length;Ue++){const Qe=N[Ue],qe=k.getTile(Qe),Ve=qe.getBucket(O);if(!Ve)continue;const Xe=O.paint.get("circle-translate"),Et=O.paint.get("circle-translate-anchor"),Mt=c.aD(ve,qe,Xe,Et),ft=Ve.programConfigurations.get(O.id),Ht=D.useProgram("circle",ft),vr=Ve.layoutVertexBuffer,kr=Ve.indexBuffer,hn=D.style.map.terrain&&D.style.map.terrain.getTerrainData(Qe),Gr={programConfiguration:ft,program:Ht,layoutVertexBuffer:vr,indexBuffer:kr,uniformValues:mp(D,qe,O,Mt,be),terrainData:hn,projectionData:ve.getProjectionData({overscaledTileID:Qe,applyGlobeMatrix:!Z,applyTerrainMatrix:!0})};if(he){const Zr=Ve.segments.get();for(const rn of Zr)Ee.push({segments:new c.aM([rn]),sortKey:rn.sortKey,state:Gr})}else Ee.push({segments:Ve.segments,sortKey:0,state:Gr})}he&&Ee.sort(((Ue,Qe)=>Ue.sortKey-Qe.sortKey));for(const Ue of Ee){const{programConfiguration:Qe,program:qe,layoutVertexBuffer:Ve,indexBuffer:Xe,uniformValues:Et,terrainData:Mt,projectionData:ft}=Ue.state;qe.draw(fe,me.TRIANGLES,we,_e,Ae,tr.backCCW,Et,Mt,ft,O.id,Ve,Xe,Ue.segments,O.paint,D.transform.zoom,Qe)}})(r,u,m,_,w):c.cd(m)?(function(D,k,O,N,B){if(O.paint.get("heatmap-opacity")===0)return;const Z=D.context,{isRenderingToTexture:G,isRenderingGlobe:J}=B;if(D.style.map.terrain){for(const ie of N){const he=k.getTile(ie);k.hasRenderableParent(ie)||(D.renderPass==="offscreen"?Ic(D,he,O,ie,J):D.renderPass==="translucent"&&Ui(D,O,ie,G,J))}Z.viewport.set([0,0,D.width,D.height])}else D.renderPass==="offscreen"?(function(ie,he,fe,me){const ve=ie.context,we=ve.gl,_e=ie.transform,Ae=Dr.disabled,Ee=new Xr([we.ONE,we.ONE],c.bf.transparent,[!0,!0,!0,!0]);(function(be,Ue,Qe){const qe=be.gl;be.activeTexture.set(qe.TEXTURE1),be.viewport.set([0,0,Ue.width/4,Ue.height/4]);let Ve=Qe.heatmapFbos.get(c.c2);Ve?(qe.bindTexture(qe.TEXTURE_2D,Ve.colorAttachment.get()),be.bindFramebuffer.set(Ve.framebuffer)):(Ve=za(be,Ue.width/4,Ue.height/4),Qe.heatmapFbos.set(c.c2,Ve))})(ve,ie,fe),ve.clear({color:c.bf.transparent});for(let be=0;be<me.length;be++){const Ue=me[be];if(he.hasRenderableParent(Ue))continue;const Qe=he.getTile(Ue),qe=Qe.getBucket(fe);if(!qe)continue;const Ve=qe.programConfigurations.get(fe.id),Xe=ie.useProgram("heatmap",Ve),Et=_e.getProjectionData({overscaledTileID:Ue,applyGlobeMatrix:!0,applyTerrainMatrix:!1}),Mt=_e.getCircleRadiusCorrection();Xe.draw(ve,we.TRIANGLES,lr.disabled,Ae,Ee,tr.backCCW,yp(Qe,_e.zoom,fe.paint.get("heatmap-intensity"),Mt),null,Et,fe.id,qe.layoutVertexBuffer,qe.indexBuffer,qe.segments,fe.paint,_e.zoom,Ve)}ve.viewport.set([0,0,ie.width,ie.height])})(D,k,O,N):D.renderPass==="translucent"&&(function(ie,he){const fe=ie.context,me=fe.gl;fe.setColorMode(ie.colorModeForRenderPass());const ve=he.heatmapFbos.get(c.c2);ve&&(fe.activeTexture.set(me.TEXTURE0),me.bindTexture(me.TEXTURE_2D,ve.colorAttachment.get()),fe.activeTexture.set(me.TEXTURE1),oo(fe,he).bind(me.LINEAR,me.CLAMP_TO_EDGE),ie.useProgram("heatmapTexture").draw(fe,me.TRIANGLES,lr.disabled,Dr.disabled,ie.colorModeForRenderPass(),tr.disabled,Bf(ie,he,0,1),null,null,he.id,ie.viewportBuffer,ie.quadTriangleIndexBuffer,ie.viewportSegments,he.paint,ie.transform.zoom))})(D,O)})(r,u,m,_,w):c.ce(m)?(function(D,k,O,N,B){if(D.renderPass!=="translucent")return;const{isRenderingToTexture:Z}=B,G=O.paint.get("line-opacity"),J=O.paint.get("line-width");if(G.constantOr(1)===0||J.constantOr(1)===0)return;const ie=D.getDepthModeForSublayer(0,lr.ReadOnly),he=D.colorModeForRenderPass(),fe=O.paint.get("line-dasharray"),me=O.paint.get("line-pattern"),ve=me.constantOr(1),we=O.paint.get("line-gradient"),_e=O.getCrossfadeParameters(),Ae=ve?"linePattern":fe?"lineSDF":we?"lineGradient":"line",Ee=D.context,be=Ee.gl,Ue=D.transform;let Qe=!0;for(const qe of N){const Ve=k.getTile(qe);if(ve&&!Ve.patternsLoaded())continue;const Xe=Ve.getBucket(O);if(!Xe)continue;const Et=Xe.programConfigurations.get(O.id),Mt=D.context.program.get(),ft=D.useProgram(Ae,Et),Ht=Qe||ft.program!==Mt,vr=D.style.map.terrain&&D.style.map.terrain.getTerrainData(qe),kr=me.constantOr(null);if(kr&&Ve.imageAtlas){const Kr=Ve.imageAtlas,Yr=Kr.patternPositions[kr.to.toString()],Mr=Kr.patternPositions[kr.from.toString()];Yr&&Mr&&Et.setConstantPatternPositions(Yr,Mr)}const hn=Ue.getProjectionData({overscaledTileID:qe,applyGlobeMatrix:!Z,applyTerrainMatrix:!0}),Gr=Ue.getPixelScale(),Zr=ve?$f(D,Ve,O,Gr,_e):fe?Bs(D,Ve,O,Gr,fe,_e):we?Au(D,Ve,O,Gr,Xe.lineClipsArray.length):Rh(D,Ve,O,Gr);if(ve)Ee.activeTexture.set(be.TEXTURE0),Ve.imageAtlasTexture.bind(be.LINEAR,be.CLAMP_TO_EDGE),Et.updatePaintBuffers(_e);else if(fe&&(Ht||D.lineAtlas.dirty))Ee.activeTexture.set(be.TEXTURE0),D.lineAtlas.bind(Ee);else if(we){const Kr=Xe.gradients[O.id];let Yr=Kr.texture;if(O.gradientVersion!==Kr.version){let Mr=256;if(O.stepInterpolant){const ra=k.getSource().maxzoom,Wn=qe.canonical.z===ra?Math.ceil(1<<D.transform.maxZoom-qe.canonical.z):1;Mr=c.ah(c.c3(Xe.maxLineLength/c.$*1024*Wn),256,Ee.maxTextureSize)}Kr.gradient=c.c4({expression:O.gradientExpression(),evaluationKey:"lineProgress",resolution:Mr,image:Kr.gradient||void 0,clips:Xe.lineClipsArray}),Kr.texture?Kr.texture.update(Kr.gradient):Kr.texture=new c.T(Ee,Kr.gradient,be.RGBA),Kr.version=O.gradientVersion,Yr=Kr.texture}Ee.activeTexture.set(be.TEXTURE0),Yr.bind(O.stepInterpolant?be.NEAREST:be.LINEAR,be.CLAMP_TO_EDGE)}const rn=D.stencilModeForClipping(qe);ft.draw(Ee,be.TRIANGLES,ie,rn,he,tr.disabled,Zr,vr,hn,O.id,Xe.layoutVertexBuffer,Xe.indexBuffer,Xe.segments,O.paint,D.transform.zoom,Et,Xe.layoutVertexBuffer2),Qe=!1}})(r,u,m,_,w):c.cf(m)?(function(D,k,O,N,B){const Z=O.paint.get("fill-color"),G=O.paint.get("fill-opacity");if(G.constantOr(1)===0)return;const{isRenderingToTexture:J}=B,ie=D.colorModeForRenderPass(),he=O.paint.get("fill-pattern"),fe=D.opaquePassEnabledForLayer()&&!he.constantOr(1)&&Z.constantOr(c.bf.transparent).a===1&&G.constantOr(0)===1?"opaque":"translucent";if(D.renderPass===fe){const me=D.getDepthModeForSublayer(1,D.renderPass==="opaque"?lr.ReadWrite:lr.ReadOnly);Xa(D,k,O,N,me,ie,!1,J)}if(D.renderPass==="translucent"&&O.paint.get("fill-antialias")){const me=D.getDepthModeForSublayer(O.getPaintProperty("fill-outline-color")?2:0,lr.ReadOnly);Xa(D,k,O,N,me,ie,!0,J)}})(r,u,m,_,w):c.cg(m)?(function(D,k,O,N,B){const Z=O.paint.get("fill-extrusion-opacity");if(Z===0)return;const{isRenderingToTexture:G}=B;if(D.renderPass==="translucent"){const J=new lr(D.context.gl.LEQUAL,lr.ReadWrite,D.depthRangeFor3D);if(Z!==1||O.paint.get("fill-extrusion-pattern").constantOr(1))so(D,k,O,N,J,Dr.disabled,Xr.disabled,G),so(D,k,O,N,J,D.stencilModeFor3D(),D.colorModeForRenderPass(),G);else{const ie=D.colorModeForRenderPass();so(D,k,O,N,J,Dr.disabled,ie,G)}}})(r,u,m,_,w):c.ch(m)?(function(D,k,O,N,B){if(D.renderPass!=="offscreen"&&D.renderPass!=="translucent")return;const{isRenderingToTexture:Z}=B,G=D.context,J=D.style.projection.useSubdivision,ie=D.getDepthModeForSublayer(0,lr.ReadOnly),he=D.colorModeForRenderPass();if(D.renderPass==="offscreen")(function(fe,me,ve,we,_e,Ae,Ee){const be=fe.context,Ue=be.gl;for(const Qe of ve){const qe=me.getTile(Qe),Ve=qe.dem;if(!Ve||!Ve.data||!qe.needsHillshadePrepare)continue;const Xe=Ve.dim,Et=Ve.stride,Mt=Ve.getPixels();if(be.activeTexture.set(Ue.TEXTURE1),be.pixelStoreUnpackPremultiplyAlpha.set(!1),qe.demTexture=qe.demTexture||fe.getTileTexture(Et),qe.demTexture){const Ht=qe.demTexture;Ht.update(Mt,{premultiply:!1}),Ht.bind(Ue.NEAREST,Ue.CLAMP_TO_EDGE)}else qe.demTexture=new c.T(be,Mt,Ue.RGBA,{premultiply:!1}),qe.demTexture.bind(Ue.NEAREST,Ue.CLAMP_TO_EDGE);be.activeTexture.set(Ue.TEXTURE0);let ft=qe.fbo;if(!ft){const Ht=new c.T(be,{width:Xe,height:Xe,data:null},Ue.RGBA);Ht.bind(Ue.LINEAR,Ue.CLAMP_TO_EDGE),ft=qe.fbo=be.createFramebuffer(Xe,Xe,!0,!1),ft.colorAttachment.set(Ht.texture)}be.bindFramebuffer.set(ft.framebuffer),be.viewport.set([0,0,Xe,Xe]),fe.useProgram("hillshadePrepare").draw(be,Ue.TRIANGLES,_e,Ae,Ee,tr.disabled,qf(qe.tileID,Ve),null,null,we.id,fe.rasterBoundsBuffer,fe.quadTriangleIndexBuffer,fe.rasterBoundsSegments),qe.needsHillshadePrepare=!1}})(D,k,N,O,ie,Dr.disabled,he),G.viewport.set([0,0,D.width,D.height]);else if(D.renderPass==="translucent")if(J){const[fe,me,ve]=D.stencilConfigForOverlapTwoPass(N);Fh(D,k,O,ve,fe,ie,he,!1,Z),Fh(D,k,O,ve,me,ie,he,!0,Z)}else{const[fe,me]=D.getStencilConfigForOverlapAndUpdateStencilID(N);Fh(D,k,O,me,fe,ie,he,!1,Z)}})(r,u,m,_,w):c.ci(m)?(function(D,k,O,N,B){if(D.renderPass!=="translucent"||!N.length)return;const{isRenderingToTexture:Z}=B,G=D.style.projection.useSubdivision,J=D.getDepthModeForSublayer(0,lr.ReadOnly),ie=D.colorModeForRenderPass();if(G){const[he,fe,me]=D.stencilConfigForOverlapTwoPass(N);ss(D,k,O,me,he,J,ie,!1,Z),ss(D,k,O,me,fe,J,ie,!0,Z)}else{const[he,fe]=D.getStencilConfigForOverlapAndUpdateStencilID(N);ss(D,k,O,fe,he,J,ie,!1,Z)}})(r,u,m,_,w):c.cj(m)?(function(D,k,O,N,B){if(D.renderPass!=="translucent"||O.paint.get("raster-opacity")===0||!N.length)return;const{isRenderingToTexture:Z}=B,G=k.getSource(),J=D.style.projection.useSubdivision;if(G instanceof Kn)oa(D,k,O,N,null,!1,!1,G.tileCoords,G.flippedWindingOrder,Z);else if(J){const[ie,he,fe]=D.stencilConfigForOverlapTwoPass(N);oa(D,k,O,fe,ie,!1,!0,zu,!1,Z),oa(D,k,O,fe,he,!0,!0,zu,!1,Z)}else{const[ie,he]=D.getStencilConfigForOverlapAndUpdateStencilID(N);oa(D,k,O,he,ie,!1,!0,zu,!1,Z)}})(r,u,m,_,w):c.ck(m)?(function(D,k,O,N,B){const Z=O.paint.get("background-color"),G=O.paint.get("background-opacity");if(G===0)return;const{isRenderingToTexture:J}=B,ie=D.context,he=ie.gl,fe=D.style.projection,me=D.transform,ve=me.tileSize,we=O.paint.get("background-pattern");if(D.isPatternMissing(we))return;const _e=!we&&Z.a===1&&G===1&&D.opaquePassEnabledForLayer()?"opaque":"translucent";if(D.renderPass!==_e)return;const Ae=Dr.disabled,Ee=D.getDepthModeForSublayer(0,_e==="opaque"?lr.ReadWrite:lr.ReadOnly),be=D.colorModeForRenderPass(),Ue=D.useProgram(we?"backgroundPattern":"background"),Qe=N||ze(me,{tileSize:ve,terrain:D.style.map.terrain});we&&(ie.activeTexture.set(he.TEXTURE0),D.imageManager.bind(D.context));const qe=O.getCrossfadeParameters();for(const Ve of Qe){const Xe=me.getProjectionData({overscaledTileID:Ve,applyGlobeMatrix:!J,applyTerrainMatrix:!0}),Et=we?xp(G,D,we,{tileID:Ve,tileSize:ve},qe):bp(G,Z),Mt=D.style.map.terrain&&D.style.map.terrain.getTerrainData(Ve),ft=fe.getMeshFromTileID(ie,Ve.canonical,!1,!0,"raster");Ue.draw(ie,he.TRIANGLES,Ee,Ae,be,tr.backCCW,Et,Mt,Xe,O.id,ft.vertexBuffer,ft.indexBuffer,ft.segments)}})(r,0,m,_,w):c.cl(m)&&(function(D,k,O,N){const{isRenderingGlobe:B}=N,Z=D.context,G=O.implementation,J=D.style.projection,ie=D.transform,he=ie.getProjectionDataForCustomLayer(B),fe={farZ:ie.farZ,nearZ:ie.nearZ,fov:ie.fov*Math.PI/180,modelViewProjectionMatrix:ie.modelViewProjectionMatrix,projectionMatrix:ie.projectionMatrix,shaderData:{variantName:J.shaderVariantName,vertexShaderPrelude:`const float PI = 3.141592653589793;
uniform mat4 u_projection_matrix;
${J.shaderPreludeCode.vertexSource}`,define:J.shaderDefine},defaultProjectionData:he},me=G.renderingMode?G.renderingMode:"2d";if(D.renderPass==="offscreen"){const ve=G.prerender;ve&&(D.setCustomLayerDefaults(),Z.setColorMode(D.colorModeForRenderPass()),ve.call(G,Z.gl,fe),Z.setDirty(),D.setBaseState())}else if(D.renderPass==="translucent"){D.setCustomLayerDefaults(),Z.setColorMode(D.colorModeForRenderPass()),Z.setStencilMode(Dr.disabled);const ve=me==="3d"?D.getDepthModeFor3D():D.getDepthModeForSublayer(0,lr.ReadOnly);Z.setDepthMode(ve),G.render(Z.gl,fe),Z.setDirty(),D.setBaseState(),Z.bindFramebuffer.set(null)}})(r,0,m,w))}saveTileTexture(r){const u=this._tileTextures[r.size[0]];u?u.push(r):this._tileTextures[r.size[0]]=[r]}getTileTexture(r){const u=this._tileTextures[r];return u&&u.length>0?u.pop():null}isPatternMissing(r){if(!r)return!1;if(!r.from||!r.to)return!0;const u=this.imageManager.getPattern(r.from.toString()),m=this.imageManager.getPattern(r.to.toString());return!u||!m}useProgram(r,u,m=!1,_=[]){this.cache=this.cache||{};const w=!!this.style.map.terrain,D=this.style.projection,k=m?ao.projectionMercator:D.shaderPreludeCode,O=m?ts:D.shaderDefine,N=r+(u?u.cacheKey:"")+`/${m?_l:D.shaderVariantName}`+(this._showOverdrawInspector?"/overdraw":"")+(w?"/terrain":"")+(_?`/${_.join("/")}`:"");return this.cache[N]||(this.cache[N]=new jf(this.context,ao[r],u,Ya[r],this._showOverdrawInspector,w,k,O,_)),this.cache[N]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const r=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(r.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new c.T(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:r,drawingBufferHeight:u}=this.context.gl;return this.width!==r||this.height!==u}}function cs(b,r){let u,m=!1,_=null,w=null;const D=()=>{_=null,m&&(b.apply(w,u),_=setTimeout(D,r),m=!1)};return(...k)=>(m=!0,w=this,u=k,_||D(),_)}class Ka{constructor(r){this._getCurrentHash=()=>{const u=window.location.hash.replace("#","");if(this._hashName){let m;return u.split("&").map((_=>_.split("="))).forEach((_=>{_[0]===this._hashName&&(m=_)})),(m&&m[1]||"").split("/")}return u.split("/")},this._onHashChange=()=>{const u=this._getCurrentHash();if(!this._isValidHash(u))return!1;const m=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(u[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+u[2],+u[1]],zoom:+u[0],bearing:m,pitch:+(u[4]||0)}),!0},this._updateHashUnthrottled=()=>{const u=window.location.href.replace(/(#.*)?$/,this.getHashString());window.history.replaceState(window.history.state,null,u)},this._removeHash=()=>{const u=this._getCurrentHash();if(u.length===0)return;const m=u.join("/");let _=m;_.split("&").length>0&&(_=_.split("&")[0]),this._hashName&&(_=`${this._hashName}=${m}`);let w=window.location.hash.replace(_,"");w.startsWith("#&")?w=w.slice(0,1)+w.slice(2):w==="#"&&(w="");let D=window.location.href.replace(/(#.+)?$/,w);D=D.replace("&&","&"),window.history.replaceState(window.history.state,null,D)},this._updateHash=cs(this._updateHashUnthrottled,300),this._hashName=r&&encodeURIComponent(r)}addTo(r){return this._map=r,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),this._removeHash(),delete this._map,this}getHashString(r){const u=this._map.getCenter(),m=Math.round(100*this._map.getZoom())/100,_=Math.ceil((m*Math.LN2+Math.log(512/360/.5))/Math.LN10),w=Math.pow(10,_),D=Math.round(u.lng*w)/w,k=Math.round(u.lat*w)/w,O=this._map.getBearing(),N=this._map.getPitch();let B="";if(B+=r?`/${D}/${k}/${m}`:`${m}/${k}/${D}`,(O||N)&&(B+="/"+Math.round(10*O)/10),N&&(B+=`/${Math.round(N)}`),this._hashName){const Z=this._hashName;let G=!1;const J=window.location.hash.slice(1).split("&").map((ie=>{const he=ie.split("=")[0];return he===Z?(G=!0,`${he}=${B}`):ie})).filter((ie=>ie));return G||J.push(`${Z}=${B}`),`#${J.join("&")}`}return`#${B}`}_isValidHash(r){if(r.length<3||r.some(isNaN))return!1;try{new c.S(+r[2],+r[1])}catch{return!1}const u=+r[0],m=+(r[3]||0),_=+(r[4]||0);return u>=this._map.getMinZoom()&&u<=this._map.getMaxZoom()&&m>=-180&&m<=180&&_>=this._map.getMinPitch()&&_<=this._map.getMaxPitch()}}const gi={linearity:.3,easing:c.cm(0,0,.3,1)},zi=c.e({deceleration:2500,maxSpeed:1400},gi),Fu=c.e({deceleration:20,maxSpeed:1400},gi),jh=c.e({deceleration:1e3,maxSpeed:360},gi),Uc=c.e({deceleration:1e3,maxSpeed:90},gi),Nu=c.e({deceleration:1e3,maxSpeed:360},gi);class Ys{constructor(r){this._map=r,this.clear()}clear(){this._inertiaBuffer=[]}record(r){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:L.now(),settings:r})}_drainInertiaBuffer(){const r=this._inertiaBuffer,u=L.now();for(;r.length>0&&u-r[0].time>160;)r.shift()}_onMoveEnd(r){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const u={zoom:0,bearing:0,pitch:0,roll:0,pan:new c.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:w}of this._inertiaBuffer)u.zoom+=w.zoomDelta||0,u.bearing+=w.bearingDelta||0,u.pitch+=w.pitchDelta||0,u.roll+=w.rollDelta||0,w.panDelta&&u.pan._add(w.panDelta),w.around&&(u.around=w.around),w.pinchAround&&(u.pinchAround=w.pinchAround);const m=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,_={};if(u.pan.mag()){const w=vi(u.pan.mag(),m,c.e({},zi,r||{})),D=u.pan.mult(w.amount/u.pan.mag()),k=this._map.cameraHelper.handlePanInertia(D,this._map.transform);_.center=k.easingCenter,_.offset=k.easingOffset,Hn(_,w)}if(u.zoom){const w=vi(u.zoom,m,Fu);_.zoom=this._map.transform.zoom+w.amount,Hn(_,w)}if(u.bearing){const w=vi(u.bearing,m,jh);_.bearing=this._map.transform.bearing+c.ah(w.amount,-179,179),Hn(_,w)}if(u.pitch){const w=vi(u.pitch,m,Uc);_.pitch=this._map.transform.pitch+w.amount,Hn(_,w)}if(u.roll){const w=vi(u.roll,m,Nu);_.roll=this._map.transform.roll+c.ah(w.amount,-179,179),Hn(_,w)}if(_.zoom||_.bearing){const w=u.pinchAround===void 0?u.around:u.pinchAround;_.around=w?this._map.unproject(w):this._map.getCenter()}return this.clear(),c.e(_,{noMoveStart:!0})}}function Hn(b,r){(!b.duration||b.duration<r.duration)&&(b.duration=r.duration,b.easing=r.easing)}function vi(b,r,u){const{maxSpeed:m,linearity:_,deceleration:w}=u,D=c.ah(b*_/(r/1e3),-m,m),k=Math.abs(D)/(w*_);return{easing:u.easing,duration:1e3*k,amount:D*(k/2)}}class Ja extends c.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(r,u,m,_={}){m=m instanceof MouseEvent?m:new MouseEvent(r,m);const w=U.mousePos(u.getCanvas(),m),D=u.unproject(w);super(r,c.e({point:w,lngLat:D,originalEvent:m},_)),this._defaultPrevented=!1,this.target=u}}class Lc extends c.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(r,u,m){const _=r==="touchend"?m.changedTouches:m.touches,w=U.touchPos(u.getCanvasContainer(),_),D=w.map((O=>u.unproject(O))),k=w.reduce(((O,N,B,Z)=>O.add(N.div(Z.length))),new c.P(0,0));super(r,{points:w,point:k,lngLats:D,lngLat:u.unproject(k),originalEvent:m}),this._defaultPrevented=!1}}class Xf extends c.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(r,u,m){super(r,{originalEvent:m}),this._defaultPrevented=!1}}class Ap{constructor(r,u){this._map=r,this._clickTolerance=u.clickTolerance}reset(){delete this._mousedownPos}wheel(r){return this._firePreventable(new Xf(r.type,this._map,r))}mousedown(r,u){return this._mousedownPos=u,this._firePreventable(new Ja(r.type,this._map,r))}mouseup(r){this._map.fire(new Ja(r.type,this._map,r))}click(r,u){this._mousedownPos&&this._mousedownPos.dist(u)>=this._clickTolerance||this._map.fire(new Ja(r.type,this._map,r))}dblclick(r){return this._firePreventable(new Ja(r.type,this._map,r))}mouseover(r){this._map.fire(new Ja(r.type,this._map,r))}mouseout(r){this._map.fire(new Ja(r.type,this._map,r))}touchstart(r){return this._firePreventable(new Lc(r.type,this._map,r))}touchmove(r){this._map.fire(new Lc(r.type,this._map,r))}touchend(r){this._map.fire(new Lc(r.type,this._map,r))}touchcancel(r){this._map.fire(new Lc(r.type,this._map,r))}_firePreventable(r){if(this._map.fire(r),r.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class ta{constructor(r){this._map=r}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(r){this._map.fire(new Ja(r.type,this._map,r))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Ja("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(r){this._delayContextMenu?this._contextMenuEvent=r:this._ignoreContextMenu||this._map.fire(new Ja(r.type,this._map,r)),this._map.listens("contextmenu")&&r.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Qs{constructor(r){this._map=r}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(r){return this.transform.screenPointToLocation(c.P.convert(r),this._map.terrain)}}class Ol{constructor(r,u){this._map=r,this._tr=new Qs(r),this._el=r.getCanvasContainer(),this._container=r.getContainer(),this._clickTolerance=u.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(r,u){this.isEnabled()&&r.shiftKey&&r.button===0&&(U.disableDrag(),this._startPos=this._lastPos=u,this._active=!0)}mousemoveWindow(r,u){if(!this._active)return;const m=u;if(this._lastPos.equals(m)||!this._box&&m.dist(this._startPos)<this._clickTolerance)return;const _=this._startPos;this._lastPos=m,this._box||(this._box=U.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",r));const w=Math.min(_.x,m.x),D=Math.max(_.x,m.x),k=Math.min(_.y,m.y),O=Math.max(_.y,m.y);U.setTransform(this._box,`translate(${w}px,${k}px)`),this._box.style.width=D-w+"px",this._box.style.height=O-k+"px"}mouseupWindow(r,u){if(!this._active||r.button!==0)return;const m=this._startPos,_=u;if(this.reset(),U.suppressClick(),m.x!==_.x||m.y!==_.y)return this._map.fire(new c.l("boxzoomend",{originalEvent:r})),{cameraAnimation:w=>w.fitScreenCoordinates(m,_,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",r)}keydown(r){this._active&&r.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",r))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(U.remove(this._box),this._box=null),U.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(r,u){return this._map.fire(new c.l(r,{originalEvent:u}))}}function Xs(b,r){if(b.length!==r.length)throw new Error(`The number of touches and points are not equal - touches ${b.length}, points ${r.length}`);const u={};for(let m=0;m<b.length;m++)u[b[m].identifier]=r[m];return u}class zc{constructor(r){this.reset(),this.numTouches=r.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(r,u,m){(this.centroid||m.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=r.timeStamp),m.length===this.numTouches&&(this.centroid=(function(_){const w=new c.P(0,0);for(const D of _)w._add(D);return w.div(_.length)})(u),this.touches=Xs(m,u)))}touchmove(r,u,m){if(this.aborted||!this.centroid)return;const _=Xs(m,u);for(const w in this.touches){const D=_[w];(!D||D.dist(this.touches[w])>30)&&(this.aborted=!0)}}touchend(r,u,m){if((!this.centroid||r.timeStamp-this.startTime>500)&&(this.aborted=!0),m.length===0){const _=!this.aborted&&this.centroid;if(this.reset(),_)return _}}}class us{constructor(r){this.singleTap=new zc(r),this.numTaps=r.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(r,u,m){this.singleTap.touchstart(r,u,m)}touchmove(r,u,m){this.singleTap.touchmove(r,u,m)}touchend(r,u,m){const _=this.singleTap.touchend(r,u,m);if(_){const w=r.timeStamp-this.lastTime<500,D=!this.lastTap||this.lastTap.dist(_)<30;if(w&&D||this.reset(),this.count++,this.lastTime=r.timeStamp,this.lastTap=_,this.count===this.numTaps)return this.reset(),_}}}class Ma{constructor(r){this._tr=new Qs(r),this._zoomIn=new us({numTouches:1,numTaps:2}),this._zoomOut=new us({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(r,u,m){this._zoomIn.touchstart(r,u,m),this._zoomOut.touchstart(r,u,m)}touchmove(r,u,m){this._zoomIn.touchmove(r,u,m),this._zoomOut.touchmove(r,u,m)}touchend(r,u,m){const _=this._zoomIn.touchend(r,u,m),w=this._zoomOut.touchend(r,u,m),D=this._tr;return _?(this._active=!0,r.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:k=>k.easeTo({duration:300,zoom:D.zoom+1,around:D.unproject(_)},{originalEvent:r})}):w?(this._active=!0,r.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:k=>k.easeTo({duration:300,zoom:D.zoom-1,around:D.unproject(w)},{originalEvent:r})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ei{constructor(r){this._enabled=!!r.enable,this._moveStateManager=r.moveStateManager,this._clickTolerance=r.clickTolerance||1,this._moveFunction=r.move,this._activateOnStart=!!r.activateOnStart,r.assignEvents(this),this.reset()}reset(r){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(r)}_move(...r){const u=this._moveFunction(...r);if(u.bearingDelta||u.pitchDelta||u.rollDelta||u.around||u.panDelta)return this._active=!0,u}dragStart(r,u){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(r)&&(this._moveStateManager.startMove(r),this._lastPoint=Array.isArray(u)?u[0]:u,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(r,u){if(!this.isEnabled())return;const m=this._lastPoint;if(!m)return;if(r.preventDefault(),!this._moveStateManager.isValidMoveEvent(r))return void this.reset(r);const _=Array.isArray(u)?u[0]:u;return!this._moved&&_.dist(m)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=_,this._move(m,_))}dragEnd(r){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(r)&&(this._moved&&U.suppressClick(),this.reset(r))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const Kf=0,uo=2,Ul={[Kf]:1,[uo]:2};class ho{constructor(r){this._correctEvent=r.checkCorrectEvent}startMove(r){const u=U.mouseButton(r);this._eventButton=u}endMove(r){delete this._eventButton}isValidStartEvent(r){return this._correctEvent(r)}isValidMoveEvent(r){return!(function(u,m){const _=Ul[m];return u.buttons===void 0||(u.buttons&_)!==_})(r,this._eventButton)}isValidEndEvent(r){return U.mouseButton(r)===this._eventButton}}class Jf{constructor(){this._firstTouch=void 0}_isOneFingerTouch(r){return r.targetTouches.length===1}_isSameTouchEvent(r){return r.targetTouches[0].identifier===this._firstTouch}startMove(r){this._firstTouch=r.targetTouches[0].identifier}endMove(r){delete this._firstTouch}isValidStartEvent(r){return this._isOneFingerTouch(r)}isValidMoveEvent(r){return this._isOneFingerTouch(r)&&this._isSameTouchEvent(r)}isValidEndEvent(r){return this._isOneFingerTouch(r)&&this._isSameTouchEvent(r)}}class Bh{constructor(r=new ho({checkCorrectEvent:()=>!0}),u=new Jf){this.mouseMoveStateManager=r,this.oneFingerTouchMoveStateManager=u}_executeRelevantHandler(r,u,m){return r instanceof MouseEvent?u(r):typeof TouchEvent<"u"&&r instanceof TouchEvent?m(r):void 0}startMove(r){this._executeRelevantHandler(r,(u=>this.mouseMoveStateManager.startMove(u)),(u=>this.oneFingerTouchMoveStateManager.startMove(u)))}endMove(r){this._executeRelevantHandler(r,(u=>this.mouseMoveStateManager.endMove(u)),(u=>this.oneFingerTouchMoveStateManager.endMove(u)))}isValidStartEvent(r){return this._executeRelevantHandler(r,(u=>this.mouseMoveStateManager.isValidStartEvent(u)),(u=>this.oneFingerTouchMoveStateManager.isValidStartEvent(u)))}isValidMoveEvent(r){return this._executeRelevantHandler(r,(u=>this.mouseMoveStateManager.isValidMoveEvent(u)),(u=>this.oneFingerTouchMoveStateManager.isValidMoveEvent(u)))}isValidEndEvent(r){return this._executeRelevantHandler(r,(u=>this.mouseMoveStateManager.isValidEndEvent(u)),(u=>this.oneFingerTouchMoveStateManager.isValidEndEvent(u)))}}const ju=b=>{b.mousedown=b.dragStart,b.mousemoveWindow=b.dragMove,b.mouseup=b.dragEnd,b.contextmenu=r=>{r.preventDefault()}};class Fc{constructor(r,u){this._clickTolerance=r.clickTolerance||1,this._map=u,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new c.P(0,0)}_shouldBePrevented(r){return r<(this._map.cooperativeGestures.isEnabled()?2:1)}touchstart(r,u,m){return this._calculateTransform(r,u,m)}touchmove(r,u,m){if(this._active){if(!this._shouldBePrevented(m.length))return r.preventDefault(),this._calculateTransform(r,u,m);this._map.cooperativeGestures.notifyGestureBlocked("touch_pan",r)}}touchend(r,u,m){this._calculateTransform(r,u,m),this._active&&this._shouldBePrevented(m.length)&&this.reset()}touchcancel(){this.reset()}_calculateTransform(r,u,m){m.length>0&&(this._active=!0);const _=Xs(m,u),w=new c.P(0,0),D=new c.P(0,0);let k=0;for(const N in _){const B=_[N],Z=this._touches[N];Z&&(w._add(B),D._add(B.sub(Z)),k++,_[N]=B)}if(this._touches=_,this._shouldBePrevented(k)||!D.mag())return;const O=D.div(k);return this._sum._add(O),this._sum.mag()<this._clickTolerance?void 0:{around:w.div(k),panDelta:O}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Ks{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(r,u,m){this._firstTwoTouches||m.length<2||(this._firstTwoTouches=[m[0].identifier,m[1].identifier],this._start([u[0],u[1]]))}touchmove(r,u,m){if(!this._firstTwoTouches)return;r.preventDefault();const[_,w]=this._firstTwoTouches,D=ti(m,u,_),k=ti(m,u,w);if(!D||!k)return;const O=this._aroundCenter?null:D.add(k).div(2);return this._move([D,k],O,r)}touchend(r,u,m){if(!this._firstTwoTouches)return;const[_,w]=this._firstTwoTouches,D=ti(m,u,_),k=ti(m,u,w);D&&k||(this._active&&U.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(r){this._enabled=!0,this._aroundCenter=!!r&&r.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function ti(b,r,u){for(let m=0;m<b.length;m++)if(b[m].identifier===u)return r[m]}function Lt(b,r){return Math.log(b/r)/Math.LN2}class qh extends Ks{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(r){this._startDistance=this._distance=r[0].dist(r[1])}_move(r,u){const m=this._distance;if(this._distance=r[0].dist(r[1]),this._active||!(Math.abs(Lt(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Lt(this._distance,m),pinchAround:u}}}function Ll(b,r){return 180*b.angleWith(r)/Math.PI}class $h extends Ks{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(r){this._startVector=this._vector=r[0].sub(r[1]),this._minDiameter=r[0].dist(r[1])}_move(r,u,m){const _=this._vector;if(this._vector=r[0].sub(r[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Ll(this._vector,_),pinchAround:u}}_isBelowThreshold(r){this._minDiameter=Math.min(this._minDiameter,r.mag());const u=25/(Math.PI*this._minDiameter)*360,m=Ll(r,this._startVector);return Math.abs(m)<u}}function fo(b){return Math.abs(b.y)>Math.abs(b.x)}class zl extends Ks{constructor(r){super(),this._currentTouchCount=0,this._map=r}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(r,u,m){super.touchstart(r,u,m),this._currentTouchCount=m.length}_start(r){this._lastPoints=r,fo(r[0].sub(r[1]))&&(this._valid=!1)}_move(r,u,m){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;const _=r[0].sub(this._lastPoints[0]),w=r[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(_,w,m.timeStamp),this._valid?(this._lastPoints=r,this._active=!0,{pitchDelta:(_.y+w.y)/2*-.5}):void 0}gestureBeginsVertically(r,u,m){if(this._valid!==void 0)return this._valid;const _=r.mag()>=2,w=u.mag()>=2;if(!_&&!w)return;if(!_||!w)return this._firstMove===void 0&&(this._firstMove=m),m-this._firstMove<100&&void 0;const D=r.y>0==u.y>0;return fo(r)&&fo(u)&&D}}const Hh={panStep:100,bearingStep:15,pitchStep:10};class fr{constructor(r){this._tr=new Qs(r);const u=Hh;this._panStep=u.panStep,this._bearingStep=u.bearingStep,this._pitchStep=u.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(r){if(r.altKey||r.ctrlKey||r.metaKey)return;let u=0,m=0,_=0,w=0,D=0;switch(r.keyCode){case 61:case 107:case 171:case 187:u=1;break;case 189:case 109:case 173:u=-1;break;case 37:r.shiftKey?m=-1:(r.preventDefault(),w=-1);break;case 39:r.shiftKey?m=1:(r.preventDefault(),w=1);break;case 38:r.shiftKey?_=1:(r.preventDefault(),D=-1);break;case 40:r.shiftKey?_=-1:(r.preventDefault(),D=1);break;default:return}return this._rotationDisabled&&(m=0,_=0),{cameraAnimation:k=>{const O=this._tr;k.easeTo({duration:300,easeId:"keyboardHandler",easing:Bu,zoom:u?Math.round(O.zoom)+u*(r.shiftKey?2:1):O.zoom,bearing:O.bearing+m*this._bearingStep,pitch:O.pitch+_*this._pitchStep,offset:[-w*this._panStep,-D*this._panStep],center:O.center},{originalEvent:r})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Bu(b){return b*(2-b)}const Vh=4.000244140625,Bo=1/450;class hs{constructor(r,u){this._onTimeout=m=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(m)},this._map=r,this._tr=new Qs(r),this._triggerRenderFrame=u,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=Bo}setZoomRate(r){this._defaultZoomRate=r}setWheelZoomRate(r){this._wheelZoomRate=r}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(r){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!r&&r.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}_shouldBePrevented(r){return!!this._map.cooperativeGestures.isEnabled()&&!(r.ctrlKey||this._map.cooperativeGestures.isBypassed(r))}wheel(r){if(!this.isEnabled())return;if(this._shouldBePrevented(r))return void this._map.cooperativeGestures.notifyGestureBlocked("wheel_zoom",r);let u=r.deltaMode===WheelEvent.DOM_DELTA_LINE?40*r.deltaY:r.deltaY;const m=L.now(),_=m-(this._lastWheelEventTime||0);this._lastWheelEventTime=m,u!==0&&u%Vh==0?this._type="wheel":u!==0&&Math.abs(u)<4?this._type="trackpad":_>400?(this._type=null,this._lastValue=u,this._timeout=setTimeout(this._onTimeout,40,r)):this._type||(this._type=Math.abs(_*u)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,u+=this._lastValue)),r.shiftKey&&u&&(u/=4),this._type&&(this._lastWheelEvent=r,this._delta-=u,this._active||this._start(r)),r.preventDefault()}_start(r){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const u=U.mousePos(this._map.getCanvas(),r),m=this._tr;this._aroundPoint=this._aroundCenter?m.transform.locationToScreenPoint(c.S.convert(m.center)):u,this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const r=this._tr.transform;if(typeof this._lastExpectedZoom=="number"){const k=r.zoom-this._lastExpectedZoom;typeof this._startZoom=="number"&&(this._startZoom+=k),typeof this._targetZoom=="number"&&(this._targetZoom+=k)}if(this._delta!==0){const k=this._type==="wheel"&&Math.abs(this._delta)>Vh?this._wheelZoomRate:this._defaultZoomRate;let O=2/(1+Math.exp(-Math.abs(this._delta*k)));this._delta<0&&O!==0&&(O=1/O);const N=typeof this._targetZoom!="number"?r.scale:c.af(this._targetZoom);this._targetZoom=r.getConstrained(r.getCameraLngLat(),c.ak(N*O)).zoom,this._type==="wheel"&&(this._startZoom=r.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const u=typeof this._targetZoom!="number"?r.zoom:this._targetZoom,m=this._startZoom,_=this._easing;let w,D=!1;if(this._type==="wheel"&&m&&_){const k=L.now()-this._lastWheelEventTime,O=Math.min((k+5)/200,1),N=_(O);w=c.C.number(m,u,N),O<1?this._frameId||(this._frameId=!0):D=!0}else w=u,D=!0;return this._active=!0,D&&(this._active=!1,this._finishTimeout=setTimeout((()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._lastExpectedZoom,delete this._finishTimeout}),200)),this._lastExpectedZoom=w,{noInertia:!0,needsRenderFrame:!D,zoomDelta:w-r.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(r){let u=c.co;if(this._prevEase){const m=this._prevEase,_=(L.now()-m.start)/m.duration,w=m.easing(_+.01)-m.easing(_),D=.27/Math.sqrt(w*w+1e-4)*.01,k=Math.sqrt(.0729-D*D);u=c.cm(D,k,.25,1)}return this._prevEase={start:L.now(),duration:r,easing:u},u}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,delete this._lastExpectedZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class Nc{constructor(r,u){this._clickZoom=r,this._tapZoom=u}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Wh{constructor(r){this._tr=new Qs(r),this.reset()}reset(){this._active=!1}dblclick(r,u){return r.preventDefault(),{cameraAnimation:m=>{m.easeTo({duration:300,zoom:this._tr.zoom+(r.shiftKey?-1:1),around:this._tr.unproject(u)},{originalEvent:r})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class qu{constructor(){this._tap=new us({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(r,u,m){if(!this._swipePoint)if(this._tapTime){const _=u[0],w=r.timeStamp-this._tapTime<500,D=this._tapPoint.dist(_)<30;w&&D?m.length>0&&(this._swipePoint=_,this._swipeTouch=m[0].identifier):this.reset()}else this._tap.touchstart(r,u,m)}touchmove(r,u,m){if(this._tapTime){if(this._swipePoint){if(m[0].identifier!==this._swipeTouch)return;const _=u[0],w=_.y-this._swipePoint.y;return this._swipePoint=_,r.preventDefault(),this._active=!0,{zoomDelta:w/128}}}else this._tap.touchmove(r,u,m)}touchend(r,u,m){if(this._tapTime)this._swipePoint&&m.length===0&&this.reset();else{const _=this._tap.touchend(r,u,m);_&&(this._tapTime=r.timeStamp,this._tapPoint=_)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Fl{constructor(r,u,m){this._el=r,this._mousePan=u,this._touchPan=m}enable(r){this._inertiaOptions=r||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class jc{constructor(r,u,m,_){this._pitchWithRotate=r.pitchWithRotate,this._rollEnabled=r.rollEnabled,this._mouseRotate=u,this._mousePitch=m,this._mouseRoll=_}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable(),this._rollEnabled&&this._mouseRoll.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable(),this._mouseRoll.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())&&(!this._rollEnabled||this._mouseRoll.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()||this._mouseRoll.isActive()}}class Gh{constructor(r,u,m,_){this._el=r,this._touchZoom=u,this._touchRotate=m,this._tapDragZoom=_,this._rotationDisabled=!1,this._enabled=!0}enable(r){this._touchZoom.enable(r),this._rotationDisabled||this._touchRotate.enable(r),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class ed{constructor(r,u){this._bypassKey=navigator.userAgent.indexOf("Mac")!==-1?"metaKey":"ctrlKey",this._map=r,this._options=u,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;const r=this._map.getCanvasContainer();r.classList.add("maplibregl-cooperative-gestures"),this._container=U.create("div","maplibregl-cooperative-gesture-screen",r);let u=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");this._bypassKey==="metaKey"&&(u=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));const m=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),_=document.createElement("div");_.className="maplibregl-desktop-message",_.textContent=u,this._container.appendChild(_);const w=document.createElement("div");w.className="maplibregl-mobile-message",w.textContent=m,this._container.appendChild(w),this._container.setAttribute("aria-hidden","true")}_destroyUI(){this._container&&(U.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destroyUI()}isEnabled(){return this._enabled}isBypassed(r){return r[this._bypassKey]}notifyGestureBlocked(r,u){this._enabled&&(this._map.fire(new c.l("cooperativegestureprevented",{gestureType:r,originalEvent:u})),this._container.classList.add("maplibregl-show"),setTimeout((()=>{this._container.classList.remove("maplibregl-show")}),100))}}const fs=b=>b.zoom||b.drag||b.roll||b.pitch||b.rotate;class po extends c.l{}function $r(b){return b.panDelta&&b.panDelta.mag()||b.zoomDelta||b.bearingDelta||b.pitchDelta||b.rollDelta}class td{constructor(r,u){this.handleWindowEvent=_=>{this.handleEvent(_,`${_.type}Window`)},this.handleEvent=(_,w)=>{if(_.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const D=_.type==="renderFrame"?void 0:_,k={needsRenderFrame:!1},O={},N={};for(const{handlerName:G,handler:J,allowed:ie}of this._handlers){if(!J.isEnabled())continue;let he;if(this._blockedByActive(N,ie,G))J.reset();else if(J[w||_.type]){if(c.cp(_,w||_.type)){const fe=U.mousePos(this._map.getCanvas(),_);he=J[w||_.type](_,fe)}else if(c.cq(_,w||_.type)){const fe=this._getMapTouches(_.touches),me=U.touchPos(this._map.getCanvas(),fe);he=J[w||_.type](_,me,fe)}else c.cr(w||_.type)||(he=J[w||_.type](_));this.mergeHandlerResult(k,O,he,G,D),he&&he.needsRenderFrame&&this._triggerRenderFrame()}(he||J.isActive())&&(N[G]=J)}const B={};for(const G in this._previousActiveHandlers)N[G]||(B[G]=D);this._previousActiveHandlers=N,(Object.keys(B).length||$r(k))&&(this._changes.push([k,O,B]),this._triggerRenderFrame()),(Object.keys(N).length||$r(k))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:Z}=k;Z&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Z(this._map))},this._map=r,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Ys(r),this._bearingSnap=u.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(u);const m=this._el;this._listeners=[[m,"touchstart",{passive:!0}],[m,"touchmove",{passive:!1}],[m,"touchend",void 0],[m,"touchcancel",void 0],[m,"mousedown",void 0],[m,"mousemove",void 0],[m,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[m,"mouseover",void 0],[m,"mouseout",void 0],[m,"dblclick",void 0],[m,"click",void 0],[m,"keydown",{capture:!1}],[m,"keyup",void 0],[m,"wheel",{passive:!1}],[m,"contextmenu",void 0],[window,"blur",void 0]];for(const[_,w,D]of this._listeners)U.addEventListener(_,w,_===document?this.handleWindowEvent:this.handleEvent,D)}destroy(){for(const[r,u,m]of this._listeners)U.removeEventListener(r,u,r===document?this.handleWindowEvent:this.handleEvent,m)}_addDefaultHandlers(r){const u=this._map,m=u.getCanvasContainer();this._add("mapEvent",new Ap(u,r));const _=u.boxZoom=new Ol(u,r);this._add("boxZoom",_),r.interactive&&r.boxZoom&&_.enable();const w=u.cooperativeGestures=new ed(u,r.cooperativeGestures);this._add("cooperativeGestures",w),r.cooperativeGestures&&w.enable();const D=new Ma(u),k=new Wh(u);u.doubleClickZoom=new Nc(k,D),this._add("tapZoom",D),this._add("clickZoom",k),r.interactive&&r.doubleClickZoom&&u.doubleClickZoom.enable();const O=new qu;this._add("tapDragZoom",O);const N=u.touchPitch=new zl(u);this._add("touchPitch",N),r.interactive&&r.touchPitch&&u.touchPitch.enable(r.touchPitch);const B=()=>u.project(u.getCenter()),Z=(function({enable:_e,clickTolerance:Ae,aroundCenter:Ee=!0,minPixelCenterThreshold:be=100,rotateDegreesPerPixelMoved:Ue=.8},Qe){const qe=new ho({checkCorrectEvent:Ve=>U.mouseButton(Ve)===0&&Ve.ctrlKey||U.mouseButton(Ve)===2&&!Ve.ctrlKey});return new ei({clickTolerance:Ae,move:(Ve,Xe)=>{const Et=Qe();if(Ee&&Math.abs(Et.y-Ve.y)>be)return{bearingDelta:c.cn(new c.P(Ve.x,Xe.y),Xe,Et)};let Mt=(Xe.x-Ve.x)*Ue;return Ee&&Xe.y<Et.y&&(Mt=-Mt),{bearingDelta:Mt}},moveStateManager:qe,enable:_e,assignEvents:ju})})(r,B),G=(function({enable:_e,clickTolerance:Ae,pitchDegreesPerPixelMoved:Ee=-.5}){const be=new ho({checkCorrectEvent:Ue=>U.mouseButton(Ue)===0&&Ue.ctrlKey||U.mouseButton(Ue)===2});return new ei({clickTolerance:Ae,move:(Ue,Qe)=>({pitchDelta:(Qe.y-Ue.y)*Ee}),moveStateManager:be,enable:_e,assignEvents:ju})})(r),J=(function({enable:_e,clickTolerance:Ae,rollDegreesPerPixelMoved:Ee=.3},be){const Ue=new ho({checkCorrectEvent:Qe=>U.mouseButton(Qe)===2&&Qe.ctrlKey});return new ei({clickTolerance:Ae,move:(Qe,qe)=>{const Ve=be();let Xe=(qe.x-Qe.x)*Ee;return qe.y<Ve.y&&(Xe=-Xe),{rollDelta:Xe}},moveStateManager:Ue,enable:_e,assignEvents:ju})})(r,B);u.dragRotate=new jc(r,Z,G,J),this._add("mouseRotate",Z,["mousePitch"]),this._add("mousePitch",G,["mouseRotate","mouseRoll"]),this._add("mouseRoll",J,["mousePitch"]),r.interactive&&r.dragRotate&&u.dragRotate.enable();const ie=(function({enable:_e,clickTolerance:Ae}){const Ee=new ho({checkCorrectEvent:be=>U.mouseButton(be)===0&&!be.ctrlKey});return new ei({clickTolerance:Ae,move:(be,Ue)=>({around:Ue,panDelta:Ue.sub(be)}),activateOnStart:!0,moveStateManager:Ee,enable:_e,assignEvents:ju})})(r),he=new Fc(r,u);u.dragPan=new Fl(m,ie,he),this._add("mousePan",ie),this._add("touchPan",he,["touchZoom","touchRotate"]),r.interactive&&r.dragPan&&u.dragPan.enable(r.dragPan);const fe=new $h,me=new qh;u.touchZoomRotate=new Gh(m,me,fe,O),this._add("touchRotate",fe,["touchPan","touchZoom"]),this._add("touchZoom",me,["touchPan","touchRotate"]),r.interactive&&r.touchZoomRotate&&u.touchZoomRotate.enable(r.touchZoomRotate);const ve=u.scrollZoom=new hs(u,(()=>this._triggerRenderFrame()));this._add("scrollZoom",ve,["mousePan"]),r.interactive&&r.scrollZoom&&u.scrollZoom.enable(r.scrollZoom);const we=u.keyboard=new fr(u);this._add("keyboard",we),r.interactive&&r.keyboard&&u.keyboard.enable(),this._add("blockableMapEvent",new ta(u))}_add(r,u,m){this._handlers.push({handlerName:r,handler:u,allowed:m}),this._handlersById[r]=u}stop(r){if(!this._updatingCamera){for(const{handler:u}of this._handlers)u.reset();this._inertia.clear(),this._fireEvents({},{},r),this._changes=[]}}isActive(){for(const{handler:r}of this._handlers)if(r.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!fs(this._eventsInProgress)||this.isZooming()}_blockedByActive(r,u,m){for(const _ in r)if(_!==m&&(!u||u.indexOf(_)<0))return!0;return!1}_getMapTouches(r){const u=[];for(const m of r)this._el.contains(m.target)&&u.push(m);return u}mergeHandlerResult(r,u,m,_,w){if(!m)return;c.e(r,m);const D={handlerName:_,originalEvent:m.originalEvent||w};m.zoomDelta!==void 0&&(u.zoom=D),m.panDelta!==void 0&&(u.drag=D),m.rollDelta!==void 0&&(u.roll=D),m.pitchDelta!==void 0&&(u.pitch=D),m.bearingDelta!==void 0&&(u.rotate=D)}_applyChanges(){const r={},u={},m={};for(const[_,w,D]of this._changes)_.panDelta&&(r.panDelta=(r.panDelta||new c.P(0,0))._add(_.panDelta)),_.zoomDelta&&(r.zoomDelta=(r.zoomDelta||0)+_.zoomDelta),_.bearingDelta&&(r.bearingDelta=(r.bearingDelta||0)+_.bearingDelta),_.pitchDelta&&(r.pitchDelta=(r.pitchDelta||0)+_.pitchDelta),_.rollDelta&&(r.rollDelta=(r.rollDelta||0)+_.rollDelta),_.around!==void 0&&(r.around=_.around),_.pinchAround!==void 0&&(r.pinchAround=_.pinchAround),_.noInertia&&(r.noInertia=_.noInertia),c.e(u,w),c.e(m,D);this._updateMapTransform(r,u,m),this._changes=[]}_updateMapTransform(r,u,m){const _=this._map,w=_._getTransformForUpdate(),D=_.terrain;if(!($r(r)||D&&this._terrainMovement))return this._fireEvents(u,m,!0);_._stop(!0);let{panDelta:k,zoomDelta:O,bearingDelta:N,pitchDelta:B,rollDelta:Z,around:G,pinchAround:J}=r;J!==void 0&&(G=J),G=G||_.transform.centerPoint,D&&!w.isPointOnMapSurface(G)&&(G=w.centerPoint);const ie={panDelta:k,zoomDelta:O,rollDelta:Z,pitchDelta:B,bearingDelta:N,around:G};this._map.cameraHelper.useGlobeControls&&!w.isPointOnMapSurface(G)&&(G=w.centerPoint);const he=G.distSqr(w.centerPoint)<.01?w.center:w.screenPointToLocation(k?G.sub(k):G);D?(this._map.cameraHelper.handleMapControlsRollPitchBearingZoom(ie,w),this._terrainMovement||!u.drag&&!u.zoom?u.drag&&this._terrainMovement?w.setCenter(w.screenPointToLocation(w.centerPoint.sub(k))):this._map.cameraHelper.handleMapControlsPan(ie,w,he):(this._terrainMovement=!0,this._map._elevationFreeze=!0,this._map.cameraHelper.handleMapControlsPan(ie,w,he))):(this._map.cameraHelper.handleMapControlsRollPitchBearingZoom(ie,w),this._map.cameraHelper.handleMapControlsPan(ie,w,he)),_._applyUpdatedTransform(w),this._map._update(),r.noInertia||this._inertia.record(r),this._fireEvents(u,m,!0)}_fireEvents(r,u,m){const _=fs(this._eventsInProgress),w=fs(r),D={};for(const Z in r){const{originalEvent:G}=r[Z];this._eventsInProgress[Z]||(D[`${Z}start`]=G),this._eventsInProgress[Z]=r[Z]}!_&&w&&this._fireEvent("movestart",w.originalEvent);for(const Z in D)this._fireEvent(Z,D[Z]);w&&this._fireEvent("move",w.originalEvent);for(const Z in r){const{originalEvent:G}=r[Z];this._fireEvent(Z,G)}const k={};let O;for(const Z in this._eventsInProgress){const{handlerName:G,originalEvent:J}=this._eventsInProgress[Z];this._handlersById[G].isActive()||(delete this._eventsInProgress[Z],O=u[G]||J,k[`${Z}end`]=O)}for(const Z in k)this._fireEvent(Z,k[Z]);const N=fs(this._eventsInProgress),B=(_||w)&&!N;if(B&&this._terrainMovement){this._map._elevationFreeze=!1,this._terrainMovement=!1;const Z=this._map._getTransformForUpdate();this._map.getCenterClampedToGround()&&Z.recalculateZoomAndCenter(this._map.terrain),this._map._applyUpdatedTransform(Z)}if(m&&B){this._updatingCamera=!0;const Z=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),G=J=>J!==0&&-this._bearingSnap<J&&J<this._bearingSnap;!Z||!Z.essential&&L.prefersReducedMotion?(this._map.fire(new c.l("moveend",{originalEvent:O})),G(this._map.getBearing())&&this._map.resetNorth()):(G(Z.bearing||this._map.getBearing())&&(Z.bearing=0),Z.freezeElevation=!0,this._map.easeTo(Z,{originalEvent:O})),this._updatingCamera=!1}}_fireEvent(r,u){this._map.fire(new c.l(r,u?{originalEvent:u}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add((r=>{delete this._frameId,this.handleEvent(new po("renderFrame",{timeStamp:r})),this._applyChanges()}))}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class Bc extends c.E{constructor(r,u,m){super(),this._renderFrameCallback=()=>{const _=Math.min((L.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(_)),_<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=r,this._bearingSnap=m.bearingSnap,this.cameraHelper=u,this.on("moveend",(()=>{delete this._requestedCameraState}))}migrateProjection(r,u){r.apply(this.transform),this.transform=r,this.cameraHelper=u}getCenter(){return new c.S(this.transform.center.lng,this.transform.center.lat)}setCenter(r,u){return this.jumpTo({center:r},u)}getCenterElevation(){return this.transform.elevation}setCenterElevation(r,u){return this.jumpTo({elevation:r},u),this}getCenterClampedToGround(){return this._centerClampedToGround}setCenterClampedToGround(r){this._centerClampedToGround=r}panBy(r,u,m){return r=c.P.convert(r).mult(-1),this.panTo(this.transform.center,c.e({offset:r},u),m)}panTo(r,u,m){return this.easeTo(c.e({center:r},u),m)}getZoom(){return this.transform.zoom}setZoom(r,u){return this.jumpTo({zoom:r},u),this}zoomTo(r,u,m){return this.easeTo(c.e({zoom:r},u),m)}zoomIn(r,u){return this.zoomTo(this.getZoom()+1,r,u),this}zoomOut(r,u){return this.zoomTo(this.getZoom()-1,r,u),this}getVerticalFieldOfView(){return this.transform.fov}setVerticalFieldOfView(r,u){return r!=this.transform.fov&&(this.transform.setFov(r),this.fire(new c.l("movestart",u)).fire(new c.l("move",u)).fire(new c.l("moveend",u))),this}getBearing(){return this.transform.bearing}setBearing(r,u){return this.jumpTo({bearing:r},u),this}getPadding(){return this.transform.padding}setPadding(r,u){return this.jumpTo({padding:r},u),this}rotateTo(r,u,m){return this.easeTo(c.e({bearing:r},u),m)}resetNorth(r,u){return this.rotateTo(0,c.e({duration:1e3},r),u),this}resetNorthPitch(r,u){return this.easeTo(c.e({bearing:0,pitch:0,roll:0,duration:1e3},r),u),this}snapToNorth(r,u){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(r,u):this}getPitch(){return this.transform.pitch}setPitch(r,u){return this.jumpTo({pitch:r},u),this}getRoll(){return this.transform.roll}setRoll(r,u){return this.jumpTo({roll:r},u),this}cameraForBounds(r,u){r=jt.convert(r).adjustAntiMeridian();const m=u&&u.bearing||0;return this._cameraForBoxAndBearing(r.getNorthWest(),r.getSouthEast(),m,u)}_cameraForBoxAndBearing(r,u,m,_){const w={top:0,bottom:0,right:0,left:0};if(typeof(_=c.e({padding:w,offset:[0,0],maxZoom:this.transform.maxZoom},_)).padding=="number"){const N=_.padding;_.padding={top:N,bottom:N,right:N,left:N}}const D=c.e(w,_.padding);_.padding=D;const k=this.transform,O=new jt(r,u);return this.cameraHelper.cameraForBoxAndBearing(_,D,O,m,k)}fitBounds(r,u,m){return this._fitInternal(this.cameraForBounds(r,u),u,m)}fitScreenCoordinates(r,u,m,_,w){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.screenPointToLocation(c.P.convert(r)),this.transform.screenPointToLocation(c.P.convert(u)),m,_),_,w)}_fitInternal(r,u,m){return r?(delete(u=c.e(r,u)).padding,u.linear?this.easeTo(u,m):this.flyTo(u,m)):this}jumpTo(r,u){this.stop();const m=this._getTransformForUpdate();let _=!1,w=!1,D=!1;const k=m.zoom;this.cameraHelper.handleJumpToCenterZoom(m,r);const O=m.zoom!==k;return"elevation"in r&&m.elevation!==+r.elevation&&m.setElevation(+r.elevation),"bearing"in r&&m.bearing!==+r.bearing&&(_=!0,m.setBearing(+r.bearing)),"pitch"in r&&m.pitch!==+r.pitch&&(w=!0,m.setPitch(+r.pitch)),"roll"in r&&m.roll!==+r.roll&&(D=!0,m.setRoll(+r.roll)),r.padding==null||m.isPaddingEqual(r.padding)||m.setPadding(r.padding),this._applyUpdatedTransform(m),this.fire(new c.l("movestart",u)).fire(new c.l("move",u)),O&&this.fire(new c.l("zoomstart",u)).fire(new c.l("zoom",u)).fire(new c.l("zoomend",u)),_&&this.fire(new c.l("rotatestart",u)).fire(new c.l("rotate",u)).fire(new c.l("rotateend",u)),w&&this.fire(new c.l("pitchstart",u)).fire(new c.l("pitch",u)).fire(new c.l("pitchend",u)),D&&this.fire(new c.l("rollstart",u)).fire(new c.l("roll",u)).fire(new c.l("rollend",u)),this.fire(new c.l("moveend",u))}calculateCameraOptionsFromTo(r,u,m,_=0){const w=c.a1.fromLngLat(r,u),D=c.a1.fromLngLat(m,_),k=D.x-w.x,O=D.y-w.y,N=D.z-w.z,B=Math.hypot(k,O,N);if(B===0)throw new Error("Can't calculate camera options with same From and To");const Z=Math.hypot(k,O),G=c.ak(this.transform.cameraToCenterDistance/B/this.transform.tileSize),J=180*Math.atan2(k,-O)/Math.PI;let ie=180*Math.acos(Z/B)/Math.PI;return ie=N<0?90-ie:90+ie,{center:D.toLngLat(),elevation:_,zoom:G,pitch:ie,bearing:J}}calculateCameraOptionsFromCameraLngLatAltRotation(r,u,m,_,w){const D=this.transform.calculateCenterFromCameraLngLatAlt(r,u,m,_);return{center:D.center,elevation:D.elevation,zoom:D.zoom,bearing:m,pitch:_,roll:w}}easeTo(r,u){this._stop(!1,r.easeId),((r=c.e({offset:[0,0],duration:500,easing:c.co},r)).animate===!1||!r.essential&&L.prefersReducedMotion)&&(r.duration=0);const m=this._getTransformForUpdate(),_=this.getBearing(),w=m.pitch,D=m.roll,k="bearing"in r?this._normalizeBearing(r.bearing,_):_,O="pitch"in r?+r.pitch:w,N="roll"in r?this._normalizeBearing(r.roll,D):D,B="padding"in r?r.padding:m.padding,Z=c.P.convert(r.offset);let G,J;r.around&&(G=c.S.convert(r.around),J=m.locationToScreenPoint(G));const ie={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching,rolling:this._rolling},he=this.cameraHelper.handleEaseTo(m,{bearing:k,pitch:O,roll:N,padding:B,around:G,aroundPoint:J,offsetAsPoint:Z,offset:r.offset,zoom:r.zoom,center:r.center});return this._rotating=this._rotating||_!==k,this._pitching=this._pitching||O!==w,this._rolling=this._rolling||N!==D,this._padding=!m.isPaddingEqual(B),this._zooming=this._zooming||he.isZooming,this._easeId=r.easeId,this._prepareEase(u,r.noMoveStart,ie),this.terrain&&this._prepareElevation(he.elevationCenter),this._ease((fe=>{he.easeFunc(fe),this.terrain&&!r.freezeElevation&&this._updateElevation(fe),this._applyUpdatedTransform(m),this._fireMoveEvents(u)}),(fe=>{this.terrain&&r.freezeElevation&&this._finalizeElevation(),this._afterEase(u,fe)}),r),this}_prepareEase(r,u,m={}){this._moving=!0,u||m.moving||this.fire(new c.l("movestart",r)),this._zooming&&!m.zooming&&this.fire(new c.l("zoomstart",r)),this._rotating&&!m.rotating&&this.fire(new c.l("rotatestart",r)),this._pitching&&!m.pitching&&this.fire(new c.l("pitchstart",r)),this._rolling&&!m.rolling&&this.fire(new c.l("rollstart",r))}_prepareElevation(r){this._elevationCenter=r,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(r,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(r){this._elevationStart!==void 0&&this._elevationCenter!==void 0||this._prepareElevation(this.transform.center),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom));const u=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(r<1&&u!==this._elevationTarget){const m=this._elevationTarget-this._elevationStart;this._elevationStart+=r*(m-(u-(m*r+this._elevationStart))/(1-r)),this._elevationTarget=u}this.transform.setElevation(c.C.number(this._elevationStart,this._elevationTarget,r))}_finalizeElevation(){this._elevationFreeze=!1,this.getCenterClampedToGround()&&this.transform.recalculateZoomAndCenter(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate||this.terrain?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_elevateCameraIfInsideTerrain(r){if(!this.terrain&&r.elevation>=0&&r.pitch<=90)return{};const u=r.getCameraLngLat(),m=r.getCameraAltitude(),_=this.terrain?this.terrain.getElevationForLngLatZoom(u,r.zoom):0;if(m<_){const w=this.calculateCameraOptionsFromTo(u,_,r.center,r.elevation);return{pitch:w.pitch,zoom:w.zoom}}return{}}_applyUpdatedTransform(r){const u=[];if(u.push((_=>this._elevateCameraIfInsideTerrain(_))),this.transformCameraUpdate&&u.push((_=>this.transformCameraUpdate(_))),!u.length)return;const m=r.clone();for(const _ of u){const w=m.clone(),{center:D,zoom:k,roll:O,pitch:N,bearing:B,elevation:Z}=_(w);D&&w.setCenter(D),Z!==void 0&&w.setElevation(Z),k!==void 0&&w.setZoom(k),O!==void 0&&w.setRoll(O),N!==void 0&&w.setPitch(N),B!==void 0&&w.setBearing(B),m.apply(w)}this.transform.apply(m)}_fireMoveEvents(r){this.fire(new c.l("move",r)),this._zooming&&this.fire(new c.l("zoom",r)),this._rotating&&this.fire(new c.l("rotate",r)),this._pitching&&this.fire(new c.l("pitch",r)),this._rolling&&this.fire(new c.l("roll",r))}_afterEase(r,u){if(this._easeId&&u&&this._easeId===u)return;delete this._easeId;const m=this._zooming,_=this._rotating,w=this._pitching,D=this._rolling;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._rolling=!1,this._padding=!1,m&&this.fire(new c.l("zoomend",r)),_&&this.fire(new c.l("rotateend",r)),w&&this.fire(new c.l("pitchend",r)),D&&this.fire(new c.l("rollend",r)),this.fire(new c.l("moveend",r))}flyTo(r,u){if(!r.essential&&L.prefersReducedMotion){const Xe=c.Q(r,["center","zoom","bearing","pitch","roll","elevation"]);return this.jumpTo(Xe,u)}this.stop(),r=c.e({offset:[0,0],speed:1.2,curve:1.42,easing:c.co},r);const m=this._getTransformForUpdate(),_=m.bearing,w=m.pitch,D=m.roll,k=m.padding,O="bearing"in r?this._normalizeBearing(r.bearing,_):_,N="pitch"in r?+r.pitch:w,B="roll"in r?this._normalizeBearing(r.roll,D):D,Z="padding"in r?r.padding:m.padding,G=c.P.convert(r.offset);let J=m.centerPoint.add(G);const ie=m.screenPointToLocation(J),he=this.cameraHelper.handleFlyTo(m,{bearing:O,pitch:N,roll:B,padding:Z,locationAtOffset:ie,offsetAsPoint:G,center:r.center,minZoom:r.minZoom,zoom:r.zoom});let fe=r.curve;const me=Math.max(m.width,m.height),ve=me/he.scaleOfZoom,we=he.pixelPathLength;typeof he.scaleOfMinZoom=="number"&&(fe=Math.sqrt(me/he.scaleOfMinZoom/we*2));const _e=fe*fe;function Ae(Xe){const Et=(ve*ve-me*me+(Xe?-1:1)*_e*_e*we*we)/(2*(Xe?ve:me)*_e*we);return Math.log(Math.sqrt(Et*Et+1)-Et)}function Ee(Xe){return(Math.exp(Xe)-Math.exp(-Xe))/2}function be(Xe){return(Math.exp(Xe)+Math.exp(-Xe))/2}const Ue=Ae(!1);let Qe=function(Xe){return be(Ue)/be(Ue+fe*Xe)},qe=function(Xe){return me*((be(Ue)*(Ee(Et=Ue+fe*Xe)/be(Et))-Ee(Ue))/_e)/we;var Et},Ve=(Ae(!0)-Ue)/fe;if(Math.abs(we)<2e-6||!isFinite(Ve)){if(Math.abs(me-ve)<1e-6)return this.easeTo(r,u);const Xe=ve<me?-1:1;Ve=Math.abs(Math.log(ve/me))/fe,qe=()=>0,Qe=Et=>Math.exp(Xe*fe*Et)}return r.duration="duration"in r?+r.duration:1e3*Ve/("screenSpeed"in r?+r.screenSpeed/fe:+r.speed),r.maxDuration&&r.duration>r.maxDuration&&(r.duration=0),this._zooming=!0,this._rotating=_!==O,this._pitching=N!==w,this._rolling=B!==D,this._padding=!m.isPaddingEqual(Z),this._prepareEase(u,!1),this.terrain&&this._prepareElevation(he.targetCenter),this._ease((Xe=>{const Et=Xe*Ve,Mt=1/Qe(Et),ft=qe(Et);this._rotating&&m.setBearing(c.C.number(_,O,Xe)),this._pitching&&m.setPitch(c.C.number(w,N,Xe)),this._rolling&&m.setRoll(c.C.number(D,B,Xe)),this._padding&&(m.interpolatePadding(k,Z,Xe),J=m.centerPoint.add(G)),he.easeFunc(Xe,Mt,ft,J),this.terrain&&!r.freezeElevation&&this._updateElevation(Xe),this._applyUpdatedTransform(m),this._fireMoveEvents(u)}),(()=>{this.terrain&&r.freezeElevation&&this._finalizeElevation(),this._afterEase(u)}),r),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(r,u){var m;if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const _=this._onEaseEnd;delete this._onEaseEnd,_.call(this,u)}return r||(m=this.handlers)===null||m===void 0||m.stop(!1),this}_ease(r,u,m){m.animate===!1||m.duration===0?(r(1),u()):(this._easeStart=L.now(),this._easeOptions=m,this._onEaseFrame=r,this._onEaseEnd=u,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(r,u){r=c.aO(r,-180,180);const m=Math.abs(r-u);return Math.abs(r-360-u)<m&&(r-=360),Math.abs(r+360-u)<m&&(r+=360),r}queryTerrainElevation(r){return this.terrain?this.terrain.getElevationForLngLatZoom(c.S.convert(r),this.transform.tileZoom):null}}const mo={compact:!0,customAttribution:'<a href="https://maplibre.org/" target="_blank">MapLibre</a>'};class wr{constructor(r=mo){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=u=>{!u||u.sourceDataType!=="metadata"&&u.sourceDataType!=="visibility"&&u.dataType!=="style"&&u.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=r}getDefaultPosition(){return"bottom-right"}onAdd(r){return this._map=r,this._compact=this.options.compact,this._container=U.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=U.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=U.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){U.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(r,u){const m=this._map._getUIString(`AttributionControl.${u}`);r.title=m,r.setAttribute("aria-label",m)}_updateAttributions(){if(!this._map.style)return;let r=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?r=r.concat(this.options.customAttribution.map((_=>typeof _!="string"?"":_))):typeof this.options.customAttribution=="string"&&r.push(this.options.customAttribution)),this._map.style.stylesheet){const _=this._map.style.stylesheet;this.styleOwner=_.owner,this.styleId=_.id}const u=this._map.style.sourceCaches;for(const _ in u){const w=u[_];if(w.used||w.usedForTerrain){const D=w.getSource();D.attribution&&r.indexOf(D.attribution)<0&&r.push(D.attribution)}}r=r.filter((_=>String(_).trim())),r.sort(((_,w)=>_.length-w.length)),r=r.filter(((_,w)=>{for(let D=w+1;D<r.length;D++)if(r[D].indexOf(_)>=0)return!1;return!0}));const m=r.join(" | ");m!==this._attribHTML&&(this._attribHTML=m,r.length?(this._innerContainer.innerHTML=U.sanitize(m),this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class Hr{constructor(r={}){this._updateCompact=()=>{const u=this._container.children;if(u.length){const m=u[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&m.classList.add("maplibregl-compact"):m.classList.remove("maplibregl-compact")}},this.options=r}getDefaultPosition(){return"bottom-left"}onAdd(r){this._map=r,this._compact=this.options&&this.options.compact,this._container=U.create("div","maplibregl-ctrl");const u=U.create("a","maplibregl-ctrl-logo");return u.target="_blank",u.rel="noopener nofollow",u.href="https://maplibre.org/",u.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),u.setAttribute("rel","noopener nofollow"),this._container.appendChild(u),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){U.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class Vn{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(r){const u=++this._id;return this._queue.push({callback:r,id:u,cancelled:!1}),u}remove(r){const u=this._currentlyRunning,m=u?this._queue.concat(u):this._queue;for(const _ of m)if(_.id===r)return void(_.cancelled=!0)}run(r=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const u=this._currentlyRunning=this._queue;this._queue=[];for(const m of u)if(!m.cancelled&&(m.callback(r),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var Zh=c.aJ([{name:"a_pos3d",type:"Int16",components:3}]);class ri extends c.E{constructor(r){super(),this._lastTilesetChange=L.now(),this.sourceCache=r,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.deltaZoom=1,this.tileSize=r._source.tileSize*2**this.deltaZoom,r.usedForTerrain=!0,r.tileSize=this.tileSize}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(r,u){this.sourceCache.update(r,u),this._renderableTilesKeys=[];const m={};for(const _ of ze(r,{tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:u,calculateTileZoom:this.sourceCache._source.calculateTileZoom}))m[_.key]=!0,this._renderableTilesKeys.push(_.key),this._tiles[_.key]||(_.terrainRttPosMatrix32f=new Float64Array(16),c.bY(_.terrainRttPosMatrix32f,0,c.$,c.$,0,0,1),this._tiles[_.key]=new Ga(_,this.tileSize),this._lastTilesetChange=L.now());for(const _ in this._tiles)m[_]||delete this._tiles[_]}freeRtt(r){for(const u in this._tiles){const m=this._tiles[u];(!r||m.tileID.equals(r)||m.tileID.isChildOf(r)||r.isChildOf(m.tileID))&&(m.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map((r=>this.getTileByID(r)))}getTileByID(r){return this._tiles[r]}getTerrainCoords(r,u){return u?this._getTerrainCoordsForTileRanges(r,u):this._getTerrainCoordsForRegularTile(r)}_getTerrainCoordsForRegularTile(r){const u={};for(const m of this._renderableTilesKeys){const _=this._tiles[m].tileID,w=r.clone(),D=c.ba();if(_.canonical.equals(r.canonical))c.bY(D,0,c.$,c.$,0,0,1);else if(_.canonical.isChildOf(r.canonical)){const k=_.canonical.z-r.canonical.z,O=_.canonical.x-(_.canonical.x>>k<<k),N=_.canonical.y-(_.canonical.y>>k<<k),B=c.$>>k;c.bY(D,0,B,B,0,0,1),c.M(D,D,[-O*B,-N*B,0])}else{if(!r.canonical.isChildOf(_.canonical))continue;{const k=r.canonical.z-_.canonical.z,O=r.canonical.x-(r.canonical.x>>k<<k),N=r.canonical.y-(r.canonical.y>>k<<k),B=c.$>>k;c.bY(D,0,c.$,c.$,0,0,1),c.M(D,D,[O*B,N*B,0]),c.N(D,D,[1/2**k,1/2**k,0])}}w.terrainRttPosMatrix32f=new Float32Array(D),u[m]=w}return u}_getTerrainCoordsForTileRanges(r,u){const m={};for(const _ of this._renderableTilesKeys){const w=this._tiles[_].tileID;if(!this._isWithinTileRanges(w,u))continue;const D=r.clone(),k=c.ba();if(w.canonical.z===r.canonical.z){const O=r.canonical.x-w.canonical.x,N=r.canonical.y-w.canonical.y;c.bY(k,0,c.$,c.$,0,0,1),c.M(k,k,[O*c.$,N*c.$,0])}else if(w.canonical.z>r.canonical.z){const O=w.canonical.z-r.canonical.z,N=w.canonical.x-(w.canonical.x>>O<<O),B=w.canonical.y-(w.canonical.y>>O<<O),Z=r.canonical.x-(w.canonical.x>>O),G=r.canonical.y-(w.canonical.y>>O),J=c.$>>O;c.bY(k,0,J,J,0,0,1),c.M(k,k,[-N*J+Z*c.$,-B*J+G*c.$,0])}else{const O=r.canonical.z-w.canonical.z,N=r.canonical.x-(r.canonical.x>>O<<O),B=r.canonical.y-(r.canonical.y>>O<<O),Z=(r.canonical.x>>O)-w.canonical.x,G=(r.canonical.y>>O)-w.canonical.y,J=c.$<<O;c.bY(k,0,J,J,0,0,1),c.M(k,k,[N*c.$+Z*J,B*c.$+G*J,0])}D.terrainRttPosMatrix32f=new Float32Array(k),m[_]=D}return m}getSourceTile(r,u){const m=this.sourceCache._source;let _=r.overscaledZ-this.deltaZoom;if(_>m.maxzoom&&(_=m.maxzoom),_<m.minzoom)return null;this._sourceTileCache[r.key]||(this._sourceTileCache[r.key]=r.scaledTo(_).key);let w=this.sourceCache.getTileByID(this._sourceTileCache[r.key]);if((!w||!w.dem)&&u)for(;_>=m.minzoom&&(!w||!w.dem);)w=this.sourceCache.getTileByID(r.scaledTo(_--).key);return w}anyTilesAfterTime(r=Date.now()){return this._lastTilesetChange>=r}_isWithinTileRanges(r,u){return u[r.canonical.z]&&r.canonical.x>=u[r.canonical.z].minTileX&&r.canonical.x<=u[r.canonical.z].maxTileX&&r.canonical.y>=u[r.canonical.z].minTileY&&r.canonical.y<=u[r.canonical.z].maxTileY}}class qo{constructor(r,u,m){this._meshCache={},this.painter=r,this.sourceCache=new ri(u),this.options=m,this.exaggeration=typeof m.exaggeration=="number"?m.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(r,u,m,_=c.$){var w;if(!(u>=0&&u<_&&m>=0&&m<_))return 0;const D=this.getTerrainData(r),k=(w=D.tile)===null||w===void 0?void 0:w.dem;if(!k)return 0;const O=c.cs([],[u/_*c.$,m/_*c.$],D.u_terrain_matrix),N=[O[0]*k.dim,O[1]*k.dim],B=Math.floor(N[0]),Z=Math.floor(N[1]),G=N[0]-B,J=N[1]-Z;return k.get(B,Z)*(1-G)*(1-J)+k.get(B+1,Z)*G*(1-J)+k.get(B,Z+1)*(1-G)*J+k.get(B+1,Z+1)*G*J}getElevationForLngLatZoom(r,u){if(!c.ct(u,r.wrap()))return 0;const{tileID:m,mercatorX:_,mercatorY:w}=this._getOverscaledTileIDFromLngLatZoom(r,u);return this.getElevation(m,_%c.$,w%c.$,c.$)}getElevation(r,u,m,_=c.$){return this.getDEMElevation(r,u,m,_)*this.exaggeration}getTerrainData(r){if(!this._emptyDemTexture){const _=this.painter.context,w=new c.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new c.T(_,w,_.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new c.T(_,new c.R({width:1,height:1}),_.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(_.gl.NEAREST,_.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=c.ag([])}const u=this.sourceCache.getSourceTile(r,!0);if(u&&u.dem&&(!u.demTexture||u.needsTerrainPrepare)){const _=this.painter.context;u.demTexture=this.painter.getTileTexture(u.dem.stride),u.demTexture?u.demTexture.update(u.dem.getPixels(),{premultiply:!1}):u.demTexture=new c.T(_,u.dem.getPixels(),_.gl.RGBA,{premultiply:!1}),u.demTexture.bind(_.gl.NEAREST,_.gl.CLAMP_TO_EDGE),u.needsTerrainPrepare=!1}const m=u&&u+u.tileID.key+r.key;if(m&&!this._demMatrixCache[m]){const _=this.sourceCache.sourceCache._source.maxzoom;let w=r.canonical.z-u.tileID.canonical.z;r.overscaledZ>r.canonical.z&&(r.canonical.z>=_?w=r.canonical.z-_:c.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const D=r.canonical.x-(r.canonical.x>>w<<w),k=r.canonical.y-(r.canonical.y>>w<<w),O=c.cu(new Float64Array(16),[1/(c.$<<w),1/(c.$<<w),0]);c.M(O,O,[D*c.$,k*c.$,0]),this._demMatrixCache[r.key]={matrix:O,coord:r}}return{u_depth:2,u_terrain:3,u_terrain_dim:u&&u.dem&&u.dem.dim||1,u_terrain_matrix:m?this._demMatrixCache[r.key].matrix:this._emptyDemMatrix,u_terrain_unpack:u&&u.dem&&u.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(u&&u.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:u}}getFramebuffer(r){const u=this.painter,m=u.width/devicePixelRatio,_=u.height/devicePixelRatio;return!this._fbo||this._fbo.width===m&&this._fbo.height===_||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new c.T(u.context,{width:m,height:_,data:null},u.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(u.context.gl.NEAREST,u.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new c.T(u.context,{width:m,height:_,data:null},u.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(u.context.gl.NEAREST,u.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=u.context.createFramebuffer(m,_,!0,!1),this._fbo.depthAttachment.set(u.context.createRenderbuffer(u.context.gl.DEPTH_COMPONENT16,m,_))),this._fbo.colorAttachment.set(r==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const r=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const u=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let w=0,D=0;w<this._coordsTextureSize;w++)for(let k=0;k<this._coordsTextureSize;k++,D+=4)u[D+0]=255&k,u[D+1]=255&w,u[D+2]=k>>8<<4|w>>8,u[D+3]=0;const m=new c.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(u.buffer)),_=new c.T(r,m,r.gl.RGBA,{premultiply:!1});return _.bind(r.gl.NEAREST,r.gl.CLAMP_TO_EDGE),this._coordsTexture=_,_}pointCoordinate(r){this.painter.maybeDrawDepthAndCoords(!0);const u=new Uint8Array(4),m=this.painter.context,_=m.gl,w=Math.round(r.x*this.painter.pixelRatio/devicePixelRatio),D=Math.round(r.y*this.painter.pixelRatio/devicePixelRatio),k=Math.round(this.painter.height/devicePixelRatio);m.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),_.readPixels(w,k-D-1,1,1,_.RGBA,_.UNSIGNED_BYTE,u),m.bindFramebuffer.set(null);const O=u[0]+(u[2]>>4<<8),N=u[1]+((15&u[2])<<8),B=this.coordsIndex[255-u[3]],Z=B&&this.sourceCache.getTileByID(B);if(!Z)return null;const G=this._coordsTextureSize,J=(1<<Z.tileID.canonical.z)*G;return new c.a1((Z.tileID.canonical.x*G+O)/J+Z.tileID.wrap,(Z.tileID.canonical.y*G+N)/J,this.getElevation(Z.tileID,O,N,G))}depthAtPoint(r){const u=new Uint8Array(4),m=this.painter.context,_=m.gl;return m.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),_.readPixels(r.x,this.painter.height/devicePixelRatio-r.y-1,1,1,_.RGBA,_.UNSIGNED_BYTE,u),m.bindFramebuffer.set(null),(u[0]/16777216+u[1]/65536+u[2]/256+u[3])/256}getTerrainMesh(r){var u;const m=((u=this.painter.style.projection)===null||u===void 0?void 0:u.transitionState)>0,_=m&&r.canonical.y===0,w=m&&r.canonical.y===(1<<r.canonical.z)-1,D=`m_${_?"n":""}_${w?"s":""}`;if(this._meshCache[D])return this._meshCache[D];const k=this.painter.context,O=new c.cv,N=new c.aN,B=this.meshSize,Z=c.$/B,G=B*B;for(let be=0;be<=B;be++)for(let Ue=0;Ue<=B;Ue++)O.emplaceBack(Ue*Z,be*Z,0);for(let be=0;be<G;be+=B+1)for(let Ue=0;Ue<B;Ue++)N.emplaceBack(Ue+be,B+Ue+be+1,B+Ue+be+2),N.emplaceBack(Ue+be,B+Ue+be+2,Ue+be+1);const J=O.length,ie=J+(B+1),he=(B+1)*B,fe=_?c.bh:0,me=_?0:1,ve=w?c.bi:c.$,we=w?0:1;for(let be=0;be<=B;be++)O.emplaceBack(be*Z,fe,me);for(let be=0;be<=B;be++)O.emplaceBack(be*Z,ve,we);for(let be=0;be<B;be++)N.emplaceBack(he+be,ie+be,ie+be+1),N.emplaceBack(he+be,ie+be+1,he+be+1),N.emplaceBack(0+be,J+be+1,J+be),N.emplaceBack(0+be,0+be+1,J+be+1);const _e=O.length,Ae=_e+2*(B+1);for(const be of[0,1])for(let Ue=0;Ue<=B;Ue++)for(const Qe of[0,1])O.emplaceBack(be*c.$,Ue*Z,Qe);for(let be=0;be<2*B;be+=2)N.emplaceBack(_e+be,_e+be+1,_e+be+3),N.emplaceBack(_e+be,_e+be+3,_e+be+2),N.emplaceBack(Ae+be,Ae+be+3,Ae+be+1),N.emplaceBack(Ae+be,Ae+be+2,Ae+be+3);const Ee=new zs(k.createVertexBuffer(O,Zh.members),k.createIndexBuffer(N),c.aM.simpleSegment(0,0,O.length,N.length));return this._meshCache[D]=Ee,Ee}getMeshFrameDelta(r){return 2*Math.PI*c.bu/Math.pow(2,Math.max(r,0))/5}getMinTileElevationForLngLatZoom(r,u){var m;const{tileID:_}=this._getOverscaledTileIDFromLngLatZoom(r,u);return(m=this.getMinMaxElevation(_).minElevation)!==null&&m!==void 0?m:0}getMinMaxElevation(r){const u=this.getTerrainData(r).tile,m={minElevation:null,maxElevation:null};return u&&u.dem&&(m.minElevation=u.dem.min*this.exaggeration,m.maxElevation=u.dem.max*this.exaggeration),m}_getOverscaledTileIDFromLngLatZoom(r,u){const m=c.a1.fromLngLat(r.wrap()),_=(1<<u)*c.$,w=m.x*_,D=m.y*_,k=Math.floor(w/c.$),O=Math.floor(D/c.$);return{tileID:new c.Z(u,0,u,k,O),mercatorX:w,mercatorY:D}}}class qt{constructor(r,u,m){this._context=r,this._size=u,this._tileSize=m,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const r of this._objects)r.texture.destroy(),r.fbo.destroy()}_createObject(r){const u=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),m=new c.T(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return m.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),this._context.extTextureFilterAnisotropic&&this._context.gl.texParameterf(this._context.gl.TEXTURE_2D,this._context.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,this._context.extTextureFilterAnisotropicMax),u.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),u.colorAttachment.set(m.texture),{id:r,fbo:u,texture:m,stamp:-1,inUse:!1}}getObjectForId(r){return this._objects[r]}useObject(r){r.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter((u=>r.id!==u)),this._recentlyUsed.push(r.id)}stampObject(r){r.stamp=++this._stamp}getOrCreateFreeObject(){for(const u of this._recentlyUsed)if(!this._objects[u].inUse)return this._objects[u];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const r=this._createObject(this._objects.length);return this._objects.push(r),r}freeObject(r){r.inUse=!1}freeAllObjects(){for(const r of this._objects)this.freeObject(r)}isFull(){return!(this._objects.length<this._size)&&this._objects.some((r=>!r.inUse))===!1}}const Yt={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0,"color-relief":!0};class ds{constructor(r,u){this.painter=r,this.terrain=u,this.pool=new qt(r.context,30,u.sourceCache.tileSize*u.qualityFactor)}destruct(){this.pool.destruct()}getTexture(r){return this.pool.getObjectForId(r.rtt[this._stacks.length-1].id).texture}prepareForRender(r,u){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=r._order.filter((m=>!r._layers[m].isHidden(u))),this._coordsAscending={};for(const m in r.sourceCaches){this._coordsAscending[m]={};const _=r.sourceCaches[m].getVisibleCoordinates(),w=r.sourceCaches[m].getSource(),D=w instanceof Kn?w.terrainTileRanges:null;for(const k of _){const O=this.terrain.sourceCache.getTerrainCoords(k,D);for(const N in O)this._coordsAscending[m][N]||(this._coordsAscending[m][N]=[]),this._coordsAscending[m][N].push(O[N])}}this._coordsAscendingStr={};for(const m of r._order){const _=r._layers[m],w=_.source;if(Yt[_.type]&&!this._coordsAscendingStr[w]){this._coordsAscendingStr[w]={};for(const D in this._coordsAscending[w])this._coordsAscendingStr[w][D]=this._coordsAscending[w][D].map((k=>k.key)).sort().join()}}for(const m of this._renderableTiles)for(const _ in this._coordsAscendingStr){const w=this._coordsAscendingStr[_][m.tileID.key];w&&w!==m.rttCoords[_]&&(m.rtt=[])}}renderLayer(r,u){if(r.isHidden(this.painter.transform.zoom))return!1;const m=Object.assign(Object.assign({},u),{isRenderingToTexture:!0}),_=r.type,w=this.painter,D=this._renderableLayerIds[this._renderableLayerIds.length-1]===r.id;if(Yt[_]&&(this._prevType&&Yt[this._prevType]||this._stacks.push([]),this._prevType=_,this._stacks[this._stacks.length-1].push(r.id),!D))return!0;if(Yt[this._prevType]||Yt[_]&&D){this._prevType=_;const k=this._stacks.length-1,O=this._stacks[k]||[];for(const N of this._renderableTiles){if(this.pool.isFull()&&(yi(this.painter,this.terrain,this._rttTiles,m),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(N),N.rtt[k]){const Z=this.pool.getObjectForId(N.rtt[k].id);if(Z.stamp===N.rtt[k].stamp){this.pool.useObject(Z);continue}}const B=this.pool.getOrCreateFreeObject();this.pool.useObject(B),this.pool.stampObject(B),N.rtt[k]={id:B.id,stamp:B.stamp},w.context.bindFramebuffer.set(B.fbo.framebuffer),w.context.clear({color:c.bf.transparent,stencil:0}),w.currentStencilSource=void 0;for(let Z=0;Z<O.length;Z++){const G=w.style._layers[O[Z]],J=G.source?this._coordsAscending[G.source][N.tileID.key]:[N.tileID];w.context.viewport.set([0,0,B.fbo.width,B.fbo.height]),w._renderTileClippingMasks(G,J,!0),w.renderLayer(w,w.style.sourceCaches[G.source],G,J,m),G.source&&(N.rttCoords[G.source]=this._coordsAscendingStr[G.source][N.tileID.key])}}return yi(this.painter,this.terrain,this._rttTiles,m),this._rttTiles=[],this.pool.freeAllObjects(),Yt[_]}return!1}}const rd={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","Map.Title":"Map","Marker.Title":"Map marker","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","Popup.Close":"Close popup","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","GlobeControl.Enable":"Enable globe","GlobeControl.Disable":"Disable globe","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use ⌘ + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},wn=A,ma={hash:!1,interactive:!0,bearingSnap:7,attributionControl:mo,maplibreLogo:!1,refreshExpiredTiles:!0,canvasContextAttributes:{antialias:!1,preserveDrawingBuffer:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1,desynchronized:!1,contextType:void 0},scrollZoom:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,trackResize:!0,center:[0,0],elevation:0,zoom:0,bearing:0,pitch:0,roll:0,renderWorldCopies:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:c.a.MAX_TILE_CACHE_ZOOM_LEVELS,transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,clickTolerance:3,localIdeographFontFamily:"sans-serif",pitchWithRotate:!0,rollEnabled:!1,validateStyle:!0,maxCanvasSize:[4096,4096],cancelPendingTileRequestsWhileZooming:!0,centerClampedToGround:!0},Yh={showCompass:!0,showZoom:!0,visualizePitch:!1,visualizeRoll:!0};class Xi{constructor(r,u,m=!1){this.mousedown=w=>{this.startMove(w,U.mousePos(this.element,w)),U.addEventListener(window,"mousemove",this.mousemove),U.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=w=>{this.move(w,U.mousePos(this.element,w))},this.mouseup=w=>{this._rotatePitchHandler.dragEnd(w),this.offTemp()},this.touchstart=w=>{w.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=U.touchPos(this.element,w.targetTouches)[0],this.startMove(w,this._startPos),U.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),U.addEventListener(window,"touchend",this.touchend))},this.touchmove=w=>{w.targetTouches.length!==1?this.reset():(this._lastPos=U.touchPos(this.element,w.targetTouches)[0],this.move(w,this._lastPos))},this.touchend=w=>{w.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this._rotatePitchHandler.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10,this.element=u;const _=new Bh;this._rotatePitchHandler=new ei({clickTolerance:3,move:(w,D)=>{const k=u.getBoundingClientRect(),O=new c.P((k.bottom-k.top)/2,(k.right-k.left)/2);return{bearingDelta:c.cn(new c.P(w.x,D.y),D,O),pitchDelta:m?-.5*(D.y-w.y):void 0}},moveStateManager:_,enable:!0,assignEvents:()=>{}}),this.map=r,U.addEventListener(u,"mousedown",this.mousedown),U.addEventListener(u,"touchstart",this.touchstart,{passive:!1}),U.addEventListener(u,"touchcancel",this.reset)}startMove(r,u){this._rotatePitchHandler.dragStart(r,u),U.disableDrag()}move(r,u){const m=this.map,{bearingDelta:_,pitchDelta:w}=this._rotatePitchHandler.dragMove(r,u)||{};_&&m.setBearing(m.getBearing()+_),w&&m.setPitch(m.getPitch()+w)}off(){const r=this.element;U.removeEventListener(r,"mousedown",this.mousedown),U.removeEventListener(r,"touchstart",this.touchstart,{passive:!1}),U.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),U.removeEventListener(window,"touchend",this.touchend),U.removeEventListener(r,"touchcancel",this.reset),this.offTemp()}offTemp(){U.enableDrag(),U.removeEventListener(window,"mousemove",this.mousemove),U.removeEventListener(window,"mouseup",this.mouseup),U.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),U.removeEventListener(window,"touchend",this.touchend)}}let Js;function qc(b,r,u,m=!1){if(m||!u.getCoveringTilesDetailsProvider().allowWorldCopies())return b?.wrap();const _=new c.S(b.lng,b.lat);if(b=new c.S(b.lng,b.lat),r){const w=new c.S(b.lng-360,b.lat),D=new c.S(b.lng+360,b.lat),k=u.locationToScreenPoint(b).distSqr(r);u.locationToScreenPoint(w).distSqr(r)<k?b=w:u.locationToScreenPoint(D).distSqr(r)<k&&(b=D)}for(;Math.abs(b.lng-u.center.lng)>180;){const w=u.locationToScreenPoint(b);if(w.x>=0&&w.y>=0&&w.x<=u.width&&w.y<=u.height)break;b.lng>u.center.lng?b.lng-=360:b.lng+=360}return b.lng!==_.lng&&u.isPointOnMapSurface(u.locationToScreenPoint(b))?b:_}const tn={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Pn(b,r,u){const m=b.classList;for(const _ in tn)m.remove(`maplibregl-${u}-anchor-${_}`);m.add(`maplibregl-${u}-anchor-${r}`)}class $c extends c.E{constructor(r){if(super(),this._onKeyPress=u=>{const m=u.code,_=u.charCode||u.keyCode;m!=="Space"&&m!=="Enter"&&_!==32&&_!==13||this.togglePopup()},this._onMapClick=u=>{const m=u.originalEvent.target,_=this._element;this._popup&&(m===_||_.contains(m))&&this.togglePopup()},this._update=u=>{if(!this._map)return;const m=this._map.loaded()&&!this._map.isMoving();(u?.type==="terrain"||u?.type==="render"&&!m)&&this._map.once("render",this._update),this._lngLat=qc(this._lngLat,this._flatPos,this._map.transform),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationToScreenPoint(this._lngLat)._add(this._offset));let _="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?_=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(_=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let w="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?w="rotateX(0deg)":this._pitchAlignment==="map"&&(w=`rotateX(${this._map.getPitch()}deg)`),this._subpixelPositioning||u&&u.type!=="moveend"||(this._pos=this._pos.round()),U.setTransform(this._element,`${tn[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${w} ${_}`),L.frameAsync(new AbortController).then((()=>{this._updateOpacity(u&&u.type==="moveend")})).catch((()=>{}))},this._onMove=u=>{if(!this._isDragging){const m=this._clickTolerance||this._map._clickTolerance;this._isDragging=u.point.dist(this._pointerdownPos)>=m}this._isDragging&&(this._pos=u.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new c.l("dragstart"))),this.fire(new c.l("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new c.l("dragend")),this._state="inactive"},this._addDragHandler=u=>{this._element.contains(u.originalEvent.target)&&(u.preventDefault(),this._positionDelta=u.point.sub(this._pos).add(this._offset),this._pointerdownPos=u.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=r&&r.anchor||"center",this._color=r&&r.color||"#3FB1CE",this._scale=r&&r.scale||1,this._draggable=r&&r.draggable||!1,this._clickTolerance=r&&r.clickTolerance||0,this._subpixelPositioning=r&&r.subpixelPositioning||!1,this._isDragging=!1,this._state="inactive",this._rotation=r&&r.rotation||0,this._rotationAlignment=r&&r.rotationAlignment||"auto",this._pitchAlignment=r&&r.pitchAlignment&&r.pitchAlignment!=="auto"?r.pitchAlignment:this._rotationAlignment,this.setOpacity(r?.opacity,r?.opacityWhenCovered),r&&r.element)this._element=r.element,this._offset=c.P.convert(r&&r.offset||[0,0]);else{this._defaultMarker=!0,this._element=U.create("div");const u=U.createNS("http://www.w3.org/2000/svg","svg"),m=41,_=27;u.setAttributeNS(null,"display","block"),u.setAttributeNS(null,"height",`${m}px`),u.setAttributeNS(null,"width",`${_}px`),u.setAttributeNS(null,"viewBox",`0 0 ${_} ${m}`);const w=U.createNS("http://www.w3.org/2000/svg","g");w.setAttributeNS(null,"stroke","none"),w.setAttributeNS(null,"stroke-width","1"),w.setAttributeNS(null,"fill","none"),w.setAttributeNS(null,"fill-rule","evenodd");const D=U.createNS("http://www.w3.org/2000/svg","g");D.setAttributeNS(null,"fill-rule","nonzero");const k=U.createNS("http://www.w3.org/2000/svg","g");k.setAttributeNS(null,"transform","translate(3.0, 29.0)"),k.setAttributeNS(null,"fill","#000000");const O=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const me of O){const ve=U.createNS("http://www.w3.org/2000/svg","ellipse");ve.setAttributeNS(null,"opacity","0.04"),ve.setAttributeNS(null,"cx","10.5"),ve.setAttributeNS(null,"cy","5.80029008"),ve.setAttributeNS(null,"rx",me.rx),ve.setAttributeNS(null,"ry",me.ry),k.appendChild(ve)}const N=U.createNS("http://www.w3.org/2000/svg","g");N.setAttributeNS(null,"fill",this._color);const B=U.createNS("http://www.w3.org/2000/svg","path");B.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),N.appendChild(B);const Z=U.createNS("http://www.w3.org/2000/svg","g");Z.setAttributeNS(null,"opacity","0.25"),Z.setAttributeNS(null,"fill","#000000");const G=U.createNS("http://www.w3.org/2000/svg","path");G.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Z.appendChild(G);const J=U.createNS("http://www.w3.org/2000/svg","g");J.setAttributeNS(null,"transform","translate(6.0, 7.0)"),J.setAttributeNS(null,"fill","#FFFFFF");const ie=U.createNS("http://www.w3.org/2000/svg","g");ie.setAttributeNS(null,"transform","translate(8.0, 8.0)");const he=U.createNS("http://www.w3.org/2000/svg","circle");he.setAttributeNS(null,"fill","#000000"),he.setAttributeNS(null,"opacity","0.25"),he.setAttributeNS(null,"cx","5.5"),he.setAttributeNS(null,"cy","5.5"),he.setAttributeNS(null,"r","5.4999962");const fe=U.createNS("http://www.w3.org/2000/svg","circle");fe.setAttributeNS(null,"fill","#FFFFFF"),fe.setAttributeNS(null,"cx","5.5"),fe.setAttributeNS(null,"cy","5.5"),fe.setAttributeNS(null,"r","5.4999962"),ie.appendChild(he),ie.appendChild(fe),D.appendChild(k),D.appendChild(N),D.appendChild(Z),D.appendChild(J),D.appendChild(ie),u.appendChild(D),u.setAttributeNS(null,"height",m*this._scale+"px"),u.setAttributeNS(null,"width",_*this._scale+"px"),this._element.appendChild(u),this._offset=c.P.convert(r&&r.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",(u=>{u.preventDefault()})),this._element.addEventListener("mousedown",(u=>{u.preventDefault()})),Pn(this._element,this._anchor,"marker"),r&&r.className)for(const u of r.className.split(" "))this._element.classList.add(u);this._popup=null}addTo(r){return this.remove(),this._map=r,this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label",r._getUIString("Marker.Title")),r.getCanvasContainer().appendChild(this._element),r.on("move",this._update),r.on("moveend",this._update),r.on("terrain",this._update),r.on("projectiontransition",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("terrain",this._update),this._map.off("projectiontransition",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),U.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(r){return this._lngLat=c.S.convert(r),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(r){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),r){if(!("offset"in r.options)){const _=Math.abs(13.5)/Math.SQRT2;r.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[_,-1*(38.1-13.5+_)],"bottom-right":[-_,-1*(38.1-13.5+_)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=r,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}setSubpixelPositioning(r){return this._subpixelPositioning=r,this}getPopup(){return this._popup}togglePopup(){const r=this._popup;return this._element.style.opacity===this._opacityWhenCovered?this:r?(r.isOpen()?r.remove():(r.setLngLat(this._lngLat),r.addTo(this._map)),this):this}_updateOpacity(r=!1){var u,m;const _=(u=this._map)===null||u===void 0?void 0:u.terrain,w=this._map.transform.isLocationOccluded(this._lngLat);if(!_||w){const J=w?this._opacityWhenCovered:this._opacity;return void(this._element.style.opacity!==J&&(this._element.style.opacity=J))}if(r)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout((()=>{this._opacityTimeout=null}),100)}const D=this._map,k=D.terrain.depthAtPoint(this._pos),O=D.terrain.getElevationForLngLatZoom(this._lngLat,D.transform.tileZoom);if(D.transform.lngLatToCameraDepth(this._lngLat,O)-k<.006)return void(this._element.style.opacity=this._opacity);const N=-this._offset.y/D.transform.pixelsPerMeter,B=Math.sin(D.getPitch()*Math.PI/180)*N,Z=D.terrain.depthAtPoint(new c.P(this._pos.x,this._pos.y-this._offset.y)),G=D.transform.lngLatToCameraDepth(this._lngLat,O+B)-Z>.006;!((m=this._popup)===null||m===void 0)&&m.isOpen()&&G&&this._popup.remove(),this._element.style.opacity=G?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(r){return this._offset=c.P.convert(r),this._update(),this}addClassName(r){this._element.classList.add(r)}removeClassName(r){this._element.classList.remove(r)}toggleClassName(r){return this._element.classList.toggle(r)}setDraggable(r){return this._draggable=!!r,this._map&&(r?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(r){return this._rotation=r||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(r){return this._rotationAlignment=r||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(r){return this._pitchAlignment=r&&r!=="auto"?r:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(r,u){return(this._opacity===void 0||r===void 0&&u===void 0)&&(this._opacity="1",this._opacityWhenCovered="0.2"),r!==void 0&&(this._opacity=r),u!==void 0&&(this._opacityWhenCovered=u),this._map&&this._updateOpacity(!0),this}}const ya={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let un=0,ps=!1;const Nl={maxWidth:100,unit:"metric"};function jl(b,r,u){const m=u&&u.maxWidth||100,_=b._container.clientHeight/2,w=b._container.clientWidth/2,D=b.unproject([w-m/2,_]),k=b.unproject([w+m/2,_]),O=Math.round(b.project(k).x-b.project(D).x),N=Math.min(m,O,b._container.clientWidth),B=D.distanceTo(k);if(u&&u.unit==="imperial"){const Z=3.2808*B;Z>5280?yo(r,N,Z/5280,b._getUIString("ScaleControl.Miles")):yo(r,N,Z,b._getUIString("ScaleControl.Feet"))}else u&&u.unit==="nautical"?yo(r,N,B/1852,b._getUIString("ScaleControl.NauticalMiles")):B>=1e3?yo(r,N,B/1e3,b._getUIString("ScaleControl.Kilometers")):yo(r,N,B,b._getUIString("ScaleControl.Meters"))}function yo(b,r,u,m){const _=(function(w){const D=Math.pow(10,`${Math.floor(w)}`.length-1);let k=w/D;return k=k>=10?10:k>=5?5:k>=3?3:k>=2?2:k>=1?1:(function(O){const N=Math.pow(10,Math.ceil(-Math.log(O)/Math.LN10));return Math.round(O*N)/N})(k),D*k})(u);b.style.width=r*(_/u)+"px",b.innerHTML=`${_}&nbsp;${m}`}const go={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1,locationOccludedOpacity:void 0},Hc=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Vc(b){if(b){if(typeof b=="number"){const r=Math.round(Math.abs(b)/Math.SQRT2);return{center:new c.P(0,0),top:new c.P(0,b),"top-left":new c.P(r,r),"top-right":new c.P(-r,r),bottom:new c.P(0,-b),"bottom-left":new c.P(r,-r),"bottom-right":new c.P(-r,-r),left:new c.P(b,0),right:new c.P(-b,0)}}if(b instanceof c.P||Array.isArray(b)){const r=c.P.convert(b);return{center:r,top:r,"top-left":r,"top-right":r,bottom:r,"bottom-left":r,"bottom-right":r,left:r,right:r}}return{center:c.P.convert(b.center||[0,0]),top:c.P.convert(b.top||[0,0]),"top-left":c.P.convert(b["top-left"]||[0,0]),"top-right":c.P.convert(b["top-right"]||[0,0]),bottom:c.P.convert(b.bottom||[0,0]),"bottom-left":c.P.convert(b["bottom-left"]||[0,0]),"bottom-right":c.P.convert(b["bottom-right"]||[0,0]),left:c.P.convert(b.left||[0,0]),right:c.P.convert(b.right||[0,0])}}return Vc(new c.P(0,0))}const $u=A;y.AJAXError=c.cz,y.Event=c.l,y.Evented=c.E,y.LngLat=c.S,y.MercatorCoordinate=c.a1,y.Point=c.P,y.addProtocol=c.cA,y.config=c.a,y.removeProtocol=c.cB,y.AttributionControl=wr,y.BoxZoomHandler=Ol,y.CanvasSource=xa,y.CooperativeGesturesHandler=ed,y.DoubleClickZoomHandler=Nc,y.DragPanHandler=Fl,y.DragRotateHandler=jc,y.EdgeInsets=rs,y.FullscreenControl=class extends c.E{constructor(b={}){super(),this._onFullscreenChange=()=>{var r;let u=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;!((r=u?.shadowRoot)===null||r===void 0)&&r.fullscreenElement;)u=u.shadowRoot.fullscreenElement;u===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,b&&b.container&&(b.container instanceof HTMLElement?this._container=b.container:c.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(b){return this._map=b,this._container||(this._container=this._map.getContainer()),this._controlContainer=U.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){U.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const b=this._fullscreenButton=U.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);U.create("span","maplibregl-ctrl-icon",b).setAttribute("aria-hidden","true"),b.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const b=this._getTitle();this._fullscreenButton.setAttribute("aria-label",b),this._fullscreenButton.title=b}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new c.l("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new c.l("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},y.GeoJSONSource=Bn,y.GeolocateControl=class extends c.E{constructor(b){super(),this._onSuccess=r=>{if(this._map){if(this._isOutOfMapMaxBounds(r))return this._setErrorState(),this.fire(new c.l("outofmaxbounds",r)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=r,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(r),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(r),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new c.l("geolocate",r)),this._finish()}},this._updateCamera=r=>{const u=new c.S(r.coords.longitude,r.coords.latitude),m=r.coords.accuracy,_=this._map.getBearing(),w=c.e({bearing:_},this.options.fitBoundsOptions),D=jt.fromLngLat(u,m);this._map.fitBounds(D,w,{geolocateSource:!0})},this._updateMarker=r=>{if(r){const u=new c.S(r.coords.longitude,r.coords.latitude);this._accuracyCircleMarker.setLngLat(u).addTo(this._map),this._userLocationDotMarker.setLngLat(u).addTo(this._map),this._accuracy=r.coords.accuracy,this._updateCircleRadiusIfNeeded()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onUpdate=()=>{this._updateCircleRadiusIfNeeded()},this._onError=r=>{if(this._map){if(r.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const u=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=u,this._geolocateButton.setAttribute("aria-label",u),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(r.code===3&&ps)return;this.options.trackUserLocation&&this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new c.l("error",r)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=()=>{this._map&&(this._container.addEventListener("contextmenu",(r=>r.preventDefault())),this._geolocateButton=U.create("button","maplibregl-ctrl-geolocate",this._container),U.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",this._geolocateButton.disabled=!0)},this._finishSetupUI=r=>{if(this._map){if(r===!1){c.w("Geolocation support is not available so the GeolocateControl will be disabled.");const u=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=u,this._geolocateButton.setAttribute("aria-label",u)}else{const u=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.disabled=!1,this._geolocateButton.title=u,this._geolocateButton.setAttribute("aria-label",u)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=U.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new $c({element:this._dotElement}),this._circleElement=U.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new $c({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onUpdate),this._map.on("move",this._onUpdate),this._map.on("rotate",this._onUpdate),this._map.on("pitch",this._onUpdate)),this._geolocateButton.addEventListener("click",(()=>this.trigger())),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(u=>{const m=u?.[0]instanceof ResizeObserverEntry;u.geolocateSource||this._watchState!=="ACTIVE_LOCK"||m||this._map.isZooming()||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new c.l("trackuserlocationend")),this.fire(new c.l("userlocationlostfocus")))}))}},this.options=c.e({},ya,b)}onAdd(b){return this._map=b,this._container=U.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),(function(){return c._(this,arguments,void 0,(function*(r=!1){if(Js!==void 0&&!r)return Js;if(window.navigator.permissions===void 0)return Js=!!window.navigator.geolocation,Js;try{Js=(yield window.navigator.permissions.query({name:"geolocation"})).state!=="denied"}catch{Js=!!window.navigator.geolocation}return Js}))})().then((r=>this._finishSetupUI(r))),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),U.remove(this._container),this._map.off("zoom",this._onUpdate),this._map.off("move",this._onUpdate),this._map.off("rotate",this._onUpdate),this._map.off("pitch",this._onUpdate),this._map=void 0,un=0,ps=!1}_isOutOfMapMaxBounds(b){const r=this._map.getMaxBounds(),u=b.coords;return r&&(u.longitude<r.getWest()||u.longitude>r.getEast()||u.latitude<r.getSouth()||u.latitude>r.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadiusIfNeeded(){const b=this._userLocationDotMarker.getLngLat();if(!(this.options.showUserLocation&&this.options.showAccuracyCircle&&this._accuracy&&b))return;const r=this._map.project(b),u=this._map.unproject([r.x+100,r.y]),m=b.distanceTo(u)/100,_=2*this._accuracy/m;this._circleElement.style.width=`${_.toFixed(2)}px`,this._circleElement.style.height=`${_.toFixed(2)}px`}trigger(){if(!this._setup)return c.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new c.l("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":un--,ps=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new c.l("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new c.l("trackuserlocationstart")),this.fire(new c.l("userlocationfocus"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let b;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),un++,un>1?(b={maximumAge:6e5,timeout:0},ps=!0):(b=this.options.positionOptions,ps=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,b)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},y.GlobeControl=class{constructor(){this._toggleProjection=()=>{var b;const r=(b=this._map.getProjection())===null||b===void 0?void 0:b.type;this._map.setProjection(r!=="mercator"&&r?{type:"mercator"}:{type:"globe"}),this._updateGlobeIcon()},this._updateGlobeIcon=()=>{var b;this._globeButton.classList.remove("maplibregl-ctrl-globe"),this._globeButton.classList.remove("maplibregl-ctrl-globe-enabled"),((b=this._map.getProjection())===null||b===void 0?void 0:b.type)==="globe"?(this._globeButton.classList.add("maplibregl-ctrl-globe-enabled"),this._globeButton.title=this._map._getUIString("GlobeControl.Disable")):(this._globeButton.classList.add("maplibregl-ctrl-globe"),this._globeButton.title=this._map._getUIString("GlobeControl.Enable"))}}onAdd(b){return this._map=b,this._container=U.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._globeButton=U.create("button","maplibregl-ctrl-globe",this._container),U.create("span","maplibregl-ctrl-icon",this._globeButton).setAttribute("aria-hidden","true"),this._globeButton.type="button",this._globeButton.addEventListener("click",this._toggleProjection),this._updateGlobeIcon(),this._map.on("styledata",this._updateGlobeIcon),this._container}onRemove(){U.remove(this._container),this._map.off("styledata",this._updateGlobeIcon),this._globeButton.removeEventListener("click",this._toggleProjection),this._map=void 0}},y.Hash=Ka,y.ImageSource=Kn,y.KeyboardHandler=fr,y.LngLatBounds=jt,y.LogoControl=Hr,y.Map=class extends Bc{constructor(b){var r,u;c.cw.mark(c.cx.create);const m=Object.assign(Object.assign(Object.assign({},ma),b),{canvasContextAttributes:Object.assign(Object.assign({},ma.canvasContextAttributes),b.canvasContextAttributes)});if(m.minZoom!=null&&m.maxZoom!=null&&m.minZoom>m.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(m.minPitch!=null&&m.maxPitch!=null&&m.minPitch>m.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(m.minPitch!=null&&m.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(m.maxPitch!=null&&m.maxPitch>180)throw new Error("maxPitch must be less than or equal to 180");const _=new Nr,w=new En;if(m.minZoom!==void 0&&_.setMinZoom(m.minZoom),m.maxZoom!==void 0&&_.setMaxZoom(m.maxZoom),m.minPitch!==void 0&&_.setMinPitch(m.minPitch),m.maxPitch!==void 0&&_.setMaxPitch(m.maxPitch),m.renderWorldCopies!==void 0&&_.setRenderWorldCopies(m.renderWorldCopies),super(_,w,{bearingSnap:m.bearingSnap}),this._idleTriggered=!1,this._crossFadingFactor=1,this._renderTaskQueue=new Vn,this._controls=[],this._mapId=c.a7(),this._contextLost=k=>{k.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.fire(new c.l("webglcontextlost",{originalEvent:k}))},this._contextRestored=k=>{this._setupPainter(),this.resize(),this._update(),this.fire(new c.l("webglcontextrestored",{originalEvent:k}))},this._onMapScroll=k=>{if(k.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=m.interactive,this._maxTileCacheSize=m.maxTileCacheSize,this._maxTileCacheZoomLevels=m.maxTileCacheZoomLevels,this._canvasContextAttributes=Object.assign({},m.canvasContextAttributes),this._trackResize=m.trackResize===!0,this._bearingSnap=m.bearingSnap,this._centerClampedToGround=m.centerClampedToGround,this._refreshExpiredTiles=m.refreshExpiredTiles===!0,this._fadeDuration=m.fadeDuration,this._crossSourceCollisions=m.crossSourceCollisions===!0,this._collectResourceTiming=m.collectResourceTiming===!0,this._locale=Object.assign(Object.assign({},rd),m.locale),this._clickTolerance=m.clickTolerance,this._overridePixelRatio=m.pixelRatio,this._maxCanvasSize=m.maxCanvasSize,this.transformCameraUpdate=m.transformCameraUpdate,this.cancelPendingTileRequestsWhileZooming=m.cancelPendingTileRequestsWhileZooming===!0,this._imageQueueHandle=pe.addThrottleControl((()=>this.isMoving())),this._requestManager=new de(m.transformRequest),typeof m.container=="string"){if(this._container=document.getElementById(m.container),!this._container)throw new Error(`Container '${m.container}' not found.`)}else{if(!(m.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=m.container}if(m.maxBounds&&this.setMaxBounds(m.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",(()=>this._update(!1))),this.on("moveend",(()=>this._update(!1))),this.on("zoom",(()=>this._update(!0))),this.on("terrain",(()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)})),this.once("idle",(()=>{this._idleTriggered=!0})),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let k=!1;const O=cs((N=>{this._trackResize&&!this._removed&&(this.resize(N),this.redraw())}),50);this._resizeObserver=new ResizeObserver((N=>{k?O(N):k=!0})),this._resizeObserver.observe(this._container)}this.handlers=new td(this,m),this._hash=m.hash&&new Ka(typeof m.hash=="string"&&m.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:m.center,elevation:m.elevation,zoom:m.zoom,bearing:m.bearing,pitch:m.pitch,roll:m.roll}),m.bounds&&(this.resize(),this.fitBounds(m.bounds,c.e({},m.fitBoundsOptions,{duration:0}))));const D=typeof m.style=="string"||((u=(r=m.style)===null||r===void 0?void 0:r.projection)===null||u===void 0?void 0:u.type)!=="globe";this.resize(null,D),this._localIdeographFontFamily=m.localIdeographFontFamily,this._validateStyle=m.validateStyle,m.style&&this.setStyle(m.style,{localIdeographFontFamily:m.localIdeographFontFamily}),m.attributionControl&&this.addControl(new wr(typeof m.attributionControl=="boolean"?void 0:m.attributionControl)),m.maplibreLogo&&this.addControl(new Hr,m.logoPosition),this.on("style.load",(()=>{if(D||this._resizeTransform(),this.transform.unmodified){const k=c.Q(this.style.stylesheet,["center","zoom","bearing","pitch","roll"]);this.jumpTo(k)}})),this.on("data",(k=>{this._update(k.dataType==="style"),this.fire(new c.l(`${k.dataType}data`,k))})),this.on("dataloading",(k=>{this.fire(new c.l(`${k.dataType}dataloading`,k))})),this.on("dataabort",(k=>{this.fire(new c.l("sourcedataabort",k))}))}_getMapId(){return this._mapId}setGlobalStateProperty(b,r){return this.style.setGlobalStateProperty(b,r),this._update(!0)}getGlobalState(){return this.style.getGlobalState()}addControl(b,r){if(r===void 0&&(r=b.getDefaultPosition?b.getDefaultPosition():"top-right"),!b||!b.onAdd)return this.fire(new c.k(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const u=b.onAdd(this);this._controls.push(b);const m=this._controlPositions[r];return r.indexOf("bottom")!==-1?m.insertBefore(u,m.firstChild):m.appendChild(u),this}removeControl(b){if(!b||!b.onRemove)return this.fire(new c.k(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const r=this._controls.indexOf(b);return r>-1&&this._controls.splice(r,1),b.onRemove(this),this}hasControl(b){return this._controls.indexOf(b)>-1}coveringTiles(b){return ze(this.transform,b)}calculateCameraOptionsFromTo(b,r,u,m){return m==null&&this.terrain&&(m=this.terrain.getElevationForLngLatZoom(u,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(b,r,u,m)}resize(b,r=!0){const[u,m]=this._containerDimensions(),_=this._getClampedPixelRatio(u,m);if(this._resizeCanvas(u,m,_),this.painter.resize(u,m,_),this.painter.overLimit()){const D=this.painter.context.gl;this._maxCanvasSize=[D.drawingBufferWidth,D.drawingBufferHeight];const k=this._getClampedPixelRatio(u,m);this._resizeCanvas(u,m,k),this.painter.resize(u,m,k)}this._resizeTransform(r);const w=!this._moving;return w&&(this.stop(),this.fire(new c.l("movestart",b)).fire(new c.l("move",b))),this.fire(new c.l("resize",b)),w&&this.fire(new c.l("moveend",b)),this}_resizeTransform(b=!0){var r;const[u,m]=this._containerDimensions();this.transform.resize(u,m,b),(r=this._requestedCameraState)===null||r===void 0||r.resize(u,m,b)}_getClampedPixelRatio(b,r){const{0:u,1:m}=this._maxCanvasSize,_=this.getPixelRatio(),w=b*_,D=r*_;return Math.min(w>u?u/w:1,D>m?m/D:1)*_}getPixelRatio(){var b;return(b=this._overridePixelRatio)!==null&&b!==void 0?b:devicePixelRatio}setPixelRatio(b){this._overridePixelRatio=b,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(b){return this.transform.setMaxBounds(jt.convert(b)),this._update()}setMinZoom(b){if((b=b??-2)>=-2&&b<=this.transform.maxZoom)return this.transform.setMinZoom(b),this._update(),this.getZoom()<b&&this.setZoom(b),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(b){if((b=b??22)>=this.transform.minZoom)return this.transform.setMaxZoom(b),this._update(),this.getZoom()>b&&this.setZoom(b),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(b){if((b=b??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(b>=0&&b<=this.transform.maxPitch)return this.transform.setMinPitch(b),this._update(),this.getPitch()<b&&this.setPitch(b),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(b){if((b=b??60)>180)throw new Error("maxPitch must be less than or equal to 180");if(b>=this.transform.minPitch)return this.transform.setMaxPitch(b),this._update(),this.getPitch()>b&&this.setPitch(b),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(b){return this.transform.setRenderWorldCopies(b),this._update()}project(b){return this.transform.locationToScreenPoint(c.S.convert(b),this.style&&this.terrain)}unproject(b){return this.transform.screenPointToLocation(c.P.convert(b),this.terrain)}isMoving(){var b;return this._moving||((b=this.handlers)===null||b===void 0?void 0:b.isMoving())}isZooming(){var b;return this._zooming||((b=this.handlers)===null||b===void 0?void 0:b.isZooming())}isRotating(){var b;return this._rotating||((b=this.handlers)===null||b===void 0?void 0:b.isRotating())}_createDelegatedListener(b,r,u){if(b==="mouseenter"||b==="mouseover"){let m=!1;return{layers:r,listener:u,delegates:{mousemove:w=>{const D=r.filter((O=>this.getLayer(O))),k=D.length!==0?this.queryRenderedFeatures(w.point,{layers:D}):[];k.length?m||(m=!0,u.call(this,new Ja(b,this,w.originalEvent,{features:k}))):m=!1},mouseout:()=>{m=!1}}}}if(b==="mouseleave"||b==="mouseout"){let m=!1;return{layers:r,listener:u,delegates:{mousemove:D=>{const k=r.filter((O=>this.getLayer(O)));(k.length!==0?this.queryRenderedFeatures(D.point,{layers:k}):[]).length?m=!0:m&&(m=!1,u.call(this,new Ja(b,this,D.originalEvent)))},mouseout:D=>{m&&(m=!1,u.call(this,new Ja(b,this,D.originalEvent)))}}}}{const m=_=>{const w=r.filter((k=>this.getLayer(k))),D=w.length!==0?this.queryRenderedFeatures(_.point,{layers:w}):[];D.length&&(_.features=D,u.call(this,_),delete _.features)};return{layers:r,listener:u,delegates:{[b]:m}}}}_saveDelegatedListener(b,r){this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[b]=this._delegatedListeners[b]||[],this._delegatedListeners[b].push(r)}_removeDelegatedListener(b,r,u){if(!this._delegatedListeners||!this._delegatedListeners[b])return;const m=this._delegatedListeners[b];for(let _=0;_<m.length;_++){const w=m[_];if(w.listener===u&&w.layers.length===r.length&&w.layers.every((D=>r.includes(D)))){for(const D in w.delegates)this.off(D,w.delegates[D]);return void m.splice(_,1)}}}on(b,r,u){if(u===void 0)return super.on(b,r);const m=typeof r=="string"?[r]:r,_=this._createDelegatedListener(b,m,u);this._saveDelegatedListener(b,_);for(const w in _.delegates)this.on(w,_.delegates[w]);return{unsubscribe:()=>{this._removeDelegatedListener(b,m,u)}}}once(b,r,u){if(u===void 0)return super.once(b,r);const m=typeof r=="string"?[r]:r,_=this._createDelegatedListener(b,m,u);for(const w in _.delegates){const D=_.delegates[w];_.delegates[w]=(...k)=>{this._removeDelegatedListener(b,m,u),D(...k)}}this._saveDelegatedListener(b,_);for(const w in _.delegates)this.once(w,_.delegates[w]);return this}off(b,r,u){return u===void 0?super.off(b,r):(this._removeDelegatedListener(b,typeof r=="string"?[r]:r,u),this)}queryRenderedFeatures(b,r){if(!this.style)return[];let u;const m=b instanceof c.P||Array.isArray(b),_=m?b:[[0,0],[this.transform.width,this.transform.height]];if(r=r||(m?{}:b)||{},_ instanceof c.P||typeof _[0]=="number")u=[c.P.convert(_)];else{const w=c.P.convert(_[0]),D=c.P.convert(_[1]);u=[w,new c.P(D.x,w.y),D,new c.P(w.x,D.y),w]}return this.style.queryRenderedFeatures(u,r,this.transform)}querySourceFeatures(b,r){return this.style.querySourceFeatures(b,r)}setStyle(b,r){return(r=c.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},r)).diff!==!1&&r.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&b?(this._diffStyle(b,r),this):(this._localIdeographFontFamily=r.localIdeographFontFamily,this._updateStyle(b,r))}setTransformRequest(b){return this._requestManager.setTransformRequest(b),this}_getUIString(b){const r=this._locale[b];if(r==null)throw new Error(`Missing UI string '${b}'`);return r}_updateStyle(b,r){var u,m;if(r.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",(()=>this._updateStyle(b,r)));const _=this.style&&r.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!b)),b?(this.style=new Ff(this,r||{}),this.style.setEventedParent(this,{style:this.style}),typeof b=="string"?this.style.loadURL(b,r,_):this.style.loadJSON(b,r,_),this):((m=(u=this.style)===null||u===void 0?void 0:u.projection)===null||m===void 0||m.destroy(),delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new Ff(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(b,r){if(typeof b=="string"){const u=this._requestManager.transformRequest(b,"Style");c.j(u,new AbortController).then((m=>{this._updateDiff(m.data,r)})).catch((m=>{m&&this.fire(new c.k(m))}))}else typeof b=="object"&&this._updateDiff(b,r)}_updateDiff(b,r){try{this.style.setState(b,r)&&this._update(!0)}catch(u){c.w(`Unable to perform style diff: ${u.message||u.error||u}.  Rebuilding the style from scratch.`),this._updateStyle(b,r)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():c.w("There is no style added to the map.")}addSource(b,r){return this._lazyInitEmptyStyle(),this.style.addSource(b,r),this._update(!0)}isSourceLoaded(b){const r=this.style&&this.style.sourceCaches[b];if(r!==void 0)return r.loaded();this.fire(new c.k(new Error(`There is no source with ID '${b}'`)))}setTerrain(b){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),b){const r=this.style.sourceCaches[b.source];if(!r)throw new Error(`cannot load terrain, because there exists no source with ID: ${b.source}`);this.terrain===null&&r.reload();for(const u in this.style._layers){const m=this.style._layers[u];m.type==="hillshade"&&m.source===b.source&&c.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality."),m.type==="color-relief"&&m.source===b.source&&c.w("You are using the same source for a color-relief layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new qo(this.painter,r,b),this.painter.renderToTexture=new ds(this.painter,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._terrainDataCallback=u=>{var m;u.dataType==="style"?this.terrain.sourceCache.freeRtt():u.dataType==="source"&&u.tile&&(u.sourceId!==b.source||this._elevationFreeze||(this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))),((m=u.source)===null||m===void 0?void 0:m.type)==="image"?this.terrain.sourceCache.freeRtt():this.terrain.sourceCache.freeRtt(u.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0);return this.fire(new c.l("terrain",{terrain:b})),this}getTerrain(){var b,r;return(r=(b=this.terrain)===null||b===void 0?void 0:b.options)!==null&&r!==void 0?r:null}areTilesLoaded(){const b=this.style&&this.style.sourceCaches;for(const r in b){const u=b[r]._tiles;for(const m in u){const _=u[m];if(_.state!=="loaded"&&_.state!=="errored")return!1}}return!0}removeSource(b){return this.style.removeSource(b),this._update(!0)}getSource(b){return this.style.getSource(b)}setSourceTileLodParams(b,r,u){if(u){const m=this.getSource(u);if(!m)throw new Error(`There is no source with ID "${u}", cannot set LOD parameters`);m.calculateTileZoom=St(Math.max(1,b),Math.max(1,r))}else for(const m in this.style.sourceCaches)this.style.sourceCaches[m].getSource().calculateTileZoom=St(Math.max(1,b),Math.max(1,r));return this._update(!0),this}refreshTiles(b,r){const u=this.style.sourceCaches[b];if(!u)throw new Error(`There is no source cache with ID "${b}", cannot refresh tile`);r===void 0?u.reload(!0):u.refreshTiles(r.map((m=>new c.a4(m.z,m.x,m.y))))}addImage(b,r,u={}){const{pixelRatio:m=1,sdf:_=!1,stretchX:w,stretchY:D,content:k,textFitWidth:O,textFitHeight:N}=u;if(this._lazyInitEmptyStyle(),!(r instanceof HTMLImageElement||c.b(r))){if(r.width===void 0||r.height===void 0)return this.fire(new c.k(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:B,height:Z,data:G}=r,J=r;return this.style.addImage(b,{data:new c.R({width:B,height:Z},new Uint8Array(G)),pixelRatio:m,stretchX:w,stretchY:D,content:k,textFitWidth:O,textFitHeight:N,sdf:_,version:0,userImage:J}),J.onAdd&&J.onAdd(this,b),this}}{const{width:B,height:Z,data:G}=L.getImageData(r);this.style.addImage(b,{data:new c.R({width:B,height:Z},G),pixelRatio:m,stretchX:w,stretchY:D,content:k,textFitWidth:O,textFitHeight:N,sdf:_,version:0})}}updateImage(b,r){const u=this.style.getImage(b);if(!u)return this.fire(new c.k(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const m=r instanceof HTMLImageElement||c.b(r)?L.getImageData(r):r,{width:_,height:w,data:D}=m;if(_===void 0||w===void 0)return this.fire(new c.k(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(_!==u.data.width||w!==u.data.height)return this.fire(new c.k(new Error("The width and height of the updated image must be that same as the previous version of the image")));const k=!(r instanceof HTMLImageElement||c.b(r));return u.data.replace(D,k),this.style.updateImage(b,u),this}getImage(b){return this.style.getImage(b)}hasImage(b){return b?!!this.style.getImage(b):(this.fire(new c.k(new Error("Missing required image id"))),!1)}removeImage(b){this.style.removeImage(b)}loadImage(b){return pe.getImage(this._requestManager.transformRequest(b,"Image"),new AbortController)}listImages(){return this.style.listImages()}addLayer(b,r){return this._lazyInitEmptyStyle(),this.style.addLayer(b,r),this._update(!0)}moveLayer(b,r){return this.style.moveLayer(b,r),this._update(!0)}removeLayer(b){return this.style.removeLayer(b),this._update(!0)}getLayer(b){return this.style.getLayer(b)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(b,r,u){return this.style.setLayerZoomRange(b,r,u),this._update(!0)}setFilter(b,r,u={}){return this.style.setFilter(b,r,u),this._update(!0)}getFilter(b){return this.style.getFilter(b)}setPaintProperty(b,r,u,m={}){return this.style.setPaintProperty(b,r,u,m),this._update(!0)}getPaintProperty(b,r){return this.style.getPaintProperty(b,r)}setLayoutProperty(b,r,u,m={}){return this.style.setLayoutProperty(b,r,u,m),this._update(!0)}getLayoutProperty(b,r){return this.style.getLayoutProperty(b,r)}setGlyphs(b,r={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(b,r),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(b,r,u={}){return this._lazyInitEmptyStyle(),this.style.addSprite(b,r,u,(m=>{m||this._update(!0)})),this}removeSprite(b){return this._lazyInitEmptyStyle(),this.style.removeSprite(b),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(b,r={}){return this._lazyInitEmptyStyle(),this.style.setSprite(b,r,(u=>{u||this._update(!0)})),this}setLight(b,r={}){return this._lazyInitEmptyStyle(),this.style.setLight(b,r),this._update(!0)}getLight(){return this.style.getLight()}setSky(b,r={}){return this._lazyInitEmptyStyle(),this.style.setSky(b,r),this._update(!0)}getSky(){return this.style.getSky()}setFeatureState(b,r){return this.style.setFeatureState(b,r),this._update()}removeFeatureState(b,r){return this.style.removeFeatureState(b,r),this._update()}getFeatureState(b){return this.style.getFeatureState(b)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let b=0,r=0;return this._container&&(b=this._container.clientWidth||400,r=this._container.clientHeight||300),[b,r]}_setupContainer(){const b=this._container;b.classList.add("maplibregl-map");const r=this._canvasContainer=U.create("div","maplibregl-canvas-container",b);this._interactive&&r.classList.add("maplibregl-interactive"),this._canvas=U.create("canvas","maplibregl-canvas",r),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",this._interactive?"0":"-1"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region");const u=this._containerDimensions(),m=this._getClampedPixelRatio(u[0],u[1]);this._resizeCanvas(u[0],u[1],m);const _=this._controlContainer=U.create("div","maplibregl-control-container",b),w=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((D=>{w[D]=U.create("div",`maplibregl-ctrl-${D} `,_)})),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(b,r,u){this._canvas.width=Math.floor(u*b),this._canvas.height=Math.floor(u*r),this._canvas.style.width=`${b}px`,this._canvas.style.height=`${r}px`}_setupPainter(){const b=Object.assign(Object.assign({},this._canvasContextAttributes),{alpha:!0,depth:!0,stencil:!0,premultipliedAlpha:!0});let r=null;this._canvas.addEventListener("webglcontextcreationerror",(m=>{r={requestedAttributes:b},m&&(r.statusMessage=m.statusMessage,r.type=m.type)}),{once:!0});let u=null;if(u=this._canvasContextAttributes.contextType?this._canvas.getContext(this._canvasContextAttributes.contextType,b):this._canvas.getContext("webgl2",b)||this._canvas.getContext("webgl",b),!u){const m="Failed to initialize WebGL";throw r?(r.message=m,new Error(JSON.stringify(r))):new Error(m)}this.painter=new Oc(u,this.transform),q.testSupport(u)}migrateProjection(b,r){super.migrateProjection(b,r),this.painter.transform=b,this.fire(new c.l("projectiontransition",{newProjection:this.style.projection.name}))}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(b){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||b,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(b){return this._update(),this._renderTaskQueue.add(b)}_cancelRenderFrame(b){this._renderTaskQueue.remove(b)}_render(b){var r,u,m,_,w;const D=this._idleTriggered?this._fadeDuration:0,k=((r=this.style.projection)===null||r===void 0?void 0:r.transitionState)>0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(b),this._removed)return;let O=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const Z=this.transform.zoom,G=L.now();this.style.zoomHistory.update(Z,G);const J=new c.F(Z,{now:G,fadeDuration:D,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),ie=J.crossFadingFactor();ie===1&&ie===this._crossFadingFactor||(O=!0,this._crossFadingFactor=ie),this.style.update(J)}const N=((u=this.style.projection)===null||u===void 0?void 0:u.transitionState)>0!==k;(m=this.style.projection)===null||m===void 0||m.setErrorQueryLatitudeDegrees(this.transform.center.lat),this.transform.setTransitionState((_=this.style.projection)===null||_===void 0?void 0:_.transitionState,(w=this.style.projection)===null||w===void 0?void 0:w.latitudeErrorCorrectionRadians),this.style&&(this._sourcesDirty||N)&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),!this._elevationFreeze&&this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0)),this._placementDirty=this.style&&this.style._updatePlacement(this.transform,this.showCollisionBoxes,D,this._crossSourceCollisions,N),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:D,showPadding:this.showPadding}),this.fire(new c.l("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,c.cw.mark(c.cx.load),this.fire(new c.l("load"))),this.style&&(this.style.hasTransitions()||O)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const B=this._sourcesDirty||this._styleDirty||this._placementDirty;return B||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new c.l("idle")),!this._loaded||this._fullyLoaded||B||(this._fullyLoaded=!0,c.cw.mark(c.cx.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var b;this._hash&&this._hash.remove();for(const u of this._controls)u.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),pe.removeThrottleControl(this._imageQueueHandle),(b=this._resizeObserver)===null||b===void 0||b.disconnect();const r=this.painter.context.gl.getExtension("WEBGL_lose_context");r?.loseContext&&r.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),U.remove(this._canvasContainer),U.remove(this._controlContainer),this._container.removeEventListener("scroll",this._onMapScroll,!1),this._container.classList.remove("maplibregl-map"),c.cw.clearMetrics(),this._removed=!0,this.fire(new c.l("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,L.frame(this._frameRequest,(b=>{c.cw.frame(b),this._frameRequest=null;try{this._render(b)}catch(r){if(!c.cy(r)&&!(function(u){return u.message===Uu})(r))throw r}}),(()=>{})))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(b){this._showTileBoundaries!==b&&(this._showTileBoundaries=b,this._update())}get showPadding(){return!!this._showPadding}set showPadding(b){this._showPadding!==b&&(this._showPadding=b,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(b){this._showCollisionBoxes!==b&&(this._showCollisionBoxes=b,b?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(b){this._showOverdrawInspector!==b&&(this._showOverdrawInspector=b,this._update())}get repaint(){return!!this._repaint}set repaint(b){this._repaint!==b&&(this._repaint=b,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(b){this._vertices=b,this._update()}get version(){return wn}getCameraTargetElevation(){return this.transform.elevation}getProjection(){return this.style.getProjection()}setProjection(b){return this._lazyInitEmptyStyle(),this.style.setProjection(b),this._update(!0)}},y.MapMouseEvent=Ja,y.MapTouchEvent=Lc,y.MapWheelEvent=Xf,y.Marker=$c,y.NavigationControl=class{constructor(b){this._updateZoomButtons=()=>{const r=this._map.getZoom(),u=r===this._map.getMaxZoom(),m=r===this._map.getMinZoom();this._zoomInButton.disabled=u,this._zoomOutButton.disabled=m,this._zoomInButton.setAttribute("aria-disabled",u.toString()),this._zoomOutButton.setAttribute("aria-disabled",m.toString())},this._rotateCompassArrow=()=>{this._compassIcon.style.transform=this.options.visualizePitch&&this.options.visualizeRoll?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateZ(${-this._map.transform.roll}deg) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizeRoll?`rotate(${-this._map.transform.bearing-this._map.transform.roll}deg)`:`rotate(${-this._map.transform.bearing}deg)`},this._setButtonTitle=(r,u)=>{const m=this._map._getUIString(`NavigationControl.${u}`);r.title=m,r.setAttribute("aria-label",m)},this.options=c.e({},Yh,b),this._container=U.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",(r=>r.preventDefault())),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",(r=>this._map.zoomIn({},{originalEvent:r}))),U.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",(r=>this._map.zoomOut({},{originalEvent:r}))),U.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",(r=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:r}):this._map.resetNorth({},{originalEvent:r})})),this._compassIcon=U.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(b){return this._map=b,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.on("roll",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Xi(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){U.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.off("roll",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(b,r){const u=U.create("button",b,this._container);return u.type="button",u.addEventListener("click",r),u}},y.Popup=class extends c.E{constructor(b){super(),this._updateOpacity=()=>{this.options.locationOccludedOpacity!==void 0&&(this._container.style.opacity=this._map.transform.isLocationOccluded(this.getLngLat())?`${this.options.locationOccludedOpacity}`:"")},this.remove=()=>(this._content&&U.remove(this._content),this._container&&(U.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new c.l("close"))),this),this._onMouseUp=r=>{this._update(r.point)},this._onMouseMove=r=>{this._update(r.point)},this._onDrag=r=>{this._update(r.point)},this._update=r=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=U.create("div","maplibregl-popup",this._map.getContainer()),this._tip=U.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const D of this.options.className.split(" "))this._container.classList.add(D);this._closeButton&&this._closeButton.setAttribute("aria-label",this._map._getUIString("Popup.Close")),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=qc(this._lngLat,this._flatPos,this._map.transform,this._trackPointer),this._trackPointer&&!r)return;const u=this._flatPos=this._pos=this._trackPointer&&r?r:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&r?r:this._map.transform.locationToScreenPoint(this._lngLat));let m=this.options.anchor;const _=Vc(this.options.offset);if(!m){const D=this._container.offsetWidth,k=this._container.offsetHeight;let O;O=u.y+_.bottom.y<k?["top"]:u.y>this._map.transform.height-k?["bottom"]:[],u.x<D/2?O.push("left"):u.x>this._map.transform.width-D/2&&O.push("right"),m=O.length===0?"bottom":O.join("-")}let w=u.add(_[m]);this.options.subpixelPositioning||(w=w.round()),U.setTransform(this._container,`${tn[m]} translate(${w.x}px,${w.y}px)`),Pn(this._container,m,"popup"),this._updateOpacity()},this._onClose=()=>{this.remove()},this.options=c.e(Object.create(go),b)}addTo(b){return this._map&&this.remove(),this._map=b,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new c.l("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(b){return this._lngLat=c.S.convert(b),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(b){return this.setDOMContent(document.createTextNode(b))}setHTML(b){const r=document.createDocumentFragment(),u=document.createElement("body");let m;for(u.innerHTML=b;m=u.firstChild,m;)r.appendChild(m);return this.setDOMContent(r)}getMaxWidth(){var b;return(b=this._container)===null||b===void 0?void 0:b.style.maxWidth}setMaxWidth(b){return this.options.maxWidth=b,this._update(),this}setDOMContent(b){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=U.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(b),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(b){return this._container&&this._container.classList.add(b),this}removeClassName(b){return this._container&&this._container.classList.remove(b),this}setOffset(b){return this.options.offset=b,this._update(),this}toggleClassName(b){if(this._container)return this._container.classList.toggle(b)}setSubpixelPositioning(b){this.options.subpixelPositioning=b}_createCloseButton(){this.options.closeButton&&(this._closeButton=U.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const b=this._container.querySelector(Hc);b&&b.focus()}},y.RasterDEMTileSource=Lr,y.RasterTileSource=Rr,y.ScaleControl=class{constructor(b){this._onMove=()=>{jl(this._map,this._container,this.options)},this.setUnit=r=>{this.options.unit=r,jl(this._map,this._container,this.options)},this.options=Object.assign(Object.assign({},Nl),b)}getDefaultPosition(){return"bottom-left"}onAdd(b){return this._map=b,this._container=U.create("div","maplibregl-ctrl maplibregl-ctrl-scale",b.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){U.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},y.ScrollZoomHandler=hs,y.Style=Ff,y.TerrainControl=class{constructor(b){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=b}onAdd(b){return this._map=b,this._container=U.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=U.create("button","maplibregl-ctrl-terrain",this._container),U.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){U.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},y.TwoFingersTouchPitchHandler=zl,y.TwoFingersTouchRotateHandler=$h,y.TwoFingersTouchZoomHandler=qh,y.TwoFingersTouchZoomRotateHandler=Gh,y.VectorTileSource=Sr,y.VideoSource=Wa,y.addSourceType=(b,r)=>c._(void 0,void 0,void 0,(function*(){if(Ti(b))throw new Error(`A source type called "${b}" already exists.`);((u,m)=>{Gi[u]=m})(b,r)})),y.clearPrewarmedResources=function(){const b=et;b&&(b.isPreloaded()&&b.numActive()===1?(b.release(Ce),et=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},y.createTileMesh=Uf,y.getMaxParallelImageRequests=function(){return c.a.MAX_PARALLEL_IMAGE_REQUESTS},y.getRTLTextPluginStatus=function(){return Dn().getRTLTextPluginStatus()},y.getVersion=function(){return $u},y.getWorkerCount=function(){return ot.workerCount},y.getWorkerUrl=function(){return c.a.WORKER_URL},y.importScriptInWorkers=function(b){return Ut().broadcast("IS",b)},y.prewarm=function(){vt().acquire(Ce)},y.setMaxParallelImageRequests=function(b){c.a.MAX_PARALLEL_IMAGE_REQUESTS=b},y.setRTLTextPlugin=function(b,r){return Dn().setRTLTextPlugin(b,r)},y.setWorkerCount=function(b){ot.workerCount=b},y.setWorkerUrl=function(b){c.a.WORKER_URL=b}}));var p=a;return p}))})(bv)),bv.exports}var J9=K9();const ek=hc(J9),tk={"bosnia-herzegovina":"bosnia and herzegovina","bosnia and herzegovina":"bosnia and herzegovina","bosnia and herz.":"bosnia and herzegovina","bosnia and herz":"bosnia and herzegovina",macedonia:"north macedonia","macedonia (fyrom)":"north macedonia","the former yugoslav republic of macedonia":"north macedonia","united states of america":"united states",usa:"united states","u s a":"united states",us:"united states",america:"united states","u.s.a.":"united states","u. s. a.":"united states","u. s. a. ":"united states",uk:"united kingdom","united kingdom of great britain and northern ireland":"united kingdom","great britain":"united kingdom",britain:"united kingdom","south korea":"korea republic of","korea republic of":"korea republic of","republic of korea":"korea republic of","korea south":"korea republic of","s korea":"korea republic of","ro korea":"korea republic of","korea, south":"korea republic of","north korea":"korea democratic peoples republic of","democratic peoples republic of korea":"korea democratic peoples republic of",dprk:"korea democratic peoples republic of",russia:"russian federation","russian federation":"russian federation","russian fed":"russian federation","russian federation (the)":"russian federation","ivory coast":"cote divoire","cote d ivoire":"cote divoire","cote divoire":"cote divoire",cotedivoire:"cote divoire","guinea bissau":"guinea bissau","guinea-bissau":"guinea bissau","republic of guinea bissau":"guinea bissau",belarus:"belarus",belorussia:"belarus",byelorussia:"belarus","republic of belarus":"belarus",eswatini:"eswatini","kingdom of eswatini":"eswatini",swaziland:"eswatini","kingdom of swaziland":"eswatini",czechia:"czech republic","czech republic":"czech republic",prc:"china","people s republic of china":"china","people s republic of china (china)":"china",china:"china",iran:"iran","islamic republic of iran":"iran","iran islamic republic of":"iran","syrian arab republic":"syria",syria:"syria","viet nam":"vietnam",vietnam:"vietnam",moldova:"moldova","republic of moldova":"moldova","moldova republic of":"moldova",bolivia:"bolivia","bolivia plurinational state of":"bolivia",vatican:"vatican city","vatican city":"vatican city","holy see":"vatican city",turkiye:"turkey",turkey:"turkey","cape verde":"cape verde","cabo verde":"cape verde","congo republic":"congo republic","congo democratic republic":"democratic republic of the congo","democratic republic of the congo":"democratic republic of the congo","dr congo":"democratic republic of the congo",slovakia:"slovakia","slovak republic":"slovakia","north macedonia":"north macedonia","republic of north macedonia":"north macedonia",uae:"united arab emirates","u a e":"united arab emirates",drc:"democratic republic of the congo",ukraine:"ukraine"};function U_(e){return e.toLowerCase().split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}function rk(e){return e>=7.5?"#006400":e>=7.25?"#0A8C0A":e>=7?"#228B22":e>=6.75?"#2E8B57":e>=6.5?"#32CD32":e>=6.25?"#7CFC00":e>=6?"#ADFF2F":e>=5.75?"#DFFF00":e>=5.5?"#FFFF00":e>=5.25?"#FFEF00":e>=5?"#FFD700":e>=4.75?"#FFA500":e>=4.5?"#FF8C00":e>=4.25?"#FF7F50":e>=4?"#FF6347":e>=3.75?"#FF4500":e>=3.5?"#FF0000":e>=3.25?"#DC143C":e>=3?"#B22222":e>=2.75?"#A52A2A":e>=2.5?"#8B0000":e>=2.25?"#800000":(e>=1.5,"#4B0000")}class nk{container=null;onAdd(t){const a=document.createElement("div");a.className="maplibregl-ctrl maplibregl-ctrl-group simple-zoom-ctrl",a.style.position="absolute",a.style.right="0px",a.style.transform="translateY(350%)",a.style.display="flex",a.style.flexDirection="column",a.style.gap="6px",a.style.background="rgba(255,255,255,0.9)",a.style.borderRadius="6px",a.style.padding="6px",a.style.boxShadow="0 1px 6px rgba(0,0,0,0.15)",a.style.userSelect="none";const i=(y,c)=>{const A=document.createElement("button");return A.innerText=y,A.title=y,A.style.width="24px",A.style.height="24px",A.style.display="flex",A.style.alignItems="center",A.style.justifyContent="center",A.style.border="none",A.style.background="transparent",A.style.cursor="pointer",A.style.fontSize="22px",A.onpointerdown=C=>C.stopPropagation(),A.onclick=c,A},d=i("+",()=>t.easeTo({zoom:t.getZoom()+1})),p=i("−",()=>t.easeTo({zoom:t.getZoom()-1}));return a.appendChild(d),a.appendChild(p),this.container=a,a}onRemove(){this.container?.parentNode?.removeChild(this.container),this.container=null}}function Jp(e){return e?e.toLowerCase().normalize("NFKD").replace(/[\u0300-\u036f]/g,"").replace(/[^\w\s]/g,"").replace(/\s+/g," ").trim():""}function ak({mapContainerRef:e,callback:t,countryStats:a=[]}){const i=V.useRef(null),d=V.useRef(null);return V.useEffect(()=>{if(i.current)return;i.current=new ek.Map({container:e.current,style:"https://demotiles.maplibre.org/style.json",center:[43,43],zoom:3,attributionControl:!1}),i.current.addControl(new nk);const p={},y={},c={};for(const A of a)if(A?.Country_clean&&typeof A["Happiness (score 0-10)"]=="number"){const C=A.Country_clean;p[C]=A["Happiness (score 0-10)"],A.Country&&typeof A.Country=="string"&&(y[A.Country]=C,c[Jp(A.Country)]=C);const T=U_(A.Country_clean);y[T]||(y[T]=C,c[Jp(T)]=C)}return Object.entries(tk).forEach(([A,C])=>{if(p[C]!==void 0){const T=U_(A);y[T]=C,y[A]=C,c[Jp(T)]=C,c[Jp(A)]=C}}),i.current.on("load",()=>{const C=["match",["downcase",["coalesce",["get","NAME"],["get","ADMIN"],["get","NAME_EN"],["get","BRK_NAME"]]]],T="#d9d9d9",R=new Set;for(const[q,$]of Object.entries(y)){const W=p[$];if(typeof W=="number"&&!isNaN(W)){const Y=q.toLowerCase();R.has(Y)||(C.push(Y,rk(W)),R.add(Y))}}C.push(T);const L="countries-fill";if(i.current?.getLayer(L))d.current=L,i.current.setPaintProperty(L,"fill-color",C),i.current.setPaintProperty(L,"fill-opacity",1);else{const $=(i.current.getStyle().layers||[]).find(W=>/country|countries|admin|ne_10m_admin_0_countries/i.test(W.id));$&&(d.current=$.id,i.current.setPaintProperty($.id,"fill-color",C),i.current.setPaintProperty($.id,"fill-opacity",1))}i.current?.setPaintProperty("crimea-fill","fill-color","#FFA500")}),i.current?.on("click",A=>{if(i.current?.queryRenderedFeatures(A.point,{layers:["crimea-fill"]})?.length)return;const T=d.current??"countries-fill",R=i.current?.queryRenderedFeatures(A.point,{layers:[T]});if(R?.length){const L=R[0],U=L.properties?.NAME||L.properties?.name||"",q=Jp(U),$=c[q]??c[Jp(U_(U))];t($??q)}}),()=>{i.current?.remove(),i.current=null,d.current=null}},[a]),se.jsx("div",{ref:e,className:"w-full h-40 lg:h-130"})}function ik(e){return Object.prototype.toString.call(e)==="[object Object]"}function gP(e){return ik(e)||Array.isArray(e)}function ok(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function L2(e,t){const a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return!1;const d=JSON.stringify(Object.keys(e.breakpoints||{})),p=JSON.stringify(Object.keys(t.breakpoints||{}));return d!==p?!1:a.every(y=>{const c=e[y],A=t[y];return typeof c=="function"?`${c}`==`${A}`:!gP(c)||!gP(A)?c===A:L2(c,A)})}function vP(e){return e.concat().sort((t,a)=>t.name>a.name?1:-1).map(t=>t.options)}function sk(e,t){if(e.length!==t.length)return!1;const a=vP(e),i=vP(t);return a.every((d,p)=>{const y=i[p];return L2(d,y)})}function z2(e){return typeof e=="number"}function wx(e){return typeof e=="string"}function P1(e){return typeof e=="boolean"}function _P(e){return Object.prototype.toString.call(e)==="[object Object]"}function fa(e){return Math.abs(e)}function F2(e){return Math.sign(e)}function lg(e,t){return fa(e-t)}function lk(e,t){if(e===0||t===0||fa(e)<=fa(t))return 0;const a=lg(fa(e),fa(t));return fa(a/e)}function ck(e){return Math.round(e*100)/100}function dg(e){return pg(e).map(Number)}function sc(e){return e[Rg(e)]}function Rg(e){return Math.max(0,e.length-1)}function N2(e,t){return t===Rg(e)}function bP(e,t=0){return Array.from(Array(e),(a,i)=>t+i)}function pg(e){return Object.keys(e)}function HM(e,t){return[e,t].reduce((a,i)=>(pg(i).forEach(d=>{const p=a[d],y=i[d],c=_P(p)&&_P(y);a[d]=c?HM(p,y):y}),a),{})}function Px(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function uk(e,t){const a={start:i,center:d,end:p};function i(){return 0}function d(A){return p(A)/2}function p(A){return t-A}function y(A,C){return wx(e)?a[e](A):e(t,A,C)}return{measure:y}}function mg(){let e=[];function t(d,p,y,c={passive:!0}){let A;if("addEventListener"in d)d.addEventListener(p,y,c),A=()=>d.removeEventListener(p,y,c);else{const C=d;C.addListener(y),A=()=>C.removeListener(y)}return e.push(A),i}function a(){e=e.filter(d=>d())}const i={add:t,clear:a};return i}function hk(e,t,a,i){const d=mg(),p=1e3/60;let y=null,c=0,A=0;function C(){d.add(e,"visibilitychange",()=>{e.hidden&&q()})}function T(){U(),d.clear()}function R(W){if(!A)return;y||(y=W,a(),a());const Y=W-y;for(y=W,c+=Y;c>=p;)a(),c-=p;const X=c/p;i(X),A&&(A=t.requestAnimationFrame(R))}function L(){A||(A=t.requestAnimationFrame(R))}function U(){t.cancelAnimationFrame(A),y=null,c=0,A=0}function q(){y=null,c=0}return{init:C,destroy:T,start:L,stop:U,update:a,render:i}}function fk(e,t){const a=t==="rtl",i=e==="y",d=i?"y":"x",p=i?"x":"y",y=!i&&a?-1:1,c=T(),A=R();function C(q){const{height:$,width:W}=q;return i?$:W}function T(){return i?"top":a?"right":"left"}function R(){return i?"bottom":a?"left":"right"}function L(q){return q*y}return{scroll:d,cross:p,startEdge:c,endEdge:A,measureSize:C,direction:L}}function Jd(e=0,t=0){const a=fa(e-t);function i(C){return C<e}function d(C){return C>t}function p(C){return i(C)||d(C)}function y(C){return p(C)?i(C)?e:t:C}function c(C){return a?C-a*Math.ceil((C-t)/a):C}return{length:a,max:t,min:e,constrain:y,reachedAny:p,reachedMax:d,reachedMin:i,removeOffset:c}}function VM(e,t,a){const{constrain:i}=Jd(0,e),d=e+1;let p=y(t);function y(L){return a?fa((d+L)%d):i(L)}function c(){return p}function A(L){return p=y(L),R}function C(L){return T().set(c()+L)}function T(){return VM(e,c(),a)}const R={get:c,set:A,add:C,clone:T};return R}function dk(e,t,a,i,d,p,y,c,A,C,T,R,L,U,q,$,W,Y,X){const{cross:te,direction:pe}=e,de=["INPUT","SELECT","TEXTAREA"],ye={passive:!1},xe=mg(),Ie=mg(),lt=Jd(50,225).constrain(U.measure(20)),mt={mouse:300,touch:400},nt={mouse:500,touch:600},st=q?43:25;let Je=!1,wt=0,Rt=0,je=!1,it=!1,Ge=!1,bt=!1;function Ce($e){if(!X)return;function jt(Sr){(P1(X)||X($e,Sr))&&Dt(Sr)}const Bt=t;xe.add(Bt,"dragstart",Sr=>Sr.preventDefault(),ye).add(Bt,"touchmove",()=>{},ye).add(Bt,"touchend",()=>{}).add(Bt,"touchstart",jt).add(Bt,"mousedown",jt).add(Bt,"touchcancel",Ft).add(Bt,"contextmenu",Ft).add(Bt,"click",xt,!0)}function ot(){xe.clear(),Ie.clear()}function ke(){const $e=bt?a:t;Ie.add($e,"touchmove",Ut,ye).add($e,"touchend",Ft).add($e,"mousemove",Ut,ye).add($e,"mouseup",Ft)}function et($e){const jt=$e.nodeName||"";return de.includes(jt)}function pt(){return(q?nt:mt)[bt?"mouse":"touch"]}function vt($e,jt){const Bt=R.add(F2($e)*-1),Sr=T.byDistance($e,!q).distance;return q||fa($e)<lt?Sr:W&&jt?Sr*.5:T.byIndex(Bt.get(),0).distance}function Dt($e){const jt=Px($e,i);bt=jt,Ge=q&&jt&&!$e.buttons&&Je,Je=lg(d.get(),y.get())>=2,!(jt&&$e.button!==0)&&(et($e.target)||(je=!0,p.pointerDown($e),C.useFriction(0).useDuration(0),d.set(y),ke(),wt=p.readPoint($e),Rt=p.readPoint($e,te),L.emit("pointerDown")))}function Ut($e){if(!Px($e,i)&&$e.touches.length>=2)return Ft($e);const Bt=p.readPoint($e),Sr=p.readPoint($e,te),Rr=lg(Bt,wt),Lr=lg(Sr,Rt);if(!it&&!bt&&(!$e.cancelable||(it=Rr>Lr,!it)))return Ft($e);const Bn=p.pointerMove($e);Rr>$&&(Ge=!0),C.useFriction(.3).useDuration(.75),c.start(),d.add(pe(Bn)),$e.preventDefault()}function Ft($e){const Bt=T.byDistance(0,!1).index!==R.get(),Sr=p.pointerUp($e)*pt(),Rr=vt(pe(Sr),Bt),Lr=lk(Sr,Rr),Bn=st-10*Lr,Kn=Y+Lr/50;it=!1,je=!1,Ie.clear(),C.useDuration(Bn).useFriction(Kn),A.distance(Rr,!q),bt=!1,L.emit("pointerUp")}function xt($e){Ge&&($e.stopPropagation(),$e.preventDefault(),Ge=!1)}function $t(){return je}return{init:Ce,destroy:ot,pointerDown:$t}}function pk(e,t){let i,d;function p(R){return R.timeStamp}function y(R,L){const q=`client${(L||e.scroll)==="x"?"X":"Y"}`;return(Px(R,t)?R:R.touches[0])[q]}function c(R){return i=R,d=R,y(R)}function A(R){const L=y(R)-y(d),U=p(R)-p(i)>170;return d=R,U&&(i=R),L}function C(R){if(!i||!d)return 0;const L=y(d)-y(i),U=p(R)-p(i),q=p(R)-p(d)>170,$=L/U;return U&&!q&&fa($)>.1?$:0}return{pointerDown:c,pointerMove:A,pointerUp:C,readPoint:y}}function mk(){function e(a){const{offsetTop:i,offsetLeft:d,offsetWidth:p,offsetHeight:y}=a;return{top:i,right:d+p,bottom:i+y,left:d,width:p,height:y}}return{measure:e}}function yk(e){function t(i){return e*(i/100)}return{measure:t}}function gk(e,t,a,i,d,p,y){const c=[e].concat(i);let A,C,T=[],R=!1;function L(W){return d.measureSize(y.measure(W))}function U(W){if(!p)return;C=L(e),T=i.map(L);function Y(X){for(const te of X){if(R)return;const pe=te.target===e,de=i.indexOf(te.target),ye=pe?C:T[de],xe=L(pe?e:i[de]);if(fa(xe-ye)>=.5){W.reInit(),t.emit("resize");break}}}A=new ResizeObserver(X=>{(P1(p)||p(W,X))&&Y(X)}),a.requestAnimationFrame(()=>{c.forEach(X=>A.observe(X))})}function q(){R=!0,A&&A.disconnect()}return{init:U,destroy:q}}function vk(e,t,a,i,d,p){let y=0,c=0,A=d,C=p,T=e.get(),R=0;function L(){const ye=i.get()-e.get(),xe=!A;let Ie=0;return xe?(y=0,a.set(i),e.set(i),Ie=ye):(a.set(e),y+=ye/A,y*=C,T+=y,e.add(y),Ie=T-R),c=F2(Ie),R=T,de}function U(){const ye=i.get()-t.get();return fa(ye)<.001}function q(){return A}function $(){return c}function W(){return y}function Y(){return te(d)}function X(){return pe(p)}function te(ye){return A=ye,de}function pe(ye){return C=ye,de}const de={direction:$,duration:q,velocity:W,seek:L,settled:U,useBaseFriction:X,useBaseDuration:Y,useFriction:pe,useDuration:te};return de}function _k(e,t,a,i,d){const p=d.measure(10),y=d.measure(50),c=Jd(.1,.99);let A=!1;function C(){return!(A||!e.reachedAny(a.get())||!e.reachedAny(t.get()))}function T(U){if(!C())return;const q=e.reachedMin(t.get())?"min":"max",$=fa(e[q]-t.get()),W=a.get()-t.get(),Y=c.constrain($/y);a.subtract(W*Y),!U&&fa(W)<p&&(a.set(e.constrain(a.get())),i.useDuration(25).useBaseFriction())}function R(U){A=!U}return{shouldConstrain:C,constrain:T,toggleActive:R}}function bk(e,t,a,i,d){const p=Jd(-t+e,0),y=R(),c=T(),A=L();function C(q,$){return lg(q,$)<=1}function T(){const q=y[0],$=sc(y),W=y.lastIndexOf(q),Y=y.indexOf($)+1;return Jd(W,Y)}function R(){return a.map((q,$)=>{const{min:W,max:Y}=p,X=p.constrain(q),te=!$,pe=N2(a,$);return te?Y:pe||C(W,X)?W:C(Y,X)?Y:X}).map(q=>parseFloat(q.toFixed(3)))}function L(){if(t<=e+d)return[p.max];if(i==="keepSnaps")return y;const{min:q,max:$}=c;return y.slice(q,$)}return{snapsContained:A,scrollContainLimit:c}}function xk(e,t,a){const i=t[0],d=a?i-e:sc(t);return{limit:Jd(d,i)}}function Sk(e,t,a,i){const p=t.min+.1,y=t.max+.1,{reachedMin:c,reachedMax:A}=Jd(p,y);function C(L){return L===1?A(a.get()):L===-1?c(a.get()):!1}function T(L){if(!C(L))return;const U=e*(L*-1);i.forEach(q=>q.add(U))}return{loop:T}}function wk(e){const{max:t,length:a}=e;function i(p){const y=p-t;return a?y/-a:0}return{get:i}}function Pk(e,t,a,i,d){const{startEdge:p,endEdge:y}=e,{groupSlides:c}=d,A=R().map(t.measure),C=L(),T=U();function R(){return c(i).map($=>sc($)[y]-$[0][p]).map(fa)}function L(){return i.map($=>a[p]-$[p]).map($=>-fa($))}function U(){return c(C).map($=>$[0]).map(($,W)=>$+A[W])}return{snaps:C,snapsAligned:T}}function Ak(e,t,a,i,d,p){const{groupSlides:y}=d,{min:c,max:A}=i,C=T();function T(){const L=y(p),U=!e||t==="keepSnaps";return a.length===1?[p]:U?L:L.slice(c,A).map((q,$,W)=>{const Y=!$,X=N2(W,$);if(Y){const te=sc(W[0])+1;return bP(te)}if(X){const te=Rg(p)-sc(W)[0]+1;return bP(te,sc(W)[0])}return q})}return{slideRegistry:C}}function Ck(e,t,a,i,d){const{reachedAny:p,removeOffset:y,constrain:c}=i;function A(q){return q.concat().sort(($,W)=>fa($)-fa(W))[0]}function C(q){const $=e?y(q):c(q),W=t.map((X,te)=>({diff:T(X-$,0),index:te})).sort((X,te)=>fa(X.diff)-fa(te.diff)),{index:Y}=W[0];return{index:Y,distance:$}}function T(q,$){const W=[q,q+a,q-a];if(!e)return q;if(!$)return A(W);const Y=W.filter(X=>F2(X)===$);return Y.length?A(Y):sc(W)-a}function R(q,$){const W=t[q]-d.get(),Y=T(W,$);return{index:q,distance:Y}}function L(q,$){const W=d.get()+q,{index:Y,distance:X}=C(W),te=!e&&p(W);if(!$||te)return{index:Y,distance:q};const pe=t[Y]-X,de=q+T(pe,0);return{index:Y,distance:de}}return{byDistance:L,byIndex:R,shortcut:T}}function Dk(e,t,a,i,d,p,y){function c(R){const L=R.distance,U=R.index!==t.get();p.add(L),L&&(i.duration()?e.start():(e.update(),e.render(1),e.update())),U&&(a.set(t.get()),t.set(R.index),y.emit("select"))}function A(R,L){const U=d.byDistance(R,L);c(U)}function C(R,L){const U=t.clone().set(R),q=d.byIndex(U.get(),L);c(q)}return{distance:A,index:C}}function Mk(e,t,a,i,d,p,y,c){const A={passive:!0,capture:!0};let C=0;function T(U){if(!c)return;function q($){if(new Date().getTime()-C>10)return;y.emit("slideFocusStart"),e.scrollLeft=0;const X=a.findIndex(te=>te.includes($));z2(X)&&(d.useDuration(0),i.index(X,0),y.emit("slideFocus"))}p.add(document,"keydown",R,!1),t.forEach(($,W)=>{p.add($,"focus",Y=>{(P1(c)||c(U,Y))&&q(W)},A)})}function R(U){U.code==="Tab"&&(C=new Date().getTime())}return{init:T}}function ig(e){let t=e;function a(){return t}function i(A){t=y(A)}function d(A){t+=y(A)}function p(A){t-=y(A)}function y(A){return z2(A)?A:A.get()}return{get:a,set:i,add:d,subtract:p}}function WM(e,t){const a=e.scroll==="x"?y:c,i=t.style;let d=null,p=!1;function y(L){return`translate3d(${L}px,0px,0px)`}function c(L){return`translate3d(0px,${L}px,0px)`}function A(L){if(p)return;const U=ck(e.direction(L));U!==d&&(i.transform=a(U),d=U)}function C(L){p=!L}function T(){p||(i.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:T,to:A,toggleActive:C}}function Tk(e,t,a,i,d,p,y,c,A){const T=dg(d),R=dg(d).reverse(),L=Y().concat(X());function U(xe,Ie){return xe.reduce((lt,mt)=>lt-d[mt],Ie)}function q(xe,Ie){return xe.reduce((lt,mt)=>U(lt,Ie)>0?lt.concat([mt]):lt,[])}function $(xe){return p.map((Ie,lt)=>({start:Ie-i[lt]+.5+xe,end:Ie+t-.5+xe}))}function W(xe,Ie,lt){const mt=$(Ie);return xe.map(nt=>{const st=lt?0:-a,Je=lt?a:0,wt=lt?"end":"start",Rt=mt[nt][wt];return{index:nt,loopPoint:Rt,slideLocation:ig(-1),translate:WM(e,A[nt]),target:()=>c.get()>Rt?st:Je}})}function Y(){const xe=y[0],Ie=q(R,xe);return W(Ie,a,!1)}function X(){const xe=t-y[0]-1,Ie=q(T,xe);return W(Ie,-a,!0)}function te(){return L.every(({index:xe})=>{const Ie=T.filter(lt=>lt!==xe);return U(Ie,t)<=.1})}function pe(){L.forEach(xe=>{const{target:Ie,translate:lt,slideLocation:mt}=xe,nt=Ie();nt!==mt.get()&&(lt.to(nt),mt.set(nt))})}function de(){L.forEach(xe=>xe.translate.clear())}return{canLoop:te,clear:de,loop:pe,loopPoints:L}}function Ek(e,t,a){let i,d=!1;function p(A){if(!a)return;function C(T){for(const R of T)if(R.type==="childList"){A.reInit(),t.emit("slidesChanged");break}}i=new MutationObserver(T=>{d||(P1(a)||a(A,T))&&C(T)}),i.observe(e,{childList:!0})}function y(){i&&i.disconnect(),d=!0}return{init:p,destroy:y}}function Rk(e,t,a,i){const d={};let p=null,y=null,c,A=!1;function C(){c=new IntersectionObserver(q=>{A||(q.forEach($=>{const W=t.indexOf($.target);d[W]=$}),p=null,y=null,a.emit("slidesInView"))},{root:e.parentElement,threshold:i}),t.forEach(q=>c.observe(q))}function T(){c&&c.disconnect(),A=!0}function R(q){return pg(d).reduce(($,W)=>{const Y=parseInt(W),{isIntersecting:X}=d[Y];return(q&&X||!q&&!X)&&$.push(Y),$},[])}function L(q=!0){if(q&&p)return p;if(!q&&y)return y;const $=R(q);return q&&(p=$),q||(y=$),$}return{init:C,destroy:T,get:L}}function Ik(e,t,a,i,d,p){const{measureSize:y,startEdge:c,endEdge:A}=e,C=a[0]&&d,T=q(),R=$(),L=a.map(y),U=W();function q(){if(!C)return 0;const X=a[0];return fa(t[c]-X[c])}function $(){if(!C)return 0;const X=p.getComputedStyle(sc(i));return parseFloat(X.getPropertyValue(`margin-${A}`))}function W(){return a.map((X,te,pe)=>{const de=!te,ye=N2(pe,te);return de?L[te]+T:ye?L[te]+R:pe[te+1][c]-X[c]}).map(fa)}return{slideSizes:L,slideSizesWithGaps:U,startGap:T,endGap:R}}function kk(e,t,a,i,d,p,y,c,A){const{startEdge:C,endEdge:T,direction:R}=e,L=z2(a);function U(Y,X){return dg(Y).filter(te=>te%X===0).map(te=>Y.slice(te,te+X))}function q(Y){return Y.length?dg(Y).reduce((X,te,pe)=>{const de=sc(X)||0,ye=de===0,xe=te===Rg(Y),Ie=d[C]-p[de][C],lt=d[C]-p[te][T],mt=!i&&ye?R(y):0,nt=!i&&xe?R(c):0,st=fa(lt-nt-(Ie+mt));return pe&&st>t+A&&X.push(te),xe&&X.push(Y.length),X},[]).map((X,te,pe)=>{const de=Math.max(pe[te-1]||0);return Y.slice(de,X)}):[]}function $(Y){return L?U(Y,a):q(Y)}return{groupSlides:$}}function Ok(e,t,a,i,d,p,y){const{align:c,axis:A,direction:C,startIndex:T,loop:R,duration:L,dragFree:U,dragThreshold:q,inViewThreshold:$,slidesToScroll:W,skipSnaps:Y,containScroll:X,watchResize:te,watchSlides:pe,watchDrag:de,watchFocus:ye}=p,xe=2,Ie=mk(),lt=Ie.measure(t),mt=a.map(Ie.measure),nt=fk(A,C),st=nt.measureSize(lt),Je=yk(st),wt=uk(c,st),Rt=!R&&!!X,je=R||!!X,{slideSizes:it,slideSizesWithGaps:Ge,startGap:bt,endGap:Ce}=Ik(nt,lt,mt,a,je,d),ot=kk(nt,st,W,R,lt,mt,bt,Ce,xe),{snaps:ke,snapsAligned:et}=Pk(nt,wt,lt,mt,ot),pt=-sc(ke)+sc(Ge),{snapsContained:vt,scrollContainLimit:Dt}=bk(st,pt,et,X,xe),Ut=Rt?vt:et,{limit:Ft}=xk(pt,Ut,R),xt=VM(Rg(Ut),T,R),$t=xt.clone(),Nt=dg(a),$e=({dragHandler:ne,scrollBody:ae,scrollBounds:ce,options:{loop:Se}})=>{Se||ce.constrain(ne.pointerDown()),ae.seek()},jt=({scrollBody:ne,translate:ae,location:ce,offsetLocation:Se,previousLocation:De,scrollLooper:Oe,slideLooper:We,dragHandler:Le,animation:at,eventHandler:St,scrollBounds:ht,options:{loop:zt}},ze)=>{const ir=ne.settled(),br=!ht.shouldConstrain(),Gt=zt?ir:ir&&br,or=Gt&&!Le.pointerDown();or&&at.stop();const Br=ce.get()*ze+De.get()*(1-ze);Se.set(Br),zt&&(Oe.loop(ne.direction()),We.loop()),ae.to(Se.get()),or&&St.emit("settle"),Gt||St.emit("scroll")},Bt=hk(i,d,()=>$e(Re),ne=>jt(Re,ne)),Sr=.68,Rr=Ut[xt.get()],Lr=ig(Rr),Bn=ig(Rr),Kn=ig(Rr),Wa=ig(Rr),xa=vk(Lr,Kn,Bn,Wa,L,Sr),Gi=Ck(R,Ut,pt,Ft,Wa),Ti=Dk(Bt,xt,$t,xa,Gi,Wa,y),To=wk(Ft),no=mg(),di=Rk(t,a,y,$),{slideRegistry:Dn}=Ak(Rt,X,Ut,Dt,ot,Nt),Ga=Mk(e,a,Dn,Ti,xa,no,y,ye),Re={ownerDocument:i,ownerWindow:d,eventHandler:y,containerRect:lt,slideRects:mt,animation:Bt,axis:nt,dragHandler:dk(nt,e,i,d,Wa,pk(nt,d),Lr,Bt,Ti,xa,Gi,xt,y,Je,U,q,Y,Sr,de),eventStore:no,percentOfView:Je,index:xt,indexPrevious:$t,limit:Ft,location:Lr,offsetLocation:Kn,previousLocation:Bn,options:p,resizeHandler:gk(t,y,d,a,nt,te,Ie),scrollBody:xa,scrollBounds:_k(Ft,Kn,Wa,xa,Je),scrollLooper:Sk(pt,Ft,Kn,[Lr,Kn,Bn,Wa]),scrollProgress:To,scrollSnapList:Ut.map(To.get),scrollSnaps:Ut,scrollTarget:Gi,scrollTo:Ti,slideLooper:Tk(nt,st,pt,it,Ge,ke,Ut,Kn,a),slideFocus:Ga,slidesHandler:Ek(t,y,pe),slidesInView:di,slideIndexes:Nt,slideRegistry:Dn,slidesToScroll:ot,target:Wa,translate:WM(nt,t)};return Re}function Uk(){let e={},t;function a(C){t=C}function i(C){return e[C]||[]}function d(C){return i(C).forEach(T=>T(t,C)),A}function p(C,T){return e[C]=i(C).concat([T]),A}function y(C,T){return e[C]=i(C).filter(R=>R!==T),A}function c(){e={}}const A={init:a,emit:d,off:y,on:p,clear:c};return A}const Lk={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function zk(e){function t(p,y){return HM(p,y||{})}function a(p){const y=p.breakpoints||{},c=pg(y).filter(A=>e.matchMedia(A).matches).map(A=>y[A]).reduce((A,C)=>t(A,C),{});return t(p,c)}function i(p){return p.map(y=>pg(y.breakpoints||{})).reduce((y,c)=>y.concat(c),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:a,optionsMediaQueries:i}}function Fk(e){let t=[];function a(p,y){return t=y.filter(({options:c})=>e.optionsAtMedia(c).active!==!1),t.forEach(c=>c.init(p,e)),y.reduce((c,A)=>Object.assign(c,{[A.name]:A}),{})}function i(){t=t.filter(p=>p.destroy())}return{init:a,destroy:i}}function Tv(e,t,a){const i=e.ownerDocument,d=i.defaultView,p=zk(d),y=Fk(p),c=mg(),A=Uk(),{mergeOptions:C,optionsAtMedia:T,optionsMediaQueries:R}=p,{on:L,off:U,emit:q}=A,$=nt;let W=!1,Y,X=C(Lk,Tv.globalOptions),te=C(X),pe=[],de,ye,xe;function Ie(){const{container:Nt,slides:$e}=te;ye=(wx(Nt)?e.querySelector(Nt):Nt)||e.children[0];const Bt=wx($e)?ye.querySelectorAll($e):$e;xe=[].slice.call(Bt||ye.children)}function lt(Nt){const $e=Ok(e,ye,xe,i,d,Nt,A);if(Nt.loop&&!$e.slideLooper.canLoop()){const jt=Object.assign({},Nt,{loop:!1});return lt(jt)}return $e}function mt(Nt,$e){W||(X=C(X,Nt),te=T(X),pe=$e||pe,Ie(),Y=lt(te),R([X,...pe.map(({options:jt})=>jt)]).forEach(jt=>c.add(jt,"change",nt)),te.active&&(Y.translate.to(Y.location.get()),Y.animation.init(),Y.slidesInView.init(),Y.slideFocus.init($t),Y.eventHandler.init($t),Y.resizeHandler.init($t),Y.slidesHandler.init($t),Y.options.loop&&Y.slideLooper.loop(),ye.offsetParent&&xe.length&&Y.dragHandler.init($t),de=y.init($t,pe)))}function nt(Nt,$e){const jt=ot();st(),mt(C({startIndex:jt},Nt),$e),A.emit("reInit")}function st(){Y.dragHandler.destroy(),Y.eventStore.clear(),Y.translate.clear(),Y.slideLooper.clear(),Y.resizeHandler.destroy(),Y.slidesHandler.destroy(),Y.slidesInView.destroy(),Y.animation.destroy(),y.destroy(),c.clear()}function Je(){W||(W=!0,c.clear(),st(),A.emit("destroy"),A.clear())}function wt(Nt,$e,jt){!te.active||W||(Y.scrollBody.useBaseFriction().useDuration($e===!0?0:te.duration),Y.scrollTo.index(Nt,jt||0))}function Rt(Nt){const $e=Y.index.add(1).get();wt($e,Nt,-1)}function je(Nt){const $e=Y.index.add(-1).get();wt($e,Nt,1)}function it(){return Y.index.add(1).get()!==ot()}function Ge(){return Y.index.add(-1).get()!==ot()}function bt(){return Y.scrollSnapList}function Ce(){return Y.scrollProgress.get(Y.offsetLocation.get())}function ot(){return Y.index.get()}function ke(){return Y.indexPrevious.get()}function et(){return Y.slidesInView.get()}function pt(){return Y.slidesInView.get(!1)}function vt(){return de}function Dt(){return Y}function Ut(){return e}function Ft(){return ye}function xt(){return xe}const $t={canScrollNext:it,canScrollPrev:Ge,containerNode:Ft,internalEngine:Dt,destroy:Je,off:U,on:L,emit:q,plugins:vt,previousScrollSnap:ke,reInit:$,rootNode:Ut,scrollNext:Rt,scrollPrev:je,scrollProgress:Ce,scrollSnapList:bt,scrollTo:wt,selectedScrollSnap:ot,slideNodes:xt,slidesInView:et,slidesNotInView:pt};return mt(t,a),setTimeout(()=>A.emit("init"),0),$t}Tv.globalOptions=void 0;function j2(e={},t=[]){const a=V.useRef(e),i=V.useRef(t),[d,p]=V.useState(),[y,c]=V.useState(),A=V.useCallback(()=>{d&&d.reInit(a.current,i.current)},[d]);return V.useEffect(()=>{L2(a.current,e)||(a.current=e,A())},[e,A]),V.useEffect(()=>{sk(i.current,t)||(i.current=t,A())},[t,A]),V.useEffect(()=>{if(ok()&&y){Tv.globalOptions=j2.globalOptions;const C=Tv(y,a.current,i.current);return p(C),()=>C.destroy()}else p(void 0)},[y,p]),[c,d]}j2.globalOptions=void 0;const GM=V.createContext(null);function ZM(){const e=V.useContext(GM);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}function Nk({orientation:e="horizontal",opts:t,setApi:a,plugins:i,className:d,children:p,...y}){const[c,A]=j2({...t,axis:e==="horizontal"?"x":"y"},i),[C,T]=V.useState(!1),[R,L]=V.useState(!1),U=V.useCallback(Y=>{Y&&(T(Y.canScrollPrev()),L(Y.canScrollNext()))},[]),q=V.useCallback(()=>{A?.scrollPrev()},[A]),$=V.useCallback(()=>{A?.scrollNext()},[A]),W=V.useCallback(Y=>{Y.key==="ArrowLeft"?(Y.preventDefault(),q()):Y.key==="ArrowRight"&&(Y.preventDefault(),$())},[q,$]);return V.useEffect(()=>{!A||!a||a(A)},[A,a]),V.useEffect(()=>{if(A)return U(A),A.on("reInit",U),A.on("select",U),()=>{A?.off("select",U)}},[A,U]),se.jsx(GM.Provider,{value:{carouselRef:c,api:A,opts:t,orientation:e||(t?.axis==="y"?"vertical":"horizontal"),scrollPrev:q,scrollNext:$,canScrollPrev:C,canScrollNext:R},children:se.jsx("div",{onKeyDownCapture:W,className:xn("relative",d),role:"region","aria-roledescription":"carousel","data-slot":"carousel",...y,children:p})})}function jk({className:e,...t}){const{carouselRef:a,orientation:i}=ZM();return se.jsx("div",{ref:a,className:"overflow-hidden","data-slot":"carousel-content",children:se.jsx("div",{className:xn("flex",i==="horizontal"?"-ml-4":"-mt-4 flex-col",e),...t})})}function Bk({className:e,...t}){const{orientation:a}=ZM();return se.jsx("div",{role:"group","aria-roledescription":"slide","data-slot":"carousel-item",className:xn("min-w-0 shrink-0 grow-0 basis-full",a==="horizontal"?"pl-4":"pt-4",e),...t})}function qk({className:e,...t}){return se.jsx("div",{"data-slot":"card",className:xn("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function $k({className:e,...t}){return se.jsx("div",{"data-slot":"card-header",className:xn("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function Hk({className:e,...t}){return se.jsx("div",{"data-slot":"card-title",className:xn("leading-none font-semibold",e),...t})}function Vk({className:e,...t}){return se.jsx("div",{"data-slot":"card-content",className:xn("px-6",e),...t})}var L_={},z_={},xP;function Wk(){return xP||(xP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a==="__proto__"}e.isUnsafeProperty=t})(z_)),z_}var F_={},SP;function YM(){return SP||(SP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){switch(typeof a){case"number":case"symbol":return!1;case"string":return a.includes(".")||a.includes("[")||a.includes("]")}}e.isDeepKey=t})(F_)),F_}var N_={},wP;function QM(){return wP||(wP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="string"||typeof a=="symbol"?a:Object.is(a?.valueOf?.(),-0)?"-0":String(a)}e.toKey=t})(N_)),N_}var j_={},PP;function B2(){return PP||(PP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){const i=[],d=a.length;if(d===0)return i;let p=0,y="",c="",A=!1;for(a.charCodeAt(0)===46&&(i.push(""),p++);p<d;){const C=a[p];c?C==="\\"&&p+1<d?(p++,y+=a[p]):C===c?c="":y+=C:A?C==='"'||C==="'"?c=C:C==="]"?(A=!1,i.push(y),y=""):y+=C:C==="["?(A=!0,y&&(i.push(y),y="")):C==="."?y&&(i.push(y),y=""):y+=C,p++}return y&&i.push(y),i}e.toPath=t})(j_)),j_}var AP;function q2(){return AP||(AP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wk(),a=YM(),i=QM(),d=B2();function p(c,A,C){if(c==null)return C;switch(typeof A){case"string":{if(t.isUnsafeProperty(A))return C;const T=c[A];return T===void 0?a.isDeepKey(A)?p(c,d.toPath(A),C):C:T}case"number":case"symbol":{typeof A=="number"&&(A=i.toKey(A));const T=c[A];return T===void 0?C:T}default:{if(Array.isArray(A))return y(c,A,C);if(Object.is(A?.valueOf(),-0)?A="-0":A=String(A),t.isUnsafeProperty(A))return C;const T=c[A];return T===void 0?C:T}}}function y(c,A,C){if(A.length===0)return C;let T=c;for(let R=0;R<A.length;R++){if(T==null||t.isUnsafeProperty(A[R]))return C;T=T[A[R]]}return T===void 0?C:T}e.get=p})(L_)),L_}var B_,CP;function Gk(){return CP||(CP=1,B_=q2().get),B_}var Zk=Gk();const pm=hc(Zk);var q_={exports:{}},Cn={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DP;function Yk(){if(DP)return Cn;DP=1;var e=60103,t=60106,a=60107,i=60108,d=60114,p=60109,y=60110,c=60112,A=60113,C=60120,T=60115,R=60116,L=60121,U=60122,q=60117,$=60129,W=60131;if(typeof Symbol=="function"&&Symbol.for){var Y=Symbol.for;e=Y("react.element"),t=Y("react.portal"),a=Y("react.fragment"),i=Y("react.strict_mode"),d=Y("react.profiler"),p=Y("react.provider"),y=Y("react.context"),c=Y("react.forward_ref"),A=Y("react.suspense"),C=Y("react.suspense_list"),T=Y("react.memo"),R=Y("react.lazy"),L=Y("react.block"),U=Y("react.server.block"),q=Y("react.fundamental"),$=Y("react.debug_trace_mode"),W=Y("react.legacy_hidden")}function X(Je){if(typeof Je=="object"&&Je!==null){var wt=Je.$$typeof;switch(wt){case e:switch(Je=Je.type,Je){case a:case d:case i:case A:case C:return Je;default:switch(Je=Je&&Je.$$typeof,Je){case y:case c:case R:case T:case p:return Je;default:return wt}}case t:return wt}}}var te=p,pe=e,de=c,ye=a,xe=R,Ie=T,lt=t,mt=d,nt=i,st=A;return Cn.ContextConsumer=y,Cn.ContextProvider=te,Cn.Element=pe,Cn.ForwardRef=de,Cn.Fragment=ye,Cn.Lazy=xe,Cn.Memo=Ie,Cn.Portal=lt,Cn.Profiler=mt,Cn.StrictMode=nt,Cn.Suspense=st,Cn.isAsyncMode=function(){return!1},Cn.isConcurrentMode=function(){return!1},Cn.isContextConsumer=function(Je){return X(Je)===y},Cn.isContextProvider=function(Je){return X(Je)===p},Cn.isElement=function(Je){return typeof Je=="object"&&Je!==null&&Je.$$typeof===e},Cn.isForwardRef=function(Je){return X(Je)===c},Cn.isFragment=function(Je){return X(Je)===a},Cn.isLazy=function(Je){return X(Je)===R},Cn.isMemo=function(Je){return X(Je)===T},Cn.isPortal=function(Je){return X(Je)===t},Cn.isProfiler=function(Je){return X(Je)===d},Cn.isStrictMode=function(Je){return X(Je)===i},Cn.isSuspense=function(Je){return X(Je)===A},Cn.isValidElementType=function(Je){return typeof Je=="string"||typeof Je=="function"||Je===a||Je===d||Je===$||Je===i||Je===A||Je===C||Je===W||typeof Je=="object"&&Je!==null&&(Je.$$typeof===R||Je.$$typeof===T||Je.$$typeof===p||Je.$$typeof===y||Je.$$typeof===c||Je.$$typeof===q||Je.$$typeof===L||Je[0]===U)},Cn.typeOf=X,Cn}var MP;function Qk(){return MP||(MP=1,q_.exports=Yk()),q_.exports}var Xk=Qk(),Es=e=>e===0?0:e>0?1:-1,hl=e=>typeof e=="number"&&e!=+e,qd=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Pr=e=>(typeof e=="number"||e instanceof Number)&&!hl(e),hu=e=>Pr(e)||typeof e=="string",Kk=0,yg=e=>{var t=++Kk;return"".concat(e||"").concat(t)},uc=function(t,a){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Pr(t)&&typeof t!="string")return i;var p;if(qd(t)){if(a==null)return i;var y=t.indexOf("%");p=a*parseFloat(t.slice(0,y))/100}else p=+t;return hl(p)&&(p=i),d&&a!=null&&p>a&&(p=a),p},XM=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,a={},i=0;i<t;i++)if(!a[e[i]])a[e[i]]=!0;else return!0;return!1};function wo(e,t,a){return Pr(e)&&Pr(t)?e+a*(t-e):t}function Jk(e,t,a){if(!(!e||!e.length))return e.find(i=>i&&(typeof t=="function"?t(i):pm(i,t))===a)}var Pi=e=>e===null||typeof e>"u",Ig=e=>Pi(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),eO=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function $2(e){if(typeof e!="string")return!1;var t=eO;return t.includes(e)}var tO=["viewBox","children"],TP=["points","pathLength"],$_={svg:tO,polygon:TP,polyline:TP},rO=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(V.isValidElement(e)&&(a=e.props),typeof a!="object"&&typeof a!="function")return null;var i={};return Object.keys(a).forEach(d=>{$2(d)&&(i[d]=(p=>a[d](a,p)))}),i},nO=(e,t,a)=>i=>(e(t,a,i),null),H2=(e,t,a)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var i=null;return Object.keys(e).forEach(d=>{var p=e[d];$2(d)&&typeof p=="function"&&(i||(i={}),i[d]=nO(p,t,a))}),i},aO=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function KM(e){if(typeof e!="string")return!1;var t=aO;return t.includes(e)}function kg(e){var t=Object.entries(e).filter(a=>{var[i]=a;return KM(i)});return Object.fromEntries(t)}var EP=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",RP=null,H_=null,JM=e=>{if(e===RP&&Array.isArray(H_))return H_;var t=[];return V.Children.forEach(e,a=>{Pi(a)||(Xk.isFragment(a)?t=t.concat(JM(a.props.children)):t.push(a))}),H_=t,RP=e,t};function iO(e,t){var a=[],i=[];return Array.isArray(t)?i=t.map(d=>EP(d)):i=[EP(t)],JM(e).forEach(d=>{var p=pm(d,"type.displayName")||pm(d,"type.name");i.indexOf(p)!==-1&&a.push(d)}),a}var oO=(e,t,a,i)=>{var d;if(typeof t=="symbol"||typeof t=="number")return!0;var p=(d=i&&$_?.[i])!==null&&d!==void 0?d:[],y=t.startsWith("data-"),c=typeof e!="function"&&(!!i&&p.includes(t)||KM(t)),A=!!a&&$2(t);return y||c||A},Wi=(e,t,a)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(V.isValidElement(e)&&(i=e.props),typeof i!="object"&&typeof i!="function")return null;var d={};return Object.keys(i).forEach(p=>{var y;oO((y=i)===null||y===void 0?void 0:y[p],p,t,a)&&(d[p]=i[p])}),d},sO=["children","width","height","viewBox","className","style","title","desc"];function Ax(){return Ax=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)({}).hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},Ax.apply(null,arguments)}function lO(e,t){if(e==null)return{};var a,i,d=cO(e,t);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(e);for(i=0;i<p.length;i++)a=p[i],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(d[a]=e[a])}return d}function cO(e,t){if(e==null)return{};var a={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;a[i]=e[i]}return a}var eT=V.forwardRef((e,t)=>{var{children:a,width:i,height:d,viewBox:p,className:y,style:c,title:A,desc:C}=e,T=lO(e,sO),R=p||{width:i,height:d,x:0,y:0},L=On("recharts-surface",y);return V.createElement("svg",Ax({},Wi(T,!0,"svg"),{className:L,width:i,height:d,style:c,viewBox:"".concat(R.x," ").concat(R.y," ").concat(R.width," ").concat(R.height),ref:t}),V.createElement("title",null,A),V.createElement("desc",null,C),a)}),uO=["children","className"];function Cx(){return Cx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)({}).hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},Cx.apply(null,arguments)}function hO(e,t){if(e==null)return{};var a,i,d=fO(e,t);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(e);for(i=0;i<p.length;i++)a=p[i],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(d[a]=e[a])}return d}function fO(e,t){if(e==null)return{};var a={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;a[i]=e[i]}return a}var Df=V.forwardRef((e,t)=>{var{children:a,className:i}=e,d=hO(e,uO),p=On("recharts-layer",i);return V.createElement("g",Cx({className:p},Wi(d,!0),{ref:t}),a)}),dO=V.createContext(null);function jn(e){return function(){return e}}const tT=Math.cos,Ev=Math.sin,dc=Math.sqrt,Rv=Math.PI,A1=2*Rv,Dx=Math.PI,Mx=2*Dx,Nd=1e-6,pO=Mx-Nd;function rT(e){this._+=e[0];for(let t=1,a=e.length;t<a;++t)this._+=arguments[t]+e[t]}function mO(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return rT;const a=10**t;return function(i){this._+=i[0];for(let d=1,p=i.length;d<p;++d)this._+=Math.round(arguments[d]*a)/a+i[d]}}class yO{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?rT:mO(t)}moveTo(t,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+a}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,a){this._append`L${this._x1=+t},${this._y1=+a}`}quadraticCurveTo(t,a,i,d){this._append`Q${+t},${+a},${this._x1=+i},${this._y1=+d}`}bezierCurveTo(t,a,i,d,p,y){this._append`C${+t},${+a},${+i},${+d},${this._x1=+p},${this._y1=+y}`}arcTo(t,a,i,d,p){if(t=+t,a=+a,i=+i,d=+d,p=+p,p<0)throw new Error(`negative radius: ${p}`);let y=this._x1,c=this._y1,A=i-t,C=d-a,T=y-t,R=c-a,L=T*T+R*R;if(this._x1===null)this._append`M${this._x1=t},${this._y1=a}`;else if(L>Nd)if(!(Math.abs(R*A-C*T)>Nd)||!p)this._append`L${this._x1=t},${this._y1=a}`;else{let U=i-y,q=d-c,$=A*A+C*C,W=U*U+q*q,Y=Math.sqrt($),X=Math.sqrt(L),te=p*Math.tan((Dx-Math.acos(($+L-W)/(2*Y*X)))/2),pe=te/X,de=te/Y;Math.abs(pe-1)>Nd&&this._append`L${t+pe*T},${a+pe*R}`,this._append`A${p},${p},0,0,${+(R*U>T*q)},${this._x1=t+de*A},${this._y1=a+de*C}`}}arc(t,a,i,d,p,y){if(t=+t,a=+a,i=+i,y=!!y,i<0)throw new Error(`negative radius: ${i}`);let c=i*Math.cos(d),A=i*Math.sin(d),C=t+c,T=a+A,R=1^y,L=y?d-p:p-d;this._x1===null?this._append`M${C},${T}`:(Math.abs(this._x1-C)>Nd||Math.abs(this._y1-T)>Nd)&&this._append`L${C},${T}`,i&&(L<0&&(L=L%Mx+Mx),L>pO?this._append`A${i},${i},0,1,${R},${t-c},${a-A}A${i},${i},0,1,${R},${this._x1=C},${this._y1=T}`:L>Nd&&this._append`A${i},${i},0,${+(L>=Dx)},${R},${this._x1=t+i*Math.cos(p)},${this._y1=a+i*Math.sin(p)}`)}rect(t,a,i,d){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+a}h${i=+i}v${+d}h${-i}Z`}toString(){return this._}}function V2(e){let t=3;return e.digits=function(a){if(!arguments.length)return t;if(a==null)t=null;else{const i=Math.floor(a);if(!(i>=0))throw new RangeError(`invalid digits: ${a}`);t=i}return e},()=>new yO(t)}function W2(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function nT(e){this._context=e}nT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function C1(e){return new nT(e)}function aT(e){return e[0]}function iT(e){return e[1]}function oT(e,t){var a=jn(!0),i=null,d=C1,p=null,y=V2(c);e=typeof e=="function"?e:e===void 0?aT:jn(e),t=typeof t=="function"?t:t===void 0?iT:jn(t);function c(A){var C,T=(A=W2(A)).length,R,L=!1,U;for(i==null&&(p=d(U=y())),C=0;C<=T;++C)!(C<T&&a(R=A[C],C,A))===L&&((L=!L)?p.lineStart():p.lineEnd()),L&&p.point(+e(R,C,A),+t(R,C,A));if(U)return p=null,U+""||null}return c.x=function(A){return arguments.length?(e=typeof A=="function"?A:jn(+A),c):e},c.y=function(A){return arguments.length?(t=typeof A=="function"?A:jn(+A),c):t},c.defined=function(A){return arguments.length?(a=typeof A=="function"?A:jn(!!A),c):a},c.curve=function(A){return arguments.length?(d=A,i!=null&&(p=d(i)),c):d},c.context=function(A){return arguments.length?(A==null?i=p=null:p=d(i=A),c):i},c}function X0(e,t,a){var i=null,d=jn(!0),p=null,y=C1,c=null,A=V2(C);e=typeof e=="function"?e:e===void 0?aT:jn(+e),t=typeof t=="function"?t:jn(t===void 0?0:+t),a=typeof a=="function"?a:a===void 0?iT:jn(+a);function C(R){var L,U,q,$=(R=W2(R)).length,W,Y=!1,X,te=new Array($),pe=new Array($);for(p==null&&(c=y(X=A())),L=0;L<=$;++L){if(!(L<$&&d(W=R[L],L,R))===Y)if(Y=!Y)U=L,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),q=L-1;q>=U;--q)c.point(te[q],pe[q]);c.lineEnd(),c.areaEnd()}Y&&(te[L]=+e(W,L,R),pe[L]=+t(W,L,R),c.point(i?+i(W,L,R):te[L],a?+a(W,L,R):pe[L]))}if(X)return c=null,X+""||null}function T(){return oT().defined(d).curve(y).context(p)}return C.x=function(R){return arguments.length?(e=typeof R=="function"?R:jn(+R),i=null,C):e},C.x0=function(R){return arguments.length?(e=typeof R=="function"?R:jn(+R),C):e},C.x1=function(R){return arguments.length?(i=R==null?null:typeof R=="function"?R:jn(+R),C):i},C.y=function(R){return arguments.length?(t=typeof R=="function"?R:jn(+R),a=null,C):t},C.y0=function(R){return arguments.length?(t=typeof R=="function"?R:jn(+R),C):t},C.y1=function(R){return arguments.length?(a=R==null?null:typeof R=="function"?R:jn(+R),C):a},C.lineX0=C.lineY0=function(){return T().x(e).y(t)},C.lineY1=function(){return T().x(e).y(a)},C.lineX1=function(){return T().x(i).y(t)},C.defined=function(R){return arguments.length?(d=typeof R=="function"?R:jn(!!R),C):d},C.curve=function(R){return arguments.length?(y=R,p!=null&&(c=y(p)),C):y},C.context=function(R){return arguments.length?(R==null?p=c=null:c=y(p=R),C):p},C}class sT{constructor(t,a){this._context=t,this._x=a}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,a){switch(t=+t,a=+a,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,a):this._context.moveTo(t,a);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,a,t,a):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+a)/2,t,this._y0,t,a);break}}this._x0=t,this._y0=a}}function gO(e){return new sT(e,!0)}function vO(e){return new sT(e,!1)}const G2={draw(e,t){const a=dc(t/Rv);e.moveTo(a,0),e.arc(0,0,a,0,A1)}},_O={draw(e,t){const a=dc(t/5)/2;e.moveTo(-3*a,-a),e.lineTo(-a,-a),e.lineTo(-a,-3*a),e.lineTo(a,-3*a),e.lineTo(a,-a),e.lineTo(3*a,-a),e.lineTo(3*a,a),e.lineTo(a,a),e.lineTo(a,3*a),e.lineTo(-a,3*a),e.lineTo(-a,a),e.lineTo(-3*a,a),e.closePath()}},lT=dc(1/3),bO=lT*2,xO={draw(e,t){const a=dc(t/bO),i=a*lT;e.moveTo(0,-a),e.lineTo(i,0),e.lineTo(0,a),e.lineTo(-i,0),e.closePath()}},SO={draw(e,t){const a=dc(t),i=-a/2;e.rect(i,i,a,a)}},wO=.8908130915292852,cT=Ev(Rv/10)/Ev(7*Rv/10),PO=Ev(A1/10)*cT,AO=-tT(A1/10)*cT,CO={draw(e,t){const a=dc(t*wO),i=PO*a,d=AO*a;e.moveTo(0,-a),e.lineTo(i,d);for(let p=1;p<5;++p){const y=A1*p/5,c=tT(y),A=Ev(y);e.lineTo(A*a,-c*a),e.lineTo(c*i-A*d,A*i+c*d)}e.closePath()}},V_=dc(3),DO={draw(e,t){const a=-dc(t/(V_*3));e.moveTo(0,a*2),e.lineTo(-V_*a,-a),e.lineTo(V_*a,-a),e.closePath()}},il=-.5,ol=dc(3)/2,Tx=1/dc(12),MO=(Tx/2+1)*3,TO={draw(e,t){const a=dc(t/MO),i=a/2,d=a*Tx,p=i,y=a*Tx+a,c=-p,A=y;e.moveTo(i,d),e.lineTo(p,y),e.lineTo(c,A),e.lineTo(il*i-ol*d,ol*i+il*d),e.lineTo(il*p-ol*y,ol*p+il*y),e.lineTo(il*c-ol*A,ol*c+il*A),e.lineTo(il*i+ol*d,il*d-ol*i),e.lineTo(il*p+ol*y,il*y-ol*p),e.lineTo(il*c+ol*A,il*A-ol*c),e.closePath()}};function EO(e,t){let a=null,i=V2(d);e=typeof e=="function"?e:jn(e||G2),t=typeof t=="function"?t:jn(t===void 0?64:+t);function d(){let p;if(a||(a=p=i()),e.apply(this,arguments).draw(a,+t.apply(this,arguments)),p)return a=null,p+""||null}return d.type=function(p){return arguments.length?(e=typeof p=="function"?p:jn(p),d):e},d.size=function(p){return arguments.length?(t=typeof p=="function"?p:jn(+p),d):t},d.context=function(p){return arguments.length?(a=p??null,d):a},d}function Iv(){}function kv(e,t,a){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+a)/6)}function uT(e){this._context=e}uT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:kv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:kv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function RO(e){return new uT(e)}function hT(e){this._context=e}hT.prototype={areaStart:Iv,areaEnd:Iv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:kv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function IO(e){return new hT(e)}function fT(e){this._context=e}fT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var a=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(a,i):this._context.moveTo(a,i);break;case 3:this._point=4;default:kv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function kO(e){return new fT(e)}function dT(e){this._context=e}dT.prototype={areaStart:Iv,areaEnd:Iv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function OO(e){return new dT(e)}function IP(e){return e<0?-1:1}function kP(e,t,a){var i=e._x1-e._x0,d=t-e._x1,p=(e._y1-e._y0)/(i||d<0&&-0),y=(a-e._y1)/(d||i<0&&-0),c=(p*d+y*i)/(i+d);return(IP(p)+IP(y))*Math.min(Math.abs(p),Math.abs(y),.5*Math.abs(c))||0}function OP(e,t){var a=e._x1-e._x0;return a?(3*(e._y1-e._y0)/a-t)/2:t}function W_(e,t,a){var i=e._x0,d=e._y0,p=e._x1,y=e._y1,c=(p-i)/3;e._context.bezierCurveTo(i+c,d+c*t,p-c,y-c*a,p,y)}function Ov(e){this._context=e}Ov.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:W_(this,this._t0,OP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var a=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,W_(this,OP(this,a=kP(this,e,t)),a);break;default:W_(this,this._t0,a=kP(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=a}}};function pT(e){this._context=new mT(e)}(pT.prototype=Object.create(Ov.prototype)).point=function(e,t){Ov.prototype.point.call(this,t,e)};function mT(e){this._context=e}mT.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,a,i,d,p){this._context.bezierCurveTo(t,e,i,a,p,d)}};function UO(e){return new Ov(e)}function LO(e){return new pT(e)}function yT(e){this._context=e}yT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,a=e.length;if(a)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),a===2)this._context.lineTo(e[1],t[1]);else for(var i=UP(e),d=UP(t),p=0,y=1;y<a;++p,++y)this._context.bezierCurveTo(i[0][p],d[0][p],i[1][p],d[1][p],e[y],t[y]);(this._line||this._line!==0&&a===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function UP(e){var t,a=e.length-1,i,d=new Array(a),p=new Array(a),y=new Array(a);for(d[0]=0,p[0]=2,y[0]=e[0]+2*e[1],t=1;t<a-1;++t)d[t]=1,p[t]=4,y[t]=4*e[t]+2*e[t+1];for(d[a-1]=2,p[a-1]=7,y[a-1]=8*e[a-1]+e[a],t=1;t<a;++t)i=d[t]/p[t-1],p[t]-=i,y[t]-=i*y[t-1];for(d[a-1]=y[a-1]/p[a-1],t=a-2;t>=0;--t)d[t]=(y[t]-d[t+1])/p[t];for(p[a-1]=(e[a]+d[a-1])/2,t=0;t<a-1;++t)p[t]=2*e[t+1]-d[t+1];return[d,p]}function zO(e){return new yT(e)}function D1(e,t){this._context=e,this._t=t}D1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var a=this._x*(1-this._t)+e*this._t;this._context.lineTo(a,this._y),this._context.lineTo(a,t)}break}}this._x=e,this._y=t}};function FO(e){return new D1(e,.5)}function NO(e){return new D1(e,0)}function jO(e){return new D1(e,1)}function mm(e,t){if((y=e.length)>1)for(var a=1,i,d,p=e[t[0]],y,c=p.length;a<y;++a)for(d=p,p=e[t[a]],i=0;i<c;++i)p[i][1]+=p[i][0]=isNaN(d[i][1])?d[i][0]:d[i][1]}function Ex(e){for(var t=e.length,a=new Array(t);--t>=0;)a[t]=t;return a}function BO(e,t){return e[t]}function qO(e){const t=[];return t.key=e,t}function $O(){var e=jn([]),t=Ex,a=mm,i=BO;function d(p){var y=Array.from(e.apply(this,arguments),qO),c,A=y.length,C=-1,T;for(const R of p)for(c=0,++C;c<A;++c)(y[c][C]=[0,+i(R,y[c].key,C,p)]).data=R;for(c=0,T=W2(t(y));c<A;++c)y[T[c]].index=c;return a(y,T),y}return d.keys=function(p){return arguments.length?(e=typeof p=="function"?p:jn(Array.from(p)),d):e},d.value=function(p){return arguments.length?(i=typeof p=="function"?p:jn(+p),d):i},d.order=function(p){return arguments.length?(t=p==null?Ex:typeof p=="function"?p:jn(Array.from(p)),d):t},d.offset=function(p){return arguments.length?(a=p??mm,d):a},d}function HO(e,t){if((i=e.length)>0){for(var a,i,d=0,p=e[0].length,y;d<p;++d){for(y=a=0;a<i;++a)y+=e[a][d][1]||0;if(y)for(a=0;a<i;++a)e[a][d][1]/=y}mm(e,t)}}function VO(e,t){if((d=e.length)>0){for(var a=0,i=e[t[0]],d,p=i.length;a<p;++a){for(var y=0,c=0;y<d;++y)c+=e[y][a][1]||0;i[a][1]+=i[a][0]=-c/2}mm(e,t)}}function WO(e,t){if(!(!((y=e.length)>0)||!((p=(d=e[t[0]]).length)>0))){for(var a=0,i=1,d,p,y;i<p;++i){for(var c=0,A=0,C=0;c<y;++c){for(var T=e[t[c]],R=T[i][1]||0,L=T[i-1][1]||0,U=(R-L)/2,q=0;q<c;++q){var $=e[t[q]],W=$[i][1]||0,Y=$[i-1][1]||0;U+=W-Y}A+=R,C+=U*R}d[i-1][1]+=d[i-1][0]=a,A&&(a-=C/A)}d[i-1][1]+=d[i-1][0]=a,mm(e,t)}}var GO=["type","size","sizeType"];function Rx(){return Rx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)({}).hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},Rx.apply(null,arguments)}function LP(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),a.push.apply(a,i)}return a}function zP(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?LP(Object(a),!0).forEach(function(i){ZO(e,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):LP(Object(a)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(a,i))})}return e}function ZO(e,t,a){return(t=YO(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function YO(e){var t=QO(e,"string");return typeof t=="symbol"?t:t+""}function QO(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var i=a.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XO(e,t){if(e==null)return{};var a,i,d=KO(e,t);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(e);for(i=0;i<p.length;i++)a=p[i],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(d[a]=e[a])}return d}function KO(e,t){if(e==null)return{};var a={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;a[i]=e[i]}return a}var gT={symbolCircle:G2,symbolCross:_O,symbolDiamond:xO,symbolSquare:SO,symbolStar:CO,symbolTriangle:DO,symbolWye:TO},JO=Math.PI/180,eU=e=>{var t="symbol".concat(Ig(e));return gT[t]||G2},tU=(e,t,a)=>{if(t==="area")return e;switch(a){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*JO;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.tan(i)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},rU=(e,t)=>{gT["symbol".concat(Ig(e))]=t},vT=e=>{var{type:t="circle",size:a=64,sizeType:i="area"}=e,d=XO(e,GO),p=zP(zP({},d),{},{type:t,size:a,sizeType:i}),y="circle";typeof t=="string"&&(y=t);var c=()=>{var L=eU(y),U=EO().type(L).size(tU(a,i,y));return U()},{className:A,cx:C,cy:T}=p,R=Wi(p,!0);return C===+C&&T===+T&&a===+a?V.createElement("path",Rx({},R,{className:On("recharts-symbols",A),transform:"translate(".concat(C,", ").concat(T,")"),d:c()})):null};vT.registerSymbol=rU;var G_={},Z_={},FP;function nU(){return FP||(FP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,i){const d=new Map;for(let p=0;p<a.length;p++){const y=a[p],c=i(y);d.has(c)||d.set(c,y)}return Array.from(d.values())}e.uniqBy=t})(Z_)),Z_}var Y_={},NP;function _T(){return NP||(NP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a}e.identity=t})(Y_)),Y_}var Q_={},X_={},K_={},jP;function aU(){return jP||(jP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return Number.isSafeInteger(a)&&a>=0}e.isLength=t})(K_)),K_}var BP;function Z2(){return BP||(BP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aU();function a(i){return i!=null&&typeof i!="function"&&t.isLength(i.length)}e.isArrayLike=a})(X_)),X_}var J_={},qP;function iU(){return qP||(qP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="object"&&a!==null}e.isObjectLike=t})(J_)),J_}var $P;function oU(){return $P||($P=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Z2(),a=iU();function i(d){return a.isObjectLike(d)&&t.isArrayLike(d)}e.isArrayLikeObject=i})(Q_)),Q_}var eb={},tb={},HP;function sU(){return HP||(HP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q2();function a(i){return function(d){return t.get(d,i)}}e.property=a})(tb)),tb}var rb={},nb={},ab={},ib={},VP;function bT(){return VP||(VP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a!==null&&(typeof a=="object"||typeof a=="function")}e.isObject=t})(ib)),ib}var ob={},WP;function xT(){return WP||(WP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a==null||typeof a!="object"&&typeof a!="function"}e.isPrimitive=t})(ob)),ob}var sb={},GP;function ST(){return GP||(GP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,i){return a===i||Number.isNaN(a)&&Number.isNaN(i)}e.eq=t})(sb)),sb}var ZP;function lU(){return ZP||(ZP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y2(),a=bT(),i=xT(),d=ST();function p(R,L,U){return typeof U!="function"?t.isMatch(R,L):y(R,L,function q($,W,Y,X,te,pe){const de=U($,W,Y,X,te,pe);return de!==void 0?!!de:y($,W,q,pe)},new Map)}function y(R,L,U,q){if(L===R)return!0;switch(typeof L){case"object":return c(R,L,U,q);case"function":return Object.keys(L).length>0?y(R,{...L},U,q):d.eq(R,L);default:return a.isObject(R)?typeof L=="string"?L==="":!0:d.eq(R,L)}}function c(R,L,U,q){if(L==null)return!0;if(Array.isArray(L))return C(R,L,U,q);if(L instanceof Map)return A(R,L,U,q);if(L instanceof Set)return T(R,L,U,q);const $=Object.keys(L);if(R==null)return $.length===0;if($.length===0)return!0;if(q&&q.has(L))return q.get(L)===R;q&&q.set(L,R);try{for(let W=0;W<$.length;W++){const Y=$[W];if(!i.isPrimitive(R)&&!(Y in R)||L[Y]===void 0&&R[Y]!==void 0||L[Y]===null&&R[Y]!==null||!U(R[Y],L[Y],Y,R,L,q))return!1}return!0}finally{q&&q.delete(L)}}function A(R,L,U,q){if(L.size===0)return!0;if(!(R instanceof Map))return!1;for(const[$,W]of L.entries()){const Y=R.get($);if(U(Y,W,$,R,L,q)===!1)return!1}return!0}function C(R,L,U,q){if(L.length===0)return!0;if(!Array.isArray(R))return!1;const $=new Set;for(let W=0;W<L.length;W++){const Y=L[W];let X=!1;for(let te=0;te<R.length;te++){if($.has(te))continue;const pe=R[te];let de=!1;if(U(pe,Y,W,R,L,q)&&(de=!0),de){$.add(te),X=!0;break}}if(!X)return!1}return!0}function T(R,L,U,q){return L.size===0?!0:R instanceof Set?C([...R],[...L],U,q):!1}e.isMatchWith=p,e.isSetMatch=T})(ab)),ab}var YP;function Y2(){return YP||(YP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lU();function a(i,d){return t.isMatchWith(i,d,()=>{})}e.isMatch=a})(nb)),nb}var lb={},cb={},ub={},QP;function cU(){return QP||(QP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return Object.getOwnPropertySymbols(a).filter(i=>Object.prototype.propertyIsEnumerable.call(a,i))}e.getSymbols=t})(ub)),ub}var hb={},XP;function wT(){return XP||(XP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a==null?a===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(a)}e.getTag=t})(hb)),hb}var fb={},KP;function PT(){return KP||(KP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",a="[object String]",i="[object Number]",d="[object Boolean]",p="[object Arguments]",y="[object Symbol]",c="[object Date]",A="[object Map]",C="[object Set]",T="[object Array]",R="[object Function]",L="[object ArrayBuffer]",U="[object Object]",q="[object Error]",$="[object DataView]",W="[object Uint8Array]",Y="[object Uint8ClampedArray]",X="[object Uint16Array]",te="[object Uint32Array]",pe="[object BigUint64Array]",de="[object Int8Array]",ye="[object Int16Array]",xe="[object Int32Array]",Ie="[object BigInt64Array]",lt="[object Float32Array]",mt="[object Float64Array]";e.argumentsTag=p,e.arrayBufferTag=L,e.arrayTag=T,e.bigInt64ArrayTag=Ie,e.bigUint64ArrayTag=pe,e.booleanTag=d,e.dataViewTag=$,e.dateTag=c,e.errorTag=q,e.float32ArrayTag=lt,e.float64ArrayTag=mt,e.functionTag=R,e.int16ArrayTag=ye,e.int32ArrayTag=xe,e.int8ArrayTag=de,e.mapTag=A,e.numberTag=i,e.objectTag=U,e.regexpTag=t,e.setTag=C,e.stringTag=a,e.symbolTag=y,e.uint16ArrayTag=X,e.uint32ArrayTag=te,e.uint8ArrayTag=W,e.uint8ClampedArrayTag=Y})(fb)),fb}var db={},JP;function uU(){return JP||(JP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)}e.isTypedArray=t})(db)),db}var eA;function AT(){return eA||(eA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cU(),a=wT(),i=PT(),d=xT(),p=uU();function y(T,R){return c(T,void 0,T,new Map,R)}function c(T,R,L,U=new Map,q=void 0){const $=q?.(T,R,L,U);if($!==void 0)return $;if(d.isPrimitive(T))return T;if(U.has(T))return U.get(T);if(Array.isArray(T)){const W=new Array(T.length);U.set(T,W);for(let Y=0;Y<T.length;Y++)W[Y]=c(T[Y],Y,L,U,q);return Object.hasOwn(T,"index")&&(W.index=T.index),Object.hasOwn(T,"input")&&(W.input=T.input),W}if(T instanceof Date)return new Date(T.getTime());if(T instanceof RegExp){const W=new RegExp(T.source,T.flags);return W.lastIndex=T.lastIndex,W}if(T instanceof Map){const W=new Map;U.set(T,W);for(const[Y,X]of T)W.set(Y,c(X,Y,L,U,q));return W}if(T instanceof Set){const W=new Set;U.set(T,W);for(const Y of T)W.add(c(Y,void 0,L,U,q));return W}if(typeof Buffer<"u"&&Buffer.isBuffer(T))return T.subarray();if(p.isTypedArray(T)){const W=new(Object.getPrototypeOf(T)).constructor(T.length);U.set(T,W);for(let Y=0;Y<T.length;Y++)W[Y]=c(T[Y],Y,L,U,q);return W}if(T instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&T instanceof SharedArrayBuffer)return T.slice(0);if(T instanceof DataView){const W=new DataView(T.buffer.slice(0),T.byteOffset,T.byteLength);return U.set(T,W),A(W,T,L,U,q),W}if(typeof File<"u"&&T instanceof File){const W=new File([T],T.name,{type:T.type});return U.set(T,W),A(W,T,L,U,q),W}if(T instanceof Blob){const W=new Blob([T],{type:T.type});return U.set(T,W),A(W,T,L,U,q),W}if(T instanceof Error){const W=new T.constructor;return U.set(T,W),W.message=T.message,W.name=T.name,W.stack=T.stack,W.cause=T.cause,A(W,T,L,U,q),W}if(typeof T=="object"&&C(T)){const W=Object.create(Object.getPrototypeOf(T));return U.set(T,W),A(W,T,L,U,q),W}return T}function A(T,R,L=T,U,q){const $=[...Object.keys(R),...t.getSymbols(R)];for(let W=0;W<$.length;W++){const Y=$[W],X=Object.getOwnPropertyDescriptor(T,Y);(X==null||X.writable)&&(T[Y]=c(R[Y],Y,L,U,q))}}function C(T){switch(a.getTag(T)){case i.argumentsTag:case i.arrayTag:case i.arrayBufferTag:case i.dataViewTag:case i.booleanTag:case i.dateTag:case i.float32ArrayTag:case i.float64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.mapTag:case i.numberTag:case i.objectTag:case i.regexpTag:case i.setTag:case i.stringTag:case i.symbolTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=y,e.cloneDeepWithImpl=c,e.copyProperties=A})(cb)),cb}var tA;function hU(){return tA||(tA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AT();function a(i){return t.cloneDeepWithImpl(i,void 0,i,new Map,void 0)}e.cloneDeep=a})(lb)),lb}var rA;function fU(){return rA||(rA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y2(),a=hU();function i(d){return d=a.cloneDeep(d),p=>t.isMatch(p,d)}e.matches=i})(rb)),rb}var pb={},mb={},yb={},nA;function dU(){return nA||(nA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AT(),a=PT();function i(d,p){return t.cloneDeepWith(d,(y,c,A,C)=>{const T=p?.(y,c,A,C);if(T!==void 0)return T;if(typeof d=="object")switch(Object.prototype.toString.call(d)){case a.numberTag:case a.stringTag:case a.booleanTag:{const R=new d.constructor(d?.valueOf());return t.copyProperties(R,d),R}case a.argumentsTag:{const R={};return t.copyProperties(R,d),R.length=d.length,R[Symbol.iterator]=d[Symbol.iterator],R}default:return}})}e.cloneDeepWith=i})(yb)),yb}var aA;function pU(){return aA||(aA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dU();function a(i){return t.cloneDeepWith(i)}e.cloneDeep=a})(mb)),mb}var gb={},vb={},iA;function CT(){return iA||(iA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function a(i,d=Number.MAX_SAFE_INTEGER){switch(typeof i){case"number":return Number.isInteger(i)&&i>=0&&i<d;case"symbol":return!1;case"string":return t.test(i)}}e.isIndex=a})(vb)),vb}var _b={},oA;function mU(){return oA||(oA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wT();function a(i){return i!==null&&typeof i=="object"&&t.getTag(i)==="[object Arguments]"}e.isArguments=a})(_b)),_b}var sA;function yU(){return sA||(sA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YM(),a=CT(),i=mU(),d=B2();function p(y,c){let A;if(Array.isArray(c)?A=c:typeof c=="string"&&t.isDeepKey(c)&&y?.[c]==null?A=d.toPath(c):A=[c],A.length===0)return!1;let C=y;for(let T=0;T<A.length;T++){const R=A[T];if((C==null||!Object.hasOwn(C,R))&&!((Array.isArray(C)||i.isArguments(C))&&a.isIndex(R)&&R<C.length))return!1;C=C[R]}return!0}e.has=p})(gb)),gb}var lA;function gU(){return lA||(lA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y2(),a=QM(),i=pU(),d=q2(),p=yU();function y(c,A){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=a.toKey(c);break}}return A=i.cloneDeep(A),function(C){const T=d.get(C,c);return T===void 0?p.has(C,c):A===void 0?T===void 0:t.isMatch(T,A)}}e.matchesProperty=y})(pb)),pb}var cA;function vU(){return cA||(cA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_T(),a=sU(),i=fU(),d=gU();function p(y){if(y==null)return t.identity;switch(typeof y){case"function":return y;case"object":return Array.isArray(y)&&y.length===2?d.matchesProperty(y[0],y[1]):i.matches(y);case"string":case"symbol":case"number":return a.property(y)}}e.iteratee=p})(eb)),eb}var uA;function _U(){return uA||(uA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nU(),a=_T(),i=oU(),d=vU();function p(y,c=a.identity){return i.isArrayLikeObject(y)?t.uniqBy(Array.from(y),d.iteratee(c)):[]}e.uniqBy=p})(G_)),G_}var bb,hA;function bU(){return hA||(hA=1,bb=_U().uniqBy),bb}var xU=bU();const fA=hc(xU);function SU(e,t,a){return t===!0?fA(e,a):typeof t=="function"?fA(e,t):e}var xb={exports:{}},Sb={},wb={exports:{}},Pb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dA;function wU(){if(dA)return Pb;dA=1;var e=Am();function t(R,L){return R===L&&(R!==0||1/R===1/L)||R!==R&&L!==L}var a=typeof Object.is=="function"?Object.is:t,i=e.useState,d=e.useEffect,p=e.useLayoutEffect,y=e.useDebugValue;function c(R,L){var U=L(),q=i({inst:{value:U,getSnapshot:L}}),$=q[0].inst,W=q[1];return p(function(){$.value=U,$.getSnapshot=L,A($)&&W({inst:$})},[R,U,L]),d(function(){return A($)&&W({inst:$}),R(function(){A($)&&W({inst:$})})},[R]),y(U),U}function A(R){var L=R.getSnapshot;R=R.value;try{var U=L();return!a(R,U)}catch{return!0}}function C(R,L){return L()}var T=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?C:c;return Pb.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:T,Pb}var pA;function PU(){return pA||(pA=1,wb.exports=wU()),wb.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mA;function AU(){if(mA)return Sb;mA=1;var e=Am(),t=PU();function a(C,T){return C===T&&(C!==0||1/C===1/T)||C!==C&&T!==T}var i=typeof Object.is=="function"?Object.is:a,d=t.useSyncExternalStore,p=e.useRef,y=e.useEffect,c=e.useMemo,A=e.useDebugValue;return Sb.useSyncExternalStoreWithSelector=function(C,T,R,L,U){var q=p(null);if(q.current===null){var $={hasValue:!1,value:null};q.current=$}else $=q.current;q=c(function(){function Y(ye){if(!X){if(X=!0,te=ye,ye=L(ye),U!==void 0&&$.hasValue){var xe=$.value;if(U(xe,ye))return pe=xe}return pe=ye}if(xe=pe,i(te,ye))return xe;var Ie=L(ye);return U!==void 0&&U(xe,Ie)?(te=ye,xe):(te=ye,pe=Ie)}var X=!1,te,pe,de=R===void 0?null:R;return[function(){return Y(T())},de===null?void 0:function(){return Y(de())}]},[T,R,L,U]);var W=d(C,q[0],q[1]);return y(function(){$.hasValue=!0,$.value=W},[W]),A(W),W},Sb}var yA;function CU(){return yA||(yA=1,xb.exports=AU()),xb.exports}var DU=CU(),Q2=V.createContext(null),MU=e=>e,Ai=()=>{var e=V.useContext(Q2);return e?e.store.dispatch:MU},xv=()=>{},TU=()=>xv,EU=(e,t)=>e===t;function pr(e){var t=V.useContext(Q2);return DU.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:TU,t?t.store.getState:xv,t?t.store.getState:xv,t?e:xv,EU)}function RU(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function IU(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function kU(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(a=>typeof a=="function")){const a=e.map(i=>typeof i=="function"?`function ${i.name||"unnamed"}()`:typeof i).join(", ");throw new TypeError(`${t}[${a}]`)}}var gA=e=>Array.isArray(e)?e:[e];function OU(e){const t=Array.isArray(e[0])?e[0]:e;return kU(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function UU(e,t){const a=[],{length:i}=e;for(let d=0;d<i;d++)a.push(e[d].apply(null,t));return a}var LU=class{constructor(e){this.value=e}deref(){return this.value}},zU=typeof WeakRef<"u"?WeakRef:LU,FU=0,vA=1;function K0(){return{s:FU,v:void 0,o:null,p:null}}function DT(e,t={}){let a=K0();const{resultEqualityCheck:i}=t;let d,p=0;function y(){let c=a;const{length:A}=arguments;for(let R=0,L=A;R<L;R++){const U=arguments[R];if(typeof U=="function"||typeof U=="object"&&U!==null){let q=c.o;q===null&&(c.o=q=new WeakMap);const $=q.get(U);$===void 0?(c=K0(),q.set(U,c)):c=$}else{let q=c.p;q===null&&(c.p=q=new Map);const $=q.get(U);$===void 0?(c=K0(),q.set(U,c)):c=$}}const C=c;let T;if(c.s===vA)T=c.v;else if(T=e.apply(null,arguments),p++,i){const R=d?.deref?.()??d;R!=null&&i(R,T)&&(T=R,p!==0&&p--),d=typeof T=="object"&&T!==null||typeof T=="function"?new zU(T):T}return C.s=vA,C.v=T,T}return y.clearCache=()=>{a=K0(),y.resetResultsCount()},y.resultsCount=()=>p,y.resetResultsCount=()=>{p=0},y}function NU(e,...t){const a=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,i=(...d)=>{let p=0,y=0,c,A={},C=d.pop();typeof C=="object"&&(A=C,C=d.pop()),RU(C,`createSelector expects an output function after the inputs, but received: [${typeof C}]`);const T={...a,...A},{memoize:R,memoizeOptions:L=[],argsMemoize:U=DT,argsMemoizeOptions:q=[]}=T,$=gA(L),W=gA(q),Y=OU(d),X=R(function(){return p++,C.apply(null,arguments)},...$),te=U(function(){y++;const de=UU(Y,arguments);return c=X.apply(null,de),c},...W);return Object.assign(te,{resultFunc:C,memoizedResultFunc:X,dependencies:Y,dependencyRecomputations:()=>y,resetDependencyRecomputations:()=>{y=0},lastResult:()=>c,recomputations:()=>p,resetRecomputations:()=>{p=0},memoize:R,argsMemoize:U})};return Object.assign(i,{withTypes:()=>i}),i}var ut=NU(DT),jU=Object.assign((e,t=ut)=>{IU(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const a=Object.keys(e),i=a.map(p=>e[p]);return t(i,(...p)=>p.reduce((y,c,A)=>(y[a[A]]=c,y),{}))},{withTypes:()=>jU}),Ab={},Cb={},Db={},_A;function BU(){return _A||(_A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(i){return typeof i=="symbol"?1:i===null?2:i===void 0?3:i!==i?4:0}const a=(i,d,p)=>{if(i!==d){const y=t(i),c=t(d);if(y===c&&y===0){if(i<d)return p==="desc"?1:-1;if(i>d)return p==="desc"?-1:1}return p==="desc"?c-y:y-c}return 0};e.compareValues=a})(Db)),Db}var Mb={},Tb={},bA;function MT(){return bA||(bA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="symbol"||a instanceof Symbol}e.isSymbol=t})(Tb)),Tb}var xA;function qU(){return xA||(xA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MT(),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function d(p,y){return Array.isArray(p)?!1:typeof p=="number"||typeof p=="boolean"||p==null||t.isSymbol(p)?!0:typeof p=="string"&&(i.test(p)||!a.test(p))||y!=null&&Object.hasOwn(y,p)}e.isKey=d})(Mb)),Mb}var SA;function $U(){return SA||(SA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BU(),a=qU(),i=B2();function d(p,y,c,A){if(p==null)return[];c=A?void 0:c,Array.isArray(p)||(p=Object.values(p)),Array.isArray(y)||(y=y==null?[null]:[y]),y.length===0&&(y=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(U=>String(U));const C=(U,q)=>{let $=U;for(let W=0;W<q.length&&$!=null;++W)$=$[q[W]];return $},T=(U,q)=>q==null||U==null?q:typeof U=="object"&&"key"in U?Object.hasOwn(q,U.key)?q[U.key]:C(q,U.path):typeof U=="function"?U(q):Array.isArray(U)?C(q,U):typeof q=="object"?q[U]:q,R=y.map(U=>(Array.isArray(U)&&U.length===1&&(U=U[0]),U==null||typeof U=="function"||Array.isArray(U)||a.isKey(U)?U:{key:U,path:i.toPath(U)}));return p.map(U=>({original:U,criteria:R.map(q=>T(q,U))})).slice().sort((U,q)=>{for(let $=0;$<R.length;$++){const W=t.compareValues(U.criteria[$],q.criteria[$],c[$]);if(W!==0)return W}return 0}).map(U=>U.original)}e.orderBy=d})(Cb)),Cb}var Eb={},wA;function HU(){return wA||(wA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,i=1){const d=[],p=Math.floor(i),y=(c,A)=>{for(let C=0;C<c.length;C++){const T=c[C];Array.isArray(T)&&A<p?y(T,A+1):d.push(T)}};return y(a,0),d}e.flatten=t})(Eb)),Eb}var Rb={},PA;function TT(){return PA||(PA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CT(),a=Z2(),i=bT(),d=ST();function p(y,c,A){return i.isObject(A)&&(typeof c=="number"&&a.isArrayLike(A)&&t.isIndex(c)&&c<A.length||typeof c=="string"&&c in A)?d.eq(A[c],y):!1}e.isIterateeCall=p})(Rb)),Rb}var AA;function VU(){return AA||(AA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$U(),a=HU(),i=TT();function d(p,...y){const c=y.length;return c>1&&i.isIterateeCall(p,y[0],y[1])?y=[]:c>2&&i.isIterateeCall(y[0],y[1],y[2])&&(y=[y[0]]),t.orderBy(p,a.flatten(y),["asc"])}e.sortBy=d})(Ab)),Ab}var Ib,CA;function WU(){return CA||(CA=1,Ib=VU().sortBy),Ib}var GU=WU();const M1=hc(GU);var ET=e=>e.legend.settings,ZU=e=>e.legend.size,YU=e=>e.legend.payload;ut([YU,ET],(e,t)=>{var{itemSorter:a}=t,i=e.flat(1);return a?M1(i,a):i});var J0=1;function QU(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,a]=V.useState({height:0,left:0,top:0,width:0}),i=V.useCallback(d=>{if(d!=null){var p=d.getBoundingClientRect(),y={height:p.height,left:p.left,top:p.top,width:p.width};(Math.abs(y.height-t.height)>J0||Math.abs(y.left-t.left)>J0||Math.abs(y.top-t.top)>J0||Math.abs(y.width-t.width)>J0)&&a({height:y.height,left:y.left,top:y.top,width:y.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,i]}function $i(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var XU=typeof Symbol=="function"&&Symbol.observable||"@@observable",DA=XU,kb=()=>Math.random().toString(36).substring(7).split("").join("."),KU={INIT:`@@redux/INIT${kb()}`,REPLACE:`@@redux/REPLACE${kb()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${kb()}`},Uv=KU;function X2(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function RT(e,t,a){if(typeof e!="function")throw new Error($i(2));if(typeof t=="function"&&typeof a=="function"||typeof a=="function"&&typeof arguments[3]=="function")throw new Error($i(0));if(typeof t=="function"&&typeof a>"u"&&(a=t,t=void 0),typeof a<"u"){if(typeof a!="function")throw new Error($i(1));return a(RT)(e,t)}let i=e,d=t,p=new Map,y=p,c=0,A=!1;function C(){y===p&&(y=new Map,p.forEach((W,Y)=>{y.set(Y,W)}))}function T(){if(A)throw new Error($i(3));return d}function R(W){if(typeof W!="function")throw new Error($i(4));if(A)throw new Error($i(5));let Y=!0;C();const X=c++;return y.set(X,W),function(){if(Y){if(A)throw new Error($i(6));Y=!1,C(),y.delete(X),p=null}}}function L(W){if(!X2(W))throw new Error($i(7));if(typeof W.type>"u")throw new Error($i(8));if(typeof W.type!="string")throw new Error($i(17));if(A)throw new Error($i(9));try{A=!0,d=i(d,W)}finally{A=!1}return(p=y).forEach(X=>{X()}),W}function U(W){if(typeof W!="function")throw new Error($i(10));i=W,L({type:Uv.REPLACE})}function q(){const W=R;return{subscribe(Y){if(typeof Y!="object"||Y===null)throw new Error($i(11));function X(){const pe=Y;pe.next&&pe.next(T())}return X(),{unsubscribe:W(X)}},[DA](){return this}}}return L({type:Uv.INIT}),{dispatch:L,subscribe:R,getState:T,replaceReducer:U,[DA]:q}}function JU(e){Object.keys(e).forEach(t=>{const a=e[t];if(typeof a(void 0,{type:Uv.INIT})>"u")throw new Error($i(12));if(typeof a(void 0,{type:Uv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error($i(13))})}function IT(e){const t=Object.keys(e),a={};for(let p=0;p<t.length;p++){const y=t[p];typeof e[y]=="function"&&(a[y]=e[y])}const i=Object.keys(a);let d;try{JU(a)}catch(p){d=p}return function(y={},c){if(d)throw d;let A=!1;const C={};for(let T=0;T<i.length;T++){const R=i[T],L=a[R],U=y[R],q=L(U,c);if(typeof q>"u")throw c&&c.type,new Error($i(14));C[R]=q,A=A||q!==U}return A=A||i.length!==Object.keys(y).length,A?C:y}}function Lv(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,a)=>(...i)=>t(a(...i)))}function eL(...e){return t=>(a,i)=>{const d=t(a,i);let p=()=>{throw new Error($i(15))};const y={getState:d.getState,dispatch:(A,...C)=>p(A,...C)},c=e.map(A=>A(y));return p=Lv(...c)(d.dispatch),{...d,dispatch:p}}}function kT(e){return X2(e)&&"type"in e&&typeof e.type=="string"}var OT=Symbol.for("immer-nothing"),MA=Symbol.for("immer-draftable"),ks=Symbol.for("immer-state");function ic(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ym=Object.getPrototypeOf;function ep(e){return!!e&&!!e[ks]}function yh(e){return e?UT(e)||Array.isArray(e)||!!e[MA]||!!e.constructor?.[MA]||Og(e)||E1(e):!1}var tL=Object.prototype.constructor.toString();function UT(e){if(!e||typeof e!="object")return!1;const t=ym(e);if(t===null)return!0;const a=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return a===Object?!0:typeof a=="function"&&Function.toString.call(a)===tL}function zv(e,t){T1(e)===0?Reflect.ownKeys(e).forEach(a=>{t(a,e[a],e)}):e.forEach((a,i)=>t(i,a,e))}function T1(e){const t=e[ks];return t?t.type_:Array.isArray(e)?1:Og(e)?2:E1(e)?3:0}function Ix(e,t){return T1(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function LT(e,t,a){const i=T1(e);i===2?e.set(t,a):i===3?e.add(a):e[t]=a}function rL(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Og(e){return e instanceof Map}function E1(e){return e instanceof Set}function jd(e){return e.copy_||e.base_}function kx(e,t){if(Og(e))return new Map(e);if(E1(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const a=UT(e);if(t===!0||t==="class_only"&&!a){const i=Object.getOwnPropertyDescriptors(e);delete i[ks];let d=Reflect.ownKeys(i);for(let p=0;p<d.length;p++){const y=d[p],c=i[y];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(i[y]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[y]})}return Object.create(ym(e),i)}else{const i=ym(e);if(i!==null&&a)return{...e};const d=Object.create(i);return Object.assign(d,e)}}function K2(e,t=!1){return R1(e)||ep(e)||!yh(e)||(T1(e)>1&&Object.defineProperties(e,{set:{value:ev},add:{value:ev},clear:{value:ev},delete:{value:ev}}),Object.freeze(e),t&&Object.values(e).forEach(a=>K2(a,!0))),e}function ev(){ic(2)}function R1(e){return Object.isFrozen(e)}var nL={};function tp(e){const t=nL[e];return t||ic(0,e),t}var gg;function zT(){return gg}function aL(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function TA(e,t){t&&(tp("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ox(e){Ux(e),e.drafts_.forEach(iL),e.drafts_=null}function Ux(e){e===gg&&(gg=e.parent_)}function EA(e){return gg=aL(gg,e)}function iL(e){const t=e[ks];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function RA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const a=t.drafts_[0];return e!==void 0&&e!==a?(a[ks].modified_&&(Ox(t),ic(4)),yh(e)&&(e=Fv(t,e),t.parent_||Nv(t,e)),t.patches_&&tp("Patches").generateReplacementPatches_(a[ks].base_,e,t.patches_,t.inversePatches_)):e=Fv(t,a,[]),Ox(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==OT?e:void 0}function Fv(e,t,a){if(R1(t))return t;const i=t[ks];if(!i)return zv(t,(d,p)=>IA(e,i,t,d,p,a)),t;if(i.scope_!==e)return t;if(!i.modified_)return Nv(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const d=i.copy_;let p=d,y=!1;i.type_===3&&(p=new Set(d),d.clear(),y=!0),zv(p,(c,A)=>IA(e,i,d,c,A,a,y)),Nv(e,d,!1),a&&e.patches_&&tp("Patches").generatePatches_(i,a,e.patches_,e.inversePatches_)}return i.copy_}function IA(e,t,a,i,d,p,y){if(ep(d)){const c=p&&t&&t.type_!==3&&!Ix(t.assigned_,i)?p.concat(i):void 0,A=Fv(e,d,c);if(LT(a,i,A),ep(A))e.canAutoFreeze_=!1;else return}else y&&a.add(d);if(yh(d)&&!R1(d)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Fv(e,d),(!t||!t.scope_.parent_)&&typeof i!="symbol"&&(Og(a)?a.has(i):Object.prototype.propertyIsEnumerable.call(a,i))&&Nv(e,d)}}function Nv(e,t,a=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&K2(t,a)}function oL(e,t){const a=Array.isArray(e),i={type_:a?1:0,scope_:t?t.scope_:zT(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let d=i,p=J2;a&&(d=[i],p=vg);const{revoke:y,proxy:c}=Proxy.revocable(d,p);return i.draft_=c,i.revoke_=y,c}var J2={get(e,t){if(t===ks)return e;const a=jd(e);if(!Ix(a,t))return sL(e,a,t);const i=a[t];return e.finalized_||!yh(i)?i:i===Ob(e.base_,t)?(Ub(e),e.copy_[t]=zx(i,e)):i},has(e,t){return t in jd(e)},ownKeys(e){return Reflect.ownKeys(jd(e))},set(e,t,a){const i=FT(jd(e),t);if(i?.set)return i.set.call(e.draft_,a),!0;if(!e.modified_){const d=Ob(jd(e),t),p=d?.[ks];if(p&&p.base_===a)return e.copy_[t]=a,e.assigned_[t]=!1,!0;if(rL(a,d)&&(a!==void 0||Ix(e.base_,t)))return!0;Ub(e),Lx(e)}return e.copy_[t]===a&&(a!==void 0||t in e.copy_)||Number.isNaN(a)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=a,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Ob(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Ub(e),Lx(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const a=jd(e),i=Reflect.getOwnPropertyDescriptor(a,t);return i&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:i.enumerable,value:a[t]}},defineProperty(){ic(11)},getPrototypeOf(e){return ym(e.base_)},setPrototypeOf(){ic(12)}},vg={};zv(J2,(e,t)=>{vg[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});vg.deleteProperty=function(e,t){return vg.set.call(this,e,t,void 0)};vg.set=function(e,t,a){return J2.set.call(this,e[0],t,a,e[0])};function Ob(e,t){const a=e[ks];return(a?jd(a):e)[t]}function sL(e,t,a){const i=FT(t,a);return i?"value"in i?i.value:i.get?.call(e.draft_):void 0}function FT(e,t){if(!(t in e))return;let a=ym(e);for(;a;){const i=Object.getOwnPropertyDescriptor(a,t);if(i)return i;a=ym(a)}}function Lx(e){e.modified_||(e.modified_=!0,e.parent_&&Lx(e.parent_))}function Ub(e){e.copy_||(e.copy_=kx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var lL=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,a,i)=>{if(typeof t=="function"&&typeof a!="function"){const p=a;a=t;const y=this;return function(A=p,...C){return y.produce(A,T=>a.call(this,T,...C))}}typeof a!="function"&&ic(6),i!==void 0&&typeof i!="function"&&ic(7);let d;if(yh(t)){const p=EA(this),y=zx(t,void 0);let c=!0;try{d=a(y),c=!1}finally{c?Ox(p):Ux(p)}return TA(p,i),RA(d,p)}else if(!t||typeof t!="object"){if(d=a(t),d===void 0&&(d=t),d===OT&&(d=void 0),this.autoFreeze_&&K2(d,!0),i){const p=[],y=[];tp("Patches").generateReplacementPatches_(t,d,p,y),i(p,y)}return d}else ic(1,t)},this.produceWithPatches=(t,a)=>{if(typeof t=="function")return(y,...c)=>this.produceWithPatches(y,A=>t(A,...c));let i,d;return[this.produce(t,a,(y,c)=>{i=y,d=c}),i,d]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){yh(e)||ic(8),ep(e)&&(e=hh(e));const t=EA(this),a=zx(e,void 0);return a[ks].isManual_=!0,Ux(t),a}finishDraft(e,t){const a=e&&e[ks];(!a||!a.isManual_)&&ic(9);const{scope_:i}=a;return TA(i,t),RA(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let a;for(a=t.length-1;a>=0;a--){const d=t[a];if(d.path.length===0&&d.op==="replace"){e=d.value;break}}a>-1&&(t=t.slice(a+1));const i=tp("Patches").applyPatches_;return ep(e)?i(e,t):this.produce(e,d=>i(d,t))}};function zx(e,t){const a=Og(e)?tp("MapSet").proxyMap_(e,t):E1(e)?tp("MapSet").proxySet_(e,t):oL(e,t);return(t?t.scope_:zT()).drafts_.push(a),a}function hh(e){return ep(e)||ic(10,e),NT(e)}function NT(e){if(!yh(e)||R1(e))return e;const t=e[ks];let a;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,a=kx(e,t.scope_.immer_.useStrictShallowCopy_)}else a=kx(e,!0);return zv(a,(i,d)=>{LT(a,i,NT(d))}),t&&(t.finalized_=!1),a}var cL=new lL,jT=cL.produce;function BT(e){return({dispatch:a,getState:i})=>d=>p=>typeof p=="function"?p(a,i,e):d(p)}var uL=BT(),hL=BT,fL=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Lv:Lv.apply(null,arguments)};function fl(e,t){function a(...i){if(t){let d=t(...i);if(!d)throw new Error(Is(0));return{type:e,payload:d.payload,..."meta"in d&&{meta:d.meta},..."error"in d&&{error:d.error}}}return{type:e,payload:i[0]}}return a.toString=()=>`${e}`,a.type=e,a.match=i=>kT(i)&&i.type===e,a}var qT=class og extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,og.prototype)}static get[Symbol.species](){return og}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new og(...t[0].concat(this)):new og(...t.concat(this))}};function kA(e){return yh(e)?jT(e,()=>{}):e}function tv(e,t,a){return e.has(t)?e.get(t):e.set(t,a(t)).get(t)}function dL(e){return typeof e=="boolean"}var pL=()=>function(t){const{thunk:a=!0,immutableCheck:i=!0,serializableCheck:d=!0,actionCreatorCheck:p=!0}=t??{};let y=new qT;return a&&(dL(a)?y.push(uL):y.push(hL(a.extraArgument))),y},mL="RTK_autoBatch",OA=e=>t=>{setTimeout(t,e)},yL=(e={type:"raf"})=>t=>(...a)=>{const i=t(...a);let d=!0,p=!1,y=!1;const c=new Set,A=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:OA(10):e.type==="callback"?e.queueNotification:OA(e.timeout),C=()=>{y=!1,p&&(p=!1,c.forEach(T=>T()))};return Object.assign({},i,{subscribe(T){const R=()=>d&&T(),L=i.subscribe(R);return c.add(T),()=>{L(),c.delete(T)}},dispatch(T){try{return d=!T?.meta?.[mL],p=!d,p&&(y||(y=!0,A(C))),i.dispatch(T)}finally{d=!0}}})},gL=e=>function(a){const{autoBatch:i=!0}=a??{};let d=new qT(e);return i&&d.push(yL(typeof i=="object"?i:void 0)),d};function vL(e){const t=pL(),{reducer:a=void 0,middleware:i,devTools:d=!0,preloadedState:p=void 0,enhancers:y=void 0}=e||{};let c;if(typeof a=="function")c=a;else if(X2(a))c=IT(a);else throw new Error(Is(1));let A;typeof i=="function"?A=i(t):A=t();let C=Lv;d&&(C=fL({trace:!1,...typeof d=="object"&&d}));const T=eL(...A),R=gL(T);let L=typeof y=="function"?y(R):R();const U=C(...L);return RT(c,p,U)}function $T(e){const t={},a=[];let i;const d={addCase(p,y){const c=typeof p=="string"?p:p.type;if(!c)throw new Error(Is(28));if(c in t)throw new Error(Is(29));return t[c]=y,d},addAsyncThunk(p,y){return y.pending&&(t[p.pending.type]=y.pending),y.rejected&&(t[p.rejected.type]=y.rejected),y.fulfilled&&(t[p.fulfilled.type]=y.fulfilled),y.settled&&a.push({matcher:p.settled,reducer:y.settled}),d},addMatcher(p,y){return a.push({matcher:p,reducer:y}),d},addDefaultCase(p){return i=p,d}};return e(d),[t,a,i]}function _L(e){return typeof e=="function"}function bL(e,t){let[a,i,d]=$T(t),p;if(_L(e))p=()=>kA(e());else{const c=kA(e);p=()=>c}function y(c=p(),A){let C=[a[A.type],...i.filter(({matcher:T})=>T(A)).map(({reducer:T})=>T)];return C.filter(T=>!!T).length===0&&(C=[d]),C.reduce((T,R)=>{if(R)if(ep(T)){const U=R(T,A);return U===void 0?T:U}else{if(yh(T))return jT(T,L=>R(L,A));{const L=R(T,A);if(L===void 0){if(T===null)return T;throw Error("A case reducer on a non-draftable value must not return undefined")}return L}}return T},c)}return y.getInitialState=p,y}var xL="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",SL=(e=21)=>{let t="",a=e;for(;a--;)t+=xL[Math.random()*64|0];return t},wL=Symbol.for("rtk-slice-createasyncthunk");function PL(e,t){return`${e}/${t}`}function AL({creators:e}={}){const t=e?.asyncThunk?.[wL];return function(i){const{name:d,reducerPath:p=d}=i;if(!d)throw new Error(Is(11));const y=(typeof i.reducers=="function"?i.reducers(DL()):i.reducers)||{},c=Object.keys(y),A={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},C={addCase(te,pe){const de=typeof te=="string"?te:te.type;if(!de)throw new Error(Is(12));if(de in A.sliceCaseReducersByType)throw new Error(Is(13));return A.sliceCaseReducersByType[de]=pe,C},addMatcher(te,pe){return A.sliceMatchers.push({matcher:te,reducer:pe}),C},exposeAction(te,pe){return A.actionCreators[te]=pe,C},exposeCaseReducer(te,pe){return A.sliceCaseReducersByName[te]=pe,C}};c.forEach(te=>{const pe=y[te],de={reducerName:te,type:PL(d,te),createNotation:typeof i.reducers=="function"};TL(pe)?RL(de,pe,C,t):ML(de,pe,C)});function T(){const[te={},pe=[],de=void 0]=typeof i.extraReducers=="function"?$T(i.extraReducers):[i.extraReducers],ye={...te,...A.sliceCaseReducersByType};return bL(i.initialState,xe=>{for(let Ie in ye)xe.addCase(Ie,ye[Ie]);for(let Ie of A.sliceMatchers)xe.addMatcher(Ie.matcher,Ie.reducer);for(let Ie of pe)xe.addMatcher(Ie.matcher,Ie.reducer);de&&xe.addDefaultCase(de)})}const R=te=>te,L=new Map,U=new WeakMap;let q;function $(te,pe){return q||(q=T()),q(te,pe)}function W(){return q||(q=T()),q.getInitialState()}function Y(te,pe=!1){function de(xe){let Ie=xe[te];return typeof Ie>"u"&&pe&&(Ie=tv(U,de,W)),Ie}function ye(xe=R){const Ie=tv(L,pe,()=>new WeakMap);return tv(Ie,xe,()=>{const lt={};for(const[mt,nt]of Object.entries(i.selectors??{}))lt[mt]=CL(nt,xe,()=>tv(U,xe,W),pe);return lt})}return{reducerPath:te,getSelectors:ye,get selectors(){return ye(de)},selectSlice:de}}const X={name:d,reducer:$,actions:A.actionCreators,caseReducers:A.sliceCaseReducersByName,getInitialState:W,...Y(p),injectInto(te,{reducerPath:pe,...de}={}){const ye=pe??p;return te.inject({reducerPath:ye,reducer:$},de),{...X,...Y(ye,!0)}}};return X}}function CL(e,t,a,i){function d(p,...y){let c=t(p);return typeof c>"u"&&i&&(c=a()),e(c,...y)}return d.unwrapped=e,d}var Us=AL();function DL(){function e(t,a){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...a}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...a){return t(...a)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,a){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:a}},asyncThunk:e}}function ML({type:e,reducerName:t,createNotation:a},i,d){let p,y;if("reducer"in i){if(a&&!EL(i))throw new Error(Is(17));p=i.reducer,y=i.prepare}else p=i;d.addCase(e,p).exposeCaseReducer(t,p).exposeAction(t,y?fl(e,y):fl(e))}function TL(e){return e._reducerDefinitionType==="asyncThunk"}function EL(e){return e._reducerDefinitionType==="reducerWithPrepare"}function RL({type:e,reducerName:t},a,i,d){if(!d)throw new Error(Is(18));const{payloadCreator:p,fulfilled:y,pending:c,rejected:A,settled:C,options:T}=a,R=d(e,p,T);i.exposeAction(t,R),y&&i.addCase(R.fulfilled,y),c&&i.addCase(R.pending,c),A&&i.addCase(R.rejected,A),C&&i.addMatcher(R.settled,C),i.exposeCaseReducer(t,{fulfilled:y||rv,pending:c||rv,rejected:A||rv,settled:C||rv})}function rv(){}var IL="task",HT="listener",VT="completed",eS="cancelled",kL=`task-${eS}`,OL=`task-${VT}`,Fx=`${HT}-${eS}`,UL=`${HT}-${VT}`,I1=class{constructor(e){this.code=e,this.message=`${IL} ${eS} (reason: ${e})`}name="TaskAbortError";message},tS=(e,t)=>{if(typeof e!="function")throw new TypeError(Is(32))},jv=()=>{},WT=(e,t=jv)=>(e.catch(t),e),GT=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Vd=(e,t)=>{const a=e.signal;a.aborted||("reason"in a||Object.defineProperty(a,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Wd=e=>{if(e.aborted){const{reason:t}=e;throw new I1(t)}};function ZT(e,t){let a=jv;return new Promise((i,d)=>{const p=()=>d(new I1(e.reason));if(e.aborted){p();return}a=GT(e,p),t.finally(()=>a()).then(i,d)}).finally(()=>{a=jv})}var LL=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(a){return{status:a instanceof I1?"cancelled":"rejected",error:a}}finally{t?.()}},Bv=e=>t=>WT(ZT(e,t).then(a=>(Wd(e),a))),YT=e=>{const t=Bv(e);return a=>t(new Promise(i=>setTimeout(i,a)))},{assign:lm}=Object,UA={},k1="listenerMiddleware",zL=(e,t)=>{const a=i=>GT(e,()=>Vd(i,e.reason));return(i,d)=>{tS(i);const p=new AbortController;a(p);const y=LL(async()=>{Wd(e),Wd(p.signal);const c=await i({pause:Bv(p.signal),delay:YT(p.signal),signal:p.signal});return Wd(p.signal),c},()=>Vd(p,OL));return d?.autoJoin&&t.push(y.catch(jv)),{result:Bv(e)(y),cancel(){Vd(p,kL)}}}},FL=(e,t)=>{const a=async(i,d)=>{Wd(t);let p=()=>{};const c=[new Promise((A,C)=>{let T=e({predicate:i,effect:(R,L)=>{L.unsubscribe(),A([R,L.getState(),L.getOriginalState()])}});p=()=>{T(),C()}})];d!=null&&c.push(new Promise(A=>setTimeout(A,d,null)));try{const A=await ZT(t,Promise.race(c));return Wd(t),A}finally{p()}};return(i,d)=>WT(a(i,d))},QT=e=>{let{type:t,actionCreator:a,matcher:i,predicate:d,effect:p}=e;if(t)d=fl(t).match;else if(a)t=a.type,d=a.match;else if(i)d=i;else if(!d)throw new Error(Is(21));return tS(p),{predicate:d,type:t,effect:p}},XT=lm(e=>{const{type:t,predicate:a,effect:i}=QT(e);return{id:SL(),effect:i,type:t,predicate:a,pending:new Set,unsubscribe:()=>{throw new Error(Is(22))}}},{withTypes:()=>XT}),LA=(e,t)=>{const{type:a,effect:i,predicate:d}=QT(t);return Array.from(e.values()).find(p=>(typeof a=="string"?p.type===a:p.predicate===d)&&p.effect===i)},Nx=e=>{e.pending.forEach(t=>{Vd(t,Fx)})},NL=e=>()=>{e.forEach(Nx),e.clear()},zA=(e,t,a)=>{try{e(t,a)}catch(i){setTimeout(()=>{throw i},0)}},KT=lm(fl(`${k1}/add`),{withTypes:()=>KT}),jL=fl(`${k1}/removeAll`),JT=lm(fl(`${k1}/remove`),{withTypes:()=>JT}),BL=(...e)=>{console.error(`${k1}/error`,...e)},Ug=(e={})=>{const t=new Map,{extra:a,onError:i=BL}=e;tS(i);const d=T=>(T.unsubscribe=()=>t.delete(T.id),t.set(T.id,T),R=>{T.unsubscribe(),R?.cancelActive&&Nx(T)}),p=T=>{const R=LA(t,T)??XT(T);return d(R)};lm(p,{withTypes:()=>p});const y=T=>{const R=LA(t,T);return R&&(R.unsubscribe(),T.cancelActive&&Nx(R)),!!R};lm(y,{withTypes:()=>y});const c=async(T,R,L,U)=>{const q=new AbortController,$=FL(p,q.signal),W=[];try{T.pending.add(q),await Promise.resolve(T.effect(R,lm({},L,{getOriginalState:U,condition:(Y,X)=>$(Y,X).then(Boolean),take:$,delay:YT(q.signal),pause:Bv(q.signal),extra:a,signal:q.signal,fork:zL(q.signal,W),unsubscribe:T.unsubscribe,subscribe:()=>{t.set(T.id,T)},cancelActiveListeners:()=>{T.pending.forEach((Y,X,te)=>{Y!==q&&(Vd(Y,Fx),te.delete(Y))})},cancel:()=>{Vd(q,Fx),T.pending.delete(q)},throwIfCancelled:()=>{Wd(q.signal)}})))}catch(Y){Y instanceof I1||zA(i,Y,{raisedBy:"effect"})}finally{await Promise.all(W),Vd(q,UL),T.pending.delete(q)}},A=NL(t);return{middleware:T=>R=>L=>{if(!kT(L))return R(L);if(KT.match(L))return p(L.payload);if(jL.match(L)){A();return}if(JT.match(L))return y(L.payload);let U=T.getState();const q=()=>{if(U===UA)throw new Error(Is(23));return U};let $;try{if($=R(L),t.size>0){const W=T.getState(),Y=Array.from(t.values());for(const X of Y){let te=!1;try{te=X.predicate(L,W,U)}catch(pe){te=!1,zA(i,pe,{raisedBy:"predicate"})}te&&c(X,L,T,q)}}}finally{U=UA}return $},startListening:p,stopListening:y,clearListeners:A}};function Is(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var qL={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},e5=Us({name:"chartLayout",initialState:qL,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var a,i,d,p;e.margin.top=(a=t.payload.top)!==null&&a!==void 0?a:0,e.margin.right=(i=t.payload.right)!==null&&i!==void 0?i:0,e.margin.bottom=(d=t.payload.bottom)!==null&&d!==void 0?d:0,e.margin.left=(p=t.payload.left)!==null&&p!==void 0?p:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:$L,setLayout:HL,setChartSize:VL,setScale:WL}=e5.actions,GL=e5.reducer;function FA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),a.push.apply(a,i)}return a}function NA(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?FA(Object(a),!0).forEach(function(i){ZL(e,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):FA(Object(a)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(a,i))})}return e}function ZL(e,t,a){return(t=YL(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function YL(e){var t=QL(e,"string");return typeof t=="symbol"?t:t+""}function QL(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var i=a.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qv=Math.PI/180,XL=e=>e*180/Math.PI,Vi=(e,t,a,i)=>({x:e+Math.cos(-qv*i)*a,y:t+Math.sin(-qv*i)*a}),KL=function(t,a){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(i.left||0)-(i.right||0)),Math.abs(a-(i.top||0)-(i.bottom||0)))/2},JL=(e,t)=>{var{x:a,y:i}=e,{x:d,y:p}=t;return Math.sqrt((a-d)**2+(i-p)**2)},ez=(e,t)=>{var{x:a,y:i}=e,{cx:d,cy:p}=t,y=JL({x:a,y:i},{x:d,y:p});if(y<=0)return{radius:y,angle:0};var c=(a-d)/y,A=Math.acos(c);return i>p&&(A=2*Math.PI-A),{radius:y,angle:XL(A),angleInRadian:A}},tz=e=>{var{startAngle:t,endAngle:a}=e,i=Math.floor(t/360),d=Math.floor(a/360),p=Math.min(i,d);return{startAngle:t-p*360,endAngle:a-p*360}},rz=(e,t)=>{var{startAngle:a,endAngle:i}=t,d=Math.floor(a/360),p=Math.floor(i/360),y=Math.min(d,p);return e+y*360},nz=(e,t)=>{var{x:a,y:i}=e,{radius:d,angle:p}=ez({x:a,y:i},t),{innerRadius:y,outerRadius:c}=t;if(d<y||d>c||d===0)return null;var{startAngle:A,endAngle:C}=tz(t),T=p,R;if(A<=C){for(;T>C;)T-=360;for(;T<A;)T+=360;R=T>=A&&T<=C}else{for(;T>A;)T-=360;for(;T<C;)T+=360;R=T>=C&&T<=A}return R?NA(NA({},t),{},{radius:d,angle:rz(T,t)}):null};function t5(e,t,a){return Array.isArray(e)&&e&&t+a!==0?e.slice(t,a+1):e}function jA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),a.push.apply(a,i)}return a}function ll(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?jA(Object(a),!0).forEach(function(i){az(e,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):jA(Object(a)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(a,i))})}return e}function az(e,t,a){return(t=iz(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function iz(e){var t=oz(e,"string");return typeof t=="symbol"?t:t+""}function oz(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var i=a.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Do(e,t,a){return Pi(e)||Pi(t)?a:hu(t)?pm(e,t,a):typeof t=="function"?t(e):a}var sz=(e,t,a,i,d)=>{var p,y=-1,c=(p=t?.length)!==null&&p!==void 0?p:0;if(c<=1||e==null)return 0;if(i==="angleAxis"&&d!=null&&Math.abs(Math.abs(d[1]-d[0])-360)<=1e-6)for(var A=0;A<c;A++){var C=A>0?a[A-1].coordinate:a[c-1].coordinate,T=a[A].coordinate,R=A>=c-1?a[0].coordinate:a[A+1].coordinate,L=void 0;if(Es(T-C)!==Es(R-T)){var U=[];if(Es(R-T)===Es(d[1]-d[0])){L=R;var q=T+d[1]-d[0];U[0]=Math.min(q,(q+C)/2),U[1]=Math.max(q,(q+C)/2)}else{L=C;var $=R+d[1]-d[0];U[0]=Math.min(T,($+T)/2),U[1]=Math.max(T,($+T)/2)}var W=[Math.min(T,(L+T)/2),Math.max(T,(L+T)/2)];if(e>W[0]&&e<=W[1]||e>=U[0]&&e<=U[1]){({index:y}=a[A]);break}}else{var Y=Math.min(C,R),X=Math.max(C,R);if(e>(Y+T)/2&&e<=(X+T)/2){({index:y}=a[A]);break}}}else if(t){for(var te=0;te<c;te++)if(te===0&&e<=(t[te].coordinate+t[te+1].coordinate)/2||te>0&&te<c-1&&e>(t[te].coordinate+t[te-1].coordinate)/2&&e<=(t[te].coordinate+t[te+1].coordinate)/2||te===c-1&&e>(t[te].coordinate+t[te-1].coordinate)/2){({index:y}=t[te]);break}}return y},lz=(e,t,a)=>{if(t&&a){var{width:i,height:d}=a,{align:p,verticalAlign:y,layout:c}=t;if((c==="vertical"||c==="horizontal"&&y==="middle")&&p!=="center"&&Pr(e[p]))return ll(ll({},e),{},{[p]:e[p]+(i||0)});if((c==="horizontal"||c==="vertical"&&p==="center")&&y!=="middle"&&Pr(e[y]))return ll(ll({},e),{},{[y]:e[y]+(d||0)})}return e},op=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",BA=1e-4,cz=e=>{var t=e.domain();if(!(!t||t.length<=2)){var a=t.length,i=e.range(),d=Math.min(i[0],i[1])-BA,p=Math.max(i[0],i[1])+BA,y=e(t[0]),c=e(t[a-1]);(y<d||y>p||c<d||c>p)&&e.domain([t[0],t[a-1]])}},uz=(e,t)=>{if(!t||t.length!==2||!Pr(t[0])||!Pr(t[1]))return e;var a=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]),d=[e[0],e[1]];return(!Pr(e[0])||e[0]<a)&&(d[0]=a),(!Pr(e[1])||e[1]>i)&&(d[1]=i),d[0]>i&&(d[0]=i),d[1]<a&&(d[1]=a),d},hz=e=>{var t=e.length;if(!(t<=0))for(var a=0,i=e[0].length;a<i;++a)for(var d=0,p=0,y=0;y<t;++y){var c=hl(e[y][a][1])?e[y][a][0]:e[y][a][1];c>=0?(e[y][a][0]=d,e[y][a][1]=d+c,d=e[y][a][1]):(e[y][a][0]=p,e[y][a][1]=p+c,p=e[y][a][1])}},fz=e=>{var t=e.length;if(!(t<=0))for(var a=0,i=e[0].length;a<i;++a)for(var d=0,p=0;p<t;++p){var y=hl(e[p][a][1])?e[p][a][0]:e[p][a][1];y>=0?(e[p][a][0]=d,e[p][a][1]=d+y,d=e[p][a][1]):(e[p][a][0]=0,e[p][a][1]=0)}},dz={sign:hz,expand:HO,none:mm,silhouette:VO,wiggle:WO,positive:fz},pz=(e,t,a)=>{var i=dz[a],d=$O().keys(t).value((p,y)=>+Do(p,y,0)).order(Ex).offset(i);return d(e)};function mz(e){return e==null?void 0:String(e)}var qA=e=>{var{axis:t,ticks:a,offset:i,bandSize:d,entry:p,index:y}=e;if(t.type==="category")return a[y]?a[y].coordinate+i:null;var c=Do(p,t.dataKey,t.scale.domain()[y]);return Pi(c)?null:t.scale(c)-d/2+i},yz=e=>{var{numericAxis:t}=e,a=t.scale.domain();if(t.type==="number"){var i=Math.min(a[0],a[1]),d=Math.max(a[0],a[1]);return i<=0&&d>=0?0:d<0?d:i}return a[0]},gz=e=>{var t=e.flat(2).filter(Pr);return[Math.min(...t),Math.max(...t)]},vz=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],_z=(e,t,a)=>{if(e!=null)return vz(Object.keys(e).reduce((i,d)=>{var p=e[d],{stackedData:y}=p,c=y.reduce((A,C)=>{var T=t5(C,t,a),R=gz(T);return[Math.min(A[0],R[0]),Math.max(A[1],R[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]))},$A=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,HA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,rS=(e,t,a)=>{if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!a||i>0)return i}if(e&&t&&t.length>=2){for(var d=M1(t,T=>T.coordinate),p=1/0,y=1,c=d.length;y<c;y++){var A=d[y],C=d[y-1];p=Math.min((A.coordinate||0)-(C.coordinate||0),p)}return p===1/0?0:p}return a?void 0:0};function VA(e){var{tooltipEntrySettings:t,dataKey:a,payload:i,value:d,name:p}=e;return ll(ll({},t),{},{dataKey:a,payload:i,value:d,name:p})}function r5(e,t){if(e)return String(e);if(typeof t=="string")return t}function bz(e,t,a,i,d){if(a==="horizontal"||a==="vertical"){var p=e>=d.left&&e<=d.left+d.width&&t>=d.top&&t<=d.top+d.height;return p?{x:e,y:t}:null}return i?nz({x:e,y:t},i):null}var xz=(e,t,a,i)=>{var d=t.find(C=>C&&C.index===a);if(d){if(e==="horizontal")return{x:d.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:d.coordinate};if(e==="centric"){var p=d.coordinate,{radius:y}=i;return ll(ll(ll({},i),Vi(i.cx,i.cy,y,p)),{},{angle:p,radius:y})}var c=d.coordinate,{angle:A}=i;return ll(ll(ll({},i),Vi(i.cx,i.cy,c,A)),{},{angle:A,radius:c})}return{x:0,y:0}},Sz=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,bh=e=>e.layout.width,xh=e=>e.layout.height,wz=e=>e.layout.scale,n5=e=>e.layout.margin,O1=ut(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),U1=ut(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Pz="data-recharts-item-index",Az="data-recharts-item-data-key",Lg=60;function WA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),a.push.apply(a,i)}return a}function nv(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?WA(Object(a),!0).forEach(function(i){Cz(e,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):WA(Object(a)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(a,i))})}return e}function Cz(e,t,a){return(t=Dz(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Dz(e){var t=Mz(e,"string");return typeof t=="symbol"?t:t+""}function Mz(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var i=a.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tz=e=>e.brush.height;function Ez(e){var t=U1(e);return t.reduce((a,i)=>{if(i.orientation==="left"&&!i.mirror&&!i.hide){var d=typeof i.width=="number"?i.width:Lg;return a+d}return a},0)}function Rz(e){var t=U1(e);return t.reduce((a,i)=>{if(i.orientation==="right"&&!i.mirror&&!i.hide){var d=typeof i.width=="number"?i.width:Lg;return a+d}return a},0)}function Iz(e){var t=O1(e);return t.reduce((a,i)=>i.orientation==="top"&&!i.mirror&&!i.hide?a+i.height:a,0)}function kz(e){var t=O1(e);return t.reduce((a,i)=>i.orientation==="bottom"&&!i.mirror&&!i.hide?a+i.height:a,0)}var Ci=ut([bh,xh,n5,Tz,Ez,Rz,Iz,kz,ET,ZU],(e,t,a,i,d,p,y,c,A,C)=>{var T={left:(a.left||0)+d,right:(a.right||0)+p},R={top:(a.top||0)+y,bottom:(a.bottom||0)+c},L=nv(nv({},R),T),U=L.bottom;L.bottom+=i,L=lz(L,A,C);var q=e-L.left-L.right,$=t-L.top-L.bottom;return nv(nv({brushBottom:U},L),{},{width:Math.max(q,0),height:Math.max($,0)})}),Oz=ut(Ci,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),nS=ut(bh,xh,(e,t)=>({x:0,y:0,width:e,height:t})),Uz=V.createContext(null),pc=()=>V.useContext(Uz)!=null,L1=e=>e.brush,z1=ut([L1,Ci,n5],(e,t,a)=>({height:e.height,x:Pr(e.x)?e.x:t.left,y:Pr(e.y)?e.y:t.top+t.height+t.brushBottom-(a?.bottom||0),width:Pr(e.width)?e.width:t.width})),aS=()=>{var e,t=pc(),a=pr(Oz),i=pr(z1),d=(e=pr(L1))===null||e===void 0?void 0:e.padding;return!t||!i||!d?a:{width:i.width-d.left-d.right,height:i.height-d.top-d.bottom,x:d.left,y:d.top}},Lz={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},zz=()=>{var e;return(e=pr(Ci))!==null&&e!==void 0?e:Lz},Fz=()=>pr(bh),Nz=()=>pr(xh),Sn=e=>e.layout.layoutType,iS=()=>pr(Sn),jz={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},a5=Us({name:"legend",initialState:jz,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var a=hh(e).payload.indexOf(t.payload);a>-1&&e.payload.splice(a,1)}}}),{setLegendSize:OQ,setLegendSettings:UQ,addLegendPayload:Bz,removeLegendPayload:qz}=a5.actions,$z=a5.reducer;function jx(){return jx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)({}).hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},jx.apply(null,arguments)}function GA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),a.push.apply(a,i)}return a}function Lb(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?GA(Object(a),!0).forEach(function(i){Hz(e,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):GA(Object(a)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(a,i))})}return e}function Hz(e,t,a){return(t=Vz(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Vz(e){var t=Wz(e,"string");return typeof t=="symbol"?t:t+""}function Wz(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var i=a.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gz(e){return Array.isArray(e)&&hu(e[0])&&hu(e[1])?e.join(" ~ "):e}var Zz=e=>{var{separator:t=" : ",contentStyle:a={},itemStyle:i={},labelStyle:d={},payload:p,formatter:y,itemSorter:c,wrapperClassName:A,labelClassName:C,label:T,labelFormatter:R,accessibilityLayer:L=!1}=e,U=()=>{if(p&&p.length){var de={padding:0,margin:0},ye=(c?M1(p,c):p).map((xe,Ie)=>{if(xe.type==="none")return null;var lt=xe.formatter||y||Gz,{value:mt,name:nt}=xe,st=mt,Je=nt;if(lt){var wt=lt(mt,nt,xe,Ie,p);if(Array.isArray(wt))[st,Je]=wt;else if(wt!=null)st=wt;else return null}var Rt=Lb({display:"block",paddingTop:4,paddingBottom:4,color:xe.color||"#000"},i);return V.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Ie),style:Rt},hu(Je)?V.createElement("span",{className:"recharts-tooltip-item-name"},Je):null,hu(Je)?V.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,V.createElement("span",{className:"recharts-tooltip-item-value"},st),V.createElement("span",{className:"recharts-tooltip-item-unit"},xe.unit||""))});return V.createElement("ul",{className:"recharts-tooltip-item-list",style:de},ye)}return null},q=Lb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),$=Lb({margin:0},d),W=!Pi(T),Y=W?T:"",X=On("recharts-default-tooltip",A),te=On("recharts-tooltip-label",C);W&&R&&p!==void 0&&p!==null&&(Y=R(T,p));var pe=L?{role:"status","aria-live":"assertive"}:{};return V.createElement("div",jx({className:X,style:q},pe),V.createElement("p",{className:te,style:$},V.isValidElement(Y)?Y:"".concat(Y)),U())},Xy="recharts-tooltip-wrapper",Yz={visibility:"hidden"};function Qz(e){var{coordinate:t,translateX:a,translateY:i}=e;return On(Xy,{["".concat(Xy,"-right")]:Pr(a)&&t&&Pr(t.x)&&a>=t.x,["".concat(Xy,"-left")]:Pr(a)&&t&&Pr(t.x)&&a<t.x,["".concat(Xy,"-bottom")]:Pr(i)&&t&&Pr(t.y)&&i>=t.y,["".concat(Xy,"-top")]:Pr(i)&&t&&Pr(t.y)&&i<t.y})}function ZA(e){var{allowEscapeViewBox:t,coordinate:a,key:i,offsetTopLeft:d,position:p,reverseDirection:y,tooltipDimension:c,viewBox:A,viewBoxDimension:C}=e;if(p&&Pr(p[i]))return p[i];var T=a[i]-c-(d>0?d:0),R=a[i]+d;if(t[i])return y[i]?T:R;var L=A[i];if(L==null)return 0;if(y[i]){var U=T,q=L;return U<q?Math.max(R,L):Math.max(T,L)}if(C==null)return 0;var $=R+c,W=L+C;return $>W?Math.max(T,L):Math.max(R,L)}function Xz(e){var{translateX:t,translateY:a,useTranslate3d:i}=e;return{transform:i?"translate3d(".concat(t,"px, ").concat(a,"px, 0)"):"translate(".concat(t,"px, ").concat(a,"px)")}}function Kz(e){var{allowEscapeViewBox:t,coordinate:a,offsetTopLeft:i,position:d,reverseDirection:p,tooltipBox:y,useTranslate3d:c,viewBox:A}=e,C,T,R;return y.height>0&&y.width>0&&a?(T=ZA({allowEscapeViewBox:t,coordinate:a,key:"x",offsetTopLeft:i,position:d,reverseDirection:p,tooltipDimension:y.width,viewBox:A,viewBoxDimension:A.width}),R=ZA({allowEscapeViewBox:t,coordinate:a,key:"y",offsetTopLeft:i,position:d,reverseDirection:p,tooltipDimension:y.height,viewBox:A,viewBoxDimension:A.height}),C=Xz({translateX:T,translateY:R,useTranslate3d:c})):C=Yz,{cssProperties:C,cssClasses:Qz({translateX:T,translateY:R,coordinate:a})}}function YA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),a.push.apply(a,i)}return a}function av(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?YA(Object(a),!0).forEach(function(i){Bx(e,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):YA(Object(a)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(a,i))})}return e}function Bx(e,t,a){return(t=Jz(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Jz(e){var t=eF(e,"string");return typeof t=="symbol"?t:t+""}function eF(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var i=a.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class tF extends V.PureComponent{constructor(){super(...arguments),Bx(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Bx(this,"handleKeyDown",t=>{if(t.key==="Escape"){var a,i,d,p;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.x)!==null&&a!==void 0?a:0,y:(d=(p=this.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&d!==void 0?d:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,a;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:a,animationDuration:i,animationEasing:d,children:p,coordinate:y,hasPayload:c,isAnimationActive:A,offset:C,position:T,reverseDirection:R,useTranslate3d:L,viewBox:U,wrapperStyle:q,lastBoundingBox:$,innerRef:W,hasPortalFromProps:Y}=this.props,{cssClasses:X,cssProperties:te}=Kz({allowEscapeViewBox:a,coordinate:y,offsetTopLeft:C,position:T,reverseDirection:R,tooltipBox:{height:$.height,width:$.width},useTranslate3d:L,viewBox:U}),pe=Y?{}:av(av({transition:A&&t?"transform ".concat(i,"ms ").concat(d):void 0},te),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&c?"visible":"hidden",position:"absolute",top:0,left:0}),de=av(av({},pe),{},{visibility:!this.state.dismissed&&t&&c?"visible":"hidden"},q);return V.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:X,style:de,ref:W},p)}}var rF=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Rm={devToolsEnabled:!1,isSsr:rF()},i5=()=>pr(e=>e.rootProps.accessibilityLayer);function Os(e){return Number.isFinite(e)}function $v(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function qx(){return qx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)({}).hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},qx.apply(null,arguments)}function QA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),a.push.apply(a,i)}return a}function XA(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?QA(Object(a),!0).forEach(function(i){nF(e,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):QA(Object(a)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(a,i))})}return e}function nF(e,t,a){return(t=aF(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function aF(e){var t=iF(e,"string");return typeof t=="symbol"?t:t+""}function iF(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var i=a.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KA={curveBasisClosed:IO,curveBasisOpen:kO,curveBasis:RO,curveBumpX:gO,curveBumpY:vO,curveLinearClosed:OO,curveLinear:C1,curveMonotoneX:UO,curveMonotoneY:LO,curveNatural:zO,curveStep:FO,curveStepAfter:jO,curveStepBefore:NO},iv=e=>Os(e.x)&&Os(e.y),Ky=e=>e.x,Jy=e=>e.y,oF=(e,t)=>{if(typeof e=="function")return e;var a="curve".concat(Ig(e));return(a==="curveMonotone"||a==="curveBump")&&t?KA["".concat(a).concat(t==="vertical"?"Y":"X")]:KA[a]||C1},sF=e=>{var{type:t="linear",points:a=[],baseLine:i,layout:d,connectNulls:p=!1}=e,y=oF(t,d),c=p?a.filter(iv):a,A;if(Array.isArray(i)){var C=p?i.filter(R=>iv(R)):i,T=c.map((R,L)=>XA(XA({},R),{},{base:C[L]}));return d==="vertical"?A=X0().y(Jy).x1(Ky).x0(R=>R.base.x):A=X0().x(Ky).y1(Jy).y0(R=>R.base.y),A.defined(iv).curve(y),A(T)}return d==="vertical"&&Pr(i)?A=X0().y(Jy).x1(Ky).x0(i):Pr(i)?A=X0().x(Ky).y1(Jy).y0(i):A=oT().x(Ky).y(Jy),A.defined(iv).curve(y),A(c)},lF=e=>{var{className:t,points:a,path:i,pathRef:d}=e;if((!a||!a.length)&&!i)return null;var p=a&&a.length?sF(e):i;return V.createElement("path",qx({},kg(e),rO(e),{className:On("recharts-curve",t),d:p===null?void 0:p,ref:d}))},cF=["x","y","top","left","width","height","className"];function $x(){return $x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)({}).hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},$x.apply(null,arguments)}function JA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),a.push.apply(a,i)}return a}function uF(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?JA(Object(a),!0).forEach(function(i){hF(e,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):JA(Object(a)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(a,i))})}return e}function hF(e,t,a){return(t=fF(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function fF(e){var t=dF(e,"string");return typeof t=="symbol"?t:t+""}function dF(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var i=a.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pF(e,t){if(e==null)return{};var a,i,d=mF(e,t);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(e);for(i=0;i<p.length;i++)a=p[i],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(d[a]=e[a])}return d}function mF(e,t){if(e==null)return{};var a={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;a[i]=e[i]}return a}var yF=(e,t,a,i,d,p)=>"M".concat(e,",").concat(d,"v").concat(i,"M").concat(p,",").concat(t,"h").concat(a),gF=e=>{var{x:t=0,y:a=0,top:i=0,left:d=0,width:p=0,height:y=0,className:c}=e,A=pF(e,cF),C=uF({x:t,y:a,top:i,left:d,width:p,height:y},A);return!Pr(t)||!Pr(a)||!Pr(p)||!Pr(y)||!Pr(i)||!Pr(d)?null:V.createElement("path",$x({},Wi(C,!0),{className:On("recharts-cross",c),d:yF(t,a,p,y,i,d)}))};function vF(e,t,a,i){var d=i/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-d:a.left+.5,y:e==="horizontal"?a.top+.5:t.y-d,width:e==="horizontal"?i:a.width-1,height:e==="horizontal"?a.height-1:i}}function eC(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),a.push.apply(a,i)}return a}function _F(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?eC(Object(a),!0).forEach(function(i){bF(e,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):eC(Object(a)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(a,i))})}return e}function bF(e,t,a){return(t=xF(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function xF(e){var t=SF(e,"string");return typeof t=="symbol"?t:t+""}function SF(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var i=a.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mc(e,t){var a=_F({},e),i=t,d=Object.keys(t),p=d.reduce((y,c)=>(y[c]===void 0&&i[c]!==void 0&&(y[c]=i[c]),y),a);return p}function wF(){}function tC(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),a.push.apply(a,i)}return a}function rC(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?tC(Object(a),!0).forEach(function(i){PF(e,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):tC(Object(a)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(a,i))})}return e}function PF(e,t,a){return(t=AF(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function AF(e){var t=CF(e,"string");return typeof t=="symbol"?t:t+""}function CF(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var i=a.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DF=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),o5=(e,t,a)=>e.map(i=>"".concat(DF(i)," ").concat(t,"ms ").concat(a)).join(","),MF=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((a,i)=>a.filter(d=>i.includes(d))),_g=(e,t)=>Object.keys(t).reduce((a,i)=>rC(rC({},a),{},{[i]:e(i,t[i])}),{});function nC(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),a.push.apply(a,i)}return a}function Hi(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?nC(Object(a),!0).forEach(function(i){TF(e,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):nC(Object(a)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(a,i))})}return e}function TF(e,t,a){return(t=EF(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function EF(e){var t=RF(e,"string");return typeof t=="symbol"?t:t+""}function RF(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var i=a.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hv=(e,t,a)=>e+(t-e)*a,Hx=e=>{var{from:t,to:a}=e;return t!==a},s5=(e,t,a)=>{var i=_g((d,p)=>{if(Hx(p)){var[y,c]=e(p.from,p.to,p.velocity);return Hi(Hi({},p),{},{from:y,velocity:c})}return p},t);return a<1?_g((d,p)=>Hx(p)?Hi(Hi({},p),{},{velocity:Hv(p.velocity,i[d].velocity,a),from:Hv(p.from,i[d].from,a)}):p,t):s5(e,i,a-1)};function IF(e,t,a,i,d,p){var y,c=i.reduce((L,U)=>Hi(Hi({},L),{},{[U]:{from:e[U],velocity:0,to:t[U]}}),{}),A=()=>_g((L,U)=>U.from,c),C=()=>!Object.values(c).filter(Hx).length,T=null,R=L=>{y||(y=L);var U=L-y,q=U/a.dt;c=s5(a,c,q),d(Hi(Hi(Hi({},e),t),A())),y=L,C()||(T=p.setTimeout(R))};return()=>(T=p.setTimeout(R),()=>{T()})}function kF(e,t,a,i,d,p,y){var c=null,A=d.reduce((R,L)=>Hi(Hi({},R),{},{[L]:[e[L],t[L]]}),{}),C,T=R=>{C||(C=R);var L=(R-C)/i,U=_g(($,W)=>Hv(...W,a(L)),A);if(p(Hi(Hi(Hi({},e),t),U)),L<1)c=y.setTimeout(T);else{var q=_g(($,W)=>Hv(...W,a(1)),A);p(Hi(Hi(Hi({},e),t),q))}};return()=>(c=y.setTimeout(T),()=>{c()})}const OF=(e,t,a,i,d,p)=>{var y=MF(e,t);return a.isStepper===!0?IF(e,t,a,y,d,p):kF(e,t,a,i,y,d,p)};var Vv=1e-4,l5=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],c5=(e,t)=>e.map((a,i)=>a*t**i).reduce((a,i)=>a+i),aC=(e,t)=>a=>{var i=l5(e,t);return c5(i,a)},UF=(e,t)=>a=>{var i=l5(e,t),d=[...i.map((p,y)=>p*y).slice(1),0];return c5(d,a)},iC=function(){for(var t,a,i,d,p=arguments.length,y=new Array(p),c=0;c<p;c++)y[c]=arguments[c];if(y.length===1)switch(y[0]){case"linear":[t,i,a,d]=[0,0,1,1];break;case"ease":[t,i,a,d]=[.25,.1,.25,1];break;case"ease-in":[t,i,a,d]=[.42,0,1,1];break;case"ease-out":[t,i,a,d]=[.42,0,.58,1];break;case"ease-in-out":[t,i,a,d]=[0,0,.58,1];break;default:{var A=y[0].split("(");A[0]==="cubic-bezier"&&A[1].split(")")[0].split(",").length===4&&([t,i,a,d]=A[1].split(")")[0].split(",").map(q=>parseFloat(q)))}}else y.length===4&&([t,i,a,d]=y);var C=aC(t,a),T=aC(i,d),R=UF(t,a),L=q=>q>1?1:q<0?0:q,U=q=>{for(var $=q>1?1:q,W=$,Y=0;Y<8;++Y){var X=C(W)-$,te=R(W);if(Math.abs(X-$)<Vv||te<Vv)return T(W);W=L(W-X/te)}return T(W)};return U.isStepper=!1,U},LF=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:a=100,damping:i=8,dt:d=17}=t,p=(y,c,A)=>{var C=-(y-c)*a,T=A*i,R=A+(C-T)*d/1e3,L=A*d/1e3+y;return Math.abs(L-c)<Vv&&Math.abs(R)<Vv?[c,0]:[L,R]};return p.isStepper=!0,p.dt=d,p},zF=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return iC(e);case"spring":return LF();default:if(e.split("(")[0]==="cubic-bezier")return iC(e)}return typeof e=="function"?e:null};function FF(e){var t,a=()=>null,i=!1,d=null,p=y=>{if(!i){if(Array.isArray(y)){if(!y.length)return;var c=y,[A,...C]=c;if(typeof A=="number"){d=e.setTimeout(p.bind(null,C),A);return}p(A),d=e.setTimeout(p.bind(null,C));return}typeof y=="string"&&(t=y,a(t)),typeof y=="object"&&(t=y,a(t)),typeof y=="function"&&y()}};return{stop:()=>{i=!0},start:y=>{i=!1,d&&(d(),d=null),p(y)},subscribe:y=>(a=y,()=>{a=()=>null}),getTimeoutController:()=>e}}class NF{setTimeout(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=performance.now(),d=null,p=y=>{y-i>=a?t(y):typeof requestAnimationFrame=="function"&&(d=requestAnimationFrame(p))};return d=requestAnimationFrame(p),()=>{cancelAnimationFrame(d)}}}function jF(){return FF(new NF)}var BF=V.createContext(jF);function qF(e,t){var a=V.useContext(BF);return V.useMemo(()=>t??a(e),[e,t,a])}var $F={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},oC={t:0},zb={t:1};function oS(e){var t=mc(e,$F),{isActive:a,canBegin:i,duration:d,easing:p,begin:y,onAnimationEnd:c,onAnimationStart:A,children:C}=t,T=qF(t.animationId,t.animationManager),[R,L]=V.useState(a?oC:zb),U=V.useRef(null);return V.useEffect(()=>{a||L(zb)},[a]),V.useEffect(()=>{if(!a||!i)return wF;var q=OF(oC,zb,zF(p),d,L,T.getTimeoutController()),$=()=>{U.current=q()};return T.start([A,y,$,d,c]),()=>{T.stop(),U.current&&U.current(),c()}},[a,i,d,p,y,A,c,T]),C(R.t)}function sS(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",a=V.useRef(yg(t)),i=V.useRef(e);return i.current!==e&&(a.current=yg(t),i.current=e),a.current}function sC(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),a.push.apply(a,i)}return a}function lC(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?sC(Object(a),!0).forEach(function(i){HF(e,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):sC(Object(a)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(a,i))})}return e}function HF(e,t,a){return(t=VF(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function VF(e){var t=WF(e,"string");return typeof t=="symbol"?t:t+""}function WF(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var i=a.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wv(){return Wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)({}).hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},Wv.apply(null,arguments)}var cC=(e,t,a,i,d)=>{var p=Math.min(Math.abs(a)/2,Math.abs(i)/2),y=i>=0?1:-1,c=a>=0?1:-1,A=i>=0&&a>=0||i<0&&a<0?1:0,C;if(p>0&&d instanceof Array){for(var T=[0,0,0,0],R=0,L=4;R<L;R++)T[R]=d[R]>p?p:d[R];C="M".concat(e,",").concat(t+y*T[0]),T[0]>0&&(C+="A ".concat(T[0],",").concat(T[0],",0,0,").concat(A,",").concat(e+c*T[0],",").concat(t)),C+="L ".concat(e+a-c*T[1],",").concat(t),T[1]>0&&(C+="A ".concat(T[1],",").concat(T[1],",0,0,").concat(A,`,
        `).concat(e+a,",").concat(t+y*T[1])),C+="L ".concat(e+a,",").concat(t+i-y*T[2]),T[2]>0&&(C+="A ".concat(T[2],",").concat(T[2],",0,0,").concat(A,`,
        `).concat(e+a-c*T[2],",").concat(t+i)),C+="L ".concat(e+c*T[3],",").concat(t+i),T[3]>0&&(C+="A ".concat(T[3],",").concat(T[3],",0,0,").concat(A,`,
        `).concat(e,",").concat(t+i-y*T[3])),C+="Z"}else if(p>0&&d===+d&&d>0){var U=Math.min(p,d);C="M ".concat(e,",").concat(t+y*U,`
            A `).concat(U,",").concat(U,",0,0,").concat(A,",").concat(e+c*U,",").concat(t,`
            L `).concat(e+a-c*U,",").concat(t,`
            A `).concat(U,",").concat(U,",0,0,").concat(A,",").concat(e+a,",").concat(t+y*U,`
            L `).concat(e+a,",").concat(t+i-y*U,`
            A `).concat(U,",").concat(U,",0,0,").concat(A,",").concat(e+a-c*U,",").concat(t+i,`
            L `).concat(e+c*U,",").concat(t+i,`
            A `).concat(U,",").concat(U,",0,0,").concat(A,",").concat(e,",").concat(t+i-y*U," Z")}else C="M ".concat(e,",").concat(t," h ").concat(a," v ").concat(i," h ").concat(-a," Z");return C},GF={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},u5=e=>{var t=mc(e,GF),a=V.useRef(null),[i,d]=V.useState(-1);V.useEffect(()=>{if(a.current&&a.current.getTotalLength)try{var wt=a.current.getTotalLength();wt&&d(wt)}catch{}},[]);var{x:p,y,width:c,height:A,radius:C,className:T}=t,{animationEasing:R,animationDuration:L,animationBegin:U,isAnimationActive:q,isUpdateAnimationActive:$}=t,W=V.useRef(c),Y=V.useRef(A),X=V.useRef(p),te=V.useRef(y),pe=V.useMemo(()=>({x:p,y,width:c,height:A,radius:C}),[p,y,c,A,C]),de=sS(pe,"rectangle-");if(p!==+p||y!==+y||c!==+c||A!==+A||c===0||A===0)return null;var ye=On("recharts-rectangle",T);if(!$)return V.createElement("path",Wv({},Wi(t,!0),{className:ye,d:cC(p,y,c,A,C)}));var xe=W.current,Ie=Y.current,lt=X.current,mt=te.current,nt="0px ".concat(i===-1?1:i,"px"),st="".concat(i,"px 0px"),Je=o5(["strokeDasharray"],L,typeof R=="string"?R:void 0);return V.createElement(oS,{animationId:de,key:de,canBegin:i>0,duration:L,easing:R,isActive:$,begin:U},wt=>{var Rt=wo(xe,c,wt),je=wo(Ie,A,wt),it=wo(lt,p,wt),Ge=wo(mt,y,wt);a.current&&(W.current=Rt,Y.current=je,X.current=it,te.current=Ge);var bt;return q?wt>0?bt={transition:Je,strokeDasharray:st}:bt={strokeDasharray:nt}:bt={strokeDasharray:st},V.createElement("path",Wv({},Wi(t,!0),{className:ye,d:cC(it,Ge,Rt,je,C),ref:a,style:lC(lC({},bt),t.style)}))})};function h5(e){var{cx:t,cy:a,radius:i,startAngle:d,endAngle:p}=e,y=Vi(t,a,i,d),c=Vi(t,a,i,p);return{points:[y,c],cx:t,cy:a,radius:i,startAngle:d,endAngle:p}}function Vx(){return Vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)({}).hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},Vx.apply(null,arguments)}var ZF=(e,t)=>{var a=Es(t-e),i=Math.min(Math.abs(t-e),359.999);return a*i},ov=e=>{var{cx:t,cy:a,radius:i,angle:d,sign:p,isExternal:y,cornerRadius:c,cornerIsExternal:A}=e,C=c*(y?1:-1)+i,T=Math.asin(c/C)/qv,R=A?d:d+p*T,L=Vi(t,a,C,R),U=Vi(t,a,i,R),q=A?d-p*T:d,$=Vi(t,a,C*Math.cos(T*qv),q);return{center:L,circleTangency:U,lineTangency:$,theta:T}},f5=e=>{var{cx:t,cy:a,innerRadius:i,outerRadius:d,startAngle:p,endAngle:y}=e,c=ZF(p,y),A=p+c,C=Vi(t,a,d,p),T=Vi(t,a,d,A),R="M ".concat(C.x,",").concat(C.y,`
    A `).concat(d,",").concat(d,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(p>A),`,
    `).concat(T.x,",").concat(T.y,`
  `);if(i>0){var L=Vi(t,a,i,p),U=Vi(t,a,i,A);R+="L ".concat(U.x,",").concat(U.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(p<=A),`,
            `).concat(L.x,",").concat(L.y," Z")}else R+="L ".concat(t,",").concat(a," Z");return R},YF=e=>{var{cx:t,cy:a,innerRadius:i,outerRadius:d,cornerRadius:p,forceCornerRadius:y,cornerIsExternal:c,startAngle:A,endAngle:C}=e,T=Es(C-A),{circleTangency:R,lineTangency:L,theta:U}=ov({cx:t,cy:a,radius:d,angle:A,sign:T,cornerRadius:p,cornerIsExternal:c}),{circleTangency:q,lineTangency:$,theta:W}=ov({cx:t,cy:a,radius:d,angle:C,sign:-T,cornerRadius:p,cornerIsExternal:c}),Y=c?Math.abs(A-C):Math.abs(A-C)-U-W;if(Y<0)return y?"M ".concat(L.x,",").concat(L.y,`
        a`).concat(p,",").concat(p,",0,0,1,").concat(p*2,`,0
        a`).concat(p,",").concat(p,",0,0,1,").concat(-p*2,`,0
      `):f5({cx:t,cy:a,innerRadius:i,outerRadius:d,startAngle:A,endAngle:C});var X="M ".concat(L.x,",").concat(L.y,`
    A`).concat(p,",").concat(p,",0,0,").concat(+(T<0),",").concat(R.x,",").concat(R.y,`
    A`).concat(d,",").concat(d,",0,").concat(+(Y>180),",").concat(+(T<0),",").concat(q.x,",").concat(q.y,`
    A`).concat(p,",").concat(p,",0,0,").concat(+(T<0),",").concat($.x,",").concat($.y,`
  `);if(i>0){var{circleTangency:te,lineTangency:pe,theta:de}=ov({cx:t,cy:a,radius:i,angle:A,sign:T,isExternal:!0,cornerRadius:p,cornerIsExternal:c}),{circleTangency:ye,lineTangency:xe,theta:Ie}=ov({cx:t,cy:a,radius:i,angle:C,sign:-T,isExternal:!0,cornerRadius:p,cornerIsExternal:c}),lt=c?Math.abs(A-C):Math.abs(A-C)-de-Ie;if(lt<0&&p===0)return"".concat(X,"L").concat(t,",").concat(a,"Z");X+="L".concat(xe.x,",").concat(xe.y,`
      A`).concat(p,",").concat(p,",0,0,").concat(+(T<0),",").concat(ye.x,",").concat(ye.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(lt>180),",").concat(+(T>0),",").concat(te.x,",").concat(te.y,`
      A`).concat(p,",").concat(p,",0,0,").concat(+(T<0),",").concat(pe.x,",").concat(pe.y,"Z")}else X+="L".concat(t,",").concat(a,"Z");return X},QF={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},d5=e=>{var t=mc(e,QF),{cx:a,cy:i,innerRadius:d,outerRadius:p,cornerRadius:y,forceCornerRadius:c,cornerIsExternal:A,startAngle:C,endAngle:T,className:R}=t;if(p<d||C===T)return null;var L=On("recharts-sector",R),U=p-d,q=uc(y,U,0,!0),$;return q>0&&Math.abs(C-T)<360?$=YF({cx:a,cy:i,innerRadius:d,outerRadius:p,cornerRadius:Math.min(q,U/2),forceCornerRadius:c,cornerIsExternal:A,startAngle:C,endAngle:T}):$=f5({cx:a,cy:i,innerRadius:d,outerRadius:p,startAngle:C,endAngle:T}),V.createElement("path",Vx({},Wi(t,!0),{className:L,d:$}))};function XF(e,t,a){var i,d,p,y;if(e==="horizontal")i=t.x,p=i,d=a.top,y=a.top+a.height;else if(e==="vertical")d=t.y,y=d,i=a.left,p=a.left+a.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:c,cy:A,innerRadius:C,outerRadius:T,angle:R}=t,L=Vi(c,A,C,R),U=Vi(c,A,T,R);i=L.x,d=L.y,p=U.x,y=U.y}else return h5(t);return[{x:i,y:d},{x:p,y}]}var Fb={},Nb={},jb={},uC;function KF(){return uC||(uC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MT();function a(i){return t.isSymbol(i)?NaN:Number(i)}e.toNumber=a})(jb)),jb}var hC;function JF(){return hC||(hC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KF();function a(i){return i?(i=t.toNumber(i),i===1/0||i===-1/0?(i<0?-1:1)*Number.MAX_VALUE:i===i?i:0):i===0?i:0}e.toFinite=a})(Nb)),Nb}var fC;function eN(){return fC||(fC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TT(),a=JF();function i(d,p,y){y&&typeof y!="number"&&t.isIterateeCall(d,p,y)&&(p=y=void 0),d=a.toFinite(d),p===void 0?(p=d,d=0):p=a.toFinite(p),y=y===void 0?d<p?1:-1:a.toFinite(y);const c=Math.max(Math.ceil((p-d)/(y||1)),0),A=new Array(c);for(let C=0;C<c;C++)A[C]=d,d+=y;return A}e.range=i})(Fb)),Fb}var Bb,dC;function tN(){return dC||(dC=1,Bb=eN().range),Bb}var rN=tN();const p5=hc(rN);function wf(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function nN(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function lS(e){let t,a,i;e.length!==2?(t=wf,a=(c,A)=>wf(e(c),A),i=(c,A)=>e(c)-A):(t=e===wf||e===nN?e:aN,a=e,i=e);function d(c,A,C=0,T=c.length){if(C<T){if(t(A,A)!==0)return T;do{const R=C+T>>>1;a(c[R],A)<0?C=R+1:T=R}while(C<T)}return C}function p(c,A,C=0,T=c.length){if(C<T){if(t(A,A)!==0)return T;do{const R=C+T>>>1;a(c[R],A)<=0?C=R+1:T=R}while(C<T)}return C}function y(c,A,C=0,T=c.length){const R=d(c,A,C,T-1);return R>C&&i(c[R-1],A)>-i(c[R],A)?R-1:R}return{left:d,center:y,right:p}}function aN(){return 0}function m5(e){return e===null?NaN:+e}function*iN(e,t){for(let a of e)a!=null&&(a=+a)>=a&&(yield a)}const oN=lS(wf),zg=oN.right;lS(m5).center;class pC extends Map{constructor(t,a=cN){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:a}}),t!=null)for(const[i,d]of t)this.set(i,d)}get(t){return super.get(mC(this,t))}has(t){return super.has(mC(this,t))}set(t,a){return super.set(sN(this,t),a)}delete(t){return super.delete(lN(this,t))}}function mC({_intern:e,_key:t},a){const i=t(a);return e.has(i)?e.get(i):a}function sN({_intern:e,_key:t},a){const i=t(a);return e.has(i)?e.get(i):(e.set(i,a),a)}function lN({_intern:e,_key:t},a){const i=t(a);return e.has(i)&&(a=e.get(i),e.delete(i)),a}function cN(e){return e!==null&&typeof e=="object"?e.valueOf():e}function uN(e=wf){if(e===wf)return y5;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,a)=>{const i=e(t,a);return i||i===0?i:(e(a,a)===0)-(e(t,t)===0)}}function y5(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const hN=Math.sqrt(50),fN=Math.sqrt(10),dN=Math.sqrt(2);function Gv(e,t,a){const i=(t-e)/Math.max(0,a),d=Math.floor(Math.log10(i)),p=i/Math.pow(10,d),y=p>=hN?10:p>=fN?5:p>=dN?2:1;let c,A,C;return d<0?(C=Math.pow(10,-d)/y,c=Math.round(e*C),A=Math.round(t*C),c/C<e&&++c,A/C>t&&--A,C=-C):(C=Math.pow(10,d)*y,c=Math.round(e/C),A=Math.round(t/C),c*C<e&&++c,A*C>t&&--A),A<c&&.5<=a&&a<2?Gv(e,t,a*2):[c,A,C]}function Wx(e,t,a){if(t=+t,e=+e,a=+a,!(a>0))return[];if(e===t)return[e];const i=t<e,[d,p,y]=i?Gv(t,e,a):Gv(e,t,a);if(!(p>=d))return[];const c=p-d+1,A=new Array(c);if(i)if(y<0)for(let C=0;C<c;++C)A[C]=(p-C)/-y;else for(let C=0;C<c;++C)A[C]=(p-C)*y;else if(y<0)for(let C=0;C<c;++C)A[C]=(d+C)/-y;else for(let C=0;C<c;++C)A[C]=(d+C)*y;return A}function Gx(e,t,a){return t=+t,e=+e,a=+a,Gv(e,t,a)[2]}function Zx(e,t,a){t=+t,e=+e,a=+a;const i=t<e,d=i?Gx(t,e,a):Gx(e,t,a);return(i?-1:1)*(d<0?1/-d:d)}function yC(e,t){let a;for(const i of e)i!=null&&(a<i||a===void 0&&i>=i)&&(a=i);return a}function gC(e,t){let a;for(const i of e)i!=null&&(a>i||a===void 0&&i>=i)&&(a=i);return a}function g5(e,t,a=0,i=1/0,d){if(t=Math.floor(t),a=Math.floor(Math.max(0,a)),i=Math.floor(Math.min(e.length-1,i)),!(a<=t&&t<=i))return e;for(d=d===void 0?y5:uN(d);i>a;){if(i-a>600){const A=i-a+1,C=t-a+1,T=Math.log(A),R=.5*Math.exp(2*T/3),L=.5*Math.sqrt(T*R*(A-R)/A)*(C-A/2<0?-1:1),U=Math.max(a,Math.floor(t-C*R/A+L)),q=Math.min(i,Math.floor(t+(A-C)*R/A+L));g5(e,t,U,q,d)}const p=e[t];let y=a,c=i;for(eg(e,a,t),d(e[i],p)>0&&eg(e,a,i);y<c;){for(eg(e,y,c),++y,--c;d(e[y],p)<0;)++y;for(;d(e[c],p)>0;)--c}d(e[a],p)===0?eg(e,a,c):(++c,eg(e,c,i)),c<=t&&(a=c+1),t<=c&&(i=c-1)}return e}function eg(e,t,a){const i=e[t];e[t]=e[a],e[a]=i}function pN(e,t,a){if(e=Float64Array.from(iN(e)),!(!(i=e.length)||isNaN(t=+t))){if(t<=0||i<2)return gC(e);if(t>=1)return yC(e);var i,d=(i-1)*t,p=Math.floor(d),y=yC(g5(e,p).subarray(0,p+1)),c=gC(e.subarray(p+1));return y+(c-y)*(d-p)}}function mN(e,t,a=m5){if(!(!(i=e.length)||isNaN(t=+t))){if(t<=0||i<2)return+a(e[0],0,e);if(t>=1)return+a(e[i-1],i-1,e);var i,d=(i-1)*t,p=Math.floor(d),y=+a(e[p],p,e),c=+a(e[p+1],p+1,e);return y+(c-y)*(d-p)}}function yN(e,t,a){e=+e,t=+t,a=(d=arguments.length)<2?(t=e,e=0,1):d<3?1:+a;for(var i=-1,d=Math.max(0,Math.ceil((t-e)/a))|0,p=new Array(d);++i<d;)p[i]=e+i*a;return p}function pl(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Sh(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Yx=Symbol("implicit");function cS(){var e=new pC,t=[],a=[],i=Yx;function d(p){let y=e.get(p);if(y===void 0){if(i!==Yx)return i;e.set(p,y=t.push(p)-1)}return a[y%a.length]}return d.domain=function(p){if(!arguments.length)return t.slice();t=[],e=new pC;for(const y of p)e.has(y)||e.set(y,t.push(y)-1);return d},d.range=function(p){return arguments.length?(a=Array.from(p),d):a.slice()},d.unknown=function(p){return arguments.length?(i=p,d):i},d.copy=function(){return cS(t,a).unknown(i)},pl.apply(d,arguments),d}function uS(){var e=cS().unknown(void 0),t=e.domain,a=e.range,i=0,d=1,p,y,c=!1,A=0,C=0,T=.5;delete e.unknown;function R(){var L=t().length,U=d<i,q=U?d:i,$=U?i:d;p=($-q)/Math.max(1,L-A+C*2),c&&(p=Math.floor(p)),q+=($-q-p*(L-A))*T,y=p*(1-A),c&&(q=Math.round(q),y=Math.round(y));var W=yN(L).map(function(Y){return q+p*Y});return a(U?W.reverse():W)}return e.domain=function(L){return arguments.length?(t(L),R()):t()},e.range=function(L){return arguments.length?([i,d]=L,i=+i,d=+d,R()):[i,d]},e.rangeRound=function(L){return[i,d]=L,i=+i,d=+d,c=!0,R()},e.bandwidth=function(){return y},e.step=function(){return p},e.round=function(L){return arguments.length?(c=!!L,R()):c},e.padding=function(L){return arguments.length?(A=Math.min(1,C=+L),R()):A},e.paddingInner=function(L){return arguments.length?(A=Math.min(1,L),R()):A},e.paddingOuter=function(L){return arguments.length?(C=+L,R()):C},e.align=function(L){return arguments.length?(T=Math.max(0,Math.min(1,L)),R()):T},e.copy=function(){return uS(t(),[i,d]).round(c).paddingInner(A).paddingOuter(C).align(T)},pl.apply(R(),arguments)}function v5(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return v5(t())},e}function gN(){return v5(uS.apply(null,arguments).paddingInner(1))}function hS(e,t,a){e.prototype=t.prototype=a,a.constructor=e}function _5(e,t){var a=Object.create(e.prototype);for(var i in t)a[i]=t[i];return a}function Fg(){}var bg=.7,Zv=1/bg,cm="\\s*([+-]?\\d+)\\s*",xg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",cu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vN=/^#([0-9a-f]{3,8})$/,_N=new RegExp(`^rgb\\(${cm},${cm},${cm}\\)$`),bN=new RegExp(`^rgb\\(${cu},${cu},${cu}\\)$`),xN=new RegExp(`^rgba\\(${cm},${cm},${cm},${xg}\\)$`),SN=new RegExp(`^rgba\\(${cu},${cu},${cu},${xg}\\)$`),wN=new RegExp(`^hsl\\(${xg},${cu},${cu}\\)$`),PN=new RegExp(`^hsla\\(${xg},${cu},${cu},${xg}\\)$`),vC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};hS(Fg,Sg,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:_C,formatHex:_C,formatHex8:AN,formatHsl:CN,formatRgb:bC,toString:bC});function _C(){return this.rgb().formatHex()}function AN(){return this.rgb().formatHex8()}function CN(){return b5(this).formatHsl()}function bC(){return this.rgb().formatRgb()}function Sg(e){var t,a;return e=(e+"").trim().toLowerCase(),(t=vN.exec(e))?(a=t[1].length,t=parseInt(t[1],16),a===6?xC(t):a===3?new Xo(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):a===8?sv(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):a===4?sv(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=_N.exec(e))?new Xo(t[1],t[2],t[3],1):(t=bN.exec(e))?new Xo(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=xN.exec(e))?sv(t[1],t[2],t[3],t[4]):(t=SN.exec(e))?sv(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=wN.exec(e))?PC(t[1],t[2]/100,t[3]/100,1):(t=PN.exec(e))?PC(t[1],t[2]/100,t[3]/100,t[4]):vC.hasOwnProperty(e)?xC(vC[e]):e==="transparent"?new Xo(NaN,NaN,NaN,0):null}function xC(e){return new Xo(e>>16&255,e>>8&255,e&255,1)}function sv(e,t,a,i){return i<=0&&(e=t=a=NaN),new Xo(e,t,a,i)}function DN(e){return e instanceof Fg||(e=Sg(e)),e?(e=e.rgb(),new Xo(e.r,e.g,e.b,e.opacity)):new Xo}function Qx(e,t,a,i){return arguments.length===1?DN(e):new Xo(e,t,a,i??1)}function Xo(e,t,a,i){this.r=+e,this.g=+t,this.b=+a,this.opacity=+i}hS(Xo,Qx,_5(Fg,{brighter(e){return e=e==null?Zv:Math.pow(Zv,e),new Xo(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?bg:Math.pow(bg,e),new Xo(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Xo(Gd(this.r),Gd(this.g),Gd(this.b),Yv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:SC,formatHex:SC,formatHex8:MN,formatRgb:wC,toString:wC}));function SC(){return`#${$d(this.r)}${$d(this.g)}${$d(this.b)}`}function MN(){return`#${$d(this.r)}${$d(this.g)}${$d(this.b)}${$d((isNaN(this.opacity)?1:this.opacity)*255)}`}function wC(){const e=Yv(this.opacity);return`${e===1?"rgb(":"rgba("}${Gd(this.r)}, ${Gd(this.g)}, ${Gd(this.b)}${e===1?")":`, ${e})`}`}function Yv(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Gd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function $d(e){return e=Gd(e),(e<16?"0":"")+e.toString(16)}function PC(e,t,a,i){return i<=0?e=t=a=NaN:a<=0||a>=1?e=t=NaN:t<=0&&(e=NaN),new oc(e,t,a,i)}function b5(e){if(e instanceof oc)return new oc(e.h,e.s,e.l,e.opacity);if(e instanceof Fg||(e=Sg(e)),!e)return new oc;if(e instanceof oc)return e;e=e.rgb();var t=e.r/255,a=e.g/255,i=e.b/255,d=Math.min(t,a,i),p=Math.max(t,a,i),y=NaN,c=p-d,A=(p+d)/2;return c?(t===p?y=(a-i)/c+(a<i)*6:a===p?y=(i-t)/c+2:y=(t-a)/c+4,c/=A<.5?p+d:2-p-d,y*=60):c=A>0&&A<1?0:y,new oc(y,c,A,e.opacity)}function TN(e,t,a,i){return arguments.length===1?b5(e):new oc(e,t,a,i??1)}function oc(e,t,a,i){this.h=+e,this.s=+t,this.l=+a,this.opacity=+i}hS(oc,TN,_5(Fg,{brighter(e){return e=e==null?Zv:Math.pow(Zv,e),new oc(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?bg:Math.pow(bg,e),new oc(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,a=this.l,i=a+(a<.5?a:1-a)*t,d=2*a-i;return new Xo(qb(e>=240?e-240:e+120,d,i),qb(e,d,i),qb(e<120?e+240:e-120,d,i),this.opacity)},clamp(){return new oc(AC(this.h),lv(this.s),lv(this.l),Yv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Yv(this.opacity);return`${e===1?"hsl(":"hsla("}${AC(this.h)}, ${lv(this.s)*100}%, ${lv(this.l)*100}%${e===1?")":`, ${e})`}`}}));function AC(e){return e=(e||0)%360,e<0?e+360:e}function lv(e){return Math.max(0,Math.min(1,e||0))}function qb(e,t,a){return(e<60?t+(a-t)*e/60:e<180?a:e<240?t+(a-t)*(240-e)/60:t)*255}const fS=e=>()=>e;function EN(e,t){return function(a){return e+a*t}}function RN(e,t,a){return e=Math.pow(e,a),t=Math.pow(t,a)-e,a=1/a,function(i){return Math.pow(e+i*t,a)}}function IN(e){return(e=+e)==1?x5:function(t,a){return a-t?RN(t,a,e):fS(isNaN(t)?a:t)}}function x5(e,t){var a=t-e;return a?EN(e,a):fS(isNaN(e)?t:e)}const CC=(function e(t){var a=IN(t);function i(d,p){var y=a((d=Qx(d)).r,(p=Qx(p)).r),c=a(d.g,p.g),A=a(d.b,p.b),C=x5(d.opacity,p.opacity);return function(T){return d.r=y(T),d.g=c(T),d.b=A(T),d.opacity=C(T),d+""}}return i.gamma=e,i})(1);function kN(e,t){t||(t=[]);var a=e?Math.min(t.length,e.length):0,i=t.slice(),d;return function(p){for(d=0;d<a;++d)i[d]=e[d]*(1-p)+t[d]*p;return i}}function ON(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function UN(e,t){var a=t?t.length:0,i=e?Math.min(a,e.length):0,d=new Array(i),p=new Array(a),y;for(y=0;y<i;++y)d[y]=Im(e[y],t[y]);for(;y<a;++y)p[y]=t[y];return function(c){for(y=0;y<i;++y)p[y]=d[y](c);return p}}function LN(e,t){var a=new Date;return e=+e,t=+t,function(i){return a.setTime(e*(1-i)+t*i),a}}function Qv(e,t){return e=+e,t=+t,function(a){return e*(1-a)+t*a}}function zN(e,t){var a={},i={},d;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(d in t)d in e?a[d]=Im(e[d],t[d]):i[d]=t[d];return function(p){for(d in a)i[d]=a[d](p);return i}}var Xx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$b=new RegExp(Xx.source,"g");function FN(e){return function(){return e}}function NN(e){return function(t){return e(t)+""}}function jN(e,t){var a=Xx.lastIndex=$b.lastIndex=0,i,d,p,y=-1,c=[],A=[];for(e=e+"",t=t+"";(i=Xx.exec(e))&&(d=$b.exec(t));)(p=d.index)>a&&(p=t.slice(a,p),c[y]?c[y]+=p:c[++y]=p),(i=i[0])===(d=d[0])?c[y]?c[y]+=d:c[++y]=d:(c[++y]=null,A.push({i:y,x:Qv(i,d)})),a=$b.lastIndex;return a<t.length&&(p=t.slice(a),c[y]?c[y]+=p:c[++y]=p),c.length<2?A[0]?NN(A[0].x):FN(t):(t=A.length,function(C){for(var T=0,R;T<t;++T)c[(R=A[T]).i]=R.x(C);return c.join("")})}function Im(e,t){var a=typeof t,i;return t==null||a==="boolean"?fS(t):(a==="number"?Qv:a==="string"?(i=Sg(t))?(t=i,CC):jN:t instanceof Sg?CC:t instanceof Date?LN:ON(t)?kN:Array.isArray(t)?UN:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?zN:Qv)(e,t)}function dS(e,t){return e=+e,t=+t,function(a){return Math.round(e*(1-a)+t*a)}}function BN(e,t){t===void 0&&(t=e,e=Im);for(var a=0,i=t.length-1,d=t[0],p=new Array(i<0?0:i);a<i;)p[a]=e(d,d=t[++a]);return function(y){var c=Math.max(0,Math.min(i-1,Math.floor(y*=i)));return p[c](y-c)}}function qN(e){return function(){return e}}function Xv(e){return+e}var DC=[0,1];function Ao(e){return e}function Kx(e,t){return(t-=e=+e)?function(a){return(a-e)/t}:qN(isNaN(t)?NaN:.5)}function $N(e,t){var a;return e>t&&(a=e,e=t,t=a),function(i){return Math.max(e,Math.min(t,i))}}function HN(e,t,a){var i=e[0],d=e[1],p=t[0],y=t[1];return d<i?(i=Kx(d,i),p=a(y,p)):(i=Kx(i,d),p=a(p,y)),function(c){return p(i(c))}}function VN(e,t,a){var i=Math.min(e.length,t.length)-1,d=new Array(i),p=new Array(i),y=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++y<i;)d[y]=Kx(e[y],e[y+1]),p[y]=a(t[y],t[y+1]);return function(c){var A=zg(e,c,1,i)-1;return p[A](d[A](c))}}function Ng(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function F1(){var e=DC,t=DC,a=Im,i,d,p,y=Ao,c,A,C;function T(){var L=Math.min(e.length,t.length);return y!==Ao&&(y=$N(e[0],e[L-1])),c=L>2?VN:HN,A=C=null,R}function R(L){return L==null||isNaN(L=+L)?p:(A||(A=c(e.map(i),t,a)))(i(y(L)))}return R.invert=function(L){return y(d((C||(C=c(t,e.map(i),Qv)))(L)))},R.domain=function(L){return arguments.length?(e=Array.from(L,Xv),T()):e.slice()},R.range=function(L){return arguments.length?(t=Array.from(L),T()):t.slice()},R.rangeRound=function(L){return t=Array.from(L),a=dS,T()},R.clamp=function(L){return arguments.length?(y=L?!0:Ao,T()):y!==Ao},R.interpolate=function(L){return arguments.length?(a=L,T()):a},R.unknown=function(L){return arguments.length?(p=L,R):p},function(L,U){return i=L,d=U,T()}}function pS(){return F1()(Ao,Ao)}function WN(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Kv(e,t){if((a=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var a,i=e.slice(0,a);return[i.length>1?i[0]+i.slice(2):i,+e.slice(a+1)]}function gm(e){return e=Kv(Math.abs(e)),e?e[1]:NaN}function GN(e,t){return function(a,i){for(var d=a.length,p=[],y=0,c=e[0],A=0;d>0&&c>0&&(A+c+1>i&&(c=Math.max(1,i-A)),p.push(a.substring(d-=c,d+c)),!((A+=c+1)>i));)c=e[y=(y+1)%e.length];return p.reverse().join(t)}}function ZN(e){return function(t){return t.replace(/[0-9]/g,function(a){return e[+a]})}}var YN=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function wg(e){if(!(t=YN.exec(e)))throw new Error("invalid format: "+e);var t;return new mS({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}wg.prototype=mS.prototype;function mS(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}mS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function QN(e){e:for(var t=e.length,a=1,i=-1,d;a<t;++a)switch(e[a]){case".":i=d=a;break;case"0":i===0&&(i=a),d=a;break;default:if(!+e[a])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(d+1):e}var S5;function XN(e,t){var a=Kv(e,t);if(!a)return e+"";var i=a[0],d=a[1],p=d-(S5=Math.max(-8,Math.min(8,Math.floor(d/3)))*3)+1,y=i.length;return p===y?i:p>y?i+new Array(p-y+1).join("0"):p>0?i.slice(0,p)+"."+i.slice(p):"0."+new Array(1-p).join("0")+Kv(e,Math.max(0,t+p-1))[0]}function MC(e,t){var a=Kv(e,t);if(!a)return e+"";var i=a[0],d=a[1];return d<0?"0."+new Array(-d).join("0")+i:i.length>d+1?i.slice(0,d+1)+"."+i.slice(d+1):i+new Array(d-i.length+2).join("0")}const TC={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:WN,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>MC(e*100,t),r:MC,s:XN,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function EC(e){return e}var RC=Array.prototype.map,IC=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function KN(e){var t=e.grouping===void 0||e.thousands===void 0?EC:GN(RC.call(e.grouping,Number),e.thousands+""),a=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",d=e.decimal===void 0?".":e.decimal+"",p=e.numerals===void 0?EC:ZN(RC.call(e.numerals,String)),y=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"−":e.minus+"",A=e.nan===void 0?"NaN":e.nan+"";function C(R){R=wg(R);var L=R.fill,U=R.align,q=R.sign,$=R.symbol,W=R.zero,Y=R.width,X=R.comma,te=R.precision,pe=R.trim,de=R.type;de==="n"?(X=!0,de="g"):TC[de]||(te===void 0&&(te=12),pe=!0,de="g"),(W||L==="0"&&U==="=")&&(W=!0,L="0",U="=");var ye=$==="$"?a:$==="#"&&/[boxX]/.test(de)?"0"+de.toLowerCase():"",xe=$==="$"?i:/[%p]/.test(de)?y:"",Ie=TC[de],lt=/[defgprs%]/.test(de);te=te===void 0?6:/[gprs]/.test(de)?Math.max(1,Math.min(21,te)):Math.max(0,Math.min(20,te));function mt(nt){var st=ye,Je=xe,wt,Rt,je;if(de==="c")Je=Ie(nt)+Je,nt="";else{nt=+nt;var it=nt<0||1/nt<0;if(nt=isNaN(nt)?A:Ie(Math.abs(nt),te),pe&&(nt=QN(nt)),it&&+nt==0&&q!=="+"&&(it=!1),st=(it?q==="("?q:c:q==="-"||q==="("?"":q)+st,Je=(de==="s"?IC[8+S5/3]:"")+Je+(it&&q==="("?")":""),lt){for(wt=-1,Rt=nt.length;++wt<Rt;)if(je=nt.charCodeAt(wt),48>je||je>57){Je=(je===46?d+nt.slice(wt+1):nt.slice(wt))+Je,nt=nt.slice(0,wt);break}}}X&&!W&&(nt=t(nt,1/0));var Ge=st.length+nt.length+Je.length,bt=Ge<Y?new Array(Y-Ge+1).join(L):"";switch(X&&W&&(nt=t(bt+nt,bt.length?Y-Je.length:1/0),bt=""),U){case"<":nt=st+nt+Je+bt;break;case"=":nt=st+bt+nt+Je;break;case"^":nt=bt.slice(0,Ge=bt.length>>1)+st+nt+Je+bt.slice(Ge);break;default:nt=bt+st+nt+Je;break}return p(nt)}return mt.toString=function(){return R+""},mt}function T(R,L){var U=C((R=wg(R),R.type="f",R)),q=Math.max(-8,Math.min(8,Math.floor(gm(L)/3)))*3,$=Math.pow(10,-q),W=IC[8+q/3];return function(Y){return U($*Y)+W}}return{format:C,formatPrefix:T}}var cv,yS,w5;JN({thousands:",",grouping:[3],currency:["$",""]});function JN(e){return cv=KN(e),yS=cv.format,w5=cv.formatPrefix,cv}function ej(e){return Math.max(0,-gm(Math.abs(e)))}function tj(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(gm(t)/3)))*3-gm(Math.abs(e)))}function rj(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,gm(t)-gm(e))+1}function P5(e,t,a,i){var d=Zx(e,t,a),p;switch(i=wg(i??",f"),i.type){case"s":{var y=Math.max(Math.abs(e),Math.abs(t));return i.precision==null&&!isNaN(p=tj(d,y))&&(i.precision=p),w5(i,y)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(p=rj(d,Math.max(Math.abs(e),Math.abs(t))))&&(i.precision=p-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(p=ej(d))&&(i.precision=p-(i.type==="%")*2);break}}return yS(i)}function Ef(e){var t=e.domain;return e.ticks=function(a){var i=t();return Wx(i[0],i[i.length-1],a??10)},e.tickFormat=function(a,i){var d=t();return P5(d[0],d[d.length-1],a??10,i)},e.nice=function(a){a==null&&(a=10);var i=t(),d=0,p=i.length-1,y=i[d],c=i[p],A,C,T=10;for(c<y&&(C=y,y=c,c=C,C=d,d=p,p=C);T-- >0;){if(C=Gx(y,c,a),C===A)return i[d]=y,i[p]=c,t(i);if(C>0)y=Math.floor(y/C)*C,c=Math.ceil(c/C)*C;else if(C<0)y=Math.ceil(y*C)/C,c=Math.floor(c*C)/C;else break;A=C}return e},e}function A5(){var e=pS();return e.copy=function(){return Ng(e,A5())},pl.apply(e,arguments),Ef(e)}function C5(e){var t;function a(i){return i==null||isNaN(i=+i)?t:i}return a.invert=a,a.domain=a.range=function(i){return arguments.length?(e=Array.from(i,Xv),a):e.slice()},a.unknown=function(i){return arguments.length?(t=i,a):t},a.copy=function(){return C5(e).unknown(t)},e=arguments.length?Array.from(e,Xv):[0,1],Ef(a)}function D5(e,t){e=e.slice();var a=0,i=e.length-1,d=e[a],p=e[i],y;return p<d&&(y=a,a=i,i=y,y=d,d=p,p=y),e[a]=t.floor(d),e[i]=t.ceil(p),e}function kC(e){return Math.log(e)}function OC(e){return Math.exp(e)}function nj(e){return-Math.log(-e)}function aj(e){return-Math.exp(-e)}function ij(e){return isFinite(e)?+("1e"+e):e<0?0:e}function oj(e){return e===10?ij:e===Math.E?Math.exp:t=>Math.pow(e,t)}function sj(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function UC(e){return(t,a)=>-e(-t,a)}function gS(e){const t=e(kC,OC),a=t.domain;let i=10,d,p;function y(){return d=sj(i),p=oj(i),a()[0]<0?(d=UC(d),p=UC(p),e(nj,aj)):e(kC,OC),t}return t.base=function(c){return arguments.length?(i=+c,y()):i},t.domain=function(c){return arguments.length?(a(c),y()):a()},t.ticks=c=>{const A=a();let C=A[0],T=A[A.length-1];const R=T<C;R&&([C,T]=[T,C]);let L=d(C),U=d(T),q,$;const W=c==null?10:+c;let Y=[];if(!(i%1)&&U-L<W){if(L=Math.floor(L),U=Math.ceil(U),C>0){for(;L<=U;++L)for(q=1;q<i;++q)if($=L<0?q/p(-L):q*p(L),!($<C)){if($>T)break;Y.push($)}}else for(;L<=U;++L)for(q=i-1;q>=1;--q)if($=L>0?q/p(-L):q*p(L),!($<C)){if($>T)break;Y.push($)}Y.length*2<W&&(Y=Wx(C,T,W))}else Y=Wx(L,U,Math.min(U-L,W)).map(p);return R?Y.reverse():Y},t.tickFormat=(c,A)=>{if(c==null&&(c=10),A==null&&(A=i===10?"s":","),typeof A!="function"&&(!(i%1)&&(A=wg(A)).precision==null&&(A.trim=!0),A=yS(A)),c===1/0)return A;const C=Math.max(1,i*c/t.ticks().length);return T=>{let R=T/p(Math.round(d(T)));return R*i<i-.5&&(R*=i),R<=C?A(T):""}},t.nice=()=>a(D5(a(),{floor:c=>p(Math.floor(d(c))),ceil:c=>p(Math.ceil(d(c)))})),t}function M5(){const e=gS(F1()).domain([1,10]);return e.copy=()=>Ng(e,M5()).base(e.base()),pl.apply(e,arguments),e}function LC(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function zC(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function vS(e){var t=1,a=e(LC(t),zC(t));return a.constant=function(i){return arguments.length?e(LC(t=+i),zC(t)):t},Ef(a)}function T5(){var e=vS(F1());return e.copy=function(){return Ng(e,T5()).constant(e.constant())},pl.apply(e,arguments)}function FC(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function lj(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function cj(e){return e<0?-e*e:e*e}function _S(e){var t=e(Ao,Ao),a=1;function i(){return a===1?e(Ao,Ao):a===.5?e(lj,cj):e(FC(a),FC(1/a))}return t.exponent=function(d){return arguments.length?(a=+d,i()):a},Ef(t)}function bS(){var e=_S(F1());return e.copy=function(){return Ng(e,bS()).exponent(e.exponent())},pl.apply(e,arguments),e}function uj(){return bS.apply(null,arguments).exponent(.5)}function NC(e){return Math.sign(e)*e*e}function hj(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function E5(){var e=pS(),t=[0,1],a=!1,i;function d(p){var y=hj(e(p));return isNaN(y)?i:a?Math.round(y):y}return d.invert=function(p){return e.invert(NC(p))},d.domain=function(p){return arguments.length?(e.domain(p),d):e.domain()},d.range=function(p){return arguments.length?(e.range((t=Array.from(p,Xv)).map(NC)),d):t.slice()},d.rangeRound=function(p){return d.range(p).round(!0)},d.round=function(p){return arguments.length?(a=!!p,d):a},d.clamp=function(p){return arguments.length?(e.clamp(p),d):e.clamp()},d.unknown=function(p){return arguments.length?(i=p,d):i},d.copy=function(){return E5(e.domain(),t).round(a).clamp(e.clamp()).unknown(i)},pl.apply(d,arguments),Ef(d)}function R5(){var e=[],t=[],a=[],i;function d(){var y=0,c=Math.max(1,t.length);for(a=new Array(c-1);++y<c;)a[y-1]=mN(e,y/c);return p}function p(y){return y==null||isNaN(y=+y)?i:t[zg(a,y)]}return p.invertExtent=function(y){var c=t.indexOf(y);return c<0?[NaN,NaN]:[c>0?a[c-1]:e[0],c<a.length?a[c]:e[e.length-1]]},p.domain=function(y){if(!arguments.length)return e.slice();e=[];for(let c of y)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(wf),d()},p.range=function(y){return arguments.length?(t=Array.from(y),d()):t.slice()},p.unknown=function(y){return arguments.length?(i=y,p):i},p.quantiles=function(){return a.slice()},p.copy=function(){return R5().domain(e).range(t).unknown(i)},pl.apply(p,arguments)}function I5(){var e=0,t=1,a=1,i=[.5],d=[0,1],p;function y(A){return A!=null&&A<=A?d[zg(i,A,0,a)]:p}function c(){var A=-1;for(i=new Array(a);++A<a;)i[A]=((A+1)*t-(A-a)*e)/(a+1);return y}return y.domain=function(A){return arguments.length?([e,t]=A,e=+e,t=+t,c()):[e,t]},y.range=function(A){return arguments.length?(a=(d=Array.from(A)).length-1,c()):d.slice()},y.invertExtent=function(A){var C=d.indexOf(A);return C<0?[NaN,NaN]:C<1?[e,i[0]]:C>=a?[i[a-1],t]:[i[C-1],i[C]]},y.unknown=function(A){return arguments.length&&(p=A),y},y.thresholds=function(){return i.slice()},y.copy=function(){return I5().domain([e,t]).range(d).unknown(p)},pl.apply(Ef(y),arguments)}function k5(){var e=[.5],t=[0,1],a,i=1;function d(p){return p!=null&&p<=p?t[zg(e,p,0,i)]:a}return d.domain=function(p){return arguments.length?(e=Array.from(p),i=Math.min(e.length,t.length-1),d):e.slice()},d.range=function(p){return arguments.length?(t=Array.from(p),i=Math.min(e.length,t.length-1),d):t.slice()},d.invertExtent=function(p){var y=t.indexOf(p);return[e[y-1],e[y]]},d.unknown=function(p){return arguments.length?(a=p,d):a},d.copy=function(){return k5().domain(e).range(t).unknown(a)},pl.apply(d,arguments)}const Hb=new Date,Vb=new Date;function hi(e,t,a,i){function d(p){return e(p=arguments.length===0?new Date:new Date(+p)),p}return d.floor=p=>(e(p=new Date(+p)),p),d.ceil=p=>(e(p=new Date(p-1)),t(p,1),e(p),p),d.round=p=>{const y=d(p),c=d.ceil(p);return p-y<c-p?y:c},d.offset=(p,y)=>(t(p=new Date(+p),y==null?1:Math.floor(y)),p),d.range=(p,y,c)=>{const A=[];if(p=d.ceil(p),c=c==null?1:Math.floor(c),!(p<y)||!(c>0))return A;let C;do A.push(C=new Date(+p)),t(p,c),e(p);while(C<p&&p<y);return A},d.filter=p=>hi(y=>{if(y>=y)for(;e(y),!p(y);)y.setTime(y-1)},(y,c)=>{if(y>=y)if(c<0)for(;++c<=0;)for(;t(y,-1),!p(y););else for(;--c>=0;)for(;t(y,1),!p(y););}),a&&(d.count=(p,y)=>(Hb.setTime(+p),Vb.setTime(+y),e(Hb),e(Vb),Math.floor(a(Hb,Vb))),d.every=p=>(p=Math.floor(p),!isFinite(p)||!(p>0)?null:p>1?d.filter(i?y=>i(y)%p===0:y=>d.count(0,y)%p===0):d)),d}const Jv=hi(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Jv.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?hi(t=>{t.setTime(Math.floor(t/e)*e)},(t,a)=>{t.setTime(+t+a*e)},(t,a)=>(a-t)/e):Jv);Jv.range;const ch=1e3,cl=ch*60,uh=cl*60,gh=uh*24,xS=gh*7,jC=gh*30,Wb=gh*365,Hd=hi(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ch)},(e,t)=>(t-e)/ch,e=>e.getUTCSeconds());Hd.range;const SS=hi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ch)},(e,t)=>{e.setTime(+e+t*cl)},(e,t)=>(t-e)/cl,e=>e.getMinutes());SS.range;const wS=hi(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*cl)},(e,t)=>(t-e)/cl,e=>e.getUTCMinutes());wS.range;const PS=hi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ch-e.getMinutes()*cl)},(e,t)=>{e.setTime(+e+t*uh)},(e,t)=>(t-e)/uh,e=>e.getHours());PS.range;const AS=hi(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*uh)},(e,t)=>(t-e)/uh,e=>e.getUTCHours());AS.range;const jg=hi(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*cl)/gh,e=>e.getDate()-1);jg.range;const N1=hi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/gh,e=>e.getUTCDate()-1);N1.range;const O5=hi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/gh,e=>Math.floor(e/gh));O5.range;function sp(e){return hi(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,a)=>{t.setDate(t.getDate()+a*7)},(t,a)=>(a-t-(a.getTimezoneOffset()-t.getTimezoneOffset())*cl)/xS)}const j1=sp(0),e1=sp(1),fj=sp(2),dj=sp(3),vm=sp(4),pj=sp(5),mj=sp(6);j1.range;e1.range;fj.range;dj.range;vm.range;pj.range;mj.range;function lp(e){return hi(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,a)=>{t.setUTCDate(t.getUTCDate()+a*7)},(t,a)=>(a-t)/xS)}const B1=lp(0),t1=lp(1),yj=lp(2),gj=lp(3),_m=lp(4),vj=lp(5),_j=lp(6);B1.range;t1.range;yj.range;gj.range;_m.range;vj.range;_j.range;const CS=hi(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());CS.range;const DS=hi(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());DS.range;const vh=hi(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());vh.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:hi(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,a)=>{t.setFullYear(t.getFullYear()+a*e)});vh.range;const _h=hi(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());_h.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:hi(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,a)=>{t.setUTCFullYear(t.getUTCFullYear()+a*e)});_h.range;function U5(e,t,a,i,d,p){const y=[[Hd,1,ch],[Hd,5,5*ch],[Hd,15,15*ch],[Hd,30,30*ch],[p,1,cl],[p,5,5*cl],[p,15,15*cl],[p,30,30*cl],[d,1,uh],[d,3,3*uh],[d,6,6*uh],[d,12,12*uh],[i,1,gh],[i,2,2*gh],[a,1,xS],[t,1,jC],[t,3,3*jC],[e,1,Wb]];function c(C,T,R){const L=T<C;L&&([C,T]=[T,C]);const U=R&&typeof R.range=="function"?R:A(C,T,R),q=U?U.range(C,+T+1):[];return L?q.reverse():q}function A(C,T,R){const L=Math.abs(T-C)/R,U=lS(([,,W])=>W).right(y,L);if(U===y.length)return e.every(Zx(C/Wb,T/Wb,R));if(U===0)return Jv.every(Math.max(Zx(C,T,R),1));const[q,$]=y[L/y[U-1][2]<y[U][2]/L?U-1:U];return q.every($)}return[c,A]}const[bj,xj]=U5(_h,DS,B1,O5,AS,wS),[Sj,wj]=U5(vh,CS,j1,jg,PS,SS);function Gb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Zb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function tg(e,t,a){return{y:e,m:t,d:a,H:0,M:0,S:0,L:0}}function Pj(e){var t=e.dateTime,a=e.date,i=e.time,d=e.periods,p=e.days,y=e.shortDays,c=e.months,A=e.shortMonths,C=rg(d),T=ng(d),R=rg(p),L=ng(p),U=rg(y),q=ng(y),$=rg(c),W=ng(c),Y=rg(A),X=ng(A),te={a:it,A:Ge,b:bt,B:Ce,c:null,d:WC,e:WC,f:Gj,g:nB,G:iB,H:Hj,I:Vj,j:Wj,L:L5,m:Zj,M:Yj,p:ot,q:ke,Q:YC,s:QC,S:Qj,u:Xj,U:Kj,V:Jj,w:eB,W:tB,x:null,X:null,y:rB,Y:aB,Z:oB,"%":ZC},pe={a:et,A:pt,b:vt,B:Dt,c:null,d:GC,e:GC,f:uB,g:bB,G:SB,H:sB,I:lB,j:cB,L:F5,m:hB,M:fB,p:Ut,q:Ft,Q:YC,s:QC,S:dB,u:pB,U:mB,V:yB,w:gB,W:vB,x:null,X:null,y:_B,Y:xB,Z:wB,"%":ZC},de={a:mt,A:nt,b:st,B:Je,c:wt,d:HC,e:HC,f:jj,g:$C,G:qC,H:VC,I:VC,j:Lj,L:Nj,m:Uj,M:zj,p:lt,q:Oj,Q:qj,s:$j,S:Fj,u:Tj,U:Ej,V:Rj,w:Mj,W:Ij,x:Rt,X:je,y:$C,Y:qC,Z:kj,"%":Bj};te.x=ye(a,te),te.X=ye(i,te),te.c=ye(t,te),pe.x=ye(a,pe),pe.X=ye(i,pe),pe.c=ye(t,pe);function ye(xt,$t){return function(Nt){var $e=[],jt=-1,Bt=0,Sr=xt.length,Rr,Lr,Bn;for(Nt instanceof Date||(Nt=new Date(+Nt));++jt<Sr;)xt.charCodeAt(jt)===37&&($e.push(xt.slice(Bt,jt)),(Lr=BC[Rr=xt.charAt(++jt)])!=null?Rr=xt.charAt(++jt):Lr=Rr==="e"?" ":"0",(Bn=$t[Rr])&&(Rr=Bn(Nt,Lr)),$e.push(Rr),Bt=jt+1);return $e.push(xt.slice(Bt,jt)),$e.join("")}}function xe(xt,$t){return function(Nt){var $e=tg(1900,void 0,1),jt=Ie($e,xt,Nt+="",0),Bt,Sr;if(jt!=Nt.length)return null;if("Q"in $e)return new Date($e.Q);if("s"in $e)return new Date($e.s*1e3+("L"in $e?$e.L:0));if($t&&!("Z"in $e)&&($e.Z=0),"p"in $e&&($e.H=$e.H%12+$e.p*12),$e.m===void 0&&($e.m="q"in $e?$e.q:0),"V"in $e){if($e.V<1||$e.V>53)return null;"w"in $e||($e.w=1),"Z"in $e?(Bt=Zb(tg($e.y,0,1)),Sr=Bt.getUTCDay(),Bt=Sr>4||Sr===0?t1.ceil(Bt):t1(Bt),Bt=N1.offset(Bt,($e.V-1)*7),$e.y=Bt.getUTCFullYear(),$e.m=Bt.getUTCMonth(),$e.d=Bt.getUTCDate()+($e.w+6)%7):(Bt=Gb(tg($e.y,0,1)),Sr=Bt.getDay(),Bt=Sr>4||Sr===0?e1.ceil(Bt):e1(Bt),Bt=jg.offset(Bt,($e.V-1)*7),$e.y=Bt.getFullYear(),$e.m=Bt.getMonth(),$e.d=Bt.getDate()+($e.w+6)%7)}else("W"in $e||"U"in $e)&&("w"in $e||($e.w="u"in $e?$e.u%7:"W"in $e?1:0),Sr="Z"in $e?Zb(tg($e.y,0,1)).getUTCDay():Gb(tg($e.y,0,1)).getDay(),$e.m=0,$e.d="W"in $e?($e.w+6)%7+$e.W*7-(Sr+5)%7:$e.w+$e.U*7-(Sr+6)%7);return"Z"in $e?($e.H+=$e.Z/100|0,$e.M+=$e.Z%100,Zb($e)):Gb($e)}}function Ie(xt,$t,Nt,$e){for(var jt=0,Bt=$t.length,Sr=Nt.length,Rr,Lr;jt<Bt;){if($e>=Sr)return-1;if(Rr=$t.charCodeAt(jt++),Rr===37){if(Rr=$t.charAt(jt++),Lr=de[Rr in BC?$t.charAt(jt++):Rr],!Lr||($e=Lr(xt,Nt,$e))<0)return-1}else if(Rr!=Nt.charCodeAt($e++))return-1}return $e}function lt(xt,$t,Nt){var $e=C.exec($t.slice(Nt));return $e?(xt.p=T.get($e[0].toLowerCase()),Nt+$e[0].length):-1}function mt(xt,$t,Nt){var $e=U.exec($t.slice(Nt));return $e?(xt.w=q.get($e[0].toLowerCase()),Nt+$e[0].length):-1}function nt(xt,$t,Nt){var $e=R.exec($t.slice(Nt));return $e?(xt.w=L.get($e[0].toLowerCase()),Nt+$e[0].length):-1}function st(xt,$t,Nt){var $e=Y.exec($t.slice(Nt));return $e?(xt.m=X.get($e[0].toLowerCase()),Nt+$e[0].length):-1}function Je(xt,$t,Nt){var $e=$.exec($t.slice(Nt));return $e?(xt.m=W.get($e[0].toLowerCase()),Nt+$e[0].length):-1}function wt(xt,$t,Nt){return Ie(xt,t,$t,Nt)}function Rt(xt,$t,Nt){return Ie(xt,a,$t,Nt)}function je(xt,$t,Nt){return Ie(xt,i,$t,Nt)}function it(xt){return y[xt.getDay()]}function Ge(xt){return p[xt.getDay()]}function bt(xt){return A[xt.getMonth()]}function Ce(xt){return c[xt.getMonth()]}function ot(xt){return d[+(xt.getHours()>=12)]}function ke(xt){return 1+~~(xt.getMonth()/3)}function et(xt){return y[xt.getUTCDay()]}function pt(xt){return p[xt.getUTCDay()]}function vt(xt){return A[xt.getUTCMonth()]}function Dt(xt){return c[xt.getUTCMonth()]}function Ut(xt){return d[+(xt.getUTCHours()>=12)]}function Ft(xt){return 1+~~(xt.getUTCMonth()/3)}return{format:function(xt){var $t=ye(xt+="",te);return $t.toString=function(){return xt},$t},parse:function(xt){var $t=xe(xt+="",!1);return $t.toString=function(){return xt},$t},utcFormat:function(xt){var $t=ye(xt+="",pe);return $t.toString=function(){return xt},$t},utcParse:function(xt){var $t=xe(xt+="",!0);return $t.toString=function(){return xt},$t}}}var BC={"-":"",_:" ",0:"0"},Di=/^\s*\d+/,Aj=/^%/,Cj=/[\\^$*+?|[\]().{}]/g;function en(e,t,a){var i=e<0?"-":"",d=(i?-e:e)+"",p=d.length;return i+(p<a?new Array(a-p+1).join(t)+d:d)}function Dj(e){return e.replace(Cj,"\\$&")}function rg(e){return new RegExp("^(?:"+e.map(Dj).join("|")+")","i")}function ng(e){return new Map(e.map((t,a)=>[t.toLowerCase(),a]))}function Mj(e,t,a){var i=Di.exec(t.slice(a,a+1));return i?(e.w=+i[0],a+i[0].length):-1}function Tj(e,t,a){var i=Di.exec(t.slice(a,a+1));return i?(e.u=+i[0],a+i[0].length):-1}function Ej(e,t,a){var i=Di.exec(t.slice(a,a+2));return i?(e.U=+i[0],a+i[0].length):-1}function Rj(e,t,a){var i=Di.exec(t.slice(a,a+2));return i?(e.V=+i[0],a+i[0].length):-1}function Ij(e,t,a){var i=Di.exec(t.slice(a,a+2));return i?(e.W=+i[0],a+i[0].length):-1}function qC(e,t,a){var i=Di.exec(t.slice(a,a+4));return i?(e.y=+i[0],a+i[0].length):-1}function $C(e,t,a){var i=Di.exec(t.slice(a,a+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),a+i[0].length):-1}function kj(e,t,a){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(a,a+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),a+i[0].length):-1}function Oj(e,t,a){var i=Di.exec(t.slice(a,a+1));return i?(e.q=i[0]*3-3,a+i[0].length):-1}function Uj(e,t,a){var i=Di.exec(t.slice(a,a+2));return i?(e.m=i[0]-1,a+i[0].length):-1}function HC(e,t,a){var i=Di.exec(t.slice(a,a+2));return i?(e.d=+i[0],a+i[0].length):-1}function Lj(e,t,a){var i=Di.exec(t.slice(a,a+3));return i?(e.m=0,e.d=+i[0],a+i[0].length):-1}function VC(e,t,a){var i=Di.exec(t.slice(a,a+2));return i?(e.H=+i[0],a+i[0].length):-1}function zj(e,t,a){var i=Di.exec(t.slice(a,a+2));return i?(e.M=+i[0],a+i[0].length):-1}function Fj(e,t,a){var i=Di.exec(t.slice(a,a+2));return i?(e.S=+i[0],a+i[0].length):-1}function Nj(e,t,a){var i=Di.exec(t.slice(a,a+3));return i?(e.L=+i[0],a+i[0].length):-1}function jj(e,t,a){var i=Di.exec(t.slice(a,a+6));return i?(e.L=Math.floor(i[0]/1e3),a+i[0].length):-1}function Bj(e,t,a){var i=Aj.exec(t.slice(a,a+1));return i?a+i[0].length:-1}function qj(e,t,a){var i=Di.exec(t.slice(a));return i?(e.Q=+i[0],a+i[0].length):-1}function $j(e,t,a){var i=Di.exec(t.slice(a));return i?(e.s=+i[0],a+i[0].length):-1}function WC(e,t){return en(e.getDate(),t,2)}function Hj(e,t){return en(e.getHours(),t,2)}function Vj(e,t){return en(e.getHours()%12||12,t,2)}function Wj(e,t){return en(1+jg.count(vh(e),e),t,3)}function L5(e,t){return en(e.getMilliseconds(),t,3)}function Gj(e,t){return L5(e,t)+"000"}function Zj(e,t){return en(e.getMonth()+1,t,2)}function Yj(e,t){return en(e.getMinutes(),t,2)}function Qj(e,t){return en(e.getSeconds(),t,2)}function Xj(e){var t=e.getDay();return t===0?7:t}function Kj(e,t){return en(j1.count(vh(e)-1,e),t,2)}function z5(e){var t=e.getDay();return t>=4||t===0?vm(e):vm.ceil(e)}function Jj(e,t){return e=z5(e),en(vm.count(vh(e),e)+(vh(e).getDay()===4),t,2)}function eB(e){return e.getDay()}function tB(e,t){return en(e1.count(vh(e)-1,e),t,2)}function rB(e,t){return en(e.getFullYear()%100,t,2)}function nB(e,t){return e=z5(e),en(e.getFullYear()%100,t,2)}function aB(e,t){return en(e.getFullYear()%1e4,t,4)}function iB(e,t){var a=e.getDay();return e=a>=4||a===0?vm(e):vm.ceil(e),en(e.getFullYear()%1e4,t,4)}function oB(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+en(t/60|0,"0",2)+en(t%60,"0",2)}function GC(e,t){return en(e.getUTCDate(),t,2)}function sB(e,t){return en(e.getUTCHours(),t,2)}function lB(e,t){return en(e.getUTCHours()%12||12,t,2)}function cB(e,t){return en(1+N1.count(_h(e),e),t,3)}function F5(e,t){return en(e.getUTCMilliseconds(),t,3)}function uB(e,t){return F5(e,t)+"000"}function hB(e,t){return en(e.getUTCMonth()+1,t,2)}function fB(e,t){return en(e.getUTCMinutes(),t,2)}function dB(e,t){return en(e.getUTCSeconds(),t,2)}function pB(e){var t=e.getUTCDay();return t===0?7:t}function mB(e,t){return en(B1.count(_h(e)-1,e),t,2)}function N5(e){var t=e.getUTCDay();return t>=4||t===0?_m(e):_m.ceil(e)}function yB(e,t){return e=N5(e),en(_m.count(_h(e),e)+(_h(e).getUTCDay()===4),t,2)}function gB(e){return e.getUTCDay()}function vB(e,t){return en(t1.count(_h(e)-1,e),t,2)}function _B(e,t){return en(e.getUTCFullYear()%100,t,2)}function bB(e,t){return e=N5(e),en(e.getUTCFullYear()%100,t,2)}function xB(e,t){return en(e.getUTCFullYear()%1e4,t,4)}function SB(e,t){var a=e.getUTCDay();return e=a>=4||a===0?_m(e):_m.ceil(e),en(e.getUTCFullYear()%1e4,t,4)}function wB(){return"+0000"}function ZC(){return"%"}function YC(e){return+e}function QC(e){return Math.floor(+e/1e3)}var em,j5,B5;PB({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function PB(e){return em=Pj(e),j5=em.format,em.parse,B5=em.utcFormat,em.utcParse,em}function AB(e){return new Date(e)}function CB(e){return e instanceof Date?+e:+new Date(+e)}function MS(e,t,a,i,d,p,y,c,A,C){var T=pS(),R=T.invert,L=T.domain,U=C(".%L"),q=C(":%S"),$=C("%I:%M"),W=C("%I %p"),Y=C("%a %d"),X=C("%b %d"),te=C("%B"),pe=C("%Y");function de(ye){return(A(ye)<ye?U:c(ye)<ye?q:y(ye)<ye?$:p(ye)<ye?W:i(ye)<ye?d(ye)<ye?Y:X:a(ye)<ye?te:pe)(ye)}return T.invert=function(ye){return new Date(R(ye))},T.domain=function(ye){return arguments.length?L(Array.from(ye,CB)):L().map(AB)},T.ticks=function(ye){var xe=L();return e(xe[0],xe[xe.length-1],ye??10)},T.tickFormat=function(ye,xe){return xe==null?de:C(xe)},T.nice=function(ye){var xe=L();return(!ye||typeof ye.range!="function")&&(ye=t(xe[0],xe[xe.length-1],ye??10)),ye?L(D5(xe,ye)):T},T.copy=function(){return Ng(T,MS(e,t,a,i,d,p,y,c,A,C))},T}function DB(){return pl.apply(MS(Sj,wj,vh,CS,j1,jg,PS,SS,Hd,j5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function MB(){return pl.apply(MS(bj,xj,_h,DS,B1,N1,AS,wS,Hd,B5).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function q1(){var e=0,t=1,a,i,d,p,y=Ao,c=!1,A;function C(R){return R==null||isNaN(R=+R)?A:y(d===0?.5:(R=(p(R)-a)*d,c?Math.max(0,Math.min(1,R)):R))}C.domain=function(R){return arguments.length?([e,t]=R,a=p(e=+e),i=p(t=+t),d=a===i?0:1/(i-a),C):[e,t]},C.clamp=function(R){return arguments.length?(c=!!R,C):c},C.interpolator=function(R){return arguments.length?(y=R,C):y};function T(R){return function(L){var U,q;return arguments.length?([U,q]=L,y=R(U,q),C):[y(0),y(1)]}}return C.range=T(Im),C.rangeRound=T(dS),C.unknown=function(R){return arguments.length?(A=R,C):A},function(R){return p=R,a=R(e),i=R(t),d=a===i?0:1/(i-a),C}}function Rf(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function q5(){var e=Ef(q1()(Ao));return e.copy=function(){return Rf(e,q5())},Sh.apply(e,arguments)}function $5(){var e=gS(q1()).domain([1,10]);return e.copy=function(){return Rf(e,$5()).base(e.base())},Sh.apply(e,arguments)}function H5(){var e=vS(q1());return e.copy=function(){return Rf(e,H5()).constant(e.constant())},Sh.apply(e,arguments)}function TS(){var e=_S(q1());return e.copy=function(){return Rf(e,TS()).exponent(e.exponent())},Sh.apply(e,arguments)}function TB(){return TS.apply(null,arguments).exponent(.5)}function V5(){var e=[],t=Ao;function a(i){if(i!=null&&!isNaN(i=+i))return t((zg(e,i,1)-1)/(e.length-1))}return a.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let d of i)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(wf),a},a.interpolator=function(i){return arguments.length?(t=i,a):t},a.range=function(){return e.map((i,d)=>t(d/(e.length-1)))},a.quantiles=function(i){return Array.from({length:i+1},(d,p)=>pN(e,p/i))},a.copy=function(){return V5(t).domain(e)},Sh.apply(a,arguments)}function $1(){var e=0,t=.5,a=1,i=1,d,p,y,c,A,C=Ao,T,R=!1,L;function U($){return isNaN($=+$)?L:($=.5+(($=+T($))-p)*(i*$<i*p?c:A),C(R?Math.max(0,Math.min(1,$)):$))}U.domain=function($){return arguments.length?([e,t,a]=$,d=T(e=+e),p=T(t=+t),y=T(a=+a),c=d===p?0:.5/(p-d),A=p===y?0:.5/(y-p),i=p<d?-1:1,U):[e,t,a]},U.clamp=function($){return arguments.length?(R=!!$,U):R},U.interpolator=function($){return arguments.length?(C=$,U):C};function q($){return function(W){var Y,X,te;return arguments.length?([Y,X,te]=W,C=BN($,[Y,X,te]),U):[C(0),C(.5),C(1)]}}return U.range=q(Im),U.rangeRound=q(dS),U.unknown=function($){return arguments.length?(L=$,U):L},function($){return T=$,d=$(e),p=$(t),y=$(a),c=d===p?0:.5/(p-d),A=p===y?0:.5/(y-p),i=p<d?-1:1,U}}function W5(){var e=Ef($1()(Ao));return e.copy=function(){return Rf(e,W5())},Sh.apply(e,arguments)}function G5(){var e=gS($1()).domain([.1,1,10]);return e.copy=function(){return Rf(e,G5()).base(e.base())},Sh.apply(e,arguments)}function Z5(){var e=vS($1());return e.copy=function(){return Rf(e,Z5()).constant(e.constant())},Sh.apply(e,arguments)}function ES(){var e=_S($1());return e.copy=function(){return Rf(e,ES()).exponent(e.exponent())},Sh.apply(e,arguments)}function EB(){return ES.apply(null,arguments).exponent(.5)}const sg=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:uS,scaleDiverging:W5,scaleDivergingLog:G5,scaleDivergingPow:ES,scaleDivergingSqrt:EB,scaleDivergingSymlog:Z5,scaleIdentity:C5,scaleImplicit:Yx,scaleLinear:A5,scaleLog:M5,scaleOrdinal:cS,scalePoint:gN,scalePow:bS,scaleQuantile:R5,scaleQuantize:I5,scaleRadial:E5,scaleSequential:q5,scaleSequentialLog:$5,scaleSequentialPow:TS,scaleSequentialQuantile:V5,scaleSequentialSqrt:TB,scaleSequentialSymlog:H5,scaleSqrt:uj,scaleSymlog:T5,scaleThreshold:k5,scaleTime:DB,scaleUtc:MB,tickFormat:P5},Symbol.toStringTag,{value:"Module"}));var If=e=>e.chartData,RB=ut([If],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),RS=(e,t,a,i)=>i?RB(e):If(e);function bm(e){if(Array.isArray(e)&&e.length===2){var[t,a]=e;if(Os(t)&&Os(a))return!0}return!1}function XC(e,t,a){return a?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function IB(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[a,i]=e,d,p;if(Os(a))d=a;else if(typeof a=="function")return;if(Os(i))p=i;else if(typeof i=="function")return;var y=[d,p];if(bm(y))return y}}function kB(e,t,a){if(!(!a&&t==null)){if(typeof e=="function"&&t!=null)try{var i=e(t,a);if(bm(i))return XC(i,t,a)}catch{}if(Array.isArray(e)&&e.length===2){var[d,p]=e,y,c;if(d==="auto")t!=null&&(y=Math.min(...t));else if(Pr(d))y=d;else if(typeof d=="function")try{t!=null&&(y=d(t?.[0]))}catch{}else if(typeof d=="string"&&$A.test(d)){var A=$A.exec(d);if(A==null||t==null)y=void 0;else{var C=+A[1];y=t[0]-C}}else y=t?.[0];if(p==="auto")t!=null&&(c=Math.max(...t));else if(Pr(p))c=p;else if(typeof p=="function")try{t!=null&&(c=p(t?.[1]))}catch{}else if(typeof p=="string"&&HA.test(p)){var T=HA.exec(p);if(T==null||t==null)c=void 0;else{var R=+T[1];c=t[1]+R}}else c=t?.[1];var L=[y,c];if(bm(L))return t==null?L:XC(L,t,a)}}}var km=1e9,OB={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},kS,na=!0,dl="[DecimalError] ",Zd=dl+"Invalid argument: ",IS=dl+"Exponent out of range: ",Om=Math.floor,Bd=Math.pow,UB=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ts,wi=1e7,Xn=7,Y5=9007199254740991,r1=Om(Y5/Xn),Xt={};Xt.absoluteValue=Xt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Xt.comparedTo=Xt.cmp=function(e){var t,a,i,d,p=this;if(e=new p.constructor(e),p.s!==e.s)return p.s||-e.s;if(p.e!==e.e)return p.e>e.e^p.s<0?1:-1;for(i=p.d.length,d=e.d.length,t=0,a=i<d?i:d;t<a;++t)if(p.d[t]!==e.d[t])return p.d[t]>e.d[t]^p.s<0?1:-1;return i===d?0:i>d^p.s<0?1:-1};Xt.decimalPlaces=Xt.dp=function(){var e=this,t=e.d.length-1,a=(t-e.e)*Xn;if(t=e.d[t],t)for(;t%10==0;t/=10)a--;return a<0?0:a};Xt.dividedBy=Xt.div=function(e){return fh(this,new this.constructor(e))};Xt.dividedToIntegerBy=Xt.idiv=function(e){var t=this,a=t.constructor;return kn(fh(t,new a(e),0,1),a.precision)};Xt.equals=Xt.eq=function(e){return!this.cmp(e)};Xt.exponent=function(){return Ha(this)};Xt.greaterThan=Xt.gt=function(e){return this.cmp(e)>0};Xt.greaterThanOrEqualTo=Xt.gte=function(e){return this.cmp(e)>=0};Xt.isInteger=Xt.isint=function(){return this.e>this.d.length-2};Xt.isNegative=Xt.isneg=function(){return this.s<0};Xt.isPositive=Xt.ispos=function(){return this.s>0};Xt.isZero=function(){return this.s===0};Xt.lessThan=Xt.lt=function(e){return this.cmp(e)<0};Xt.lessThanOrEqualTo=Xt.lte=function(e){return this.cmp(e)<1};Xt.logarithm=Xt.log=function(e){var t,a=this,i=a.constructor,d=i.precision,p=d+5;if(e===void 0)e=new i(10);else if(e=new i(e),e.s<1||e.eq(Ts))throw Error(dl+"NaN");if(a.s<1)throw Error(dl+(a.s?"NaN":"-Infinity"));return a.eq(Ts)?new i(0):(na=!1,t=fh(Pg(a,p),Pg(e,p),p),na=!0,kn(t,d))};Xt.minus=Xt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?K5(t,e):Q5(t,(e.s=-e.s,e))};Xt.modulo=Xt.mod=function(e){var t,a=this,i=a.constructor,d=i.precision;if(e=new i(e),!e.s)throw Error(dl+"NaN");return a.s?(na=!1,t=fh(a,e,0,1).times(e),na=!0,a.minus(t)):kn(new i(a),d)};Xt.naturalExponential=Xt.exp=function(){return X5(this)};Xt.naturalLogarithm=Xt.ln=function(){return Pg(this)};Xt.negated=Xt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Xt.plus=Xt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Q5(t,e):K5(t,(e.s=-e.s,e))};Xt.precision=Xt.sd=function(e){var t,a,i,d=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Zd+e);if(t=Ha(d)+1,i=d.d.length-1,a=i*Xn+1,i=d.d[i],i){for(;i%10==0;i/=10)a--;for(i=d.d[0];i>=10;i/=10)a++}return e&&t>a?t:a};Xt.squareRoot=Xt.sqrt=function(){var e,t,a,i,d,p,y,c=this,A=c.constructor;if(c.s<1){if(!c.s)return new A(0);throw Error(dl+"NaN")}for(e=Ha(c),na=!1,d=Math.sqrt(+c),d==0||d==1/0?(t=su(c.d),(t.length+e)%2==0&&(t+="0"),d=Math.sqrt(t),e=Om((e+1)/2)-(e<0||e%2),d==1/0?t="5e"+e:(t=d.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),i=new A(t)):i=new A(d.toString()),a=A.precision,d=y=a+3;;)if(p=i,i=p.plus(fh(c,p,y+2)).times(.5),su(p.d).slice(0,y)===(t=su(i.d)).slice(0,y)){if(t=t.slice(y-3,y+1),d==y&&t=="4999"){if(kn(p,a+1,0),p.times(p).eq(c)){i=p;break}}else if(t!="9999")break;y+=4}return na=!0,kn(i,a)};Xt.times=Xt.mul=function(e){var t,a,i,d,p,y,c,A,C,T=this,R=T.constructor,L=T.d,U=(e=new R(e)).d;if(!T.s||!e.s)return new R(0);for(e.s*=T.s,a=T.e+e.e,A=L.length,C=U.length,A<C&&(p=L,L=U,U=p,y=A,A=C,C=y),p=[],y=A+C,i=y;i--;)p.push(0);for(i=C;--i>=0;){for(t=0,d=A+i;d>i;)c=p[d]+U[i]*L[d-i-1]+t,p[d--]=c%wi|0,t=c/wi|0;p[d]=(p[d]+t)%wi|0}for(;!p[--y];)p.pop();return t?++a:p.shift(),e.d=p,e.e=a,na?kn(e,R.precision):e};Xt.toDecimalPlaces=Xt.todp=function(e,t){var a=this,i=a.constructor;return a=new i(a),e===void 0?a:(fu(e,0,km),t===void 0?t=i.rounding:fu(t,0,8),kn(a,e+Ha(a)+1,t))};Xt.toExponential=function(e,t){var a,i=this,d=i.constructor;return e===void 0?a=rp(i,!0):(fu(e,0,km),t===void 0?t=d.rounding:fu(t,0,8),i=kn(new d(i),e+1,t),a=rp(i,!0,e+1)),a};Xt.toFixed=function(e,t){var a,i,d=this,p=d.constructor;return e===void 0?rp(d):(fu(e,0,km),t===void 0?t=p.rounding:fu(t,0,8),i=kn(new p(d),e+Ha(d)+1,t),a=rp(i.abs(),!1,e+Ha(i)+1),d.isneg()&&!d.isZero()?"-"+a:a)};Xt.toInteger=Xt.toint=function(){var e=this,t=e.constructor;return kn(new t(e),Ha(e)+1,t.rounding)};Xt.toNumber=function(){return+this};Xt.toPower=Xt.pow=function(e){var t,a,i,d,p,y,c=this,A=c.constructor,C=12,T=+(e=new A(e));if(!e.s)return new A(Ts);if(c=new A(c),!c.s){if(e.s<1)throw Error(dl+"Infinity");return c}if(c.eq(Ts))return c;if(i=A.precision,e.eq(Ts))return kn(c,i);if(t=e.e,a=e.d.length-1,y=t>=a,p=c.s,y){if((a=T<0?-T:T)<=Y5){for(d=new A(Ts),t=Math.ceil(i/Xn+4),na=!1;a%2&&(d=d.times(c),JC(d.d,t)),a=Om(a/2),a!==0;)c=c.times(c),JC(c.d,t);return na=!0,e.s<0?new A(Ts).div(d):kn(d,i)}}else if(p<0)throw Error(dl+"NaN");return p=p<0&&e.d[Math.max(t,a)]&1?-1:1,c.s=1,na=!1,d=e.times(Pg(c,i+C)),na=!0,d=X5(d),d.s=p,d};Xt.toPrecision=function(e,t){var a,i,d=this,p=d.constructor;return e===void 0?(a=Ha(d),i=rp(d,a<=p.toExpNeg||a>=p.toExpPos)):(fu(e,1,km),t===void 0?t=p.rounding:fu(t,0,8),d=kn(new p(d),e,t),a=Ha(d),i=rp(d,e<=a||a<=p.toExpNeg,e)),i};Xt.toSignificantDigits=Xt.tosd=function(e,t){var a=this,i=a.constructor;return e===void 0?(e=i.precision,t=i.rounding):(fu(e,1,km),t===void 0?t=i.rounding:fu(t,0,8)),kn(new i(a),e,t)};Xt.toString=Xt.valueOf=Xt.val=Xt.toJSON=Xt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ha(e),a=e.constructor;return rp(e,t<=a.toExpNeg||t>=a.toExpPos)};function Q5(e,t){var a,i,d,p,y,c,A,C,T=e.constructor,R=T.precision;if(!e.s||!t.s)return t.s||(t=new T(e)),na?kn(t,R):t;if(A=e.d,C=t.d,y=e.e,d=t.e,A=A.slice(),p=y-d,p){for(p<0?(i=A,p=-p,c=C.length):(i=C,d=y,c=A.length),y=Math.ceil(R/Xn),c=y>c?y+1:c+1,p>c&&(p=c,i.length=1),i.reverse();p--;)i.push(0);i.reverse()}for(c=A.length,p=C.length,c-p<0&&(p=c,i=C,C=A,A=i),a=0;p;)a=(A[--p]=A[p]+C[p]+a)/wi|0,A[p]%=wi;for(a&&(A.unshift(a),++d),c=A.length;A[--c]==0;)A.pop();return t.d=A,t.e=d,na?kn(t,R):t}function fu(e,t,a){if(e!==~~e||e<t||e>a)throw Error(Zd+e)}function su(e){var t,a,i,d=e.length-1,p="",y=e[0];if(d>0){for(p+=y,t=1;t<d;t++)i=e[t]+"",a=Xn-i.length,a&&(p+=bf(a)),p+=i;y=e[t],i=y+"",a=Xn-i.length,a&&(p+=bf(a))}else if(y===0)return"0";for(;y%10===0;)y/=10;return p+y}var fh=(function(){function e(i,d){var p,y=0,c=i.length;for(i=i.slice();c--;)p=i[c]*d+y,i[c]=p%wi|0,y=p/wi|0;return y&&i.unshift(y),i}function t(i,d,p,y){var c,A;if(p!=y)A=p>y?1:-1;else for(c=A=0;c<p;c++)if(i[c]!=d[c]){A=i[c]>d[c]?1:-1;break}return A}function a(i,d,p){for(var y=0;p--;)i[p]-=y,y=i[p]<d[p]?1:0,i[p]=y*wi+i[p]-d[p];for(;!i[0]&&i.length>1;)i.shift()}return function(i,d,p,y){var c,A,C,T,R,L,U,q,$,W,Y,X,te,pe,de,ye,xe,Ie,lt=i.constructor,mt=i.s==d.s?1:-1,nt=i.d,st=d.d;if(!i.s)return new lt(i);if(!d.s)throw Error(dl+"Division by zero");for(A=i.e-d.e,xe=st.length,de=nt.length,U=new lt(mt),q=U.d=[],C=0;st[C]==(nt[C]||0);)++C;if(st[C]>(nt[C]||0)&&--A,p==null?X=p=lt.precision:y?X=p+(Ha(i)-Ha(d))+1:X=p,X<0)return new lt(0);if(X=X/Xn+2|0,C=0,xe==1)for(T=0,st=st[0],X++;(C<de||T)&&X--;C++)te=T*wi+(nt[C]||0),q[C]=te/st|0,T=te%st|0;else{for(T=wi/(st[0]+1)|0,T>1&&(st=e(st,T),nt=e(nt,T),xe=st.length,de=nt.length),pe=xe,$=nt.slice(0,xe),W=$.length;W<xe;)$[W++]=0;Ie=st.slice(),Ie.unshift(0),ye=st[0],st[1]>=wi/2&&++ye;do T=0,c=t(st,$,xe,W),c<0?(Y=$[0],xe!=W&&(Y=Y*wi+($[1]||0)),T=Y/ye|0,T>1?(T>=wi&&(T=wi-1),R=e(st,T),L=R.length,W=$.length,c=t(R,$,L,W),c==1&&(T--,a(R,xe<L?Ie:st,L))):(T==0&&(c=T=1),R=st.slice()),L=R.length,L<W&&R.unshift(0),a($,R,W),c==-1&&(W=$.length,c=t(st,$,xe,W),c<1&&(T++,a($,xe<W?Ie:st,W))),W=$.length):c===0&&(T++,$=[0]),q[C++]=T,c&&$[0]?$[W++]=nt[pe]||0:($=[nt[pe]],W=1);while((pe++<de||$[0]!==void 0)&&X--)}return q[0]||q.shift(),U.e=A,kn(U,y?p+Ha(U)+1:p)}})();function X5(e,t){var a,i,d,p,y,c,A=0,C=0,T=e.constructor,R=T.precision;if(Ha(e)>16)throw Error(IS+Ha(e));if(!e.s)return new T(Ts);for(na=!1,c=R,y=new T(.03125);e.abs().gte(.1);)e=e.times(y),C+=5;for(i=Math.log(Bd(2,C))/Math.LN10*2+5|0,c+=i,a=d=p=new T(Ts),T.precision=c;;){if(d=kn(d.times(e),c),a=a.times(++A),y=p.plus(fh(d,a,c)),su(y.d).slice(0,c)===su(p.d).slice(0,c)){for(;C--;)p=kn(p.times(p),c);return T.precision=R,t==null?(na=!0,kn(p,R)):p}p=y}}function Ha(e){for(var t=e.e*Xn,a=e.d[0];a>=10;a/=10)t++;return t}function Yb(e,t,a){if(t>e.LN10.sd())throw na=!0,a&&(e.precision=a),Error(dl+"LN10 precision limit exceeded");return kn(new e(e.LN10),t)}function bf(e){for(var t="";e--;)t+="0";return t}function Pg(e,t){var a,i,d,p,y,c,A,C,T,R=1,L=10,U=e,q=U.d,$=U.constructor,W=$.precision;if(U.s<1)throw Error(dl+(U.s?"NaN":"-Infinity"));if(U.eq(Ts))return new $(0);if(t==null?(na=!1,C=W):C=t,U.eq(10))return t==null&&(na=!0),Yb($,C);if(C+=L,$.precision=C,a=su(q),i=a.charAt(0),p=Ha(U),Math.abs(p)<15e14){for(;i<7&&i!=1||i==1&&a.charAt(1)>3;)U=U.times(e),a=su(U.d),i=a.charAt(0),R++;p=Ha(U),i>1?(U=new $("0."+a),p++):U=new $(i+"."+a.slice(1))}else return A=Yb($,C+2,W).times(p+""),U=Pg(new $(i+"."+a.slice(1)),C-L).plus(A),$.precision=W,t==null?(na=!0,kn(U,W)):U;for(c=y=U=fh(U.minus(Ts),U.plus(Ts),C),T=kn(U.times(U),C),d=3;;){if(y=kn(y.times(T),C),A=c.plus(fh(y,new $(d),C)),su(A.d).slice(0,C)===su(c.d).slice(0,C))return c=c.times(2),p!==0&&(c=c.plus(Yb($,C+2,W).times(p+""))),c=fh(c,new $(R),C),$.precision=W,t==null?(na=!0,kn(c,W)):c;c=A,d+=2}}function KC(e,t){var a,i,d;for((a=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(a<0&&(a=i),a+=+t.slice(i+1),t=t.substring(0,i)):a<0&&(a=t.length),i=0;t.charCodeAt(i)===48;)++i;for(d=t.length;t.charCodeAt(d-1)===48;)--d;if(t=t.slice(i,d),t){if(d-=i,a=a-i-1,e.e=Om(a/Xn),e.d=[],i=(a+1)%Xn,a<0&&(i+=Xn),i<d){for(i&&e.d.push(+t.slice(0,i)),d-=Xn;i<d;)e.d.push(+t.slice(i,i+=Xn));t=t.slice(i),i=Xn-t.length}else i-=d;for(;i--;)t+="0";if(e.d.push(+t),na&&(e.e>r1||e.e<-r1))throw Error(IS+a)}else e.s=0,e.e=0,e.d=[0];return e}function kn(e,t,a){var i,d,p,y,c,A,C,T,R=e.d;for(y=1,p=R[0];p>=10;p/=10)y++;if(i=t-y,i<0)i+=Xn,d=t,C=R[T=0];else{if(T=Math.ceil((i+1)/Xn),p=R.length,T>=p)return e;for(C=p=R[T],y=1;p>=10;p/=10)y++;i%=Xn,d=i-Xn+y}if(a!==void 0&&(p=Bd(10,y-d-1),c=C/p%10|0,A=t<0||R[T+1]!==void 0||C%p,A=a<4?(c||A)&&(a==0||a==(e.s<0?3:2)):c>5||c==5&&(a==4||A||a==6&&(i>0?d>0?C/Bd(10,y-d):0:R[T-1])%10&1||a==(e.s<0?8:7))),t<1||!R[0])return A?(p=Ha(e),R.length=1,t=t-p-1,R[0]=Bd(10,(Xn-t%Xn)%Xn),e.e=Om(-t/Xn)||0):(R.length=1,R[0]=e.e=e.s=0),e;if(i==0?(R.length=T,p=1,T--):(R.length=T+1,p=Bd(10,Xn-i),R[T]=d>0?(C/Bd(10,y-d)%Bd(10,d)|0)*p:0),A)for(;;)if(T==0){(R[0]+=p)==wi&&(R[0]=1,++e.e);break}else{if(R[T]+=p,R[T]!=wi)break;R[T--]=0,p=1}for(i=R.length;R[--i]===0;)R.pop();if(na&&(e.e>r1||e.e<-r1))throw Error(IS+Ha(e));return e}function K5(e,t){var a,i,d,p,y,c,A,C,T,R,L=e.constructor,U=L.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new L(e),na?kn(t,U):t;if(A=e.d,R=t.d,i=t.e,C=e.e,A=A.slice(),y=C-i,y){for(T=y<0,T?(a=A,y=-y,c=R.length):(a=R,i=C,c=A.length),d=Math.max(Math.ceil(U/Xn),c)+2,y>d&&(y=d,a.length=1),a.reverse(),d=y;d--;)a.push(0);a.reverse()}else{for(d=A.length,c=R.length,T=d<c,T&&(c=d),d=0;d<c;d++)if(A[d]!=R[d]){T=A[d]<R[d];break}y=0}for(T&&(a=A,A=R,R=a,t.s=-t.s),c=A.length,d=R.length-c;d>0;--d)A[c++]=0;for(d=R.length;d>y;){if(A[--d]<R[d]){for(p=d;p&&A[--p]===0;)A[p]=wi-1;--A[p],A[d]+=wi}A[d]-=R[d]}for(;A[--c]===0;)A.pop();for(;A[0]===0;A.shift())--i;return A[0]?(t.d=A,t.e=i,na?kn(t,U):t):new L(0)}function rp(e,t,a){var i,d=Ha(e),p=su(e.d),y=p.length;return t?(a&&(i=a-y)>0?p=p.charAt(0)+"."+p.slice(1)+bf(i):y>1&&(p=p.charAt(0)+"."+p.slice(1)),p=p+(d<0?"e":"e+")+d):d<0?(p="0."+bf(-d-1)+p,a&&(i=a-y)>0&&(p+=bf(i))):d>=y?(p+=bf(d+1-y),a&&(i=a-d-1)>0&&(p=p+"."+bf(i))):((i=d+1)<y&&(p=p.slice(0,i)+"."+p.slice(i)),a&&(i=a-y)>0&&(d+1===y&&(p+="."),p+=bf(i))),e.s<0?"-"+p:p}function JC(e,t){if(e.length>t)return e.length=t,!0}function J5(e){var t,a,i;function d(p){var y=this;if(!(y instanceof d))return new d(p);if(y.constructor=d,p instanceof d){y.s=p.s,y.e=p.e,y.d=(p=p.d)?p.slice():p;return}if(typeof p=="number"){if(p*0!==0)throw Error(Zd+p);if(p>0)y.s=1;else if(p<0)p=-p,y.s=-1;else{y.s=0,y.e=0,y.d=[0];return}if(p===~~p&&p<1e7){y.e=0,y.d=[p];return}return KC(y,p.toString())}else if(typeof p!="string")throw Error(Zd+p);if(p.charCodeAt(0)===45?(p=p.slice(1),y.s=-1):y.s=1,UB.test(p))KC(y,p);else throw Error(Zd+p)}if(d.prototype=Xt,d.ROUND_UP=0,d.ROUND_DOWN=1,d.ROUND_CEIL=2,d.ROUND_FLOOR=3,d.ROUND_HALF_UP=4,d.ROUND_HALF_DOWN=5,d.ROUND_HALF_EVEN=6,d.ROUND_HALF_CEIL=7,d.ROUND_HALF_FLOOR=8,d.clone=J5,d.config=d.set=LB,e===void 0&&(e={}),e)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<i.length;)e.hasOwnProperty(a=i[t++])||(e[a]=this[a]);return d.config(e),d}function LB(e){if(!e||typeof e!="object")throw Error(dl+"Object expected");var t,a,i,d=["precision",1,km,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<d.length;t+=3)if((i=e[a=d[t]])!==void 0)if(Om(i)===i&&i>=d[t+1]&&i<=d[t+2])this[a]=i;else throw Error(Zd+a+": "+i);if((i=e[a="LN10"])!==void 0)if(i==Math.LN10)this[a]=new this(i);else throw Error(Zd+a+": "+i);return this}var kS=J5(OB);Ts=new kS(1);const _n=kS;var zB=e=>e,e4={},t4=e=>e===e4,e3=e=>function t(){return arguments.length===0||arguments.length===1&&t4(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},r4=(e,t)=>e===1?t:e3(function(){for(var a=arguments.length,i=new Array(a),d=0;d<a;d++)i[d]=arguments[d];var p=i.filter(y=>y!==e4).length;return p>=e?t(...i):r4(e-p,e3(function(){for(var y=arguments.length,c=new Array(y),A=0;A<y;A++)c[A]=arguments[A];var C=i.map(T=>t4(T)?c.shift():T);return t(...C,...c)}))}),H1=e=>r4(e.length,e),Jx=(e,t)=>{for(var a=[],i=e;i<t;++i)a[i-e]=i;return a},FB=H1((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(a=>t[a]).map(e)),NB=function(){for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];if(!a.length)return zB;var d=a.reverse(),p=d[0],y=d.slice(1);return function(){return y.reduce((c,A)=>A(c),p(...arguments))}},e2=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),n4=e=>{var t=null,a=null;return function(){for(var i=arguments.length,d=new Array(i),p=0;p<i;p++)d[p]=arguments[p];return t&&d.every((y,c)=>{var A;return y===((A=t)===null||A===void 0?void 0:A[c])})||(t=d,a=e(...d)),a}};function a4(e){var t;return e===0?t=1:t=Math.floor(new _n(e).abs().log(10).toNumber())+1,t}function i4(e,t,a){for(var i=new _n(e),d=0,p=[];i.lt(t)&&d<1e5;)p.push(i.toNumber()),i=i.add(a),d++;return p}H1((e,t,a)=>{var i=+e,d=+t;return i+a*(d-i)});H1((e,t,a)=>{var i=t-+e;return i=i||1/0,(a-e)/i});H1((e,t,a)=>{var i=t-+e;return i=i||1/0,Math.max(0,Math.min(1,(a-e)/i))});var o4=e=>{var[t,a]=e,[i,d]=[t,a];return t>a&&([i,d]=[a,t]),[i,d]},s4=(e,t,a)=>{if(e.lte(0))return new _n(0);var i=a4(e.toNumber()),d=new _n(10).pow(i),p=e.div(d),y=i!==1?.05:.1,c=new _n(Math.ceil(p.div(y).toNumber())).add(a).mul(y),A=c.mul(d);return t?new _n(A.toNumber()):new _n(Math.ceil(A.toNumber()))},jB=(e,t,a)=>{var i=new _n(1),d=new _n(e);if(!d.isint()&&a){var p=Math.abs(e);p<1?(i=new _n(10).pow(a4(e)-1),d=new _n(Math.floor(d.div(i).toNumber())).mul(i)):p>1&&(d=new _n(Math.floor(e)))}else e===0?d=new _n(Math.floor((t-1)/2)):a||(d=new _n(Math.floor(e)));var y=Math.floor((t-1)/2),c=NB(FB(A=>d.add(new _n(A-y).mul(i)).toNumber()),Jx);return c(0,t)},l4=function(t,a,i,d){var p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((a-t)/(i-1)))return{step:new _n(0),tickMin:new _n(0),tickMax:new _n(0)};var y=s4(new _n(a).sub(t).div(i-1),d,p),c;t<=0&&a>=0?c=new _n(0):(c=new _n(t).add(a).div(2),c=c.sub(new _n(c).mod(y)));var A=Math.ceil(c.sub(t).div(y).toNumber()),C=Math.ceil(new _n(a).sub(c).div(y).toNumber()),T=A+C+1;return T>i?l4(t,a,i,d,p+1):(T<i&&(C=a>0?C+(i-T):C,A=a>0?A:A+(i-T)),{step:y,tickMin:c.sub(new _n(A).mul(y)),tickMax:c.add(new _n(C).mul(y))})};function BB(e){var[t,a]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,p=Math.max(i,2),[y,c]=o4([t,a]);if(y===-1/0||c===1/0){var A=c===1/0?[y,...Jx(0,i-1).map(()=>1/0)]:[...Jx(0,i-1).map(()=>-1/0),c];return t>a?e2(A):A}if(y===c)return jB(y,i,d);var{step:C,tickMin:T,tickMax:R}=l4(y,c,p,d,0),L=i4(T,R.add(new _n(.1).mul(C)),C);return t>a?e2(L):L}function qB(e,t){var[a,i]=e,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[p,y]=o4([a,i]);if(p===-1/0||y===1/0)return[a,i];if(p===y)return[p];var c=Math.max(t,2),A=s4(new _n(y).sub(p).div(c-1),d,0),C=[...i4(new _n(p),new _n(y),A),y];return d===!1&&(C=C.map(T=>Math.round(T))),a>i?e2(C):C}var $B=n4(BB),HB=n4(qB),c4=e=>e.rootProps.maxBarSize,VB=e=>e.rootProps.barGap,u4=e=>e.rootProps.barCategoryGap,WB=e=>e.rootProps.barSize,V1=e=>e.rootProps.stackOffset,OS=e=>e.options.chartName,US=e=>e.rootProps.syncId,h4=e=>e.rootProps.syncMethod,LS=e=>e.options.eventEmitter,sh={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Ds={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},W1=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},GB={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:sh.angleAxisId,includeHidden:!1,name:void 0,reversed:sh.reversed,scale:sh.scale,tick:sh.tick,tickCount:void 0,ticks:void 0,type:sh.type,unit:void 0},ZB={allowDataOverflow:Ds.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ds.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ds.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ds.scale,tick:Ds.tick,tickCount:Ds.tickCount,ticks:void 0,type:Ds.type,unit:void 0},YB={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:sh.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:sh.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:sh.scale,tick:sh.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},QB={allowDataOverflow:Ds.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ds.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ds.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ds.scale,tick:Ds.tick,tickCount:Ds.tickCount,ticks:void 0,type:"category",unit:void 0},zS=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?YB:GB,FS=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?QB:ZB,G1=e=>e.polarOptions,NS=ut([bh,xh,Ci],KL),f4=ut([G1,NS],(e,t)=>{if(e!=null)return uc(e.innerRadius,t,0)}),d4=ut([G1,NS],(e,t)=>{if(e!=null)return uc(e.outerRadius,t,t*.8)}),XB=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:a}=e;return[t,a]},p4=ut([G1],XB);ut([zS,p4],W1);var m4=ut([NS,f4,d4],(e,t,a)=>{if(!(e==null||t==null||a==null))return[t,a]});ut([FS,m4],W1);var y4=ut([Sn,G1,f4,d4,bh,xh],(e,t,a,i,d,p)=>{if(!(e!=="centric"&&e!=="radial"||t==null||a==null||i==null)){var{cx:y,cy:c,startAngle:A,endAngle:C}=t;return{cx:uc(y,d,d/2),cy:uc(c,p,p/2),innerRadius:a,outerRadius:i,startAngle:A,endAngle:C,clockWise:!1}}}),Va=(e,t)=>t,Z1=(e,t,a)=>a;function jS(e){return e?.id}var fi=e=>{var t=Sn(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Um=e=>e.tooltip.settings.axisId,Mi=e=>{var t=fi(e),a=Um(e);return Bg(e,t,a)},g4=ut([Mi],e=>e?.dataKey);function v4(e,t,a){var{chartData:i=[]}=t,{allowDuplicatedCategory:d,dataKey:p}=a,y=new Map;return e.forEach(c=>{var A,C=(A=c.data)!==null&&A!==void 0?A:i;if(!(C==null||C.length===0)){var T=jS(c);C.forEach((R,L)=>{var U=p==null||d?L:String(Do(R,p,null)),q=Do(R,c.dataKey,0),$;y.has(U)?$=y.get(U):$={},Object.assign($,{[T]:q}),y.set(U,$)})}}),Array.from(y.values())}function Y1(e){return e.stackId!=null&&e.dataKey!=null}function t3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),a.push.apply(a,i)}return a}function n1(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?t3(Object(a),!0).forEach(function(i){KB(e,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):t3(Object(a)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(a,i))})}return e}function KB(e,t,a){return(t=JB(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function JB(e){var t=eq(e,"string");return typeof t=="symbol"?t:t+""}function eq(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var i=a.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var t2=[0,"auto"],As={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},_4=(e,t)=>e.cartesianAxis.xAxis[t],wh=(e,t)=>{var a=_4(e,t);return a??As},Cs={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:t2,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Lg},b4=(e,t)=>e.cartesianAxis.yAxis[t],Ph=(e,t)=>{var a=b4(e,t);return a??Cs},tq={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},BS=(e,t)=>{var a=e.cartesianAxis.zAxis[t];return a??tq},Ko=(e,t,a)=>{switch(t){case"xAxis":return wh(e,a);case"yAxis":return Ph(e,a);case"zAxis":return BS(e,a);case"angleAxis":return zS(e,a);case"radiusAxis":return FS(e,a);default:throw new Error("Unexpected axis type: ".concat(t))}},rq=(e,t,a)=>{switch(t){case"xAxis":return wh(e,a);case"yAxis":return Ph(e,a);default:throw new Error("Unexpected axis type: ".concat(t))}},Bg=(e,t,a)=>{switch(t){case"xAxis":return wh(e,a);case"yAxis":return Ph(e,a);case"angleAxis":return zS(e,a);case"radiusAxis":return FS(e,a);default:throw new Error("Unexpected axis type: ".concat(t))}},x4=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function S4(e,t){return a=>{switch(e){case"xAxis":return"xAxisId"in a&&a.xAxisId===t;case"yAxis":return"yAxisId"in a&&a.yAxisId===t;case"zAxis":return"zAxisId"in a&&a.zAxisId===t;case"angleAxis":return"angleAxisId"in a&&a.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in a&&a.radiusAxisId===t;default:return!1}}}var qS=e=>e.graphicalItems.cartesianItems,nq=ut([Va,Z1],S4),w4=(e,t,a)=>e.filter(a).filter(i=>t?.includeHidden===!0?!0:!i.hide),qg=ut([qS,Ko,nq],w4),P4=ut([qg],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Y1)),A4=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),C4=ut([qg],A4),D4=e=>e.map(t=>t.data).filter(Boolean).flat(1),aq=ut([qg],D4),M4=(e,t)=>{var{chartData:a=[],dataStartIndex:i,dataEndIndex:d}=t;return e.length>0?e:a.slice(i,d+1)},$S=ut([aq,RS],M4),T4=(e,t,a)=>t?.dataKey!=null?e.map(i=>({value:Do(i,t.dataKey)})):a.length>0?a.map(i=>i.dataKey).flatMap(i=>e.map(d=>({value:Do(d,i)}))):e.map(i=>({value:i})),Q1=ut([$S,Ko,qg],T4);function E4(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function cp(e){return e.filter(t=>hu(t)||t instanceof Date).map(Number).filter(t=>hl(t)===!1)}function iq(e,t,a){return!a||typeof t!="number"||hl(t)?[]:a.length?cp(a.flatMap(i=>{var d=Do(e,i.dataKey),p,y;if(Array.isArray(d)?[p,y]=d:p=y=d,!(!Os(p)||!Os(y)))return[t-p,t+y]})):[]}var oq=ut([P4,RS,Mi],v4),R4=(e,t,a)=>{var i={},d=t.reduce((p,y)=>(y.stackId==null||(p[y.stackId]==null&&(p[y.stackId]=[]),p[y.stackId].push(y)),p),i);return Object.fromEntries(Object.entries(d).map(p=>{var[y,c]=p,A=c.map(jS);return[y,{stackedData:pz(e,A,a),graphicalItems:c}]}))},r2=ut([oq,P4,V1],R4),I4=(e,t,a)=>{var{dataStartIndex:i,dataEndIndex:d}=t;if(a!=="zAxis"){var p=_z(e,i,d);if(!(p!=null&&p[0]===0&&p[1]===0))return p}},sq=ut([r2,If,Va],I4),k4=(e,t,a,i,d)=>a.length>0?e.flatMap(p=>a.flatMap(y=>{var c,A,C=(c=i[y.id])===null||c===void 0?void 0:c.filter(R=>E4(d,R)),T=Do(p,(A=t.dataKey)!==null&&A!==void 0?A:y.dataKey);return{value:T,errorDomain:iq(p,T,C)}})).filter(Boolean):t?.dataKey!=null?e.map(p=>({value:Do(p,t.dataKey),errorDomain:[]})):e.map(p=>({value:p,errorDomain:[]})),X1=e=>e.errorBars,O4=(e,t,a)=>e.flatMap(i=>t[i.id]).filter(Boolean).filter(i=>E4(a,i));ut([C4,X1,Va],O4);var lq=ut([$S,Ko,C4,X1,Va],k4);function cq(e){var{value:t}=e;if(hu(t)||t instanceof Date)return t}var r3=e=>{var t=e.flatMap(i=>[i.value,i.errorDomain]).flat(1),a=cp(t);if(a.length!==0)return[Math.min(...a),Math.max(...a)]},uq=(e,t,a)=>{var i=e.map(cq).filter(d=>d!=null);return a&&(t.dataKey==null||t.allowDuplicatedCategory&&XM(i))?p5(0,e.length):t.allowDuplicatedCategory?i:Array.from(new Set(i))},HS=e=>{var t;if(e==null||!("domain"in e))return t2;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var a=cp(e.ticks);return[Math.min(...a),Math.max(...a)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:t2},a1=function(){for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];var d=a.filter(Boolean);if(d.length!==0){var p=d.flat(),y=Math.min(...p),c=Math.max(...p);return[y,c]}},U4=e=>e.referenceElements.dots,Lm=(e,t,a)=>e.filter(i=>i.ifOverflow==="extendDomain").filter(i=>t==="xAxis"?i.xAxisId===a:i.yAxisId===a),hq=ut([U4,Va,Z1],Lm),L4=e=>e.referenceElements.areas,fq=ut([L4,Va,Z1],Lm),z4=e=>e.referenceElements.lines,dq=ut([z4,Va,Z1],Lm),F4=(e,t)=>{var a=cp(e.map(i=>t==="xAxis"?i.x:i.y));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},pq=ut(hq,Va,F4),N4=(e,t)=>{var a=cp(e.flatMap(i=>[t==="xAxis"?i.x1:i.y1,t==="xAxis"?i.x2:i.y2]));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},mq=ut([fq,Va],N4),j4=(e,t)=>{var a=cp(e.map(i=>t==="xAxis"?i.x:i.y));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},yq=ut(dq,Va,j4),gq=ut(pq,yq,mq,(e,t,a)=>a1(e,a,t)),vq=ut([Ko],HS),B4=(e,t,a,i,d,p,y)=>{var c=IB(t,e.allowDataOverflow);if(c!=null)return c;var A=p==="vertical"&&y==="xAxis"||p==="horizontal"&&y==="yAxis",C=A?a1(a,d,r3(i)):a1(d,r3(i));return kB(t,C,e.allowDataOverflow)},_q=ut([Ko,vq,sq,lq,gq,Sn,Va],B4),bq=[0,1],q4=(e,t,a,i,d,p,y)=>{if(!((e==null||a==null||a.length===0)&&y===void 0)){var{dataKey:c,type:A}=e,C=op(t,p);return C&&c==null?p5(0,a.length):A==="category"?uq(i,e,C):d==="expand"?bq:y}},VS=ut([Ko,Sn,$S,Q1,V1,Va,_q],q4),$4=(e,t,a,i,d)=>{if(e!=null){var{scale:p,type:y}=e;if(p==="auto")return t==="radial"&&d==="radiusAxis"?"band":t==="radial"&&d==="angleAxis"?"linear":y==="category"&&i&&(i.indexOf("LineChart")>=0||i.indexOf("AreaChart")>=0||i.indexOf("ComposedChart")>=0&&!a)?"point":y==="category"?"band":"linear";if(typeof p=="string"){var c="scale".concat(Ig(p));return c in sg?c:"point"}}},$g=ut([Ko,Sn,x4,OS,Va],$4);function xq(e){if(e!=null){if(e in sg)return sg[e]();var t="scale".concat(Ig(e));if(t in sg)return sg[t]()}}function WS(e,t,a,i){if(!(a==null||i==null)){if(typeof e.scale=="function")return e.scale.copy().domain(a).range(i);var d=xq(t);if(d!=null){var p=d.domain(a).range(i);return cz(p),p}}}var H4=(e,t,a)=>{var i=HS(t);if(!(a!=="auto"&&a!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(i)&&(i[0]==="auto"||i[1]==="auto")&&bm(e))return $B(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&bm(e))return HB(e,t.tickCount,t.allowDecimals)}},GS=ut([VS,Bg,$g],H4),V4=(e,t,a,i)=>{if(i!=="angleAxis"&&e?.type==="number"&&bm(t)&&Array.isArray(a)&&a.length>0){var d=t[0],p=a[0],y=t[1],c=a[a.length-1];return[Math.min(d,p),Math.max(y,c)]}return t},Sq=ut([Ko,VS,GS,Va],V4),wq=ut(Q1,Ko,(e,t)=>{if(!(!t||t.type!=="number")){var a=1/0,i=Array.from(cp(e.map(c=>c.value))).sort((c,A)=>c-A);if(i.length<2)return 1/0;var d=i[i.length-1]-i[0];if(d===0)return 1/0;for(var p=0;p<i.length-1;p++){var y=i[p+1]-i[p];a=Math.min(a,y)}return a/d}}),W4=ut(wq,Sn,u4,Ci,(e,t,a,i)=>i,(e,t,a,i,d)=>{if(!Os(e))return 0;var p=t==="vertical"?i.height:i.width;if(d==="gap")return e*p/2;if(d==="no-gap"){var y=uc(a,e*p),c=e*p/2;return c-y-(c-y)/p*y}return 0}),Pq=(e,t)=>{var a=wh(e,t);return a==null||typeof a.padding!="string"?0:W4(e,"xAxis",t,a.padding)},Aq=(e,t)=>{var a=Ph(e,t);return a==null||typeof a.padding!="string"?0:W4(e,"yAxis",t,a.padding)},Cq=ut(wh,Pq,(e,t)=>{var a,i;if(e==null)return{left:0,right:0};var{padding:d}=e;return typeof d=="string"?{left:t,right:t}:{left:((a=d.left)!==null&&a!==void 0?a:0)+t,right:((i=d.right)!==null&&i!==void 0?i:0)+t}}),Dq=ut(Ph,Aq,(e,t)=>{var a,i;if(e==null)return{top:0,bottom:0};var{padding:d}=e;return typeof d=="string"?{top:t,bottom:t}:{top:((a=d.top)!==null&&a!==void 0?a:0)+t,bottom:((i=d.bottom)!==null&&i!==void 0?i:0)+t}}),Mq=ut([Ci,Cq,z1,L1,(e,t,a)=>a],(e,t,a,i,d)=>{var{padding:p}=i;return d?[p.left,a.width-p.right]:[e.left+t.left,e.left+e.width-t.right]}),Tq=ut([Ci,Sn,Dq,z1,L1,(e,t,a)=>a],(e,t,a,i,d,p)=>{var{padding:y}=d;return p?[i.height-y.bottom,y.top]:t==="horizontal"?[e.top+e.height-a.bottom,e.top+a.top]:[e.top+a.top,e.top+e.height-a.bottom]}),Hg=(e,t,a,i)=>{var d;switch(t){case"xAxis":return Mq(e,a,i);case"yAxis":return Tq(e,a,i);case"zAxis":return(d=BS(e,a))===null||d===void 0?void 0:d.range;case"angleAxis":return p4(e);case"radiusAxis":return m4(e,a);default:return}},G4=ut([Ko,Hg],W1),zm=ut([Ko,$g,Sq,G4],WS);ut([qg,X1,Va],O4);function Z4(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var K1=(e,t)=>t,J1=(e,t,a)=>a,Eq=ut(O1,K1,J1,(e,t,a)=>e.filter(i=>i.orientation===t).filter(i=>i.mirror===a).sort(Z4)),Rq=ut(U1,K1,J1,(e,t,a)=>e.filter(i=>i.orientation===t).filter(i=>i.mirror===a).sort(Z4)),Y4=(e,t)=>({width:e.width,height:t.height}),Iq=(e,t)=>{var a=typeof t.width=="number"?t.width:Lg;return{width:a,height:e.height}},Q4=ut(Ci,wh,Y4),kq=(e,t,a)=>{switch(t){case"top":return e.top;case"bottom":return a-e.bottom;default:return 0}},Oq=(e,t,a)=>{switch(t){case"left":return e.left;case"right":return a-e.right;default:return 0}},Uq=ut(xh,Ci,Eq,K1,J1,(e,t,a,i,d)=>{var p={},y;return a.forEach(c=>{var A=Y4(t,c);y==null&&(y=kq(t,i,e));var C=i==="top"&&!d||i==="bottom"&&d;p[c.id]=y-Number(C)*A.height,y+=(C?-1:1)*A.height}),p}),Lq=ut(bh,Ci,Rq,K1,J1,(e,t,a,i,d)=>{var p={},y;return a.forEach(c=>{var A=Iq(t,c);y==null&&(y=Oq(t,i,e));var C=i==="left"&&!d||i==="right"&&d;p[c.id]=y-Number(C)*A.width,y+=(C?-1:1)*A.width}),p}),zq=(e,t)=>{var a=wh(e,t);if(a!=null)return Uq(e,a.orientation,a.mirror)},Fq=ut([Ci,wh,zq,(e,t)=>t],(e,t,a,i)=>{if(t!=null){var d=a?.[i];return d==null?{x:e.left,y:0}:{x:e.left,y:d}}}),Nq=(e,t)=>{var a=Ph(e,t);if(a!=null)return Lq(e,a.orientation,a.mirror)},jq=ut([Ci,Ph,Nq,(e,t)=>t],(e,t,a,i)=>{if(t!=null){var d=a?.[i];return d==null?{x:0,y:e.top}:{x:d,y:e.top}}}),X4=ut(Ci,Ph,(e,t)=>{var a=typeof t.width=="number"?t.width:Lg;return{width:a,height:e.height}}),n3=(e,t,a)=>{switch(t){case"xAxis":return Q4(e,a).width;case"yAxis":return X4(e,a).height;default:return}},K4=(e,t,a,i)=>{if(a!=null){var{allowDuplicatedCategory:d,type:p,dataKey:y}=a,c=op(e,i),A=t.map(C=>C.value);if(y&&c&&p==="category"&&d&&XM(A))return A}},ZS=ut([Sn,Q1,Ko,Va],K4),J4=(e,t,a,i)=>{if(!(a==null||a.dataKey==null)){var{type:d,scale:p}=a,y=op(e,i);if(y&&(d==="number"||p!=="auto"))return t.map(c=>c.value)}},YS=ut([Sn,Q1,Bg,Va],J4);ut([Sn,rq,$g,zm,ZS,YS,Hg,GS,Va],(e,t,a,i,d,p,y,c,A)=>{if(t==null)return null;var C=op(e,A);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:A,categoricalDomain:p,duplicateDomain:d,isCategorical:C,niceTicks:c,range:y,realScaleType:a,scale:i}});var Bq=(e,t,a,i,d,p,y,c,A)=>{if(!(t==null||i==null)){var C=op(e,A),{type:T,ticks:R,tickCount:L}=t,U=a==="scaleBand"&&typeof i.bandwidth=="function"?i.bandwidth()/2:2,q=T==="category"&&i.bandwidth?i.bandwidth()/U:0;q=A==="angleAxis"&&p!=null&&p.length>=2?Es(p[0]-p[1])*2*q:q;var $=R||d;if($){var W=$.map((Y,X)=>{var te=y?y.indexOf(Y):Y;return{index:X,coordinate:i(te)+q,value:Y,offset:q}});return W.filter(Y=>!hl(Y.coordinate))}return C&&c?c.map((Y,X)=>({coordinate:i(Y)+q,value:Y,index:X,offset:q})):i.ticks?i.ticks(L).map(Y=>({coordinate:i(Y)+q,value:Y,offset:q})):i.domain().map((Y,X)=>({coordinate:i(Y)+q,value:y?y[Y]:Y,index:X,offset:q}))}},e6=ut([Sn,Bg,$g,zm,GS,Hg,ZS,YS,Va],Bq),qq=(e,t,a,i,d,p,y)=>{if(!(t==null||a==null||i==null||i[0]===i[1])){var c=op(e,y),{tickCount:A}=t,C=0;return C=y==="angleAxis"&&i?.length>=2?Es(i[0]-i[1])*2*C:C,c&&p?p.map((T,R)=>({coordinate:a(T)+C,value:T,index:R,offset:C})):a.ticks?a.ticks(A).map(T=>({coordinate:a(T)+C,value:T,offset:C})):a.domain().map((T,R)=>({coordinate:a(T)+C,value:d?d[T]:T,index:R,offset:C}))}},xm=ut([Sn,Bg,zm,Hg,ZS,YS,Va],qq),Sm=ut(Ko,zm,(e,t)=>{if(!(e==null||t==null))return n1(n1({},e),{},{scale:t})}),$q=ut([Ko,$g,VS,G4],WS);ut((e,t,a)=>BS(e,a),$q,(e,t)=>{if(!(e==null||t==null))return n1(n1({},e),{},{scale:t})});var Hq=ut([Sn,O1,U1],(e,t,a)=>{switch(e){case"horizontal":return t.some(i=>i.reversed)?"right-to-left":"left-to-right";case"vertical":return a.some(i=>i.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),t6=e=>e.options.defaultTooltipEventType,r6=e=>e.options.validateTooltipEventTypes;function n6(e,t,a){if(e==null)return t;var i=e?"axis":"item";return a==null?t:a.includes(i)?i:t}function QS(e,t){var a=t6(e),i=r6(e);return n6(t,a,i)}function Vq(e){return pr(t=>QS(t,e))}var a6=(e,t)=>{var a,i=Number(t);if(!(hl(i)||t==null))return i>=0?e==null||(a=e[i])===null||a===void 0?void 0:a.value:void 0},Wq=e=>e.tooltip.settings,Sf={active:!1,index:null,dataKey:void 0,coordinate:void 0},Gq={itemInteraction:{click:Sf,hover:Sf},axisInteraction:{click:Sf,hover:Sf},keyboardInteraction:Sf,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},i6=Us({name:"tooltip",initialState:Gq,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var a=hh(e).tooltipItemPayloads.indexOf(t.payload);a>-1&&e.tooltipItemPayloads.splice(a,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Zq,removeTooltipEntrySettings:Yq,setTooltipSettingsState:Qq,setActiveMouseOverItemIndex:o6,mouseLeaveItem:Xq,mouseLeaveChart:s6,setActiveClickItemIndex:Kq,setMouseOverAxisIndex:l6,setMouseClickAxisIndex:Jq,setSyncInteraction:n2,setKeyboardInteraction:a2}=i6.actions,e$=i6.reducer;function a3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),a.push.apply(a,i)}return a}function uv(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?a3(Object(a),!0).forEach(function(i){t$(e,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):a3(Object(a)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(a,i))})}return e}function t$(e,t,a){return(t=r$(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r$(e){var t=n$(e,"string");return typeof t=="symbol"?t:t+""}function n$(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var i=a.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a$(e,t,a){return t==="axis"?a==="click"?e.axisInteraction.click:e.axisInteraction.hover:a==="click"?e.itemInteraction.click:e.itemInteraction.hover}function i$(e){return e.index!=null}var c6=(e,t,a,i)=>{if(t==null)return Sf;var d=a$(e,t,a);if(d==null)return Sf;if(d.active)return d;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var p=e.settings.active===!0;if(i$(d)){if(p)return uv(uv({},d),{},{active:!0})}else if(i!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:i};return uv(uv({},Sf),{},{coordinate:d.coordinate})},XS=(e,t)=>{var a=e?.index;if(a==null)return null;var i=Number(a);if(!Os(i))return a;var d=0,p=1/0;return t.length>0&&(p=t.length-1),String(Math.max(d,Math.min(i,p)))},u6=(e,t,a,i,d,p,y,c)=>{if(!(p==null||c==null)){var A=y[0],C=A==null?void 0:c(A.positions,p);if(C!=null)return C;var T=d?.[Number(p)];if(T)switch(a){case"horizontal":return{x:T.coordinate,y:(i.top+t)/2};default:return{x:(i.left+e)/2,y:T.coordinate}}}},h6=(e,t,a,i)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var d;return a==="hover"?d=e.itemInteraction.hover.dataKey:d=e.itemInteraction.click.dataKey,d==null&&i!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(p=>{var y;return((y=p.settings)===null||y===void 0?void 0:y.dataKey)===d})},Vg=e=>e.options.tooltipPayloadSearcher,Fm=e=>e.tooltip;function i3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),a.push.apply(a,i)}return a}function o3(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?i3(Object(a),!0).forEach(function(i){o$(e,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i3(Object(a)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(a,i))})}return e}function o$(e,t,a){return(t=s$(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s$(e){var t=l$(e,"string");return typeof t=="symbol"?t:t+""}function l$(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var i=a.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c$(e,t){return e??t}var f6=(e,t,a,i,d,p,y)=>{if(!(t==null||p==null)){var{chartData:c,computedData:A,dataStartIndex:C,dataEndIndex:T}=a,R=[];return e.reduce((L,U)=>{var q,{dataDefinedOnItem:$,settings:W}=U,Y=c$($,c),X=Array.isArray(Y)?t5(Y,C,T):Y,te=(q=W?.dataKey)!==null&&q!==void 0?q:i,pe=W?.nameKey,de;if(i&&Array.isArray(X)&&!Array.isArray(X[0])&&y==="axis"?de=Jk(X,i,d):de=p(X,t,A,pe),Array.isArray(de))de.forEach(xe=>{var Ie=o3(o3({},W),{},{name:xe.name,unit:xe.unit,color:void 0,fill:void 0});L.push(VA({tooltipEntrySettings:Ie,dataKey:xe.dataKey,payload:xe.payload,value:Do(xe.payload,xe.dataKey),name:xe.name}))});else{var ye;L.push(VA({tooltipEntrySettings:W,dataKey:te,payload:de,value:Do(de,te),name:(ye=Do(de,pe))!==null&&ye!==void 0?ye:W?.name}))}return L},R)}},KS=ut([Mi,Sn,x4,OS,fi],$4),u$=ut([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),h$=ut([fi,Um],S4),Wg=ut([u$,Mi,h$],w4),f$=ut([Wg],e=>e.filter(Y1)),d$=ut([Wg],D4),Nm=ut([d$,If],M4),p$=ut([f$,If,Mi],v4),JS=ut([Nm,Mi,Wg],T4),m$=ut([Mi],HS),y$=ut([Wg],e=>e.filter(Y1)),g$=ut([p$,y$,V1],R4),v$=ut([g$,If,fi],I4),_$=ut([Wg],A4),b$=ut([Nm,Mi,_$,X1,fi],k4),x$=ut([U4,fi,Um],Lm),S$=ut([x$,fi],F4),w$=ut([L4,fi,Um],Lm),P$=ut([w$,fi],N4),A$=ut([z4,fi,Um],Lm),C$=ut([A$,fi],j4),D$=ut([S$,C$,P$],a1),M$=ut([Mi,m$,v$,b$,D$,Sn,fi],B4),d6=ut([Mi,Sn,Nm,JS,V1,fi,M$],q4),T$=ut([d6,Mi,KS],H4),E$=ut([Mi,d6,T$,fi],V4),p6=e=>{var t=fi(e),a=Um(e),i=!1;return Hg(e,t,a,i)},m6=ut([Mi,p6],W1),y6=ut([Mi,KS,E$,m6],WS),R$=ut([Sn,JS,Mi,fi],K4),I$=ut([Sn,JS,Mi,fi],J4),k$=(e,t,a,i,d,p,y,c)=>{if(t){var{type:A}=t,C=op(e,c);if(i){var T=a==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,R=A==="category"&&i.bandwidth?i.bandwidth()/T:0;return R=c==="angleAxis"&&d!=null&&d?.length>=2?Es(d[0]-d[1])*2*R:R,C&&y?y.map((L,U)=>({coordinate:i(L)+R,value:L,index:U,offset:R})):i.domain().map((L,U)=>({coordinate:i(L)+R,value:p?p[L]:L,index:U,offset:R}))}}},Ah=ut([Sn,Mi,KS,y6,p6,R$,I$,fi],k$),ew=ut([t6,r6,Wq],(e,t,a)=>n6(a.shared,e,t)),g6=e=>e.tooltip.settings.trigger,tw=e=>e.tooltip.settings.defaultIndex,e_=ut([Fm,ew,g6,tw],c6),wm=ut([e_,Nm],XS),v6=ut([Ah,wm],a6),_6=ut([e_],e=>{if(e)return e.dataKey}),b6=ut([Fm,ew,g6,tw],h6),O$=ut([bh,xh,Sn,Ci,Ah,tw,b6,Vg],u6),U$=ut([e_,O$],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),L$=ut([e_],e=>e.active),z$=ut([b6,wm,If,g4,v6,Vg,ew],f6);ut([z$],e=>{if(e!=null){var t=e.map(a=>a.payload).filter(a=>a!=null);return Array.from(new Set(t))}});function s3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),a.push.apply(a,i)}return a}function l3(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?s3(Object(a),!0).forEach(function(i){F$(e,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s3(Object(a)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(a,i))})}return e}function F$(e,t,a){return(t=N$(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function N$(e){var t=j$(e,"string");return typeof t=="symbol"?t:t+""}function j$(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var i=a.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var B$=()=>pr(Mi),q$=()=>{var e=B$(),t=pr(Ah),a=pr(y6);return rS(l3(l3({},e),{},{scale:a}),t)},$$=()=>pr(OS),rw=(e,t)=>t,x6=(e,t,a)=>a,nw=(e,t,a,i)=>i,H$=ut(Ah,e=>M1(e,t=>t.coordinate)),aw=ut([Fm,rw,x6,nw],c6),S6=ut([aw,Nm],XS),V$=(e,t,a)=>{if(t!=null){var i=Fm(e);return t==="axis"?a==="hover"?i.axisInteraction.hover.dataKey:i.axisInteraction.click.dataKey:a==="hover"?i.itemInteraction.hover.dataKey:i.itemInteraction.click.dataKey}},w6=ut([Fm,rw,x6,nw],h6),i1=ut([bh,xh,Sn,Ci,Ah,nw,w6,Vg],u6),W$=ut([aw,i1],(e,t)=>{var a;return(a=e.coordinate)!==null&&a!==void 0?a:t}),P6=ut(Ah,S6,a6),G$=ut([w6,S6,If,g4,P6,Vg,rw],f6),Z$=ut([aw],e=>({isActive:e.active,activeIndex:e.index})),Y$=(e,t,a,i,d,p,y,c)=>{if(!(!e||!t||!i||!d||!p)){var A=bz(e.chartX,e.chartY,t,a,c);if(A){var C=Sz(A,t),T=sz(C,y,p,i,d),R=xz(t,p,T,A);return{activeIndex:String(T),activeCoordinate:R}}}};function i2(){return i2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)({}).hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},i2.apply(null,arguments)}function c3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),a.push.apply(a,i)}return a}function hv(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?c3(Object(a),!0).forEach(function(i){Q$(e,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c3(Object(a)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(a,i))})}return e}function Q$(e,t,a){return(t=X$(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function X$(e){var t=K$(e,"string");return typeof t=="symbol"?t:t+""}function K$(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var i=a.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J$(e){var{coordinate:t,payload:a,index:i,offset:d,tooltipAxisBandSize:p,layout:y,cursor:c,tooltipEventType:A,chartName:C}=e,T=t,R=a,L=i;if(!c||!T||C!=="ScatterChart"&&A!=="axis")return null;var U,q;if(C==="ScatterChart")U=T,q=gF;else if(C==="BarChart")U=vF(y,T,d,p),q=u5;else if(y==="radial"){var{cx:$,cy:W,radius:Y,startAngle:X,endAngle:te}=h5(T);U={cx:$,cy:W,startAngle:X,endAngle:te,innerRadius:Y,outerRadius:Y},q=d5}else U={points:XF(y,T,d)},q=lF;var pe=typeof c=="object"&&"className"in c?c.className:void 0,de=hv(hv(hv(hv({stroke:"#ccc",pointerEvents:"none"},d),U),Wi(c,!1)),{},{payload:R,payloadIndex:L,className:On("recharts-tooltip-cursor",pe)});return V.isValidElement(c)?V.cloneElement(c,de):V.createElement(q,de)}function eH(e){var t=q$(),a=zz(),i=iS(),d=$$();return V.createElement(J$,i2({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:a,layout:i,tooltipAxisBandSize:t,chartName:d}))}var A6=V.createContext(null),tH=()=>V.useContext(A6),Qb={exports:{}},u3;function rH(){return u3||(u3=1,(function(e){var t=Object.prototype.hasOwnProperty,a="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(a=!1));function d(A,C,T){this.fn=A,this.context=C,this.once=T||!1}function p(A,C,T,R,L){if(typeof T!="function")throw new TypeError("The listener must be a function");var U=new d(T,R||A,L),q=a?a+C:C;return A._events[q]?A._events[q].fn?A._events[q]=[A._events[q],U]:A._events[q].push(U):(A._events[q]=U,A._eventsCount++),A}function y(A,C){--A._eventsCount===0?A._events=new i:delete A._events[C]}function c(){this._events=new i,this._eventsCount=0}c.prototype.eventNames=function(){var C=[],T,R;if(this._eventsCount===0)return C;for(R in T=this._events)t.call(T,R)&&C.push(a?R.slice(1):R);return Object.getOwnPropertySymbols?C.concat(Object.getOwnPropertySymbols(T)):C},c.prototype.listeners=function(C){var T=a?a+C:C,R=this._events[T];if(!R)return[];if(R.fn)return[R.fn];for(var L=0,U=R.length,q=new Array(U);L<U;L++)q[L]=R[L].fn;return q},c.prototype.listenerCount=function(C){var T=a?a+C:C,R=this._events[T];return R?R.fn?1:R.length:0},c.prototype.emit=function(C,T,R,L,U,q){var $=a?a+C:C;if(!this._events[$])return!1;var W=this._events[$],Y=arguments.length,X,te;if(W.fn){switch(W.once&&this.removeListener(C,W.fn,void 0,!0),Y){case 1:return W.fn.call(W.context),!0;case 2:return W.fn.call(W.context,T),!0;case 3:return W.fn.call(W.context,T,R),!0;case 4:return W.fn.call(W.context,T,R,L),!0;case 5:return W.fn.call(W.context,T,R,L,U),!0;case 6:return W.fn.call(W.context,T,R,L,U,q),!0}for(te=1,X=new Array(Y-1);te<Y;te++)X[te-1]=arguments[te];W.fn.apply(W.context,X)}else{var pe=W.length,de;for(te=0;te<pe;te++)switch(W[te].once&&this.removeListener(C,W[te].fn,void 0,!0),Y){case 1:W[te].fn.call(W[te].context);break;case 2:W[te].fn.call(W[te].context,T);break;case 3:W[te].fn.call(W[te].context,T,R);break;case 4:W[te].fn.call(W[te].context,T,R,L);break;default:if(!X)for(de=1,X=new Array(Y-1);de<Y;de++)X[de-1]=arguments[de];W[te].fn.apply(W[te].context,X)}}return!0},c.prototype.on=function(C,T,R){return p(this,C,T,R,!1)},c.prototype.once=function(C,T,R){return p(this,C,T,R,!0)},c.prototype.removeListener=function(C,T,R,L){var U=a?a+C:C;if(!this._events[U])return this;if(!T)return y(this,U),this;var q=this._events[U];if(q.fn)q.fn===T&&(!L||q.once)&&(!R||q.context===R)&&y(this,U);else{for(var $=0,W=[],Y=q.length;$<Y;$++)(q[$].fn!==T||L&&!q[$].once||R&&q[$].context!==R)&&W.push(q[$]);W.length?this._events[U]=W.length===1?W[0]:W:y(this,U)}return this},c.prototype.removeAllListeners=function(C){var T;return C?(T=a?a+C:C,this._events[T]&&y(this,T)):(this._events=new i,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=a,c.EventEmitter=c,e.exports=c})(Qb)),Qb.exports}var nH=rH();const aH=hc(nH);var Ag=new aH,o2="recharts.syncEvent.tooltip",h3="recharts.syncEvent.brush";function iH(e,t){if(t){var a=Number.parseInt(t,10);if(!hl(a))return e?.[a]}}var oH={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},C6=Us({name:"options",initialState:oH,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),sH=C6.reducer,{createEventEmitter:lH}=C6.actions;function cH(e){return e.tooltip.syncInteraction}var uH={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},D6=Us({name:"chartData",initialState:uH,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:a,endIndex:i}=t.payload;a!=null&&(e.dataStartIndex=a),i!=null&&(e.dataEndIndex=i)}}}),{setChartData:f3,setDataStartEndIndexes:hH,setComputedData:LQ}=D6.actions,fH=D6.reducer,dH=["x","y"];function d3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),a.push.apply(a,i)}return a}function Fd(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?d3(Object(a),!0).forEach(function(i){pH(e,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d3(Object(a)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(a,i))})}return e}function pH(e,t,a){return(t=mH(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function mH(e){var t=yH(e,"string");return typeof t=="symbol"?t:t+""}function yH(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var i=a.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gH(e,t){if(e==null)return{};var a,i,d=vH(e,t);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(e);for(i=0;i<p.length;i++)a=p[i],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(d[a]=e[a])}return d}function vH(e,t){if(e==null)return{};var a={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;a[i]=e[i]}return a}var M6=()=>{};function _H(){var e=pr(US),t=pr(LS),a=Ai(),i=pr(h4),d=pr(Ah),p=iS(),y=aS(),c=pr(A=>A.rootProps.className);V.useEffect(()=>{if(e==null)return M6;var A=(C,T,R)=>{if(t!==R&&e===C){if(i==="index"){var L;if(y&&T!==null&&T!==void 0&&(L=T.payload)!==null&&L!==void 0&&L.coordinate){var U=T.payload.coordinate,{x:q,y:$}=U,W=gH(U,dH),Y=Fd(Fd(Fd({},W),typeof q=="number"&&{x:Math.max(y.x,Math.min(q,y.x+y.width))}),typeof $=="number"&&{y:Math.max(y.y,Math.min($,y.y+y.height))}),X=Fd(Fd({},T),{},{payload:Fd(Fd({},T.payload),{},{coordinate:Y})});a(X)}else a(T);return}if(d!=null){var te;if(typeof i=="function"){var pe={activeTooltipIndex:T.payload.index==null?void 0:Number(T.payload.index),isTooltipActive:T.payload.active,activeIndex:T.payload.index==null?void 0:Number(T.payload.index),activeLabel:T.payload.label,activeDataKey:T.payload.dataKey,activeCoordinate:T.payload.coordinate},de=i(d,pe);te=d[de]}else i==="value"&&(te=d.find(Je=>String(Je.value)===T.payload.label));var{coordinate:ye}=T.payload;if(te==null||T.payload.active===!1||ye==null||y==null){a(n2({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:xe,y:Ie}=ye,lt=Math.min(xe,y.x+y.width),mt=Math.min(Ie,y.y+y.height),nt={x:p==="horizontal"?te.coordinate:lt,y:p==="horizontal"?mt:te.coordinate},st=n2({active:T.payload.active,coordinate:nt,dataKey:T.payload.dataKey,index:String(te.index),label:T.payload.label});a(st)}}};return Ag.on(o2,A),()=>{Ag.off(o2,A)}},[c,a,t,e,i,d,p,y])}function bH(){var e=pr(US),t=pr(LS),a=Ai();V.useEffect(()=>{if(e==null)return M6;var i=(d,p,y)=>{t!==y&&e===d&&a(hH(p))};return Ag.on(h3,i),()=>{Ag.off(h3,i)}},[a,t,e])}function xH(){var e=Ai();V.useEffect(()=>{e(lH())},[e]),_H(),bH()}function SH(e,t,a,i,d,p){var y=pr(L=>V$(L,e,t)),c=pr(LS),A=pr(US),C=pr(h4),T=pr(cH),R=T?.active;V.useEffect(()=>{if(!R&&A!=null&&c!=null){var L=n2({active:p,coordinate:a,dataKey:y,index:d,label:typeof i=="number"?String(i):i});Ag.emit(o2,A,L,c)}},[R,a,y,d,i,c,A,C,p])}function p3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),a.push.apply(a,i)}return a}function m3(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?p3(Object(a),!0).forEach(function(i){wH(e,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p3(Object(a)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(a,i))})}return e}function wH(e,t,a){return(t=PH(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function PH(e){var t=AH(e,"string");return typeof t=="symbol"?t:t+""}function AH(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var i=a.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CH(e){return e.dataKey}function DH(e,t){return V.isValidElement(e)?V.cloneElement(e,t):typeof e=="function"?V.createElement(e,t):V.createElement(Zz,t)}var y3=[],MH={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Rm.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function T6(e){var t=mc(e,MH),{active:a,allowEscapeViewBox:i,animationDuration:d,animationEasing:p,content:y,filterNull:c,isAnimationActive:A,offset:C,payloadUniqBy:T,position:R,reverseDirection:L,useTranslate3d:U,wrapperStyle:q,cursor:$,shared:W,trigger:Y,defaultIndex:X,portal:te,axisId:pe}=t,de=Ai(),ye=typeof X=="number"?String(X):X;V.useEffect(()=>{de(Qq({shared:W,trigger:Y,axisId:pe,active:a,defaultIndex:ye}))},[de,W,Y,pe,a,ye]);var xe=aS(),Ie=i5(),lt=Vq(W),{activeIndex:mt,isActive:nt}=pr(vt=>Z$(vt,lt,Y,ye)),st=pr(vt=>G$(vt,lt,Y,ye)),Je=pr(vt=>P6(vt,lt,Y,ye)),wt=pr(vt=>W$(vt,lt,Y,ye)),Rt=st,je=tH(),it=a??nt,[Ge,bt]=QU([Rt,it]),Ce=lt==="axis"?Je:void 0;SH(lt,Y,wt,Ce,mt,it);var ot=te??je;if(ot==null)return null;var ke=Rt??y3;it||(ke=y3),c&&ke.length&&(ke=SU(Rt.filter(vt=>vt.value!=null&&(vt.hide!==!0||t.includeHidden)),T,CH));var et=ke.length>0,pt=V.createElement(tF,{allowEscapeViewBox:i,animationDuration:d,animationEasing:p,isAnimationActive:A,active:it,coordinate:wt,hasPayload:et,offset:C,position:R,reverseDirection:L,useTranslate3d:U,viewBox:xe,wrapperStyle:q,lastBoundingBox:Ge,innerRef:bt,hasPortalFromProps:!!te},DH(y,m3(m3({},t),{},{payload:ke,label:Ce,active:it,coordinate:wt,accessibilityLayer:Ie})));return V.createElement(V.Fragment,null,m1.createPortal(pt,ot),it&&V.createElement(eH,{cursor:$,tooltipEventType:lt,coordinate:wt,payload:Rt,index:mt}))}var Xb={},Kb={},Jb={},g3;function TH(){return g3||(g3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,i,{signal:d,edges:p}={}){let y,c=null;const A=p!=null&&p.includes("leading"),C=p==null||p.includes("trailing"),T=()=>{c!==null&&(a.apply(y,c),y=void 0,c=null)},R=()=>{C&&T(),$()};let L=null;const U=()=>{L!=null&&clearTimeout(L),L=setTimeout(()=>{L=null,R()},i)},q=()=>{L!==null&&(clearTimeout(L),L=null)},$=()=>{q(),y=void 0,c=null},W=()=>{T()},Y=function(...X){if(d?.aborted)return;y=this,c=X;const te=L==null;U(),A&&te&&T()};return Y.schedule=U,Y.cancel=$,Y.flush=W,d?.addEventListener("abort",$,{once:!0}),Y}e.debounce=t})(Jb)),Jb}var v3;function EH(){return v3||(v3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TH();function a(i,d=0,p={}){typeof p!="object"&&(p={});const{leading:y=!1,trailing:c=!0,maxWait:A}=p,C=Array(2);y&&(C[0]="leading"),c&&(C[1]="trailing");let T,R=null;const L=t.debounce(function(...$){T=i.apply(this,$),R=null},d,{edges:C}),U=function(...$){return A!=null&&(R===null&&(R=Date.now()),Date.now()-R>=A)?(T=i.apply(this,$),R=Date.now(),L.cancel(),L.schedule(),T):(L.apply(this,$),T)},q=()=>(L.flush(),T);return U.cancel=L.cancel,U.flush=q,U}e.debounce=a})(Kb)),Kb}var _3;function RH(){return _3||(_3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EH();function a(i,d=0,p={}){const{leading:y=!0,trailing:c=!0}=p;return t.debounce(i,d,{leading:y,maxWait:d,trailing:c})}e.throttle=a})(Xb)),Xb}var ex,b3;function IH(){return b3||(b3=1,ex=RH().throttle),ex}var kH=IH();const OH=hc(kH);var tx=function(t,a){for(var i=arguments.length,d=new Array(i>2?i-2:0),p=2;p<i;p++)d[p-2]=arguments[p]};function x3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),a.push.apply(a,i)}return a}function rx(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?x3(Object(a),!0).forEach(function(i){UH(e,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x3(Object(a)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(a,i))})}return e}function UH(e,t,a){return(t=LH(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function LH(e){var t=zH(e,"string");return typeof t=="symbol"?t:t+""}function zH(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var i=a.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E6=V.forwardRef((e,t)=>{var{aspect:a,initialDimension:i={width:-1,height:-1},width:d="100%",height:p="100%",minWidth:y=0,minHeight:c,maxHeight:A,children:C,debounce:T=0,id:R,className:L,onResize:U,style:q={}}=e,$=V.useRef(null),W=V.useRef();W.current=U,V.useImperativeHandle(t,()=>$.current);var[Y,X]=V.useState({containerWidth:i.width,containerHeight:i.height}),te=V.useCallback((de,ye)=>{X(xe=>{var Ie=Math.round(de),lt=Math.round(ye);return xe.containerWidth===Ie&&xe.containerHeight===lt?xe:{containerWidth:Ie,containerHeight:lt}})},[]);V.useEffect(()=>{var de=lt=>{var mt,{width:nt,height:st}=lt[0].contentRect;te(nt,st),(mt=W.current)===null||mt===void 0||mt.call(W,nt,st)};T>0&&(de=OH(de,T,{trailing:!0,leading:!1}));var ye=new ResizeObserver(de),{width:xe,height:Ie}=$.current.getBoundingClientRect();return te(xe,Ie),ye.observe($.current),()=>{ye.disconnect()}},[te,T]);var pe=V.useMemo(()=>{var{containerWidth:de,containerHeight:ye}=Y;if(de<0||ye<0)return null;tx(qd(d)||qd(p),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,d,p),tx(!a||a>0,"The aspect(%s) must be greater than zero.",a);var xe=qd(d)?de:d,Ie=qd(p)?ye:p;return a&&a>0&&(xe?Ie=xe/a:Ie&&(xe=Ie*a),A&&Ie>A&&(Ie=A)),tx(xe>0||Ie>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,xe,Ie,d,p,y,c,a),V.Children.map(C,lt=>V.cloneElement(lt,{width:xe,height:Ie,style:rx({width:xe,height:Ie},lt.props.style)}))},[a,C,p,A,c,y,Y,d]);return V.createElement("div",{id:R?"".concat(R):void 0,className:On("recharts-responsive-container",L),style:rx(rx({},q),{},{width:d,height:p,minWidth:y,minHeight:c,maxHeight:A}),ref:$},V.createElement("div",{style:{width:0,height:0,overflow:"visible"}},pe))}),t_=e=>null;t_.displayName="Cell";function FH(e,t,a){return(t=NH(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function NH(e){var t=jH(e,"string");return typeof t=="symbol"?t:t+""}function jH(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var i=a.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class BH{constructor(t){FH(this,"cache",new Map),this.maxSize=t}get(t){var a=this.cache.get(t);return a!==void 0&&(this.cache.delete(t),this.cache.set(t,a)),a}set(t,a){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var i=this.cache.keys().next().value;this.cache.delete(i)}this.cache.set(t,a)}clear(){this.cache.clear()}size(){return this.cache.size}}function S3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),a.push.apply(a,i)}return a}function qH(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?S3(Object(a),!0).forEach(function(i){$H(e,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S3(Object(a)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(a,i))})}return e}function $H(e,t,a){return(t=HH(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function HH(e){var t=VH(e,"string");return typeof t=="symbol"?t:t+""}function VH(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var i=a.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WH={cacheSize:2e3,enableCache:!0},R6=qH({},WH),w3=new BH(R6.cacheSize),GH={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},P3="recharts_measurement_span";function ZH(e,t){var a=t.fontSize||"",i=t.fontFamily||"",d=t.fontWeight||"",p=t.fontStyle||"",y=t.letterSpacing||"",c=t.textTransform||"";return"".concat(e,"|").concat(a,"|").concat(i,"|").concat(d,"|").concat(p,"|").concat(y,"|").concat(c)}var A3=(e,t)=>{try{var a=document.getElementById(P3);a||(a=document.createElement("span"),a.setAttribute("id",P3),a.setAttribute("aria-hidden","true"),document.body.appendChild(a)),Object.assign(a.style,GH,t),a.textContent="".concat(e);var i=a.getBoundingClientRect();return{width:i.width,height:i.height}}catch{return{width:0,height:0}}},cg=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Rm.isSsr)return{width:0,height:0};if(!R6.enableCache)return A3(t,a);var i=ZH(t,a),d=w3.get(i);if(d)return d;var p=A3(t,a);return w3.set(i,p),p},C3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,D3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,YH=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,QH=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,I6={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},XH=Object.keys(I6),im="NaN";function KH(e,t){return e*I6[t]}class Qo{static parse(t){var a,[,i,d]=(a=QH.exec(t))!==null&&a!==void 0?a:[];return new Qo(parseFloat(i),d??"")}constructor(t,a){this.num=t,this.unit=a,this.num=t,this.unit=a,hl(t)&&(this.unit=""),a!==""&&!YH.test(a)&&(this.num=NaN,this.unit=""),XH.includes(a)&&(this.num=KH(t,a),this.unit="px")}add(t){return this.unit!==t.unit?new Qo(NaN,""):new Qo(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Qo(NaN,""):new Qo(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Qo(NaN,""):new Qo(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Qo(NaN,""):new Qo(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return hl(this.num)}}function k6(e){if(e.includes(im))return im;for(var t=e;t.includes("*")||t.includes("/");){var a,[,i,d,p]=(a=C3.exec(t))!==null&&a!==void 0?a:[],y=Qo.parse(i??""),c=Qo.parse(p??""),A=d==="*"?y.multiply(c):y.divide(c);if(A.isNaN())return im;t=t.replace(C3,A.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var C,[,T,R,L]=(C=D3.exec(t))!==null&&C!==void 0?C:[],U=Qo.parse(T??""),q=Qo.parse(L??""),$=R==="+"?U.add(q):U.subtract(q);if($.isNaN())return im;t=t.replace(D3,$.toString())}return t}var M3=/\(([^()]*)\)/;function JH(e){for(var t=e,a;(a=M3.exec(t))!=null;){var[,i]=a;t=t.replace(M3,k6(i))}return t}function eV(e){var t=e.replace(/\s+/g,"");return t=JH(t),t=k6(t),t}function tV(e){try{return eV(e)}catch{return im}}function nx(e){var t=tV(e.slice(5,-1));return t===im?"":t}var rV=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],nV=["dx","dy","angle","className","breakAll"];function s2(){return s2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)({}).hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},s2.apply(null,arguments)}function T3(e,t){if(e==null)return{};var a,i,d=aV(e,t);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(e);for(i=0;i<p.length;i++)a=p[i],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(d[a]=e[a])}return d}function aV(e,t){if(e==null)return{};var a={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;a[i]=e[i]}return a}var O6=/[ \f\n\r\t\v\u2028\u2029]+/,U6=e=>{var{children:t,breakAll:a,style:i}=e;try{var d=[];Pi(t)||(a?d=t.toString().split(""):d=t.toString().split(O6));var p=d.map(c=>({word:c,width:cg(c,i).width})),y=a?0:cg(" ",i).width;return{wordsWithComputedWidth:p,spaceWidth:y}}catch{return null}},iV=(e,t,a,i,d)=>{var{maxLines:p,children:y,style:c,breakAll:A}=e,C=Pr(p),T=y,R=function(){var nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return nt.reduce((st,Je)=>{var{word:wt,width:Rt}=Je,je=st[st.length-1];if(je&&(i==null||d||je.width+Rt+a<Number(i)))je.words.push(wt),je.width+=Rt+a;else{var it={words:[wt],width:Rt};st.push(it)}return st},[])},L=R(t),U=mt=>mt.reduce((nt,st)=>nt.width>st.width?nt:st);if(!C||d)return L;var q=L.length>p||U(L).width>Number(i);if(!q)return L;for(var $="…",W=mt=>{var nt=T.slice(0,mt),st=U6({breakAll:A,style:c,children:nt+$}).wordsWithComputedWidth,Je=R(st),wt=Je.length>p||U(Je).width>Number(i);return[wt,Je]},Y=0,X=T.length-1,te=0,pe;Y<=X&&te<=T.length-1;){var de=Math.floor((Y+X)/2),ye=de-1,[xe,Ie]=W(ye),[lt]=W(de);if(!xe&&!lt&&(Y=de+1),xe&&lt&&(X=de-1),!xe&&lt){pe=Ie;break}te++}return pe||L},E3=e=>{var t=Pi(e)?[]:e.toString().split(O6);return[{words:t}]},oV=e=>{var{width:t,scaleToFit:a,children:i,style:d,breakAll:p,maxLines:y}=e;if((t||a)&&!Rm.isSsr){var c,A,C=U6({breakAll:p,children:i,style:d});if(C){var{wordsWithComputedWidth:T,spaceWidth:R}=C;c=T,A=R}else return E3(i);return iV({breakAll:p,children:i,maxLines:y,style:d},c,A,t,a)}return E3(i)},R3="#808080",iw=V.forwardRef((e,t)=>{var{x:a=0,y:i=0,lineHeight:d="1em",capHeight:p="0.71em",scaleToFit:y=!1,textAnchor:c="start",verticalAnchor:A="end",fill:C=R3}=e,T=T3(e,rV),R=V.useMemo(()=>oV({breakAll:T.breakAll,children:T.children,maxLines:T.maxLines,scaleToFit:y,style:T.style,width:T.width}),[T.breakAll,T.children,T.maxLines,y,T.style,T.width]),{dx:L,dy:U,angle:q,className:$,breakAll:W}=T,Y=T3(T,nV);if(!hu(a)||!hu(i)||R.length===0)return null;var X=a+(Pr(L)?L:0),te=i+(Pr(U)?U:0),pe;switch(A){case"start":pe=nx("calc(".concat(p,")"));break;case"middle":pe=nx("calc(".concat((R.length-1)/2," * -").concat(d," + (").concat(p," / 2))"));break;default:pe=nx("calc(".concat(R.length-1," * -").concat(d,")"));break}var de=[];if(y){var ye=R[0].width,{width:xe}=T;de.push("scale(".concat(Pr(xe)?xe/ye:1,")"))}return q&&de.push("rotate(".concat(q,", ").concat(X,", ").concat(te,")")),de.length&&(Y.transform=de.join(" ")),V.createElement("text",s2({},Wi(Y,!0),{ref:t,x:X,y:te,className:On("recharts-text",$),textAnchor:c,fill:C.includes("url")?R3:C}),R.map((Ie,lt)=>{var mt=Ie.words.join(W?"":" ");return V.createElement("tspan",{x:X,dy:lt===0?pe:d,key:"".concat(mt,"-").concat(lt)},mt)}))});iw.displayName="Text";var sV=["labelRef"];function lV(e,t){if(e==null)return{};var a,i,d=cV(e,t);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(e);for(i=0;i<p.length;i++)a=p[i],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(d[a]=e[a])}return d}function cV(e,t){if(e==null)return{};var a={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;a[i]=e[i]}return a}function I3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),a.push.apply(a,i)}return a}function Ra(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?I3(Object(a),!0).forEach(function(i){uV(e,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I3(Object(a)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(a,i))})}return e}function uV(e,t,a){return(t=hV(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function hV(e){var t=fV(e,"string");return typeof t=="symbol"?t:t+""}function fV(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var i=a.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lh(){return lh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)({}).hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},lh.apply(null,arguments)}var L6=V.createContext(null),dV=e=>{var{x:t,y:a,width:i,height:d,children:p}=e,y=V.useMemo(()=>({x:t,y:a,width:i,height:d}),[t,a,i,d]);return V.createElement(L6.Provider,{value:y},p)},z6=()=>{var e=V.useContext(L6),t=aS();return e||t},pV=V.createContext(null),mV=()=>{var e=V.useContext(pV),t=pr(y4);return e||t},yV=e=>{var{value:t,formatter:a}=e,i=Pi(e.children)?t:e.children;return typeof a=="function"?a(i):i},ow=e=>e!=null&&typeof e=="function",gV=(e,t)=>{var a=Es(t-e),i=Math.min(Math.abs(t-e),360);return a*i},vV=(e,t,a,i,d)=>{var{offset:p,className:y}=e,{cx:c,cy:A,innerRadius:C,outerRadius:T,startAngle:R,endAngle:L,clockWise:U}=d,q=(C+T)/2,$=gV(R,L),W=$>=0?1:-1,Y,X;switch(t){case"insideStart":Y=R+W*p,X=U;break;case"insideEnd":Y=L-W*p,X=!U;break;case"end":Y=L+W*p,X=U;break;default:throw new Error("Unsupported position ".concat(t))}X=$<=0?X:!X;var te=Vi(c,A,q,Y),pe=Vi(c,A,q,Y+(X?1:-1)*359),de="M".concat(te.x,",").concat(te.y,`
    A`).concat(q,",").concat(q,",0,1,").concat(X?0:1,`,
    `).concat(pe.x,",").concat(pe.y),ye=Pi(e.id)?yg("recharts-radial-line-"):e.id;return V.createElement("text",lh({},i,{dominantBaseline:"central",className:On("recharts-radial-bar-label",y)}),V.createElement("defs",null,V.createElement("path",{id:ye,d:de})),V.createElement("textPath",{xlinkHref:"#".concat(ye)},a))},_V=(e,t,a)=>{var{cx:i,cy:d,innerRadius:p,outerRadius:y,startAngle:c,endAngle:A}=e,C=(c+A)/2;if(a==="outside"){var{x:T,y:R}=Vi(i,d,y+t,C);return{x:T,y:R,textAnchor:T>=i?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:i,y:d,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:i,y:d,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:i,y:d,textAnchor:"middle",verticalAnchor:"end"};var L=(p+y)/2,{x:U,y:q}=Vi(i,d,L,C);return{x:U,y:q,textAnchor:"middle",verticalAnchor:"middle"}},F6=e=>"cx"in e&&Pr(e.cx),bV=(e,t)=>{var{parentViewBox:a,offset:i,position:d}=e,p;a!=null&&!F6(a)&&(p=a);var{x:y,y:c,width:A,height:C}=t,T=C>=0?1:-1,R=T*i,L=T>0?"end":"start",U=T>0?"start":"end",q=A>=0?1:-1,$=q*i,W=q>0?"end":"start",Y=q>0?"start":"end";if(d==="top"){var X={x:y+A/2,y:c-T*i,textAnchor:"middle",verticalAnchor:L};return Ra(Ra({},X),p?{height:Math.max(c-p.y,0),width:A}:{})}if(d==="bottom"){var te={x:y+A/2,y:c+C+R,textAnchor:"middle",verticalAnchor:U};return Ra(Ra({},te),p?{height:Math.max(p.y+p.height-(c+C),0),width:A}:{})}if(d==="left"){var pe={x:y-$,y:c+C/2,textAnchor:W,verticalAnchor:"middle"};return Ra(Ra({},pe),p?{width:Math.max(pe.x-p.x,0),height:C}:{})}if(d==="right"){var de={x:y+A+$,y:c+C/2,textAnchor:Y,verticalAnchor:"middle"};return Ra(Ra({},de),p?{width:Math.max(p.x+p.width-de.x,0),height:C}:{})}var ye=p?{width:A,height:C}:{};return d==="insideLeft"?Ra({x:y+$,y:c+C/2,textAnchor:Y,verticalAnchor:"middle"},ye):d==="insideRight"?Ra({x:y+A-$,y:c+C/2,textAnchor:W,verticalAnchor:"middle"},ye):d==="insideTop"?Ra({x:y+A/2,y:c+R,textAnchor:"middle",verticalAnchor:U},ye):d==="insideBottom"?Ra({x:y+A/2,y:c+C-R,textAnchor:"middle",verticalAnchor:L},ye):d==="insideTopLeft"?Ra({x:y+$,y:c+R,textAnchor:Y,verticalAnchor:U},ye):d==="insideTopRight"?Ra({x:y+A-$,y:c+R,textAnchor:W,verticalAnchor:U},ye):d==="insideBottomLeft"?Ra({x:y+$,y:c+C-R,textAnchor:Y,verticalAnchor:L},ye):d==="insideBottomRight"?Ra({x:y+A-$,y:c+C-R,textAnchor:W,verticalAnchor:L},ye):d&&typeof d=="object"&&(Pr(d.x)||qd(d.x))&&(Pr(d.y)||qd(d.y))?Ra({x:y+uc(d.x,A),y:c+uc(d.y,C),textAnchor:"end",verticalAnchor:"end"},ye):Ra({x:y+A/2,y:c+C/2,textAnchor:"middle",verticalAnchor:"middle"},ye)},xV={offset:5};function xf(e){var t=mc(e,xV),{viewBox:a,position:i,value:d,children:p,content:y,className:c="",textBreakAll:A,labelRef:C}=t,T=mV(),R=z6(),L=i==="center"?R:T??R,U=a||L;if(!U||Pi(d)&&Pi(p)&&!V.isValidElement(y)&&typeof y!="function")return null;var q=Ra(Ra({},t),{},{viewBox:U});if(V.isValidElement(y)){var{labelRef:$}=q,W=lV(q,sV);return V.cloneElement(y,W)}var Y;if(typeof y=="function"){if(Y=V.createElement(y,q),V.isValidElement(Y))return Y}else Y=yV(t);var X=F6(U),te=Wi(t,!0);if(X&&(i==="insideStart"||i==="insideEnd"||i==="end"))return vV(t,i,Y,te,U);var pe=X?_V(U,t.offset,t.position):bV(t,U);return V.createElement(iw,lh({ref:C,className:On("recharts-label",c)},te,pe,{breakAll:A}),Y)}xf.displayName="Label";var SV=(e,t,a)=>{if(!e)return null;var i={viewBox:t,labelRef:a};return e===!0?V.createElement(xf,lh({key:"label-implicit"},i)):hu(e)?V.createElement(xf,lh({key:"label-implicit",value:e},i)):V.isValidElement(e)?e.type===xf?V.cloneElement(e,Ra({key:"label-implicit"},i)):V.createElement(xf,lh({key:"label-implicit",content:e},i)):ow(e)?V.createElement(xf,lh({key:"label-implicit",content:e},i)):e&&typeof e=="object"?V.createElement(xf,lh({},e,{key:"label-implicit"},i)):null};function wV(e){var{label:t}=e,a=z6();return SV(t,a)||null}var ax={},ix={},k3;function PV(){return k3||(k3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a[a.length-1]}e.last=t})(ix)),ix}var ox={},O3;function AV(){return O3||(O3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return Array.isArray(a)?a:Array.from(a)}e.toArray=t})(ox)),ox}var U3;function CV(){return U3||(U3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PV(),a=AV(),i=Z2();function d(p){if(i.isArrayLike(p))return t.last(a.toArray(p))}e.last=d})(ax)),ax}var sx,L3;function DV(){return L3||(L3=1,sx=CV().last),sx}var MV=DV();const TV=hc(MV);var EV=["valueAccessor"],RV=["dataKey","clockWise","id","textBreakAll"];function o1(){return o1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)({}).hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},o1.apply(null,arguments)}function z3(e,t){if(e==null)return{};var a,i,d=IV(e,t);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(e);for(i=0;i<p.length;i++)a=p[i],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(d[a]=e[a])}return d}function IV(e,t){if(e==null)return{};var a={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;a[i]=e[i]}return a}var kV=e=>Array.isArray(e.value)?TV(e.value):e.value,N6=V.createContext(void 0),OV=N6.Provider,j6=V.createContext(void 0);j6.Provider;function UV(){return V.useContext(N6)}function LV(){return V.useContext(j6)}function Sv(e){var{valueAccessor:t=kV}=e,a=z3(e,EV),{dataKey:i,clockWise:d,id:p,textBreakAll:y}=a,c=z3(a,RV),A=UV(),C=LV(),T=A||C;return!T||!T.length?null:V.createElement(Df,{className:"recharts-label-list"},T.map((R,L)=>{var U,q=Pi(i)?t(R,L):Do(R&&R.payload,i),$=Pi(p)?{}:{id:"".concat(p,"-").concat(L)};return V.createElement(xf,o1({},Wi(R,!0),c,$,{fill:(U=a.fill)!==null&&U!==void 0?U:R.fill,parentViewBox:R.parentViewBox,value:q,textBreakAll:y,viewBox:R.viewBox,key:"label-".concat(L),index:L}))}))}Sv.displayName="LabelList";function zV(e){var{label:t}=e;return t?t===!0?V.createElement(Sv,{key:"labelList-implicit"}):V.isValidElement(t)||ow(t)?V.createElement(Sv,{key:"labelList-implicit",content:t}):typeof t=="object"?V.createElement(Sv,o1({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var FV={radiusAxis:{},angleAxis:{}},B6=Us({name:"polarAxis",initialState:FV,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:zQ,removeRadiusAxis:FQ,addAngleAxis:NQ,removeAngleAxis:jQ}=B6.actions,NV=B6.reducer,lx={},F3;function jV(){return F3||(F3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){if(typeof a!="object"||a==null)return!1;if(Object.getPrototypeOf(a)===null)return!0;if(Object.prototype.toString.call(a)!=="[object Object]"){const d=a[Symbol.toStringTag];return d==null||!Object.getOwnPropertyDescriptor(a,Symbol.toStringTag)?.writable?!1:a.toString()===`[object ${d}]`}let i=a;for(;Object.getPrototypeOf(i)!==null;)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(a)===i}e.isPlainObject=t})(lx)),lx}var cx,N3;function BV(){return N3||(N3=1,cx=jV().isPlainObject),cx}var qV=BV();const $V=hc(qV);function j3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),a.push.apply(a,i)}return a}function B3(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?j3(Object(a),!0).forEach(function(i){HV(e,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j3(Object(a)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(a,i))})}return e}function HV(e,t,a){return(t=VV(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function VV(e){var t=WV(e,"string");return typeof t=="symbol"?t:t+""}function WV(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var i=a.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s1(){return s1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)({}).hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},s1.apply(null,arguments)}var q3=(e,t,a,i,d)=>{var p=a-i,y;return y="M ".concat(e,",").concat(t),y+="L ".concat(e+a,",").concat(t),y+="L ".concat(e+a-p/2,",").concat(t+d),y+="L ".concat(e+a-p/2-i,",").concat(t+d),y+="L ".concat(e,",").concat(t," Z"),y},GV={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ZV=e=>{var t=mc(e,GV),{x:a,y:i,upperWidth:d,lowerWidth:p,height:y,className:c}=t,{animationEasing:A,animationDuration:C,animationBegin:T,isUpdateAnimationActive:R}=t,L=V.useRef(),[U,q]=V.useState(-1),$=V.useRef(d),W=V.useRef(p),Y=V.useRef(y),X=V.useRef(a),te=V.useRef(i),pe=sS(e,"trapezoid-");if(V.useEffect(()=>{if(L.current&&L.current.getTotalLength)try{var wt=L.current.getTotalLength();wt&&q(wt)}catch{}},[]),a!==+a||i!==+i||d!==+d||p!==+p||y!==+y||d===0&&p===0||y===0)return null;var de=On("recharts-trapezoid",c);if(!R)return V.createElement("g",null,V.createElement("path",s1({},Wi(t,!0),{className:de,d:q3(a,i,d,p,y)})));var ye=$.current,xe=W.current,Ie=Y.current,lt=X.current,mt=te.current,nt="0px ".concat(U===-1?1:U,"px"),st="".concat(U,"px 0px"),Je=o5(["strokeDasharray"],C,A);return V.createElement(oS,{animationId:pe,key:pe,canBegin:U>0,duration:C,easing:A,isActive:R,begin:T},wt=>{var Rt=wo(ye,d,wt),je=wo(xe,p,wt),it=wo(Ie,y,wt),Ge=wo(lt,a,wt),bt=wo(mt,i,wt);L.current&&($.current=Rt,W.current=je,Y.current=it,X.current=Ge,te.current=bt);var Ce=wt>0?{transition:Je,strokeDasharray:st}:{strokeDasharray:nt};return V.createElement("path",s1({},Wi(t,!0),{className:de,d:q3(Ge,bt,Rt,je,it),ref:L,style:B3(B3({},Ce),t.style)}))})},YV=["option","shapeType","propTransformer","activeClassName","isActive"];function QV(e,t){if(e==null)return{};var a,i,d=XV(e,t);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(e);for(i=0;i<p.length;i++)a=p[i],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(d[a]=e[a])}return d}function XV(e,t){if(e==null)return{};var a={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;a[i]=e[i]}return a}function $3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),a.push.apply(a,i)}return a}function l1(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?$3(Object(a),!0).forEach(function(i){KV(e,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$3(Object(a)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(a,i))})}return e}function KV(e,t,a){return(t=JV(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function JV(e){var t=eW(e,"string");return typeof t=="symbol"?t:t+""}function eW(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var i=a.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tW(e,t){return l1(l1({},t),e)}function rW(e,t){return e==="symbols"}function H3(e){var{shapeType:t,elementProps:a}=e;switch(t){case"rectangle":return V.createElement(u5,a);case"trapezoid":return V.createElement(ZV,a);case"sector":return V.createElement(d5,a);case"symbols":if(rW(t))return V.createElement(vT,a);break;default:return null}}function nW(e){return V.isValidElement(e)?e.props:e}function aW(e){var{option:t,shapeType:a,propTransformer:i=tW,activeClassName:d="recharts-active-shape",isActive:p}=e,y=QV(e,YV),c;if(V.isValidElement(t))c=V.cloneElement(t,l1(l1({},y),nW(t)));else if(typeof t=="function")c=t(y);else if($V(t)&&typeof t!="boolean"){var A=i(t,y);c=V.createElement(H3,{shapeType:a,elementProps:A})}else{var C=y;c=V.createElement(H3,{shapeType:a,elementProps:C})}return p?V.createElement(Df,{className:d},c):c}var q6=(e,t)=>{var a=Ai();return(i,d)=>p=>{e?.(i,d,p),a(o6({activeIndex:String(d),activeDataKey:t,activeCoordinate:i.tooltipPosition}))}},$6=e=>{var t=Ai();return(a,i)=>d=>{e?.(a,i,d),t(Xq())}},H6=(e,t)=>{var a=Ai();return(i,d)=>p=>{e?.(i,d,p),a(Kq({activeIndex:String(d),activeDataKey:t,activeCoordinate:i.tooltipPosition}))}};function iW(e){var{fn:t,args:a}=e,i=Ai(),d=pc();return V.useEffect(()=>{if(!d){var p=t(a);return i(Zq(p)),()=>{i(Yq(p))}}},[t,a,i,d]),null}var oW=()=>{};function sW(e){var{legendPayload:t}=e,a=Ai(),i=pc();return V.useEffect(()=>i?oW:(a(Bz(t)),()=>{a(qz(t))}),[a,i,t]),null}var ux,lW=()=>{var[e]=V.useState(()=>yg("uid-"));return e},cW=(ux=m2.useId)!==null&&ux!==void 0?ux:lW;function uW(e,t){var a=cW();return t||(e?"".concat(e,"-").concat(a):a)}var hW=V.createContext(void 0),fW=e=>{var{id:t,type:a,children:i}=e,d=uW("recharts-".concat(a),t);return V.createElement(hW.Provider,{value:d},i(d))},dW={cartesianItems:[],polarItems:[]},V6=Us({name:"graphicalItems",initialState:dW,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:a,next:i}=t.payload,d=hh(e).cartesianItems.indexOf(a);d>-1&&(e.cartesianItems[d]=i)},removeCartesianGraphicalItem(e,t){var a=hh(e).cartesianItems.indexOf(t.payload);a>-1&&e.cartesianItems.splice(a,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var a=hh(e).polarItems.indexOf(t.payload);a>-1&&e.polarItems.splice(a,1)}}}),{addCartesianGraphicalItem:pW,replaceCartesianGraphicalItem:mW,removeCartesianGraphicalItem:yW,addPolarGraphicalItem:BQ,removePolarGraphicalItem:qQ}=V6.actions,gW=V6.reducer;function vW(e){var t=Ai(),a=V.useRef(null);return V.useEffect(()=>{a.current===null?t(pW(e)):a.current!==e&&t(mW({prev:a.current,next:e})),a.current=e},[t,e]),V.useEffect(()=>()=>{a.current&&(t(yW(a.current)),a.current=null)},[t]),null}function V3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),a.push.apply(a,i)}return a}function W3(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?V3(Object(a),!0).forEach(function(i){_W(e,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):V3(Object(a)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(a,i))})}return e}function _W(e,t,a){return(t=bW(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function bW(e){var t=xW(e,"string");return typeof t=="symbol"?t:t+""}function xW(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var i=a.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SW={xAxis:{},yAxis:{},zAxis:{}},W6=Us({name:"cartesianAxis",initialState:SW,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:a,width:i}=t.payload;e.yAxis[a]&&(e.yAxis[a]=W3(W3({},e.yAxis[a]),{},{width:i}))}}}),{addXAxis:wW,removeXAxis:PW,addYAxis:AW,removeYAxis:CW,addZAxis:$Q,removeZAxis:HQ,updateYAxisWidth:DW}=W6.actions,MW=W6.reducer,TW=ut([Ci],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),EW=ut([TW,bh,xh],(e,t,a)=>{if(!(!e||t==null||a==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,a-e.top-e.bottom)}}),G6=()=>pr(EW),RW="Invariant failed";function IW(e,t){throw new Error(RW)}var kW=["x","y"];function l2(){return l2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)({}).hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},l2.apply(null,arguments)}function G3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),a.push.apply(a,i)}return a}function ag(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?G3(Object(a),!0).forEach(function(i){OW(e,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):G3(Object(a)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(a,i))})}return e}function OW(e,t,a){return(t=UW(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function UW(e){var t=LW(e,"string");return typeof t=="symbol"?t:t+""}function LW(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var i=a.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zW(e,t){if(e==null)return{};var a,i,d=FW(e,t);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(e);for(i=0;i<p.length;i++)a=p[i],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(d[a]=e[a])}return d}function FW(e,t){if(e==null)return{};var a={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;a[i]=e[i]}return a}function NW(e,t){var{x:a,y:i}=e,d=zW(e,kW),p="".concat(a),y=parseInt(p,10),c="".concat(i),A=parseInt(c,10),C="".concat(t.height||d.height),T=parseInt(C,10),R="".concat(t.width||d.width),L=parseInt(R,10);return ag(ag(ag(ag(ag({},t),d),y?{x:y}:{}),A?{y:A}:{}),{},{height:T,width:L,name:t.name,radius:t.radius})}function sw(e){return V.createElement(aW,l2({shapeType:"rectangle",propTransformer:NW,activeClassName:"recharts-active-bar"},e))}var jW=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(i,d)=>{if(Pr(t))return t;var p=Pr(i)||Pi(i);return p?t(i,d):(p||IW(),a)}},BW={},Z6=Us({name:"errorBars",initialState:BW,reducers:{addErrorBar:(e,t)=>{var{itemId:a,errorBar:i}=t.payload;e[a]||(e[a]=[]),e[a].push(i)},replaceErrorBar:(e,t)=>{var{itemId:a,prev:i,next:d}=t.payload;e[a]&&(e[a]=e[a].map(p=>p.dataKey===i.dataKey&&p.direction===i.direction?d:p))},removeErrorBar:(e,t)=>{var{itemId:a,errorBar:i}=t.payload;e[a]&&(e[a]=e[a].filter(d=>d.dataKey!==i.dataKey||d.direction!==i.direction))}}}),{addErrorBar:VQ,replaceErrorBar:WQ,removeErrorBar:GQ}=Z6.actions,qW=Z6.reducer,$W=["children"];function HW(e,t){if(e==null)return{};var a,i,d=VW(e,t);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(e);for(i=0;i<p.length;i++)a=p[i],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(d[a]=e[a])}return d}function VW(e,t){if(e==null)return{};var a={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;a[i]=e[i]}return a}var WW={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},GW=V.createContext(WW);function ZW(e){var{children:t}=e,a=HW(e,$W);return V.createElement(GW.Provider,{value:a},t)}function Y6(e,t){var a,i,d=pr(C=>wh(C,e)),p=pr(C=>Ph(C,t)),y=(a=d?.allowDataOverflow)!==null&&a!==void 0?a:As.allowDataOverflow,c=(i=p?.allowDataOverflow)!==null&&i!==void 0?i:Cs.allowDataOverflow,A=y||c;return{needClip:A,needClipX:y,needClipY:c}}function YW(e){var{xAxisId:t,yAxisId:a,clipPathId:i}=e,d=G6(),{needClipX:p,needClipY:y,needClip:c}=Y6(t,a);if(!c)return null;var{x:A,y:C,width:T,height:R}=d;return V.createElement("clipPath",{id:"clipPath-".concat(i)},V.createElement("rect",{x:p?A:A-T/2,y:y?C:C-R/2,width:p?T:T*2,height:y?R:R*2}))}var QW=["onMouseEnter","onMouseLeave","onClick"],XW=["value","background","tooltipPosition"],KW=["id"],JW=["onMouseEnter","onClick","onMouseLeave"];function Mf(){return Mf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)({}).hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},Mf.apply(null,arguments)}function Z3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),a.push.apply(a,i)}return a}function Po(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Z3(Object(a),!0).forEach(function(i){eG(e,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Z3(Object(a)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(a,i))})}return e}function eG(e,t,a){return(t=tG(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function tG(e){var t=rG(e,"string");return typeof t=="symbol"?t:t+""}function rG(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var i=a.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c1(e,t){if(e==null)return{};var a,i,d=nG(e,t);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(e);for(i=0;i<p.length;i++)a=p[i],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(d[a]=e[a])}return d}function nG(e,t){if(e==null)return{};var a={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;a[i]=e[i]}return a}var aG=e=>{var{dataKey:t,name:a,fill:i,legendType:d,hide:p}=e;return[{inactive:p,dataKey:t,type:d,color:i,value:r5(a,t),payload:e}]};function iG(e){var{dataKey:t,stroke:a,strokeWidth:i,fill:d,name:p,hide:y,unit:c}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:a,strokeWidth:i,fill:d,dataKey:t,nameKey:void 0,name:r5(p,t),hide:y,type:e.tooltipType,color:e.fill,unit:c}}}function oG(e){var t=pr(wm),{data:a,dataKey:i,background:d,allOtherBarProps:p}=e,{onMouseEnter:y,onMouseLeave:c,onClick:A}=p,C=c1(p,QW),T=q6(y,i),R=$6(c),L=H6(A,i);if(!d||a==null)return null;var U=Wi(d,!1);return V.createElement(V.Fragment,null,a.map((q,$)=>{var{value:W,background:Y,tooltipPosition:X}=q,te=c1(q,XW);if(!Y)return null;var pe=T(q,$),de=R(q,$),ye=L(q,$),xe=Po(Po(Po(Po(Po({option:d,isActive:String($)===t},te),{},{fill:"#eee"},Y),U),H2(C,q,$)),{},{onMouseEnter:pe,onMouseLeave:de,onClick:ye,dataKey:i,index:$,className:"recharts-bar-background-rectangle"});return V.createElement(sw,Mf({key:"background-bar-".concat(xe.index)},xe))}))}function sG(e){var{showLabels:t,children:a,rects:i}=e,d=i?.map(p=>{var y={x:p.x,y:p.y,width:p.width,height:p.height};return Po(Po({},y),{},{value:p.value,payload:p.payload,parentViewBox:p.parentViewBox,viewBox:y,fill:p.fill})});return V.createElement(OV,{value:t?d:void 0},a)}function lG(e){var{shape:t,activeBar:a,baseProps:i,entry:d,index:p,dataKey:y}=e,c=pr(wm),A=pr(_6),C=a&&String(p)===c&&(A==null||y===A),T=C?a:t;return V.createElement(sw,Mf({},i,d,{isActive:C,option:T,index:p,dataKey:y}))}function cG(e){var{shape:t,baseProps:a,entry:i,index:d,dataKey:p}=e;return V.createElement(sw,Mf({},a,i,{isActive:!1,option:t,index:d,dataKey:p}))}function uG(e){var{data:t,props:a}=e,i=kg(a),{id:d}=i,p=c1(i,KW),{shape:y,dataKey:c,activeBar:A}=a,{onMouseEnter:C,onClick:T,onMouseLeave:R}=a,L=c1(a,JW),U=q6(C,c),q=$6(R),$=H6(T,c);return t?V.createElement(V.Fragment,null,t.map((W,Y)=>V.createElement(Df,Mf({className:"recharts-bar-rectangle"},H2(L,W,Y),{onMouseEnter:U(W,Y),onMouseLeave:q(W,Y),onClick:$(W,Y),key:"rectangle-".concat(W?.x,"-").concat(W?.y,"-").concat(W?.value,"-").concat(Y)}),A?V.createElement(lG,{shape:y,activeBar:A,baseProps:p,entry:W,index:Y,dataKey:c}):V.createElement(cG,{shape:y,baseProps:p,entry:W,index:Y,dataKey:c})))):null}function hG(e){var{props:t,previousRectanglesRef:a}=e,{data:i,layout:d,isAnimationActive:p,animationBegin:y,animationDuration:c,animationEasing:A,onAnimationEnd:C,onAnimationStart:T}=t,R=a.current,L=sS(t,"recharts-bar-"),[U,q]=V.useState(!1),$=!U,W=V.useCallback(()=>{typeof C=="function"&&C(),q(!1)},[C]),Y=V.useCallback(()=>{typeof T=="function"&&T(),q(!0)},[T]);return V.createElement(sG,{showLabels:$,rects:i},V.createElement(oS,{animationId:L,begin:y,duration:c,isActive:p,easing:A,onAnimationEnd:W,onAnimationStart:Y,key:L},X=>{var te=X===1?i:i?.map((pe,de)=>{var ye=R&&R[de];if(ye)return Po(Po({},pe),{},{x:wo(ye.x,pe.x,X),y:wo(ye.y,pe.y,X),width:wo(ye.width,pe.width,X),height:wo(ye.height,pe.height,X)});if(d==="horizontal"){var xe=wo(0,pe.height,X);return Po(Po({},pe),{},{y:pe.y+pe.height-xe,height:xe})}var Ie=wo(0,pe.width,X);return Po(Po({},pe),{},{width:Ie})});return X>0&&(a.current=te??null),te==null?null:V.createElement(Df,null,V.createElement(uG,{props:t,data:te}))}),V.createElement(zV,{label:t.label}),t.children)}function fG(e){var t=V.useRef(null);return V.createElement(hG,{previousRectanglesRef:t,props:e})}var Q6=0,dG=(e,t)=>{var a=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:a,errorVal:Do(e,t)}};class pG extends V.PureComponent{render(){var{hide:t,data:a,dataKey:i,className:d,xAxisId:p,yAxisId:y,needClip:c,background:A,id:C}=this.props;if(t||a==null)return null;var T=On("recharts-bar",d),R=C;return V.createElement(Df,{className:T,id:C},c&&V.createElement("defs",null,V.createElement(YW,{clipPathId:R,xAxisId:p,yAxisId:y})),V.createElement(Df,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(R,")"):void 0},V.createElement(oG,{data:a,dataKey:i,background:A,allOtherBarProps:this.props}),V.createElement(fG,this.props)))}}var mG={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Rm.isSsr,legendType:"rect",minPointSize:Q6,xAxisId:0,yAxisId:0};function yG(e){var{xAxisId:t,yAxisId:a,hide:i,legendType:d,minPointSize:p,activeBar:y,animationBegin:c,animationDuration:A,animationEasing:C,isAnimationActive:T}=e,{needClip:R}=Y6(t,a),L=iS(),U=pc(),q=iO(e.children,t_),$=pr(X=>HG(X,t,a,U,e.id,q));if(L!=="vertical"&&L!=="horizontal")return null;var W,Y=$?.[0];return Y==null||Y.height==null||Y.width==null?W=0:W=L==="vertical"?Y.height/2:Y.width/2,V.createElement(ZW,{xAxisId:t,yAxisId:a,data:$,dataPointFormatter:dG,errorBarOffset:W},V.createElement(pG,Mf({},e,{layout:L,needClip:R,data:$,xAxisId:t,yAxisId:a,hide:i,legendType:d,minPointSize:p,activeBar:y,animationBegin:c,animationDuration:A,animationEasing:C,isAnimationActive:T})))}function gG(e){var{layout:t,barSettings:{dataKey:a,minPointSize:i},pos:d,bandSize:p,xAxis:y,yAxis:c,xAxisTicks:A,yAxisTicks:C,stackedData:T,displayedData:R,offset:L,cells:U,parentViewBox:q}=e,$=t==="horizontal"?c:y,W=T?$.scale.domain():null,Y=yz({numericAxis:$});return R.map((X,te)=>{var pe,de,ye,xe,Ie,lt;T?pe=uz(T[te],W):(pe=Do(X,a),Array.isArray(pe)||(pe=[Y,pe]));var mt=jW(i,Q6)(pe[1],te);if(t==="horizontal"){var nt,[st,Je]=[c.scale(pe[0]),c.scale(pe[1])];de=qA({axis:y,ticks:A,bandSize:p,offset:d.offset,entry:X,index:te}),ye=(nt=Je??st)!==null&&nt!==void 0?nt:void 0,xe=d.size;var wt=st-Je;if(Ie=hl(wt)?0:wt,lt={x:de,y:L.top,width:xe,height:L.height},Math.abs(mt)>0&&Math.abs(Ie)<Math.abs(mt)){var Rt=Es(Ie||mt)*(Math.abs(mt)-Math.abs(Ie));ye-=Rt,Ie+=Rt}}else{var[je,it]=[y.scale(pe[0]),y.scale(pe[1])];if(de=je,ye=qA({axis:c,ticks:C,bandSize:p,offset:d.offset,entry:X,index:te}),xe=it-je,Ie=d.size,lt={x:L.left,y:ye,width:L.width,height:Ie},Math.abs(mt)>0&&Math.abs(xe)<Math.abs(mt)){var Ge=Es(xe||mt)*(Math.abs(mt)-Math.abs(xe));xe+=Ge}}if(de==null||ye==null||xe==null||Ie==null)return null;var bt=Po(Po({},X),{},{x:de,y:ye,width:xe,height:Ie,value:T?pe:pe[1],payload:X,background:lt,tooltipPosition:{x:de+xe/2,y:ye+Ie/2},parentViewBox:q},U&&U[te]&&U[te].props);return bt}).filter(Boolean)}function vG(e){var t=mc(e,mG),a=pc();return V.createElement(fW,{id:t.id,type:"bar"},i=>V.createElement(V.Fragment,null,V.createElement(sW,{legendPayload:aG(t)}),V.createElement(iW,{fn:iG,args:t}),V.createElement(vW,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:mz(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:a}),V.createElement(yG,Mf({},t,{id:i}))))}var lw=V.memo(vG);lw.displayName="Bar";function Y3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),a.push.apply(a,i)}return a}function fv(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Y3(Object(a),!0).forEach(function(i){_G(e,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Y3(Object(a)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(a,i))})}return e}function _G(e,t,a){return(t=bG(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function bG(e){var t=xG(e,"string");return typeof t=="symbol"?t:t+""}function xG(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var i=a.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SG=(e,t)=>t,wG=(e,t,a)=>a,PG=(e,t,a,i)=>i,AG=(e,t,a,i,d)=>d,Gg=ut([qS,AG],(e,t)=>e.filter(a=>a.type==="bar").find(a=>a.id===t)),CG=ut([Gg],e=>e?.maxBarSize),DG=(e,t,a,i,d,p)=>p,Q3=(e,t,a)=>{var i=a??e;if(!Pi(i))return uc(i,t,0)},MG=ut([Sn,qS,SG,wG,PG],(e,t,a,i,d)=>t.filter(p=>e==="horizontal"?p.xAxisId===a:p.yAxisId===i).filter(p=>p.isPanorama===d).filter(p=>p.hide===!1).filter(p=>p.type==="bar")),TG=(e,t,a,i)=>{var d=Sn(e);return d==="horizontal"?r2(e,"yAxis",a,i):r2(e,"xAxis",t,i)},EG=(e,t,a)=>{var i=Sn(e);return i==="horizontal"?n3(e,"xAxis",t):n3(e,"yAxis",a)},RG=(e,t,a)=>{var i={},d=e.filter(Y1),p=e.filter(C=>C.stackId==null),y=d.reduce((C,T)=>(C[T.stackId]||(C[T.stackId]=[]),C[T.stackId].push(T),C),i),c=Object.entries(y).map(C=>{var[T,R]=C,L=R.map(q=>q.dataKey),U=Q3(t,a,R[0].barSize);return{stackId:T,dataKeys:L,barSize:U}}),A=p.map(C=>{var T=[C.dataKey].filter(L=>L!=null),R=Q3(t,a,C.barSize);return{stackId:void 0,dataKeys:T,barSize:R}});return[...c,...A]},IG=ut([MG,WB,EG],RG),kG=(e,t,a,i,d)=>{var p,y,c=Gg(e,t,a,i,d);if(c!=null){var A=Sn(e),C=c4(e),{maxBarSize:T}=c,R=Pi(T)?C:T,L,U;return A==="horizontal"?(L=Sm(e,"xAxis",t,i),U=xm(e,"xAxis",t,i)):(L=Sm(e,"yAxis",a,i),U=xm(e,"yAxis",a,i)),(p=(y=rS(L,U,!0))!==null&&y!==void 0?y:R)!==null&&p!==void 0?p:0}},X6=(e,t,a,i)=>{var d=Sn(e),p,y;return d==="horizontal"?(p=Sm(e,"xAxis",t,i),y=xm(e,"xAxis",t,i)):(p=Sm(e,"yAxis",a,i),y=xm(e,"yAxis",a,i)),rS(p,y)};function OG(e,t,a,i,d){var p=i.length;if(!(p<1)){var y=uc(e,a,0,!0),c,A=[];if(Os(i[0].barSize)){var C=!1,T=a/p,R=i.reduce((Y,X)=>Y+(X.barSize||0),0);R+=(p-1)*y,R>=a&&(R-=(p-1)*y,y=0),R>=a&&T>0&&(C=!0,T*=.9,R=p*T);var L=(a-R)/2>>0,U={offset:L-y,size:0};c=i.reduce((Y,X)=>{var te,pe={stackId:X.stackId,dataKeys:X.dataKeys,position:{offset:U.offset+U.size+y,size:C?T:(te=X.barSize)!==null&&te!==void 0?te:0}},de=[...Y,pe];return U=de[de.length-1].position,de},A)}else{var q=uc(t,a,0,!0);a-2*q-(p-1)*y<=0&&(y=0);var $=(a-2*q-(p-1)*y)/p;$>1&&($>>=0);var W=Os(d)?Math.min($,d):$;c=i.reduce((Y,X,te)=>[...Y,{stackId:X.stackId,dataKeys:X.dataKeys,position:{offset:q+($+y)*te+($-W)/2,size:W}}],A)}return c}}var UG=(e,t,a,i,d,p,y)=>{var c=Pi(y)?t:y,A=OG(a,i,d!==p?d:p,e,c);return d!==p&&A!=null&&(A=A.map(C=>fv(fv({},C),{},{position:fv(fv({},C.position),{},{offset:C.position.offset-d/2})}))),A},LG=ut([IG,c4,VB,u4,kG,X6,CG],UG),zG=(e,t,a,i)=>Sm(e,"xAxis",t,i),FG=(e,t,a,i)=>Sm(e,"yAxis",a,i),NG=(e,t,a,i)=>xm(e,"xAxis",t,i),jG=(e,t,a,i)=>xm(e,"yAxis",a,i),BG=ut([LG,Gg],(e,t)=>{if(!(e==null||t==null)){var a=e.find(i=>i.stackId===t.stackId&&t.dataKey!=null&&i.dataKeys.includes(t.dataKey));if(a!=null)return a.position}}),qG=(e,t)=>{var a=jS(t);if(!(!e||a==null||t==null)){var{stackId:i}=t;if(i!=null){var d=e[i];if(d){var{stackedData:p}=d;if(p)return p.find(y=>y.key===a)}}}},$G=ut([TG,Gg],qG),HG=ut([Ci,nS,zG,FG,NG,jG,BG,Sn,RS,X6,$G,Gg,DG],(e,t,a,i,d,p,y,c,A,C,T,R,L)=>{var{chartData:U,dataStartIndex:q,dataEndIndex:$}=A;if(!(R==null||y==null||t==null||c!=="horizontal"&&c!=="vertical"||a==null||i==null||d==null||p==null||C==null)){var{data:W}=R,Y;if(W!=null&&W.length>0?Y=W:Y=U?.slice(q,$+1),Y!=null)return gG({layout:c,barSettings:R,pos:y,parentViewBox:t,bandSize:C,xAxis:a,yAxis:i,xAxisTicks:d,yAxisTicks:p,stackedData:T,displayedData:Y,offset:e,cells:L})}}),VG=e=>{var{chartData:t}=e,a=Ai(),i=pc();return V.useEffect(()=>i?()=>{}:(a(f3(t)),()=>{a(f3(void 0))}),[t,a,i]),null},X3={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},K6=Us({name:"brush",initialState:X3,reducers:{setBrushSettings(e,t){return t.payload==null?X3:t.payload}}}),{setBrushSettings:ZQ}=K6.actions,WG=K6.reducer;function GG(e,t,a){return(t=ZG(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ZG(e){var t=YG(e,"string");return typeof t=="symbol"?t:t+""}function YG(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var i=a.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class cw{static create(t){return new cw(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:a,position:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(i)switch(i){case"start":return this.scale(t);case"middle":{var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+d}case"end":{var p=this.bandwidth?this.bandwidth():0;return this.scale(t)+p}default:return this.scale(t)}if(a){var y=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+y}return this.scale(t)}}isInRange(t){var a=this.range(),i=a[0],d=a[a.length-1];return i<=d?t>=i&&t<=d:t>=d&&t<=i}}GG(cw,"EPS",1e-4);function QG(e){return(e%180+180)%180}var XG=function(t){var{width:a,height:i}=t,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,p=QG(d),y=p*Math.PI/180,c=Math.atan(i/a),A=y>c&&y<Math.PI-c?i/Math.sin(y):a/Math.cos(y);return Math.abs(A)},KG={dots:[],areas:[],lines:[]},J6=Us({name:"referenceElements",initialState:KG,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var a=hh(e).dots.findIndex(i=>i===t.payload);a!==-1&&e.dots.splice(a,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var a=hh(e).areas.findIndex(i=>i===t.payload);a!==-1&&e.areas.splice(a,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var a=hh(e).lines.findIndex(i=>i===t.payload);a!==-1&&e.lines.splice(a,1)}}}),{addDot:YQ,removeDot:QQ,addArea:XQ,removeArea:KQ,addLine:JQ,removeLine:eX}=J6.actions,JG=J6.reducer,eZ=V.createContext(void 0),tZ=e=>{var{children:t}=e,[a]=V.useState("".concat(yg("recharts"),"-clip")),i=G6();if(i==null)return null;var{x:d,y:p,width:y,height:c}=i;return V.createElement(eZ.Provider,{value:a},V.createElement("defs",null,V.createElement("clipPath",{id:a},V.createElement("rect",{x:d,y:p,height:c,width:y}))),t)};function Pm(e,t){for(var a in e)if({}.hasOwnProperty.call(e,a)&&(!{}.hasOwnProperty.call(t,a)||e[a]!==t[a]))return!1;for(var i in t)if({}.hasOwnProperty.call(t,i)&&!{}.hasOwnProperty.call(e,i))return!1;return!0}function eE(e,t,a){if(t<1)return[];if(t===1&&a===void 0)return e;for(var i=[],d=0;d<e.length;d+=t)i.push(e[d]);return i}function rZ(e,t,a){var i={width:e.width+t.width,height:e.height+t.height};return XG(i,a)}function nZ(e,t,a){var i=a==="width",{x:d,y:p,width:y,height:c}=e;return t===1?{start:i?d:p,end:i?d+y:p+c}:{start:i?d+y:p+c,end:i?d:p}}function u1(e,t,a,i,d){if(e*t<e*i||e*t>e*d)return!1;var p=a();return e*(t-e*p/2-i)>=0&&e*(t+e*p/2-d)<=0}function aZ(e,t){return eE(e,t+1)}function iZ(e,t,a,i,d){for(var p=(i||[]).slice(),{start:y,end:c}=t,A=0,C=1,T=y,R=function(){var q=i?.[A];if(q===void 0)return{v:eE(i,C)};var $=A,W,Y=()=>(W===void 0&&(W=a(q,$)),W),X=q.coordinate,te=A===0||u1(e,X,Y,T,c);te||(A=0,T=y,C+=1),te&&(T=X+e*(Y()/2+d),A+=C)},L;C<=p.length;)if(L=R(),L)return L.v;return[]}function K3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),a.push.apply(a,i)}return a}function ro(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?K3(Object(a),!0).forEach(function(i){oZ(e,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):K3(Object(a)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(a,i))})}return e}function oZ(e,t,a){return(t=sZ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function sZ(e){var t=lZ(e,"string");return typeof t=="symbol"?t:t+""}function lZ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var i=a.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cZ(e,t,a,i,d){for(var p=(i||[]).slice(),y=p.length,{start:c}=t,{end:A}=t,C=function(L){var U=p[L],q,$=()=>(q===void 0&&(q=a(U,L)),q);if(L===y-1){var W=e*(U.coordinate+e*$()/2-A);p[L]=U=ro(ro({},U),{},{tickCoord:W>0?U.coordinate-W*e:U.coordinate})}else p[L]=U=ro(ro({},U),{},{tickCoord:U.coordinate});var Y=u1(e,U.tickCoord,$,c,A);Y&&(A=U.tickCoord-e*($()/2+d),p[L]=ro(ro({},U),{},{isShow:!0}))},T=y-1;T>=0;T--)C(T);return p}function uZ(e,t,a,i,d,p){var y=(i||[]).slice(),c=y.length,{start:A,end:C}=t;if(p){var T=i[c-1],R=a(T,c-1),L=e*(T.coordinate+e*R/2-C);y[c-1]=T=ro(ro({},T),{},{tickCoord:L>0?T.coordinate-L*e:T.coordinate});var U=u1(e,T.tickCoord,()=>R,A,C);U&&(C=T.tickCoord-e*(R/2+d),y[c-1]=ro(ro({},T),{},{isShow:!0}))}for(var q=p?c-1:c,$=function(X){var te=y[X],pe,de=()=>(pe===void 0&&(pe=a(te,X)),pe);if(X===0){var ye=e*(te.coordinate-e*de()/2-A);y[X]=te=ro(ro({},te),{},{tickCoord:ye<0?te.coordinate-ye*e:te.coordinate})}else y[X]=te=ro(ro({},te),{},{tickCoord:te.coordinate});var xe=u1(e,te.tickCoord,de,A,C);xe&&(A=te.tickCoord+e*(de()/2+d),y[X]=ro(ro({},te),{},{isShow:!0}))},W=0;W<q;W++)$(W);return y}function hZ(e,t,a){var{tick:i,ticks:d,viewBox:p,minTickGap:y,orientation:c,interval:A,tickFormatter:C,unit:T,angle:R}=e;if(!d||!d.length||!i)return[];if(Pr(A)||Rm.isSsr){var L;return(L=aZ(d,Pr(A)?A:0))!==null&&L!==void 0?L:[]}var U=[],q=c==="top"||c==="bottom"?"width":"height",$=T&&q==="width"?cg(T,{fontSize:t,letterSpacing:a}):{width:0,height:0},W=(te,pe)=>{var de=typeof C=="function"?C(te.value,pe):te.value;return q==="width"?rZ(cg(de,{fontSize:t,letterSpacing:a}),$,R):cg(de,{fontSize:t,letterSpacing:a})[q]},Y=d.length>=2?Es(d[1].coordinate-d[0].coordinate):1,X=nZ(p,Y,q);return A==="equidistantPreserveStart"?iZ(Y,X,W,d,y):(A==="preserveStart"||A==="preserveStartEnd"?U=uZ(Y,X,W,d,y,A==="preserveStartEnd"):U=cZ(Y,X,W,d,y),U.filter(te=>te.isShow))}var fZ=e=>{var{ticks:t,label:a,labelGapWithTick:i=5,tickSize:d=0,tickMargin:p=0}=e,y=0;if(t){t.forEach(T=>{if(T){var R=T.getBoundingClientRect();R.width>y&&(y=R.width)}});var c=a?a.getBoundingClientRect().width:0,A=d+p,C=y+A+c+(a?i:0);return Math.round(C)}return 0},dZ=["axisLine","width","height","className","hide","ticks"],pZ=["viewBox"],mZ=["viewBox"];function c2(e,t){if(e==null)return{};var a,i,d=yZ(e,t);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(e);for(i=0;i<p.length;i++)a=p[i],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(d[a]=e[a])}return d}function yZ(e,t){if(e==null)return{};var a={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;a[i]=e[i]}return a}function np(){return np=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)({}).hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},np.apply(null,arguments)}function J3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),a.push.apply(a,i)}return a}function ui(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?J3(Object(a),!0).forEach(function(i){gZ(e,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J3(Object(a)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(a,i))})}return e}function gZ(e,t,a){return(t=vZ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function vZ(e){var t=_Z(e,"string");return typeof t=="symbol"?t:t+""}function _Z(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var i=a.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bZ={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function xZ(e){var{x:t,y:a,width:i,height:d,orientation:p,mirror:y,axisLine:c,otherSvgProps:A}=e;if(!c)return null;var C=ui(ui(ui({},A),Wi(c,!1)),{},{fill:"none"});if(p==="top"||p==="bottom"){var T=+(p==="top"&&!y||p==="bottom"&&y);C=ui(ui({},C),{},{x1:t,y1:a+T*d,x2:t+i,y2:a+T*d})}else{var R=+(p==="left"&&!y||p==="right"&&y);C=ui(ui({},C),{},{x1:t+R*i,y1:a,x2:t+R*i,y2:a+d})}return V.createElement("line",np({},C,{className:On("recharts-cartesian-axis-line",pm(c,"className"))}))}function SZ(e,t,a,i,d,p,y,c,A){var C,T,R,L,U,q,$=c?-1:1,W=e.tickSize||y,Y=Pr(e.tickCoord)?e.tickCoord:e.coordinate;switch(p){case"top":C=T=e.coordinate,L=a+ +!c*d,R=L-$*W,q=R-$*A,U=Y;break;case"left":R=L=e.coordinate,T=t+ +!c*i,C=T-$*W,U=C-$*A,q=Y;break;case"right":R=L=e.coordinate,T=t+ +c*i,C=T+$*W,U=C+$*A,q=Y;break;default:C=T=e.coordinate,L=a+ +c*d,R=L+$*W,q=R+$*A,U=Y;break}return{line:{x1:C,y1:R,x2:T,y2:L},tick:{x:U,y:q}}}function wZ(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function PZ(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function AZ(e){var{option:t,tickProps:a,value:i}=e,d,p=On(a.className,"recharts-cartesian-axis-tick-value");if(V.isValidElement(t))d=V.cloneElement(t,ui(ui({},a),{},{className:p}));else if(typeof t=="function")d=t(ui(ui({},a),{},{className:p}));else{var y="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(y=On(y,t?.className)),d=V.createElement(iw,np({},a,{className:y}),i)}return d}function CZ(e){var{ticks:t=[],tick:a,tickLine:i,stroke:d,tickFormatter:p,unit:y,padding:c,tickTextProps:A,orientation:C,mirror:T,x:R,y:L,width:U,height:q,tickSize:$,tickMargin:W,fontSize:Y,letterSpacing:X,getTicksConfig:te,events:pe}=e,de=hZ(ui(ui({},te),{},{ticks:t}),Y,X),ye=wZ(C,T),xe=PZ(C,T),Ie=kg(te),lt=Wi(a,!1),mt=ui(ui({},Ie),{},{fill:"none"},Wi(i,!1)),nt=de.map((st,Je)=>{var{line:wt,tick:Rt}=SZ(st,R,L,U,q,C,$,T,W),je=ui(ui(ui(ui({textAnchor:ye,verticalAnchor:xe},Ie),{},{stroke:"none",fill:d},lt),Rt),{},{index:Je,payload:st,visibleTicksCount:de.length,tickFormatter:p,padding:c},A);return V.createElement(Df,np({className:"recharts-cartesian-axis-tick",key:"tick-".concat(st.value,"-").concat(st.coordinate,"-").concat(st.tickCoord)},H2(pe,st,Je)),i&&V.createElement("line",np({},mt,wt,{className:On("recharts-cartesian-axis-tick-line",pm(i,"className"))})),a&&V.createElement(AZ,{option:a,tickProps:je,value:"".concat(typeof p=="function"?p(st.value,Je):st.value).concat(y||"")}))});return nt.length>0?V.createElement("g",{className:"recharts-cartesian-axis-ticks"},nt):null}var DZ=V.forwardRef((e,t)=>{var{axisLine:a,width:i,height:d,className:p,hide:y,ticks:c}=e,A=c2(e,dZ),[C,T]=V.useState(""),[R,L]=V.useState(""),U=V.useRef([]);V.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var $;return fZ({ticks:U.current,label:($=e.labelRef)===null||$===void 0?void 0:$.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var q=V.useCallback($=>{if($){var W=$.getElementsByClassName("recharts-cartesian-axis-tick-value");U.current=Array.from(W);var Y=W[0];if(Y){var X=window.getComputedStyle(Y),te=X.fontSize,pe=X.letterSpacing;(te!==C||pe!==R)&&(T(te),L(pe))}}},[C,R]);return y||i!=null&&i<=0||d!=null&&d<=0?null:V.createElement(Df,{className:On("recharts-cartesian-axis",p),ref:q},V.createElement(xZ,{x:e.x,y:e.y,width:i,height:d,orientation:e.orientation,mirror:e.mirror,axisLine:a,otherSvgProps:kg(e)}),V.createElement(CZ,{ticks:c,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:C,letterSpacing:R,getTicksConfig:e,events:A}),V.createElement(dV,{x:e.x,y:e.y,width:e.width,height:e.height},V.createElement(wV,{label:e.label}),e.children))}),MZ=V.memo(DZ,(e,t)=>{var{viewBox:a}=e,i=c2(e,pZ),{viewBox:d}=t,p=c2(t,mZ);return Pm(a,d)&&Pm(i,p)}),uw=V.forwardRef((e,t)=>{var a=mc(e,bZ);return V.createElement(MZ,np({},a,{ref:t}))});uw.displayName="CartesianAxis";var TZ=["dangerouslySetInnerHTML","ticks"],EZ=["id"],RZ=["domain"],IZ=["domain"];function u2(){return u2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)({}).hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},u2.apply(null,arguments)}function h1(e,t){if(e==null)return{};var a,i,d=kZ(e,t);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(e);for(i=0;i<p.length;i++)a=p[i],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(d[a]=e[a])}return d}function kZ(e,t){if(e==null)return{};var a={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;a[i]=e[i]}return a}function OZ(e){var t=Ai();return V.useEffect(()=>(t(wW(e)),()=>{t(PW(e))}),[e,t]),null}var UZ=e=>{var{xAxisId:t,className:a}=e,i=pr(nS),d=pc(),p="xAxis",y=pr(W=>zm(W,p,t,d)),c=pr(W=>e6(W,p,t,d)),A=pr(W=>Q4(W,t)),C=pr(W=>Fq(W,t)),T=pr(W=>_4(W,t));if(A==null||C==null||T==null)return null;var{dangerouslySetInnerHTML:R,ticks:L}=e,U=h1(e,TZ),{id:q}=T,$=h1(T,EZ);return V.createElement(uw,u2({},U,$,{scale:y,x:C.x,y:C.y,width:A.width,height:A.height,className:On("recharts-".concat(p," ").concat(p),a),viewBox:i,ticks:c}))},LZ={allowDataOverflow:As.allowDataOverflow,allowDecimals:As.allowDecimals,allowDuplicatedCategory:As.allowDuplicatedCategory,height:As.height,hide:!1,mirror:As.mirror,orientation:As.orientation,padding:As.padding,reversed:As.reversed,scale:As.scale,tickCount:As.tickCount,type:As.type,xAxisId:0},zZ=e=>{var t,a,i,d,p,y=mc(e,LZ);return V.createElement(V.Fragment,null,V.createElement(OZ,{interval:(t=y.interval)!==null&&t!==void 0?t:"preserveEnd",id:y.xAxisId,scale:y.scale,type:y.type,padding:y.padding,allowDataOverflow:y.allowDataOverflow,domain:y.domain,dataKey:y.dataKey,allowDuplicatedCategory:y.allowDuplicatedCategory,allowDecimals:y.allowDecimals,tickCount:y.tickCount,includeHidden:(a=y.includeHidden)!==null&&a!==void 0?a:!1,reversed:y.reversed,ticks:y.ticks,height:y.height,orientation:y.orientation,mirror:y.mirror,hide:y.hide,unit:y.unit,name:y.name,angle:(i=y.angle)!==null&&i!==void 0?i:0,minTickGap:(d=y.minTickGap)!==null&&d!==void 0?d:5,tick:(p=y.tick)!==null&&p!==void 0?p:!0,tickFormatter:y.tickFormatter}),V.createElement(UZ,y))},FZ=(e,t)=>{var{domain:a}=e,i=h1(e,RZ),{domain:d}=t,p=h1(t,IZ);return Pm(i,p)?Array.isArray(a)&&a.length===2&&Array.isArray(d)&&d.length===2?a[0]===d[0]&&a[1]===d[1]:Pm({domain:a},{domain:d}):!1},hw=V.memo(zZ,FZ);hw.displayName="XAxis";var NZ=["dangerouslySetInnerHTML","ticks"],jZ=["id"],BZ=["domain"],qZ=["domain"];function h2(){return h2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)({}).hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},h2.apply(null,arguments)}function f1(e,t){if(e==null)return{};var a,i,d=$Z(e,t);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(e);for(i=0;i<p.length;i++)a=p[i],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(d[a]=e[a])}return d}function $Z(e,t){if(e==null)return{};var a={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;a[i]=e[i]}return a}function HZ(e){var t=Ai();return V.useEffect(()=>(t(AW(e)),()=>{t(CW(e))}),[e,t]),null}var VZ=e=>{var{yAxisId:t,className:a,width:i,label:d}=e,p=V.useRef(null),y=V.useRef(null),c=pr(nS),A=pc(),C=Ai(),T="yAxis",R=pr(de=>zm(de,T,t,A)),L=pr(de=>X4(de,t)),U=pr(de=>jq(de,t)),q=pr(de=>e6(de,T,t,A)),$=pr(de=>b4(de,t));if(V.useLayoutEffect(()=>{if(!(i!=="auto"||!L||ow(d)||V.isValidElement(d)||$==null)){var de=p.current;if(de){var ye=de.getCalculatedWidth();Math.round(L.width)!==Math.round(ye)&&C(DW({id:t,width:ye}))}}},[q,L,C,d,t,i,$]),L==null||U==null||$==null)return null;var{dangerouslySetInnerHTML:W,ticks:Y}=e,X=f1(e,NZ),{id:te}=$,pe=f1($,jZ);return V.createElement(uw,h2({},X,pe,{ref:p,labelRef:y,scale:R,x:U.x,y:U.y,tickTextProps:i==="auto"?{width:void 0}:{width:i},width:L.width,height:L.height,className:On("recharts-".concat(T," ").concat(T),a),viewBox:c,ticks:q}))},WZ={allowDataOverflow:Cs.allowDataOverflow,allowDecimals:Cs.allowDecimals,allowDuplicatedCategory:Cs.allowDuplicatedCategory,hide:!1,mirror:Cs.mirror,orientation:Cs.orientation,padding:Cs.padding,reversed:Cs.reversed,scale:Cs.scale,tickCount:Cs.tickCount,type:Cs.type,width:Cs.width,yAxisId:0},GZ=e=>{var t,a,i,d,p,y=mc(e,WZ);return V.createElement(V.Fragment,null,V.createElement(HZ,{interval:(t=y.interval)!==null&&t!==void 0?t:"preserveEnd",id:y.yAxisId,scale:y.scale,type:y.type,domain:y.domain,allowDataOverflow:y.allowDataOverflow,dataKey:y.dataKey,allowDuplicatedCategory:y.allowDuplicatedCategory,allowDecimals:y.allowDecimals,tickCount:y.tickCount,padding:y.padding,includeHidden:(a=y.includeHidden)!==null&&a!==void 0?a:!1,reversed:y.reversed,ticks:y.ticks,width:y.width,orientation:y.orientation,mirror:y.mirror,hide:y.hide,unit:y.unit,name:y.name,angle:(i=y.angle)!==null&&i!==void 0?i:0,minTickGap:(d=y.minTickGap)!==null&&d!==void 0?d:5,tick:(p=y.tick)!==null&&p!==void 0?p:!0,tickFormatter:y.tickFormatter}),V.createElement(VZ,y))},ZZ=(e,t)=>{var{domain:a}=e,i=f1(e,BZ),{domain:d}=t,p=f1(t,qZ);return Pm(i,p)?Array.isArray(a)&&a.length===2&&Array.isArray(d)&&d.length===2?a[0]===d[0]&&a[1]===d[1]:Pm({domain:a},{domain:d}):!1},fw=V.memo(GZ,ZZ);fw.displayName="YAxis";var hx={exports:{}},fx={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eD;function YZ(){if(eD)return fx;eD=1;var e=Am();function t(A,C){return A===C&&(A!==0||1/A===1/C)||A!==A&&C!==C}var a=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,d=e.useRef,p=e.useEffect,y=e.useMemo,c=e.useDebugValue;return fx.useSyncExternalStoreWithSelector=function(A,C,T,R,L){var U=d(null);if(U.current===null){var q={hasValue:!1,value:null};U.current=q}else q=U.current;U=y(function(){function W(de){if(!Y){if(Y=!0,X=de,de=R(de),L!==void 0&&q.hasValue){var ye=q.value;if(L(ye,de))return te=ye}return te=de}if(ye=te,a(X,de))return ye;var xe=R(de);return L!==void 0&&L(ye,xe)?(X=de,ye):(X=de,te=xe)}var Y=!1,X,te,pe=T===void 0?null:T;return[function(){return W(C())},pe===null?void 0:function(){return W(pe())}]},[C,T,R,L]);var $=i(A,U[0],U[1]);return p(function(){q.hasValue=!0,q.value=$},[$]),c($),$},fx}var tD;function QZ(){return tD||(tD=1,hx.exports=YZ()),hx.exports}QZ();function XZ(e){e()}function KZ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){XZ(()=>{let a=e;for(;a;)a.callback(),a=a.next})},get(){const a=[];let i=e;for(;i;)a.push(i),i=i.next;return a},subscribe(a){let i=!0;const d=t={callback:a,next:null,prev:t};return d.prev?d.prev.next=d:e=d,function(){!i||e===null||(i=!1,d.next?d.next.prev=d.prev:t=d.prev,d.prev?d.prev.next=d.next:e=d.next)}}}}var rD={notify(){},get:()=>[]};function JZ(e,t){let a,i=rD,d=0,p=!1;function y($){T();const W=i.subscribe($);let Y=!1;return()=>{Y||(Y=!0,W(),R())}}function c(){i.notify()}function A(){q.onStateChange&&q.onStateChange()}function C(){return p}function T(){d++,a||(a=e.subscribe(A),i=KZ())}function R(){d--,a&&d===0&&(a(),a=void 0,i.clear(),i=rD)}function L(){p||(p=!0,T())}function U(){p&&(p=!1,R())}const q={addNestedSub:y,notifyNestedSubs:c,handleChangeWrapper:A,isSubscribed:C,trySubscribe:L,tryUnsubscribe:U,getListeners:()=>i};return q}var eY=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tY=eY(),rY=()=>typeof navigator<"u"&&navigator.product==="ReactNative",nY=rY(),aY=()=>tY||nY?V.useLayoutEffect:V.useEffect,iY=aY(),oY=Symbol.for("react-redux-context"),sY=typeof globalThis<"u"?globalThis:{};function lY(){if(!V.createContext)return{};const e=sY[oY]??=new Map;let t=e.get(V.createContext);return t||(t=V.createContext(null),e.set(V.createContext,t)),t}var cY=lY();function uY(e){const{children:t,context:a,serverState:i,store:d}=e,p=V.useMemo(()=>{const A=JZ(d);return{store:d,subscription:A,getServerState:i?()=>i:void 0}},[d,i]),y=V.useMemo(()=>d.getState(),[d]);iY(()=>{const{subscription:A}=p;return A.onStateChange=A.notifyNestedSubs,A.trySubscribe(),y!==d.getState()&&A.notifyNestedSubs(),()=>{A.tryUnsubscribe(),A.onStateChange=void 0}},[p,y]);const c=a||cY;return V.createElement(c.Provider,{value:p},t)}var hY=uY,fY=(e,t)=>t,dw=ut([fY,Sn,y4,fi,m6,Ah,H$,Ci],Y$),pw=e=>{var t=e.currentTarget.getBoundingClientRect(),a=t.width/e.currentTarget.offsetWidth,i=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/a),chartY:Math.round((e.clientY-t.top)/i)}},tE=fl("mouseClick"),rE=Ug();rE.startListening({actionCreator:tE,effect:(e,t)=>{var a=e.payload,i=dw(t.getState(),pw(a));i?.activeIndex!=null&&t.dispatch(Jq({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}});var f2=fl("mouseMove"),nE=Ug();nE.startListening({actionCreator:f2,effect:(e,t)=>{var a=e.payload,i=t.getState(),d=QS(i,i.tooltip.settings.shared),p=dw(i,pw(a));d==="axis"&&(p?.activeIndex!=null?t.dispatch(l6({activeIndex:p.activeIndex,activeDataKey:void 0,activeCoordinate:p.activeCoordinate})):t.dispatch(s6()))}});var nD={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},aE=Us({name:"rootProps",initialState:nD,reducers:{updateOptions:(e,t)=>{var a;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(a=t.payload.barGap)!==null&&a!==void 0?a:nD.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),dY=aE.reducer,{updateOptions:pY}=aE.actions,iE=Us({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:tX}=iE.actions,mY=iE.reducer,oE=fl("keyDown"),sE=fl("focus"),mw=Ug();mw.startListening({actionCreator:oE,effect:(e,t)=>{var a=t.getState(),i=a.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:d}=a.tooltip,p=e.payload;if(!(p!=="ArrowRight"&&p!=="ArrowLeft"&&p!=="Enter")){var y=Number(XS(d,Nm(a))),c=Ah(a);if(p==="Enter"){var A=i1(a,"axis","hover",String(d.index));t.dispatch(a2({active:!d.active,activeIndex:d.index,activeDataKey:d.dataKey,activeCoordinate:A}));return}var C=Hq(a),T=C==="left-to-right"?1:-1,R=p==="ArrowRight"?1:-1,L=y+R*T;if(!(c==null||L>=c.length||L<0)){var U=i1(a,"axis","hover",String(L));t.dispatch(a2({active:!0,activeIndex:L.toString(),activeDataKey:void 0,activeCoordinate:U}))}}}}});mw.startListening({actionCreator:sE,effect:(e,t)=>{var a=t.getState(),i=a.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:d}=a.tooltip;if(!d.active&&d.index==null){var p="0",y=i1(a,"axis","hover",String(p));t.dispatch(a2({activeDataKey:void 0,active:!0,activeIndex:p,activeCoordinate:y}))}}}});var sl=fl("externalEvent"),lE=Ug();lE.startListening({actionCreator:sl,effect:(e,t)=>{if(e.payload.handler!=null){var a=t.getState(),i={activeCoordinate:U$(a),activeDataKey:_6(a),activeIndex:wm(a),activeLabel:v6(a),activeTooltipIndex:wm(a),isTooltipActive:L$(a)};e.payload.handler(i,e.payload.reactEvent)}}});var yY=ut([Fm],e=>e.tooltipItemPayloads),gY=ut([yY,Vg,(e,t,a)=>t,(e,t,a)=>a],(e,t,a,i)=>{var d=e.find(c=>c.settings.dataKey===i);if(d!=null){var{positions:p}=d;if(p!=null){var y=t(p,a);return y}}}),cE=fl("touchMove"),uE=Ug();uE.startListening({actionCreator:cE,effect:(e,t)=>{var a=e.payload,i=t.getState(),d=QS(i,i.tooltip.settings.shared);if(d==="axis"){var p=dw(i,pw({clientX:a.touches[0].clientX,clientY:a.touches[0].clientY,currentTarget:a.currentTarget}));p?.activeIndex!=null&&t.dispatch(l6({activeIndex:p.activeIndex,activeDataKey:void 0,activeCoordinate:p.activeCoordinate}))}else if(d==="item"){var y,c=a.touches[0],A=document.elementFromPoint(c.clientX,c.clientY);if(!A||!A.getAttribute)return;var C=A.getAttribute(Pz),T=(y=A.getAttribute(Az))!==null&&y!==void 0?y:void 0,R=gY(t.getState(),C,T);t.dispatch(o6({activeDataKey:T,activeIndex:C,activeCoordinate:R}))}}});var vY=IT({brush:WG,cartesianAxis:MW,chartData:fH,errorBars:qW,graphicalItems:gW,layout:GL,legend:$z,options:sH,polarAxis:NV,polarOptions:mY,referenceElements:JG,rootProps:dY,tooltip:e$}),_Y=function(t){return vL({reducer:vY,preloadedState:t,middleware:a=>a({serializableCheck:!1}).concat([rE.middleware,nE.middleware,mw.middleware,lE.middleware,uE.middleware]),devTools:Rm.devToolsEnabled})};function bY(e){var{preloadedState:t,children:a,reduxStoreName:i}=e,d=pc(),p=V.useRef(null);if(d)return a;p.current==null&&(p.current=_Y(t));var y=Q2;return V.createElement(hY,{context:y,store:p.current},a)}function xY(e){var{layout:t,width:a,height:i,margin:d}=e,p=Ai(),y=pc();return V.useEffect(()=>{y||(p(HL(t)),p(VL({width:a,height:i})),p($L(d)))},[p,y,t,a,i,d]),null}function SY(e){var t=Ai();return V.useEffect(()=>{t(pY(e))},[t,e]),null}var wY=["children"];function PY(e,t){if(e==null)return{};var a,i,d=AY(e,t);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(e);for(i=0;i<p.length;i++)a=p[i],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(d[a]=e[a])}return d}function AY(e,t){if(e==null)return{};var a={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;a[i]=e[i]}return a}function d1(){return d1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)({}).hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},d1.apply(null,arguments)}var CY={width:"100%",height:"100%"},DY=V.forwardRef((e,t)=>{var a=Fz(),i=Nz(),d=i5();if(!$v(a)||!$v(i))return null;var{children:p,otherAttributes:y,title:c,desc:A}=e,C,T;return typeof y.tabIndex=="number"?C=y.tabIndex:C=d?0:void 0,typeof y.role=="string"?T=y.role:T=d?"application":void 0,V.createElement(eT,d1({},y,{title:c,desc:A,role:T,tabIndex:C,width:a,height:i,style:CY,ref:t}),p)}),MY=e=>{var{children:t}=e,a=pr(z1);if(!a)return null;var{width:i,height:d,y:p,x:y}=a;return V.createElement(eT,{width:i,height:d,x:y,y:p},t)},aD=V.forwardRef((e,t)=>{var{children:a}=e,i=PY(e,wY),d=pc();return d?V.createElement(MY,null,a):V.createElement(DY,d1({ref:t},i),a)});function TY(){var e=Ai(),[t,a]=V.useState(null),i=pr(wz);return V.useEffect(()=>{if(t!=null){var d=t.getBoundingClientRect(),p=d.width/t.offsetWidth;Os(p)&&p!==i&&e(WL(p))}},[t,e,i]),a}function iD(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),a.push.apply(a,i)}return a}function EY(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?iD(Object(a),!0).forEach(function(i){RY(e,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):iD(Object(a)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(a,i))})}return e}function RY(e,t,a){return(t=IY(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function IY(e){var t=kY(e,"string");return typeof t=="symbol"?t:t+""}function kY(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var i=a.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OY=V.forwardRef((e,t)=>{var{children:a,className:i,height:d,onClick:p,onContextMenu:y,onDoubleClick:c,onMouseDown:A,onMouseEnter:C,onMouseLeave:T,onMouseMove:R,onMouseUp:L,onTouchEnd:U,onTouchMove:q,onTouchStart:$,style:W,width:Y}=e,X=Ai(),[te,pe]=V.useState(null),[de,ye]=V.useState(null);xH();var xe=TY(),Ie=V.useCallback(ke=>{xe(ke),typeof t=="function"&&t(ke),pe(ke),ye(ke)},[xe,t,pe,ye]),lt=V.useCallback(ke=>{X(tE(ke)),X(sl({handler:p,reactEvent:ke}))},[X,p]),mt=V.useCallback(ke=>{X(f2(ke)),X(sl({handler:C,reactEvent:ke}))},[X,C]),nt=V.useCallback(ke=>{X(s6()),X(sl({handler:T,reactEvent:ke}))},[X,T]),st=V.useCallback(ke=>{X(f2(ke)),X(sl({handler:R,reactEvent:ke}))},[X,R]),Je=V.useCallback(()=>{X(sE())},[X]),wt=V.useCallback(ke=>{X(oE(ke.key))},[X]),Rt=V.useCallback(ke=>{X(sl({handler:y,reactEvent:ke}))},[X,y]),je=V.useCallback(ke=>{X(sl({handler:c,reactEvent:ke}))},[X,c]),it=V.useCallback(ke=>{X(sl({handler:A,reactEvent:ke}))},[X,A]),Ge=V.useCallback(ke=>{X(sl({handler:L,reactEvent:ke}))},[X,L]),bt=V.useCallback(ke=>{X(sl({handler:$,reactEvent:ke}))},[X,$]),Ce=V.useCallback(ke=>{X(cE(ke)),X(sl({handler:q,reactEvent:ke}))},[X,q]),ot=V.useCallback(ke=>{X(sl({handler:U,reactEvent:ke}))},[X,U]);return V.createElement(A6.Provider,{value:te},V.createElement(dO.Provider,{value:de},V.createElement("div",{className:On("recharts-wrapper",i),style:EY({position:"relative",cursor:"default",width:Y,height:d},W),onClick:lt,onContextMenu:Rt,onDoubleClick:je,onFocus:Je,onKeyDown:wt,onMouseDown:it,onMouseEnter:mt,onMouseLeave:nt,onMouseMove:st,onMouseUp:Ge,onTouchEnd:ot,onTouchMove:Ce,onTouchStart:bt,ref:Ie},a)))}),UY=["children","className","width","height","style","compact","title","desc"];function LY(e,t){if(e==null)return{};var a,i,d=zY(e,t);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(e);for(i=0;i<p.length;i++)a=p[i],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(d[a]=e[a])}return d}function zY(e,t){if(e==null)return{};var a={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;a[i]=e[i]}return a}var FY=V.forwardRef((e,t)=>{var{children:a,className:i,width:d,height:p,style:y,compact:c,title:A,desc:C}=e,T=LY(e,UY),R=kg(T);return c?V.createElement(aD,{otherAttributes:R,title:A,desc:C},a):V.createElement(OY,{className:i,style:y,width:d,height:p,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},V.createElement(aD,{otherAttributes:R,title:A,desc:C,ref:t},V.createElement(tZ,null,a)))}),NY=["width","height"];function d2(){return d2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)({}).hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},d2.apply(null,arguments)}function jY(e,t){if(e==null)return{};var a,i,d=BY(e,t);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(e);for(i=0;i<p.length;i++)a=p[i],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(d[a]=e[a])}return d}function BY(e,t){if(e==null)return{};var a={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;a[i]=e[i]}return a}var qY={top:5,right:5,bottom:5,left:5},$Y={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:qY,reverseStackOrder:!1,syncMethod:"index"},HY=V.forwardRef(function(t,a){var i,d=mc(t.categoricalChartProps,$Y),{width:p,height:y}=d,c=jY(d,NY);if(!$v(p)||!$v(y))return null;var{chartName:A,defaultTooltipEventType:C,validateTooltipEventTypes:T,tooltipPayloadSearcher:R,categoricalChartProps:L}=t,U={chartName:A,defaultTooltipEventType:C,validateTooltipEventTypes:T,tooltipPayloadSearcher:R,eventEmitter:void 0};return V.createElement(bY,{preloadedState:{options:U},reduxStoreName:(i=L.id)!==null&&i!==void 0?i:A},V.createElement(VG,{chartData:L.data}),V.createElement(xY,{width:p,height:y,layout:d.layout,margin:d.margin}),V.createElement(SY,{accessibilityLayer:d.accessibilityLayer,barCategoryGap:d.barCategoryGap,maxBarSize:d.maxBarSize,stackOffset:d.stackOffset,barGap:d.barGap,barSize:d.barSize,syncId:d.syncId,syncMethod:d.syncMethod,className:d.className}),V.createElement(FY,d2({},c,{width:p,height:y,ref:a})))}),VY=["axis","item"],hE=V.forwardRef((e,t)=>V.createElement(HY,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:VY,tooltipPayloadSearcher:iH,categoricalChartProps:e,ref:t}));function dv(e){return typeof e=="string"?e.toLowerCase().split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "):""}function WY({country:e,metric:t,expected:a,actual:i,average:d,top:p}){const y=[{name:dv(e),value:i},{name:"Expected",value:a},{name:"Average",value:d},{name:`Top: ${dv(p.country)}`,value:p.value}],c=["#4dffbc","#d9d9d9","#ffc658","#ff7300"];return se.jsxs("div",{className:"w-full h-80",children:[se.jsx(E6,{children:se.jsxs(hE,{data:y,children:[se.jsx(hw,{dataKey:"name",tick:{fontSize:10,fill:"black"}}),se.jsx(fw,{tick:{fontSize:10,fill:"black"}}),se.jsx(T6,{}),se.jsx(lw,{dataKey:"value",fill:"#8884d8",children:y.map((A,C)=>se.jsx(t_,{fill:c[C%c.length]},`cell-${C} ${A}`))})]})}),i&&a&&p.country&&se.jsxs("p",{className:"text-xs mt-2 text-center",children:[dv(e),"'s' ",t," is ",i,", which is"," ",((i-a)/a*100).toFixed(1),"% from expected. Highest is ",dv(p.country)," at ",p.value,"."]})]})}function GY(e){return e.toLowerCase().split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}function ZY({weightData:e,flash:t=!1,countryName:a,countryMetrics:i,absoluteStatistics:d}){const[p,y]=V.useState(),[c,A]=V.useState(1),[C,T]=V.useState(""),[R,L]=V.useState(0),U=V.useMemo(()=>d.filter(X=>String(X.metricName).toLowerCase()!=="happiness (score 0-10)"&&X.currentCountryMetric!==null&&X.currentCountryMetric!==0&&X.currentCountryMetric!==void 0),[d]),q=V.useMemo(()=>{const X=new Map;return e.forEach(te=>X.set(te.metric.toLowerCase(),te.weight_signed)),X},[]),$=X=>{if(!U||U.length===0){y(void 0),T("");return}const te=(X%U.length+U.length)%U.length,pe=U[te];y(pe);const de=q.get(String(pe.metricName).toLowerCase())??0;T(`${pe.metricName} has the correlation to happiness of ${Math.round(de*100)}%`)};V.useEffect(()=>{if(!U||U.length===0){A(1),L(0),y(void 0),T("");return}A(U.length);const X=Math.min(R,U.length-1);L(X),$(X)},[U]);const W=()=>{L(X=>{if(!U||U.length===0)return 0;const te=U.length,pe=(X-1+te)%te;return $(pe),pe})},Y=()=>{L(X=>{if(!U||U.length===0)return 0;const te=U.length,pe=(X+1)%te;return $(pe),pe})};return se.jsxs("div",{className:"w-full flex flex-col justify-center items-center",children:[se.jsx(Nk,{opts:{loop:!0},children:se.jsx(jk,{children:se.jsx(Bk,{children:se.jsx("div",{className:"p-1",children:se.jsxs(qk,{className:`lg:w-150 h-130 lg:h-120 bg-primary transition-transform-colors duration-300 ${t?"scale-90 bg-primary":""}`,children:[se.jsx($k,{children:se.jsx(Hk,{children:i?`${C}`:""})}),se.jsx(Vk,{className:"flex flex-col items-center justify-center p-4 max-h-100",children:i&&p?se.jsx(WY,{country:a,metric:p?.metricName,expected:p?.expectedForHappinessValue,actual:p?.currentCountryMetric,average:p?.averageValue,top:{country:p?.highestCountryName,value:p?.highestValue}}):se.jsx("div",{className:"text-center",children:a?se.jsxs("p",{children:["No data for ",GY(a)]}):se.jsx("p",{children:"Click on the map to see happiness data!"})})})]})})},R)})}),se.jsxs("div",{className:"flex gap-2 mt-3 justify-center",children:[se.jsx("button",{onClick:W,"aria-label":"Previous metric",className:"px-3 py-1 border rounded",children:"◀"}),se.jsx("div",{className:"flex items-center px-2 text-sm",children:i?`${R+1} / ${c}`:"—"}),se.jsx("button",{onClick:Y,"aria-label":"Next metric",className:"px-3 py-1 border rounded",children:"▶"})]})]})}function YY(e){const t=e+"CollectionProvider",[a,i]=ap(t),[d,p]=a(t,{collectionRef:{current:null},itemMap:new Map}),y=$=>{const{scope:W,children:Y}=$,X=Ia.useRef(null),te=Ia.useRef(new Map).current;return se.jsx(d,{scope:W,itemMap:te,collectionRef:X,children:Y})};y.displayName=t;const c=e+"CollectionSlot",A=um(c),C=Ia.forwardRef(($,W)=>{const{scope:Y,children:X}=$,te=p(c,Y),pe=Mo(W,te.collectionRef);return se.jsx(A,{ref:pe,children:X})});C.displayName=c;const T=e+"CollectionItemSlot",R="data-radix-collection-item",L=um(T),U=Ia.forwardRef(($,W)=>{const{scope:Y,children:X,...te}=$,pe=Ia.useRef(null),de=Mo(W,pe),ye=p(T,Y);return Ia.useEffect(()=>(ye.itemMap.set(pe,{ref:pe,...te}),()=>void ye.itemMap.delete(pe))),se.jsx(L,{[R]:"",ref:de,children:X})});U.displayName=T;function q($){const W=p(e+"CollectionConsumer",$);return Ia.useCallback(()=>{const X=W.collectionRef.current;if(!X)return[];const te=Array.from(X.querySelectorAll(`[${R}]`));return Array.from(W.itemMap.values()).sort((ye,xe)=>te.indexOf(ye.ref.current)-te.indexOf(xe.ref.current))},[W.collectionRef,W.itemMap])}return[{Provider:y,Slot:C,ItemSlot:U},q,i]}var r_="Collapsible",[QY,fE]=ap(r_),[XY,yw]=QY(r_),dE=V.forwardRef((e,t)=>{const{__scopeCollapsible:a,open:i,defaultOpen:d,disabled:p,onOpenChange:y,...c}=e,[A,C]=Dg({prop:i,defaultProp:d??!1,onChange:y,caller:r_});return se.jsx(XY,{scope:a,disabled:p,contentId:ul(),open:A,onOpenToggle:V.useCallback(()=>C(T=>!T),[C]),children:se.jsx(bn.div,{"data-state":vw(A),"data-disabled":p?"":void 0,...c,ref:t})})});dE.displayName=r_;var pE="CollapsibleTrigger",mE=V.forwardRef((e,t)=>{const{__scopeCollapsible:a,...i}=e,d=yw(pE,a);return se.jsx(bn.button,{type:"button","aria-controls":d.contentId,"aria-expanded":d.open||!1,"data-state":vw(d.open),"data-disabled":d.disabled?"":void 0,disabled:d.disabled,...i,ref:t,onClick:Co(e.onClick,d.onOpenToggle)})});mE.displayName=pE;var gw="CollapsibleContent",yE=V.forwardRef((e,t)=>{const{forceMount:a,...i}=e,d=yw(gw,e.__scopeCollapsible);return se.jsx(ip,{present:a||d.open,children:({present:p})=>se.jsx(KY,{...i,ref:t,present:p})})});yE.displayName=gw;var KY=V.forwardRef((e,t)=>{const{__scopeCollapsible:a,present:i,children:d,...p}=e,y=yw(gw,a),[c,A]=V.useState(i),C=V.useRef(null),T=Mo(t,C),R=V.useRef(0),L=R.current,U=V.useRef(0),q=U.current,$=y.open||c,W=V.useRef($),Y=V.useRef(void 0);return V.useEffect(()=>{const X=requestAnimationFrame(()=>W.current=!1);return()=>cancelAnimationFrame(X)},[]),dh(()=>{const X=C.current;if(X){Y.current=Y.current||{transitionDuration:X.style.transitionDuration,animationName:X.style.animationName},X.style.transitionDuration="0s",X.style.animationName="none";const te=X.getBoundingClientRect();R.current=te.height,U.current=te.width,W.current||(X.style.transitionDuration=Y.current.transitionDuration,X.style.animationName=Y.current.animationName),A(i)}},[y.open,i]),se.jsx(bn.div,{"data-state":vw(y.open),"data-disabled":y.disabled?"":void 0,id:y.contentId,hidden:!$,...p,ref:T,style:{"--radix-collapsible-content-height":L?`${L}px`:void 0,"--radix-collapsible-content-width":q?`${q}px`:void 0,...e.style},children:$&&d})});function vw(e){return e?"open":"closed"}var JY=dE,eQ=mE,tQ=yE,rQ=V.createContext(void 0);function nQ(e){const t=V.useContext(rQ);return e||t||"ltr"}var yc="Accordion",aQ=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[_w,iQ,oQ]=YY(yc),[n_]=ap(yc,[oQ,fE]),bw=fE(),gE=Ia.forwardRef((e,t)=>{const{type:a,...i}=e,d=i,p=i;return se.jsx(_w.Provider,{scope:e.__scopeAccordion,children:a==="multiple"?se.jsx(uQ,{...p,ref:t}):se.jsx(cQ,{...d,ref:t})})});gE.displayName=yc;var[vE,sQ]=n_(yc),[_E,lQ]=n_(yc,{collapsible:!1}),cQ=Ia.forwardRef((e,t)=>{const{value:a,defaultValue:i,onValueChange:d=()=>{},collapsible:p=!1,...y}=e,[c,A]=Dg({prop:a,defaultProp:i??"",onChange:d,caller:yc});return se.jsx(vE,{scope:e.__scopeAccordion,value:Ia.useMemo(()=>c?[c]:[],[c]),onItemOpen:A,onItemClose:Ia.useCallback(()=>p&&A(""),[p,A]),children:se.jsx(_E,{scope:e.__scopeAccordion,collapsible:p,children:se.jsx(bE,{...y,ref:t})})})}),uQ=Ia.forwardRef((e,t)=>{const{value:a,defaultValue:i,onValueChange:d=()=>{},...p}=e,[y,c]=Dg({prop:a,defaultProp:i??[],onChange:d,caller:yc}),A=Ia.useCallback(T=>c((R=[])=>[...R,T]),[c]),C=Ia.useCallback(T=>c((R=[])=>R.filter(L=>L!==T)),[c]);return se.jsx(vE,{scope:e.__scopeAccordion,value:y,onItemOpen:A,onItemClose:C,children:se.jsx(_E,{scope:e.__scopeAccordion,collapsible:!0,children:se.jsx(bE,{...p,ref:t})})})}),[hQ,a_]=n_(yc),bE=Ia.forwardRef((e,t)=>{const{__scopeAccordion:a,disabled:i,dir:d,orientation:p="vertical",...y}=e,c=Ia.useRef(null),A=Mo(c,t),C=iQ(a),R=nQ(d)==="ltr",L=Co(e.onKeyDown,U=>{if(!aQ.includes(U.key))return;const q=U.target,$=C().filter(Ie=>!Ie.ref.current?.disabled),W=$.findIndex(Ie=>Ie.ref.current===q),Y=$.length;if(W===-1)return;U.preventDefault();let X=W;const te=0,pe=Y-1,de=()=>{X=W+1,X>pe&&(X=te)},ye=()=>{X=W-1,X<te&&(X=pe)};switch(U.key){case"Home":X=te;break;case"End":X=pe;break;case"ArrowRight":p==="horizontal"&&(R?de():ye());break;case"ArrowDown":p==="vertical"&&de();break;case"ArrowLeft":p==="horizontal"&&(R?ye():de());break;case"ArrowUp":p==="vertical"&&ye();break}const xe=X%Y;$[xe].ref.current?.focus()});return se.jsx(hQ,{scope:a,disabled:i,direction:d,orientation:p,children:se.jsx(_w.Slot,{scope:a,children:se.jsx(bn.div,{...y,"data-orientation":p,ref:A,onKeyDown:i?void 0:L})})})}),p1="AccordionItem",[fQ,xw]=n_(p1),xE=Ia.forwardRef((e,t)=>{const{__scopeAccordion:a,value:i,...d}=e,p=a_(p1,a),y=sQ(p1,a),c=bw(a),A=ul(),C=i&&y.value.includes(i)||!1,T=p.disabled||e.disabled;return se.jsx(fQ,{scope:a,open:C,disabled:T,triggerId:A,children:se.jsx(JY,{"data-orientation":p.orientation,"data-state":DE(C),...c,...d,ref:t,disabled:T,open:C,onOpenChange:R=>{R?y.onItemOpen(i):y.onItemClose(i)}})})});xE.displayName=p1;var SE="AccordionHeader",wE=Ia.forwardRef((e,t)=>{const{__scopeAccordion:a,...i}=e,d=a_(yc,a),p=xw(SE,a);return se.jsx(bn.h3,{"data-orientation":d.orientation,"data-state":DE(p.open),"data-disabled":p.disabled?"":void 0,...i,ref:t})});wE.displayName=SE;var p2="AccordionTrigger",PE=Ia.forwardRef((e,t)=>{const{__scopeAccordion:a,...i}=e,d=a_(yc,a),p=xw(p2,a),y=lQ(p2,a),c=bw(a);return se.jsx(_w.ItemSlot,{scope:a,children:se.jsx(eQ,{"aria-disabled":p.open&&!y.collapsible||void 0,"data-orientation":d.orientation,id:p.triggerId,...c,...i,ref:t})})});PE.displayName=p2;var AE="AccordionContent",CE=Ia.forwardRef((e,t)=>{const{__scopeAccordion:a,...i}=e,d=a_(yc,a),p=xw(AE,a),y=bw(a);return se.jsx(tQ,{role:"region","aria-labelledby":p.triggerId,"data-orientation":d.orientation,...y,...i,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});CE.displayName=AE;function DE(e){return e?"open":"closed"}var dQ=gE,pQ=xE,mQ=wE,yQ=PE,gQ=CE;function vQ({...e}){return se.jsx(dQ,{"data-slot":"accordion",...e})}function pv({className:e,...t}){return se.jsx(pQ,{"data-slot":"accordion-item",className:xn("border-b last:border-b-0",e),...t})}function mv({className:e,children:t,...a}){return se.jsx(mQ,{className:"flex",children:se.jsxs(yQ,{"data-slot":"accordion-trigger",className:xn("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",e),...a,children:[t,se.jsx(JR,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function yv({className:e,children:t,...a}){return se.jsx(gQ,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...a,children:se.jsx("div",{className:xn("pt-0 pb-4",e),children:t})})}function _Q(){return se.jsxs(vQ,{type:"single",collapsible:!0,className:"w-full",defaultValue:"item-1",children:[se.jsxs(pv,{value:"item-1",children:[se.jsx(mv,{children:"What is this project?"}),se.jsxs(yv,{className:"flex flex-col gap-4 text-balance text-sm",children:[se.jsx("p",{children:"A data explorer that brings together many public datasets to help you understand what goes along with a country’s happiness score."}),se.jsxs("ul",{children:[se.jsxs("li",{children:[se.jsx("strong",{children:"What it contains:"})," happiness scores plus lots of supporting metrics (health, income, energy, population, emissions, food, etc.)."]}),se.jsxs("li",{children:[se.jsx("strong",{children:"What it shows:"})," for each metric you get the actual number, what we’d expect given that country’s happiness, and how far the country is from that expectation."]}),se.jsxs("li",{children:[se.jsx("strong",{children:"Why useful:"})," quickly spot where a country is doing noticeably better or worse than peers with similar happiness levels."]}),se.jsxs("li",{children:[se.jsx("strong",{children:"Quick reminder:"})," these are comparisons and patterns — they don’t prove cause and effect."]})]})]})]}),se.jsxs(pv,{value:"item-2",children:[se.jsx(mv,{children:"How to read the map"}),se.jsxs(yv,{className:"flex flex-col gap-4 text-balance",children:[se.jsx("p",{children:"The map is the main entry point — it colors countries by official happiness and helps you jump into each country’s details."}),se.jsxs("ul",{children:[se.jsxs("li",{children:[se.jsx("strong",{children:"Colors:"})," show happiness (greens = higher, reds = lower)."]}),se.jsxs("li",{children:[se.jsx("strong",{children:"Click:"})," opens the country profile with metric cards and comparisons."]}),se.jsxs("li",{children:[se.jsx("strong",{children:"Search & keyboard:"})," use the search box or press Enter to jump to a country."]}),se.jsxs("li",{children:[se.jsx("strong",{children:"Controls:"})," there are zoom controls to inspect small countries or regions."]})]})]})]}),se.jsxs(pv,{value:"item-3",children:[se.jsx(mv,{children:"Data tables"}),se.jsxs(yv,{className:"flex flex-col gap-4 text-balance",children:[se.jsx("p",{children:"Country pages give both a quick summary and deeper numbers so you can understand strengths, weaknesses and the full metric context."}),se.jsxs("ul",{children:[se.jsxs("li",{children:[se.jsx("strong",{children:"Metric cards:"})," actual value, expected value (based on similar-happiness countries), and the difference."]}),se.jsxs("li",{children:[se.jsx("strong",{children:"Context:"})," global average, top country and range for each metric so you can compare easily."]}),se.jsxs("li",{children:[se.jsx("strong",{children:"Highlights:"})," both the biggest positive deviations and the biggest negative ones are surfaced — but the page also lets you explore every metric, not just the top 3 lists."]}),se.jsxs("li",{children:[se.jsx("strong",{children:"Interpretation tip:"})," positive difference means the country is above expectation; negative means below. For some metrics (pollution, infant deaths) lower is better — interpret accordingly."]})]})]})]}),se.jsxs(pv,{value:"item-4",children:[se.jsx(mv,{children:"Data sources"}),se.jsxs(yv,{className:"flex flex-col gap-4 text-balance",children:[se.jsx("p",{children:"World Happiness Report 2024 — jainaru/world-happiness-report-2024-yearly-updated (Kaggle)"}),se.jsx("p",{children:"Global Salary Data — zedataweaver/global-salary-data (Kaggle)"}),se.jsx("p",{children:"Most Polluted Cities and Countries (IQAir Index) — ramjasmaurya/most-polluted-cities-and-countries-iqair-index (Kaggle)"}),se.jsx("p",{children:"Countries Life Expectancy — amirhosseinmirzaie/countries-life-expectancy (Kaggle)"}),se.jsx("p",{children:"Netflix subscription fee in different countries — prasertk/netflix-subscription-price-in-different-countries (Kaggle)"}),se.jsx("p",{children:"Most Dangerous Countries for Women 2024 — arpitsinghaiml/most-dangerous-countries-for-women-2024 (Kaggle)"}),se.jsx("p",{children:"Average Monthly Surface Temperature (1940–2024) — samithsachidanandan/average-monthly-surface-temperature-1940-2024 (Kaggle)"}),se.jsx("p",{children:"World Population Dataset — iamsouravbanerjee/world-population-dataset (Kaggle)"}),se.jsx("p",{children:"World Energy Consumption — pralabhpoudel/world-energy-consumption (Kaggle)"}),se.jsx("p",{children:"World Bank — World Development Indicators (Kaggle mirror) — nicolasgonzalezmunoz/world-bank-world-development-indicators (Kaggle)"}),se.jsx("p",{children:"World Food Production — rafsunahmad/world-food-production (Kaggle)"}),se.jsx("p",{children:"Petrol / Gas Prices Worldwide — zusmani/petrolgas-prices-worldwide (Kaggle)"}),se.jsx("p",{children:"CO2 Emissions Around the World — koustavghosh149/co2-emission-around-the-world (Kaggle)"}),se.jsx("p",{children:"Global Cost of Living (Numbeo scrape) — mvieira101/global-cost-of-living (Kaggle)"}),se.jsx("p",{children:"GDP Per Capita (all countries) — nitishabharathi/gdp-per-capita-all-countries (Kaggle)"}),se.jsx("p",{children:"Military Expenditure of Countries (1960–2019) — nitinsss/military-expenditure-of-countries-19602019 (Kaggle)"}),se.jsx("p",{children:"Countries by Intentional Homicide Rate — bilalwaseer/countries-by-intentional-homicide-rate (Kaggle)"}),se.jsx("p",{children:"Average Age of Countries — divyansh22/average-age-of-countries (Kaggle)"}),se.jsx("p",{children:"Inflation, 2022 — meeratif/inflation-2022 (Kaggle)"})]})]})]})}function bQ({correlation_data:e}){const t=[...e].sort((d,p)=>p.weight_magnitude-d.weight_magnitude),a="#0096FF",i="#ff000d";return se.jsx("div",{className:"w-full h-450",children:se.jsx(E6,{children:se.jsxs(hE,{data:t,layout:"vertical",children:[se.jsx(hw,{type:"number",tick:{fontSize:10}}),se.jsx(fw,{dataKey:"metric",type:"category",tick:{fontSize:8},width:120}),se.jsx(T6,{}),se.jsx(lw,{dataKey:"weight_magnitude",fill:"#8884d8",children:t.map((d,p)=>se.jsx(t_,{fill:d.weight_signed>0?a:i},`cell-${p}`))})]})})})}function xQ({weightData:e}){return se.jsx("div",{className:"w-full h-full flex justify-center items-center",children:se.jsxs("div",{className:"w-2/3 m-5",children:[se.jsx("h1",{className:"font-bold text-primary text-2xl",children:"About this project"}),se.jsx("h2",{className:"font-bold text-accent text-xl mt-4",children:"Goal"}),se.jsx("p",{children:"Build a compact, evidence-backed dashboard that explains which measurable national attributes tend to appear in happier countries. The site is an exploratory tool. It highlights patterns. It does not prove cause and effect."}),se.jsx("h2",{className:"font-bold text-accent text-xl mt-4",children:"What's in the data"}),se.jsxs("ul",{children:[se.jsx("li",{children:"Multiple public datasets merged per country with provenance."}),se.jsx("li",{children:"Metrics include economy, health, environment, demographics and prices."}),se.jsx("li",{children:"Numeric columns are used for correlation and predictive views."})]}),se.jsx("h2",{className:"font-bold text-accent text-xl mt-4",children:"How we measure association (correlation)"}),se.jsx("p",{children:"For each numeric metric we compute the Pearson correlation with the Happiness score across all countries. Results range from −1 to +1. Positive means higher values tend to appear with higher happiness. Negative means the opposite. The absolute value is used to rank metrics by strength."}),se.jsx("p",{className:"mt-2",children:"Interpretation guidance:"}),se.jsxs("ul",{children:[se.jsx("li",{children:"|r| < 0.2 — weak or no linear association."}),se.jsx("li",{children:"0.2 ≤ |r| < 0.5 — moderate association."}),se.jsx("li",{children:"|r| ≥ 0.5 — strong association."})]}),se.jsx("h2",{className:"font-bold text-accent text-xl mt-4",children:"What “Expected” means"}),se.jsx("p",{children:"Expected value is a data-driven prediction of what a country’s metric would typically be given its Happiness score. It is computed as:"}),se.jsxs("ol",{children:[se.jsx("li",{children:"Rank countries by Happiness and convert ranks to percentiles."}),se.jsx("li",{children:"Use the observed metric values and corresponding happiness percentiles to fit a simple linear trend (percentile → metric)."}),se.jsx("li",{children:"For any country, find its happiness percentile then use the trend line to predict the metric. That prediction is the expected value."})]}),se.jsx("p",{children:"The method handles tied happiness scores and falls back to the metric mean when there is no spread."}),se.jsx("h2",{className:"font-bold text-accent text-xl mt-4",children:"% Away From Expected"}),se.jsxs("p",{children:["Calculated as ",se.jsx("em",{children:"(Actual − Expected) ÷ Expected × 100"}),". Positive means the country has more than expected. Negative means less than expected. Example: Expected life expectancy 75, actual 80 → +6.7%."]}),se.jsx("p",{children:"Practical thresholds used on the site:"}),se.jsxs("ul",{children:[se.jsx("li",{children:"Within ±5% — on track."}),se.jsx("li",{children:"±5–20% — notable difference."}),se.jsx("li",{children:"±20% or more — strong outlier (worth deeper investigation)."})]}),se.jsx("h2",{className:"font-bold text-accent text-xl mt-4",children:"How to read strengths and weaknesses"}),se.jsxs("ul",{children:[se.jsx("li",{children:'"Strength" = metric is substantially higher than expected for that happiness level.'}),se.jsx("li",{children:'"Weakness" = metric is substantially lower than expected.'}),se.jsx("li",{children:"Direction matters. Higher is not always better. For example higher income is usually positive. Higher pollution is negative. Check the metric meaning before judging the sign."})]}),se.jsx("h2",{className:"font-bold text-accent text-xl mt-4",children:"What this is useful for"}),se.jsxs("ul",{children:[se.jsx("li",{children:"Quickly identify a country's biggest relative strengths and weaknesses."}),se.jsx("li",{children:"Compare countries with similar happiness to find unexpected differences."}),se.jsx("li",{children:"Generate hypotheses for researchers or journalists to investigate further."}),se.jsx("li",{children:"Provide high-level guidance for people evaluating potential places to live."})]}),se.jsx("h2",{className:"font-bold text-accent text-xl mt-4",children:"Limitations and cautions"}),se.jsxs("ul",{children:[se.jsxs("li",{children:[se.jsx("strong",{children:"Correlation ≠ causation."})," Associations may reflect confounders or shared drivers, not direct causes."]}),se.jsxs("li",{children:[se.jsx("strong",{children:"Data quality and coverage."})," Missing values and measurement differences across sources affect results."]}),se.jsxs("li",{children:[se.jsx("strong",{children:"Scale and meaning."})," Some metrics are per-capita, others are totals. Some metrics where higher is worse must be read with care."]}),se.jsx("li",{children:"Use this tool as a starting point, not a final judgment."})]}),se.jsx("h2",{className:"font-bold text-accent text-xl mt-4",children:"Full correlation chart"}),se.jsx("p",{className:"mb-2",children:"Signed Pearson correlations sorted by magnitude."}),se.jsx(bQ,{correlation_data:e}),se.jsx("h2",{className:"font-bold text-accent text-xl mt-4",children:"FAQ"}),se.jsx("p",{children:"The FAQ below addresses common interpretation questions and links to the code paths that compute expected values and correlations."}),se.jsx(_Q,{})]})})}function SQ({className:e,...t}){return se.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:se.jsx("table",{"data-slot":"table",className:xn("w-full caption-bottom text-sm",e),...t})})}function wQ({className:e,...t}){return se.jsx("thead",{"data-slot":"table-header",className:xn("[&_tr]:border-b",e),...t})}function PQ({className:e,...t}){return se.jsx("tbody",{"data-slot":"table-body",className:xn("[&_tr:last-child]:border-0",e),...t})}function oD({className:e,...t}){return se.jsx("tr",{"data-slot":"table-row",className:xn("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function tm({className:e,...t}){return se.jsx("th",{"data-slot":"table-head",className:xn("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function rm({className:e,...t}){return se.jsx("td",{"data-slot":"table-cell",className:xn("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function AQ(e){return e.toLowerCase().split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}function CQ({country:e,rows:t}){return se.jsxs(SQ,{children:[se.jsx(wQ,{children:se.jsxs(oD,{children:[se.jsx(tm,{children:"Metric"}),se.jsx(tm,{children:AQ(e)}),se.jsx(tm,{children:"Average"}),se.jsx(tm,{children:"Top"}),se.jsx(tm,{children:"Expected"}),se.jsx(tm,{children:"Over/Under Expected"})]})}),se.jsx(PQ,{children:t.map((a,i)=>{const d=a.metric.toLowerCase().includes("happiness"),p=!d&&a.expected!==0?(a.actual-a.expected)/a.expected*100:0;return se.jsxs(oD,{children:[se.jsx(rm,{children:a.metric}),se.jsx(rm,{children:a.actual.toFixed(2)}),se.jsx(rm,{children:a.average.toFixed(2)}),se.jsx(rm,{children:a.top.toFixed(2)}),se.jsx(rm,{children:d?"--":a.expected.toFixed(2)}),se.jsx(rm,{children:d?"--":p.toFixed(1)+"%"})]},i)})})]})}function DQ({Country:e,AllCountries:t,disabled:a=!1,flash:i=!1}){const d=V.useMemo(()=>!e||!t||t.length===0?[]:t.filter(p=>String(p.metricName).toLowerCase()!=="happiness").map(p=>{const y=typeof p.currentCountryMetric=="number"?p.currentCountryMetric:NaN,c=typeof p.expectedForHappinessValue=="number"?p.expectedForHappinessValue:NaN,A=typeof p.averageValue=="number"?p.averageValue:NaN,C=typeof p.highestValue=="number"?p.highestValue:NaN,T=typeof p.lowestValue=="number"?p.lowestValue:NaN;return{metric:p.metricName,actual:y,expected:c,average:A,top:C,bottom:T}}),[e,t]);return se.jsxs(K8,{children:[a?se.jsx(ug,{className:`w-full ${i?"disabled:!text-primary disabled:!bg-primary":"disabled:!text-accent disabled:!bg-accent"} disabled:opacity-100`,type:"button",disabled:!0,children:"Data Table"}):se.jsx(J8,{asChild:!0,children:se.jsx(ug,{className:`w-20 ${i?"text-primary":""}`,type:"button",children:"Data Table"})}),se.jsx(r7,{className:"[&>button:last-child]:hidden w-full max-w-6xl md:max-w-4xl sm:max-w-3xl max-h-[80vh] overflow-y-auto",children:se.jsx(n7,{children:se.jsx(a7,{children:se.jsx(CQ,{country:e?e.Country_clean:"",rows:d})})})})]})}function MQ(e,t){const a=e.map(i=>i[t]).filter(i=>typeof i=="number"&&!isNaN(i));return a.length===0?{min:0,max:0}:{min:Math.min(...a),max:Math.max(...a)}}function TQ(e,t,a){const d=e.map(X=>({h:X["Happiness (score 0-10)"],m:X[a]})).filter(X=>typeof X.h=="number"&&typeof X.m=="number"&&!isNaN(X.h));if(d.length===0)return NaN;const p=d.length,y=d.map(X=>X.h).slice().sort((X,te)=>X-te),c=new Map,A=Array.from(new Set(y));for(const X of A){const te=y.indexOf(X),pe=y.lastIndexOf(X),de=(te+pe)/2,ye=p===1?.5:de/(p-1);c.set(X,ye)}const C=d.map(X=>({r:c.get(X.h),m:X.m})),T=C.reduce((X,te)=>X+te.r,0)/p,R=C.reduce((X,te)=>X+te.m,0)/p;let L=0,U=0;for(const X of C){const te=X.r-T;L+=te*(X.m-R),U+=te*te}if(U<1e-6)return R;const q=L/U,$=R-q*T;let W=c.get(t);if(W===void 0)if(p===1)W=.5;else if(t<=y[0])W=0;else if(t>=y[p-1])W=1;else{let X=y.findIndex(te=>te>=t);if(X===-1&&(X=p-1),X===0)W=0;else{const te=y[X-1],pe=y[X],de=c.get(te),ye=c.get(pe),xe=(t-te)/(pe-te);W=de+xe*(ye-de)}}return $+q*W}function EQ(e){return e.toLowerCase().split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}function RQ(){const[e,t]=V.useState(!0),[a,i]=V.useState(""),[d,p]=V.useState([]),[y,c]=V.useState(null),[A,C]=V.useState(!1),T=V.useRef(null),R=V.useRef(null);return V.useEffect(()=>{let L=[];for(const U in ih[0]){const q=U;typeof ih[0][q]=="number"&&L.push({metricName:U})}if(L.forEach(U=>{let q=0;ih.forEach($=>{const W=$[U.metricName];typeof W=="number"&&(q+=W,(U.highestValue===void 0||W>U.highestValue)&&(U.highestValue=W,U.highestCountryName=$.Country_clean),(U.lowestValue===void 0||W<U.lowestValue)&&(U.lowestValue=W,U.lowestCountryName=$.Country_clean))}),U.averageValue=q/ih.length}),a){const U=ih.find(q=>q.Country_clean===a)||null;if(c(U),C(!0),window.clearTimeout(R.current??void 0),R.current=window.setTimeout(()=>C(!1),400),U){for(const q in U){const $=q;typeof U[$]=="number"&&MQ(ih,$)}L.forEach(q=>{const $=U[q.metricName];typeof $=="number"&&!isNaN($)&&(q.currentCountryMetric=$,q.expectedForHappinessValue=TQ(ih,U["Happiness (score 0-10)"],q.metricName))})}}return console.log(L[12]),p(L),()=>{window.clearTimeout(R.current??void 0)}},[a]),se.jsxs("div",{className:"myMainContainer container w-full min-h-screen flex flex-col bg-primary-foreground font-display relative",children:[se.jsxs("div",{className:"myHeader bg-primary text-primary-foreground flex flex-row justify-between items-center gap-2 p-3 md:gap-4 md:p-3 w-full h-12",children:[se.jsxs("div",{className:"flex flex-row justify-start items-center gap-0 md:gap-2",children:[se.jsx("a",{href:"",target:"_blank",children:se.jsx("img",{src:qE,className:"logo hidden md:block h-10",alt:"Vite logo"})}),se.jsx("h1",{className:"text-xs md:text-lg",children:"Happiness Data"})]}),se.jsxs("div",{className:"flex max-w-sm items-center gap-1",children:[se.jsx(ug,{type:"button",variant:"outline",className:e?"bg-secondary text-white border border-secondary text-xs p-2":"bg-primary text-white border border-gray-300 text-xs p-2",onClick:()=>t(!0),children:"Map"}),se.jsx(ug,{type:"button",variant:"outline",className:e?"bg-primary text-white border border-gray-300 text-xs p-2":"bg-secondary text-white border border-secondary text-xs p-2",onClick:()=>t(!1),children:"Methods"}),se.jsx(Q9,{data:ih,onSelect:i})]})]}),e?se.jsxs("div",{className:"myMainContentContainer flex-1 flex flex-col lg:flex-row w-full h-full justify-center items-center",children:[se.jsx("div",{className:"p-5 w-full lg:w-auto flex-1 h-full rounded-full max-h-full",children:se.jsx("div",{className:"card flex flex-col justify-center items-center gap-4 relative rounded-full h-full max-h-full",ref:T,children:se.jsx(ak,{mapContainerRef:T,callback:i,countryStats:ih})})}),se.jsxs("div",{className:"flex flex-col justify-center items-center gap-5 p-3",children:[y?se.jsxs("div",{className:"flex flex-row justify-center items-center gap-3 w-full h-20 lg:h-12",children:[se.jsxs("div",{className:"flex-1 flex flex-col",children:[se.jsxs("div",{children:[EQ(a)," has the happiness rate of"," ",se.jsx("span",{className:"font-bold text-primary",children:y?.["Happiness (score 0-10)"]})]}),se.jsx(qR,{value:(y?.["Happiness (score 0-10)"]??0)*10})]}),se.jsx("div",{children:se.jsx(DQ,{Country:y,AllCountries:d,disabled:!y,flash:A})})]}):se.jsx("div",{className:"h-12"}),se.jsx(ZY,{weightData:kw,flash:A,countryName:a,countryMetrics:y,absoluteStatistics:d})]})]}):se.jsx(xQ,{weightData:kw})]})}function IQ(){return se.jsx(RQ,{})}BE.createRoot(document.getElementById("root")).render(se.jsx(V.StrictMode,{children:se.jsx(IQ,{})}));
